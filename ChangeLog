commit e7f14ad073956b08b37d7b102afab57a08dfabac
Author: Vijay Bellur <vbellur@redhat.com>
Date:   Thu Oct 11 22:31:13 2012 +0530

    build: Add glusterd man page packaging in buildspec
    
    Change-Id: Id412a2738b80516bbfc0a9ad7862a45821703c3e
    BUG: 825906
    Reviewed-on: http://review.gluster.org/4064
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Sachidananda Urs <sacchi@gmail.com>

commit 3e9777a35b481a2c9218c286ced045579b64a731
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue Sep 25 20:31:12 2012 +0530

    doc: Update man page for 'gluster' command.
    
    Change-Id: Idb749a4bdde0a07e6919e8007302070fcd6cc67a
    BUG: 825906
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.org/3977
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit fe3fbdec4250f20a5d8d0e2fccf5c8396c85ed60
Author: Varun Shastry <vshastry@redhat.com>
Date:   Tue Sep 25 20:25:08 2012 +0530

    Fixed some general typing errors.
    
    Eg: changed recieved to received
    
    Change-Id: I360fcb99c97c8a0222e373fee20ea2fccfb938db
    BUG: 860543
    Signed-off-by: Varun Shastry <vshastry@redhat.com>
    Reviewed-on: http://review.gluster.org/3999
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 517a9d2450c4de6229d2b699a2ffd9102c3488c9
Author: Kaleb S. KEITHLEY <kkeithle@redhat.com>
Date:   Thu Sep 13 16:21:07 2012 -0400

    glusterfs SEGV on Fedora 17 from UFO fallocate(2) call
    
    An upload of a file will cause the volume's glusterfs to SEGV
    when it fields a FUSE_FALLOCATE op. Swift inspects libc to determine
    if there is a symbol for fallocate(2) and if so will use it. And
    while the libc in RHEL 6 does have fallocate(2), the version of
    fuse in RHEL 6 does not support fallocate, and things are handled
    gracefully elsewhere (the kernel perhaps?)
    
    N.B. fallocate was added to version 7.19 of fuse. Fedora 17 and
    later (and maybe earlier too) has 7.19. RHEL 6 still has 7.13.
    Glusterfs uses the 7.13 version <linux/fuse.h>
    (in contrib/fuse-include/fuse_kernel.h)
    
    Thus on Fedora 17, with both fallocate(2) in libc and fallocate
    support in fuse, the fallocate invocation is dispatched to glusterfs,
    but the dispatch table (fuse_std_ops in
    xlators/mount/fuse/src/fuse-bridge.c) is too short for one thing;
    the fallocate opcode (43) indexes beyond the end of the table, and
    even when that doesn't directly cause a SEGV, the NULL pointer at
    that location does cause a SEGV when attempting to call the function
    through the pointer.
    
    BUG: 856704
    Change-Id: Iffe3994dde6ca29444d07d27eb04d6f86773fa03
    Signed-off-by: Kaleb S. KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.org/3941
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 314dd4da976cd329417b43c3ad281fd9990fdcd7
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Aug 22 16:53:04 2012 +0530

    mount.glusterfs: Add support for {attribute,entry}-timeout options
    
    Change-Id: Ib0c9b5be6f05cf9a36271df67e5e5c251c4c4628
    BUG: 829279
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.org/3840
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Brian Foster <bfoster@redhat.com>
    Reviewed-by: Jeff Darcy <obdurodon@gmail.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 948b9a5aa1dccdd0cf00e95e24409ff3dbe25139
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Jun 4 10:13:19 2012 +0530

    glusterd: nfs.disable fix for "volume set help"
    
    Fixes volgen to include "nfs.disable" in output of "volume set help".
    
    Change-Id: Idaac2cee04b7b38aad5a77db558808c0eb699fcf
    BUG: 828027
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.org/3881
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 21ed135a5ab503ba31048a983038d354c0f7a1b2
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Thu Sep 13 12:33:31 2012 +0530

    cli: Fix double free in cli_add_key_group
    
    Change-Id: I3c2f030ac7c53913612a3fbac5e582c47b005621
    BUG: 851237
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3944
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 2635c4a68d82be731461bb3c31188e5dd0093e7d
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Sun Sep 2 15:22:34 2012 +0530

    storage/posix: Option to set brick(of a volume)'s root dir's uid/gid
    
    CLI
    ---
    gluster volume set VOLNAME owner-uid uid
    gluster volume set VOLNAME owner-gid gid
    where uid,gid are the owner's user id and group id respectively that
    would be set on the root of all brick (backend) fs.
    
    TODO: uid/gid should not be -1. Today we don't validate that in CLI.
    
    Change-Id: Ib6a2fb5e404691c5fe105a89faaeff3e1ab72e91
    BUG: 853842
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3939
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 80ef34fea4a8850b6f34dc59dcdfaef989d7b9e5
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Mon Sep 10 16:07:13 2012 +0200

    mount.glusterfs NerBSD portability fix
    
    NetBSD stat(1) gets inode using -f %i while Linux uses -c %i
    This has already been fixed a few lines above, but one test
    failed to be fixed.
    
    This is not based on master, as the code hasbeen reworked a lot,
    and is already bug-free.
    
    BUG: 764655
    Change-Id: I5dc1196ddba06ff31f695b7dbb0c6d28df32f324
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.org/3926
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 700ed44e73fee15d678654830c4cb019ffaeb4af
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Mon Aug 20 21:34:26 2012 +0530

    cli: Added special key "group" for bulk volume set.
    
    gluster volume set VOLNAME group group_name
    
    - where group_name is a file under /var/lib/glusterd/groups containing one
      key, value pair per line as below,
      key1=value1
      key2=value2
      [...]
    - the command sets key1 to value1 and so on.
    
    Change-Id: Ic4c8dedb98d013b29a74e57f8ee7c1d3573137d2
    BUG: 851237
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3896
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit b130bcb8c664b7f03fc64414717058b37b039959
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Mon Sep 10 03:13:29 2012 +0200

    Detect python > 2.5, make sure MKDIR_P is substituted
    
    gluster build machine generate configure scripts unable to detect python > 2.5
    This change include a more recent python.m4 so that newer python can be
    correctly detected.
    
    Build.gluster.com also produces a configure that fails to subsitute
    MKDIR_P, leading to bugs at make install. Works this around by
    introducing mkdirp.m4 from aclocal-1.11, with the autoconf version test
    removed because build.gluster.com also has an outdated autoconf. And
    we need a bit from a recent autoconf
    
    This is a backport of I3ffac50cc7a10cb9e56dd490dbc2b550bba3fabd
    
    BUG: 764655
    Change-Id: I5ceeed957f30af4504701d789931f407b501eeb6
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.org/3923
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 17ddf18ae17679117cee2033b010a72975525ef6
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Thu Sep 6 03:11:12 2012 +0200

    Honour configure --localstatedir and --sysconfdir
    
    Makes sure /etc/glusterd to /var/lib/glusterd migration does
    nonour configure --localstatedir and --sysconfdir.
    
    Backport of I65a5f96424d67531e81e75b084265bd4e6e30f29
    
    BUG: 764655
    Change-Id: I71e0d3b7f0d27b490b591dcc92ddfe26fb8e818d
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.org/3911
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 87e88243e827d7c1dc5b5138ac966b41002564e4
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 31 03:23:33 2012 +0200

    Add missing contrib/libgen files to distribution
    This is a backport of I3f49eb4a1a186cb2d178539ada6a05c8c1aa8265
    
    BUG: 764655
    Change-Id: I32264acec0f122d045f369a254df17b488962b9f
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.org/3884
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 0b60e7252650355f412974bfc840bc2fc81b4157
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Sat Sep 8 12:12:48 2012 +0530

    glusterd: Expect setmntent(3) to return NULL
    
    - Closed the mtab FILE * using endmntent(3)
    
    Change-Id: I5e1ebb7f092abda638cfbb5524da693dcac6c872
    BUG: 851109
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3922
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit ace4cae71c19004c51fe5116c67492acaf2afc73
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Aug 29 18:32:29 2012 +0530

    cli: Proper xml output for "gluster peer status"
    
    Change-Id: I90952ba2ea606552cf4ad67dd296a440f90592d6
    BUG: 847760
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.org/3870
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 50cb2c23e8e7bd1173572a21990dbdf545f09141
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Tue Aug 28 17:29:53 2012 +0530

    glusterd: Fixed incorrect assumptions in rpcsvc actors of glusterd
    
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3864
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>
    
    Conflicts:
    
    	xlators/mgmt/glusterd/src/glusterd-handler.c
    
    Change-Id: Iabfcb401de9d658e32433aa1e8c87b329cbd2cf7
    BUG: 851109
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3876
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 84298d77060772b91123d9cde9f0e6e4d9efc9ca
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Tue Aug 28 13:12:31 2012 +0530

    glusterfsd: rpcsvc actors must return success after an attempt to submit reply
    
    rpcsvc attempts to send "error reply" using the req object. If actor has
    already performed rpcsvc_submit_generic, then req is destroyed. So if the
    actor returned -1 (RPCSVC_ACTOR_ERROR) on failing to submit reply, then req
    would be 'free'd' twice and will result in a crash eventually.
    
    Change-Id: I5eae19570202bbe5e154e9cb03390cfeb9b5f223
    BUG: 851410
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.org/3863
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.org/3875
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit e908ee20e8a87ba1170f228dd4dd5993f36a0da6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jun 4 23:23:45 2012 +0530

    Self-heald: Fix inode leak
    
    RCA:
    There is an inode-leak because inode_link returns
    linked inode by taking a reference. That needs to be
    unreffed.
    
    Fix:
    Added the code to perform unrefs. In addition to that
    updated the loc inode with the linked-inode because that is
    the best practice. The code to update the input inode's
    gfid can be removed later, its already removed in master.
    
    Tests:
    Checked that opendir comes with an loc with valid inode
    Checked that re-opendir happens successfully. Tested index,
    full self-heal work fine with the fix.
    
    BUG: 826580
    Change-Id: I0c68192ff98f76152ed112b393d497b8fee93355
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.org/3518
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit f382d5c5656301d9b426dc50a95e8c54db42c90e
Author: shishir gowda <sgowda@redhat.com>
Date:   Tue Aug 28 14:45:47 2012 +0530

    dht/rebalance: set the correct ownership on the dst file.
    
    Currently, the dst file created has root:root ownership, till
    migration is completed. During this phase, open fails on the dst
    file if uid/gid is non-root.
    Setting the dst_file to the correct ownership fixes the issue
    
    Change-Id: Icfec89eb10dc866cdee38dab17695fe21174ef99
    BUG: 852361
    Signed-off-by: shishir gowda <sgowda@redhat.com>
    Reviewed-on: http://review.gluster.org/3862
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 10617e6cbc73329f259b471327d88375352042b0
Author: shishir gowda <sgowda@redhat.com>
Date:   Thu Aug 23 18:34:09 2012 +0530

    storage/posix: implement native linux AIO support
    
    Configurable via cli with "storage.linux-aio" settable option
    Backported Avati's patch http://review.gluster.org/#change,3627
    
    BUG: 837495
    Change-Id: Ia7c26f5734d34d341debd422a5c59bba31eef844
    Signed-off-by: shishir gowda <sgowda@redhat.com>
    Reviewed-on: http://review.gluster.org/3849
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit d0c52c8064a4097d97180240b36c53bfe98cac22
Author: Varun Shastry <vshastry@redhat.com>
Date:   Mon Aug 13 15:50:45 2012 +0530

    cli/: Displaying the size in human readable format
    
    rebalance status displaying the size in bytes. Converted to
    human readable
    
    Change-Id: Id73b6e792c39b85480ddf1dc9c0c22fcaca29530
    BUG: 825193
    Signed-off-by: Varun Shastry <vshastry@redhat.com>
    Reviewed-on: http://review.gluster.org/3810
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>

commit 753f8c13245220c4b9ec6364a5e644274a36b1d6
Author: Krishnan Parthasarathi <kparthas@redhat.com>
Date:   Fri Aug 17 14:19:39 2012 +0530

    afr: Avoid excessive logging in self-heal.
    
    - (Excessive) Logging has been very useful as 'bread-crumbs' in
      many a root-cause analyses. This patch aims at avoiding logging when
      the information could be reconstructed using the xattrs, statedump,
      and/or "volume heal" CLI commands.
    
    Change-Id: I8f646cbee44e98495ea6963f9dfcae95375c8900
    BUG: 844804
    Signed-off-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Reviewed-on: http://review.gluster.com/3827
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 1df75bc835a75f17fa0fcd3722ef68f05f5f3200
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jul 30 21:01:21 2012 +0530

    cluster/afr: Handle child_up & fd not opened case in xaction
    
    RCA:
    When an fd is opened while a brick is down, after the brick
    comes back up afr issues open on the other brick. It can
    fail for a number of reasons (enoent etc). While the system
    is in that state, inode/entrylks pre-op happen only on the
    brick that is up and fd is opened for fd-fops. post-op should
    consider only the bricks where both pre-op and fop succeeded
    as success, rest of them as failures. Code now marks only the
    children that are down as failures as opposed to child_down &
    fd-not-opened. This makes change-log appear as success on the
    subvolume where we did not do any fop leading to no change-log
    but differences in data/metadata for reg-files.
    
    Fix:
    Mark non-participants of fop as failure. This is tracked in
    transaction.pre_op[].
    
    Tests:
    Simulated the scenario using err-gen on top of one of the client
    xlator which fails all fops always. Performed fops and the changelog
    represented pending fops on the brick with err-gen loaded. Tested
    the case of brick down and perform entry/metadata/data operations
    to confirm they still work as expected.
    
    Change-Id: I41905936126b19abba56ca581c0301a894507e1a
    BUG: 844987
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3776
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 30a9ebd91339f36d092f46bbba116fa4047fb8c5
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri Aug 17 13:12:33 2012 +0530

    rpc: Reduce frame-timeout for glusterd connections
    
    Reduce frame-timeout for glusterd connections from 30mins to 10 mins. 30mins is
    too long when compared to cli timeout of 2mins. Changing to 10mins reduces the
    disparity between cli and glusterd.
    
    Also, fix glusterfs_submit_reply() so that a reply is sent even if serialize
    failed.
    
    BUG: 843003
    Change-Id: Ie8d5ec16fbbb54318a5935a47065e66fd3338b87
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3812
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit b96e499e9e290547a655072fede969f51854e2d8
Author: Amar Tumballi <amarts@redhat.com>
Date:   Sat Jul 14 08:25:56 2012 +0530

    core: check for pre-allocated blocks in backend fs, fix it.
    
    There is a possibility that the backend FS (like XFS) can
    allocate blocks beyond EOF for better performance reasons, which
    results in 'st_blocks' with higher values than what is consumed by
    the file descriptor. This would break few logic inside GlusterFS,
    like quota behavior etc, thus we need the exact number of blocks
    which are consumed by the file to the higher layers inside GlusterFS.
    
    Currently, this logic won't work for sparse files (ie, file with holes)
    
    Change-Id: Ied216733a8862e84f7da8386ae0a144f3f5cd5f2
    BUG: 839589
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/3671
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 502c95bdfb35640fb424b37b080664e9c1639a86
Author: shishir gowda <sgowda@redhat.com>
Date:   Mon Aug 13 11:20:17 2012 +0530

     cluster/dht: Optimize readdirp calls in DHT
    
    Bring in option which is supported by posix xlator
    to filter out directory's entries from being returned.
    DHT would now request non-first subvols to filter out
    directory entries.
    
    dht xlator-option readdir-optimize will enable this
    optimization
    
    Change-Id: Ibf99f1bef501f285ff44a1cecfbebee9e16063b6
    BUG: 838199
    Signed-off-by: shishir gowda <sgowda@redhat.com>
    Reviewed-on: http://review.gluster.com/3806
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 28328417bff73b13392e95a07c3d359c881bebc8
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Thu Aug 9 17:47:34 2012 +0530

    performance/io-cache: use pthread_mutex_trylock to hold mutex in statedumps
    
    Do not use pthread_mutex_lock and gf_log functions while dumping information
    to statedump, to avoid deadlocks.
    
    Change-Id: I6569366856fc2bc0fefb49c8379e2e4337717ce4
    BUG: 843787
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3799
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit cb7647f67390920fa2aa25fd0af7c84787c08ed0
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Mon Aug 13 19:16:43 2012 +0530

    performance/write-behind: use pthread_mutex_trylock to hold mutex in statedumps
    
    Change-Id: I24c83b1b5e83ef3e38a019043c7fbca13b19ff43
    BUG: 841543
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3815
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 41d3605fab2f0ce8c8b4c5d976fc1a013c823e3d
Author: Shylesh Kumar <shmohan@redhat.com>
Date:   Mon Aug 13 12:10:38 2012 +0530

    cluster/stripe: Filter coalesce xattr from getfattr
    
    Change-Id: I1c5740e29699ef464a3d30365396711f03c24974
    Signed-off-by: Shylesh Kumar <shmohan@redhat.com>
    BUG: 801887
    Reviewed-on: http://review.gluster.com/3809
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <sgowda@redhat.com>

commit 3e5e736043cdb0f48ce617d71c974912a96acef0
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Mon Aug 13 15:00:45 2012 +0200

    NetBSD swapcontext() portability fix
    
    This is a backport of http://review.gluster.com/#change,3794
    Patchset 8d47741d5a041e632d9c74c5936fcfaf6ceaaa78
    
    This has been tested on release-3.3 for a few days.
    
    BUG: 764655
    Change-Id: I75d990649e9cdfbd7dd327ed1071f6ab7ab49f4a
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3813
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 12aa31278c651f36c2ea1c0698ba789aa3f9262c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Jul 18 10:28:18 2012 +0530

    cluster/afr: Avoid setting split-brain outside inode locks
    
    RCA:
    The bug is observed because the decision to mark
    a file in split-brain is taken outside appropriate locks.
    Lookup gathers xattrs outside any lock. The xattrs being
    in split-brain in lookup should only be taken as a hint.
    Appropriate inodelks should be taken before confirming
    a split-brain. Self-heal confirms this at the moment.
    
    Fix:
    Self-heals are launched to inspect xattrs when the
    data/metadata self-heal options are turned on.
    Decision to set/reset split-brain flag is taken inside
    appropriate locks.
    
    Known Issue After fix:
    If data/metadata self-heal is turned off, inspecting of
    xattrs could not be performed so split-brain behavior
    does not work correctly if the self-heal options are turned off.
    This bug is handled only in upstream.
    
    Change-Id: I59a43d5ce7bf9ca35bff54a51bf4cfa55d717a9e
    BUG: 833727
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3691
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit aa4e7d04ff20e38182a62576595951d59524fff0
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Jul 28 12:18:50 2012 +0530

    features/locks: Fix statedump code
    
    RCA:
    Taking blocking mutex/spin locks lead to dead locks
    because of the locking order in statedumps. Also we
    were asked to remove gf_logs if possible to avoid extra
    cost in signal handlers.
    
    Fix:
    changed blocking mutes/spin locks to their non-blocking variants.
    Removed gf_logs in locks xlator statedump code-path.
    
    Tests:
    State-dump success cases are working fine.
    Triggered try-lock failures by putting statedumps in a while loop.
    In parallel did chown of the same file in a while loop.
    
    BUG: 843781
    Change-Id: Iac9b75d79cd5e036cd3eafc1e106074e2c6b5c47
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3752
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit d40d5a3a32a515ff29c71467a0f701e91ae99718
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Jul 27 10:51:50 2012 +0530

    performance/io-threads: Provide option to turn off least-priority
    
    RCA:
    In cases when self-heal is in progress, self-heal fops are starved
    because of least-priority. This affects other fops with conflicting
    inode, entry locks with self-heal.
    
    Fix:
    This patch provides configuring enable/disable of least-priority.
    
    Additional changes:
    Moved RCHECKSUM fop to low instead of least because it will still
    affect the performance of other fops if RCHECKSUM is in LEAST
    priority.
    
    Tests:
    Tested that the enabling/disabling of fops is working fine.
    Tested that RCHECKSUM fop priority is assigned LOW when
    least-priority is disabled.
    
    BUG: 843704
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Change-Id: I892f99d6d0a3e0ae6c0a280f82e2203af0c346f6
    Reviewed-on: http://review.gluster.com/3751
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit e427d39d629b8f89c25ac7f7a9d1eeca25b9579a
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Thu Aug 9 18:25:31 2012 +0530

    performance/read-ahead: use pthread_mutex_trylock to hold mutex in statedumps
    
    Change-Id: I4de64915a9c6a46e126ef4a5b987e49de558f827
    BUG: 843796
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3801
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 92d722fdbeb3ce7316d8bf3a40ae2ac27e06b806
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Thu Aug 9 18:19:09 2012 +0530

    performance/quick-read: use pthread_mutex_trylock to hold mutex in statedumps
    
    Do not use pthread_mutex_lock and gf_log functions while dumping information
    to statedump, to avoid deadlocks.
    
    Change-Id: Ic77d96bc52f2a2a32629c0ae20bba797317e0a81
    BUG: 843789
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3800
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit c79690c4cb503a6e6b52998038fd85cdfcf0f7be
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Thu Aug 9 18:33:37 2012 +0530

    protocol/server: use pthread_mutex_trylock while dumping statedumps
    
    Change-Id: I2b04dc35a51d940915197cf8e26e638f32fa4d7b
    BUG: 843821
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3802
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit a1d071374365a10ebef508c38c39f61da0a0f855
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Jul 26 17:16:00 2012 +0530

    acl: enable handling of FMODE_EXEC flag
    
    on linux systems, with open(), we can get below flag as per
    'linux/fs.h'.
    
    /* File is opened for execution with sys_execve / sys_uselib */
    '#define FMODE_EXEC              ((fmode_t)0x20)'
    
    Instead of adding '#include <linux/fs.h>, its better to copy this
    absolute number into other variable because then we have to deal
    with declaring fmode_t etc etc..
    
    With the fix, we can handle the file with '0711' permissions in
    the same way as backend linux filesystems.
    
    Change-Id: Ib1097fc0d2502af89c92d561eb4123cba15713f5
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 843960
    Reviewed-on: http://review.gluster.com/3746
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 475efecfba7194c598a94879852bcd37ac2deb5d
Author: Brian Foster <bfoster@redhat.com>
Date:   Wed Jul 25 08:14:38 2012 -0400

    cluster: fix crash on link of named pipe in stripe/replicate vol
    
    A crash occurs when attempting to link a named pipe on a striped,
    replicated volume. The cause for this crash is attempting to deref
    a NULL inode pointer in stripe_link_cbk(). The RCA for this bug
    uncovered a couple of problems:
    
    - AFR ignores the inode pointer it receives on failure (returning
      NULL).
    - stripe assumes the inode pointer is valid on failure.
    
    Either one of these changes addresses the crash, but this patch
    includes both changes. AFR is modified to pass along the inode
    pointer it receives (which could still be NULL). stripe is
    modified to not assume the inode pointer is valid on fop failure.
    
    BUG: 842825
    Change-Id: I368849b7cfbb137a08ae5f89d26406814ff5bb09
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3790
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit e741983b740a26634b8d371521da2f668ec8e584
Author: Brian Foster <bfoster@redhat.com>
Date:   Wed Aug 8 07:44:43 2012 -0400

    cluster/stripe: don't fail if no fctx on a non-regular file
    
    cluster/stripe broke directory rename. Only check for fctx on regular
    files.
    
    BUG: 842652
    Change-Id: I29d7b265cbe40921226feb3e1c4e6b97b3a01d95
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3789
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 0c1cee625818275dd1b3f6718bd246d2e30dabd1
Author: Kaleb S. KEITHLEY <kkeithle@redhat.com>
Date:   Tue Jul 10 10:19:16 2012 -0400

    calls to dict_allocate_and_serialize() are not 64-bit clean
    
    All calls to dict_allocate_and_serialize() pass the address of a 32-bit
    type, but must cast it to the 64-bit pointer type (size_t *).
    
    This happens to work on LE machines, but even if it's apparently benign,
    it's still a bug. On BE machines it is not benign.
    
    GF_PROTOCOL_DICT_SERIALIZE() hacks around it by creating a size_t temp
    var, but that's, well, a hack, IMO when you consider that all the callers
    are actually passing &<u_int>; the param should just be a u_int * and
    eliminate the buggy casts and the temp var in the macro.
    
    Nobody apparently uses the Fedora/EPEL PPC RPMs, but they might. People
    are trying to build gluster.org bits on SPARC and tripping over this.
    
    Change-Id: I92ea139f9e3e91ddbbb32a51b96fa582a9515626
    Signed-off-by: Kaleb S. KEITHLEY <kkeithle@redhat.com>
    BUG: 838928
    Reviewed-on: http://review.gluster.com/3643
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit f1a0ec826be94f2d0413dd819fd7033c437843f9
Author: Anand Avati <avati@redhat.com>
Date:   Mon Jun 25 19:37:09 2012 -0700

    nfs: make NFS filehandles deterministic
    
    The NFS3 file handles now includes just the bare minimum of
    (ident, exportid, gfid) and removes legacy 'variable' members
    which are unnecessary since the introduction of GFID backend
    
    Change-Id: Iff6e4435d170074b18d208742b48e79b130e2a4d
    BUG: 835336
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3617
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit d451dfeb4643b1894e99dc66454f630d26c459a1
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jun 11 11:38:14 2012 +0530

    cli: Change cli output for heal commands
    
    BUG: 826406
    Change-Id: Ic32c89b92314ee201ec67afc4617e412d4b4c21d
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3636
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 1cc71909a619ee9f081ccb0646aeb015fd6f7598
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Sat Jun 30 17:04:26 2012 +0530

    rpc: Fixed ping timer algo.
    
    The purpose of the ping timer is to assert the absence of any evidence
    the server is possibly alive.
    
    The current implementation updates the 'last_sent' timer in the following
    points in time,
    - rpc_clnt_submit: when rpc messages are being queued at the transport
      layer. (wrong!, since we have no way to determine if server actually
      received the message)
    - rpc_clnt_notify: when client receives pollout event on sending a message
      on the 'wire'. (correct, since it indicates ACK from server)
    
    The fix removes the 'incorrect' update of 'last_sent'.
    
    Change-Id: I56af7b15c3672673696977a7c50ee66eafa4ec55
    BUG: 836448
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3624
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 31e81065edc26378eabdd4785f5dd689719cd126
Author: shishir gowda <sgowda@redhat.com>
Date:   Fri Jun 22 13:28:31 2012 +0530

    cluster/dht: Remove dht dependency on glusterfsd-mgmt
    
    glusterfs_ctx->notify can be used by any xlator to talk to
    glusterfsd-mgmt.
    Note- This is for any rpc communication initiated by the xlator,
          and not from glusterd.
    
    Change-Id: Ic0e4af106fe1e98d797ca621facda8839b87598a
    BUG: 835757
    Signed-off-by: shishir gowda <sgowda@redhat.com>
    Reviewed-on: http://review.gluster.com/3610
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 84d0f889eab947b58a0f6e8d0eda5ae84c15a6c7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue May 29 10:02:52 2012 +0530

    rpc-transport/rdma: decode and handle RDMA_ERROR msgs.
    
    RDMA_ERROR msgs are resulted as part of failure to decode requests
    or failure to send reply (for eg., reply being bigger than a msg
    that can be sent inline, but client has not provided any write-chunks
    to rdma-write into).
    
    Change-Id: I0184cfb5ff8f49ed892767345e32e6c7b01c49e7
    BUG: 822337
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3475
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit f2b709054d6eec89760bb3513f7b27209c6a6ea7
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue Jun 5 15:02:49 2012 +0530

    glusterd: Set errstr for duplicate add-brick
    
    Sets op_errstr when add-brick is given a duplicate brick.
    
    BUG: 832293
    Change-Id: I2d6d13b2ca29615678902b56e6b394ea05f37923
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3585
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit b8d5208f5c8945debe565ae72fea5a3795a44dfe
Author: shishir gowda <sgowda@redhat.com>
Date:   Wed Jul 25 13:08:14 2012 +0530

    cluster/distribute: Suppress user xattr mismatch log message
    
    Changing the log-level to DEBUG.
    Xattr mismatch can occur when parallel setxattr's race, or when
    one of the bricks was down. A subsequent setxattr will fix the
    condition when all the subvols are up. In this case, the 'user.swift'
    xattr used by ufo was out of sync, but did not cause any other error.
    
    Change-Id: I6fdff78869b8ff72c305bbe122033e6c1d9d3cff
    BUG: 838197
    Signed-off-by: shishir gowda <sgowda@redhat.com>
    Reviewed-on: http://review.gluster.com/3723
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 98564a3de126658190c7d54873d4ea2adab59bd8
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Wed Jul 11 23:00:27 2012 +0530

    storage/posix: handle getxattr failures gracefully
    
    Use proper variable types for getting return value of getxattr calls,
    which otherwise can lead to segfaulting of processes or page allocation
    failures in the kernel.
    
    Change-Id: Idc41b4022401c238d17ba357648234f7c2d56c87
    BUG: 838195
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3658
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit ed9a37fdf4c110697a3c6201764be7ccbb91573e
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Jun 27 11:04:48 2012 +0530

    glusterd: Fix peer probe when username/password is missing
    
    Prevent failure of building volumes dictionary during peer probe, when
    username/password for a volume is missing. This situation can be caused by
    migration of gluster from pre-3.3 to 3.3 and above.
    
    BUG: 834229
    Change-Id: I042ecfcc5024e6b18c4ffb44ea0977ec58e22ef8
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3629
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 01b365d5bba3bea0847bc79fb5dfe82e5c75dc91
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Jun 13 14:15:14 2012 +0530

    geo-rep / gsyncd: fixes to communication with child processes
    
    due to not using the proper Python keyword, errhandler thread
    was possible to run into empty select
    
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    BUG: 764678
    Change-Id: I3c39e718e72545c27d50fd73aa6daf54062331b0
    Reviewed-on: http://review.gluster.com/3562
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit c0a5348af37c634cc61fa72251e029a3a0301eca
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed May 23 14:08:37 2012 +0530

    nfs/nlm: statedump of locks
    
    This change allows statedump of nlm locks
    giving number of clients, number of locks
    each client holds and the files on which lock(s)
    is/are held.
    
    Change-Id: I6341c12ec58005ef71b93b316b527e610ff7ee8f
    BUG: 824804
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3492
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 1e1a162fa7ea5b6275a0212273ca96b4de410c00
Author: Brian Foster <bfoster@redhat.com>
Date:   Mon May 7 13:53:31 2012 -0400

    cluster/stripe: implement the coalesce stripe file format
    
    The coalesce file format for cluster/stripe condenses the striped
    files to a contiguous layout. The elimination of holes in striped
    files eliminates space wasted via local filesystem preallocation
    heuristics and significantly improves read performance.
    
    Coalesce mode is implemented with a new 'coalesce' xlator option,
    which is user-configurable and disabled by default. The format of
    newly created files is marked with a new 'stripe-coalesce' xattr.
    Cluster/stripe handles/preserves the format of files regardless
    of the current mode of operation (i.e., a volume can
    simultaneously consist of coalesced and non-coalesced files).
    Files without the stripe-coalesce attribute are assumed to have
    the traditional format to provide backward compatibility.
    
    extras/stripe-merge: support traditional and coalesce stripe formats
    
    Update the stripe-merge recovery tool to handle the traditional
    and coalesced file formats. The format of the file is detected
    automatically (and verified) via the stripe-coalesce attributes.
    
    BUG: 801887
    Change-Id: I682f0b4e819f496ddb68c9a01c4de4688280fdf8
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3639
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 1d1639019284f9baaee9d8f4b7d617c6edb52eec
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:47:29 2012 +0200

    Use inet as default listene
    This is backport of Change-Id: I172570aa58ea08c4c74cfd28f121d3d4e02a55e0
    
    BUG: 764655
    Change-Id: I60232b73c303d296e34871ed317925c9af0d322e
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3575
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 74d7d2d53c539c822cf7b6da44a515f1e326c5bc
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jul 6 16:53:35 2012 +0200

    NetBSD build fixes
    This is a backport of Change-Id: Icd7290f1e340675d763665a0d0c5f95bc14e0c55
    
    BUG: 764655
    Change-Id: Iaca3dc30e61c0864af673b90d2a7fdea6a3143cc
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3577
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit e14095fbbe5c410863ffca865803762dd8cf6e87
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:58:53 2012 +0200

    Use linkat(2) for symlink to get portable behavior
    This is a backport of Change-Id: If7f6f17b48a4ccf8827c3795ec147306df6b5542
    
    BUG: 764655
    Change-Id: I374aca5d72d003d67a2bdc9a22b88ce7dd412a0d
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3580
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f626ea8e9121baab4c0447f9aaf273e1141a79ed
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:53:34 2012 +0200

    Set LD_LIBRARY_PATH before starting glusterfs
    This is a backport of Change-Id: I13bf0bea043351498b4bc885c5ac45b108229a0a
    
    BUG: 764655
    Change-Id: I7908352f7a9baae48a7c3bd2c8845980d0dc9b96
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3578
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit ca297bc9ba096c64e182872692981a1d7ee250fa
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:55:28 2012 +0200

    stat(1) flag to specify format is not portable
    This is a backport of Change-Id: Iae3c40b03118078530c29d14d5f7180c36361c16
    
    BUG: 764655
    Change-Id: Ic4e7adbda6b53b248aa93cd20a045cb885fa818e
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3579
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit 6ee9d105695e4fd8ea86d8c173b234e2df12eb51
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:49:15 2012 +0200

    Switch to GNU basename_r() and dirname_r()
    This is a backport of Change-Id Ic9a159fffdc7bacc9408f8e90854e4c2db81930c
    and Id874b9c7aacd9aa3a7a4bd6a92a9633f5b2d6ac0
    
    BUG: 764655
    Change-Id: I51aac601fb4cc9a0d87afcab2240dc7a1d131c93
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3576
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vbellur@redhat.com>

commit a091f75386fee1499553546e4e6849dabec77338
Author: Csaba Henk <csaba@redhat.com>
Date:   Tue May 22 14:03:32 2012 +0530

    geo-rep / gsyncd: sanitize error log of external commands
    
    If a command invoked by gsyncd fails, gsyncd makes a log
    of what comes out on its stderr. So far the log indeterministically
    broke lines at random places. Now put some effort into reconstructing
    original lines and having a faithful log.
    
    BUG: 764678
    Change-Id: I16fcc75d3e0f624c10c71d9b37c937ca677087cc
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3563
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d98068a71b63330180281e09347c02d69213c2aa
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Jun 15 09:45:23 2012 +0200

    NetBSD build fixes.
    This is a backport of Change-Id: Ib8183d4b585465d05a7adf3a4ceae93ae1bded15
    
    BUG: 764655
    Change-Id: I552b87b72c234b3a11af6ffd4a03975879602363
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3574
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit d3f1007400735812c88353ed6b0a49d9d4d2c7b2
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Jun 4 09:56:33 2012 +0530

    libglusterfs: valid_host_name() fix
    
    Fix valid_host_name() to allow single character hostnames.
    
    BUG: 827403
    Change-Id: Ie8df0114cee55b0472b83c077b8ac4fc952f5acd
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3516
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0c95f6bdb0d934384111aabab0ee2d8980102a50
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon May 28 16:55:52 2012 +0530

    protocol/client: provide a buffer for storing reply of readlink.
    
    since a readlink response can be bigger than size of rdma-msges
    that can be inlined, we need to provide a buffer where server
    can do an rdma-write of response.
    
    Change-Id: I6ab06c3a94702f810ab0c57b409aaaf35cc93057
    BUG: 822337
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3463
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Amar Tumballi <amarts@redhat.com>

commit b8fccb47dd43977150ce4c14a1889b2c82917711
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri May 25 16:41:14 2012 +0530

    rpc-transport/rdma: logging enhancements
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: I07f00fb768dfdabdc04b43fdb8a0609098cd1838
    BUG: 822337
    Reviewed-on: http://review.gluster.com/3447
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4f31c4ccd36ed446f705fa7537e81b753de3d85d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Jun 4 16:05:49 2012 +0530

    mount.glusterfs: update the glusterd WORKDIR
    
    Change-Id: I70d091611d314598412b5315adcbe1b5147a8773
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 824231
    Reviewed-on: http://review.gluster.com/3512
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8519baae01b64c3d102b2af6e6e8912f17907fb2
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Wed May 23 03:37:16 2012 +0530

    nfs/nlm: when setting nlmclnt->rpc_clnt, do not overwrite old rpc_clnt
    
    Change-Id: I01a1c0c0c8d3402b8fe061258001eea2c0029e83
    BUG: 819518
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3433
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a0cf60dc59642b4b4db24173fb9ab1bb81c10a89
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Wed May 30 22:34:25 2012 +0530

    cluster/dht: set conf->defrag to NULL after freeing the defrag structure
    
    Also no need to free the xlator object after rebalance is over, as the process
    is about to be killed.
    
    Change-Id: I6973e43c0353b5de61c0b39e52a22c618be361f4
    BUG: 826584
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3495
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3607
    Reviewed-by: Shishir Gowda <sgowda@redhat.com>

commit e2f1d73017894f893889b78135331355eb86836e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Jun 15 12:21:15 2012 +0530

    cluster/afr: split-brain should be reset on data-self-heal
    
    If the govinda flag is set in the beginning then missing_entries_done
    will fail the self-heal before it can come to data_self_heal.
    
    Change-Id: I4d5b6a7c3bb26bae78979ee59c7c0997fd3fd84b
    BUG: 832305
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3583
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 27bc10d67b9502c03668ca851e8330485cb5e2b5
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Jun 12 19:39:49 2012 +0530

    cluster/afr: Treat EEXIST as success in hardlink
    
    Change-Id: I6711fe9230553306eab6012edea8de157a336a78
    BUG: 831151
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3549
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a04bbeafa9b96c0f05e6403749d2b8002b6c4f12
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Jun 7 14:01:46 2012 +0530

    cli: Fix time_t conversions
    
    Change-Id: I98eb76e5971ea800a249d21557d5dd4f093fdaaf
    BUG: 828058
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3534
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Niels de Vos <ndevos@redhat.com>
    Tested-by: Joe Julian <me@joejulian.name>
    Reviewed-by: Joe Julian <me@joejulian.name>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7ded1a6e11dae194f04d8717125ff5c18066731e
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Jun 11 16:39:17 2012 +0530

    swift: Donot display async_pending container.
    
    async_pending container is for internal, should not be exposed to the users on a
    GET.
    
    Change-Id: I460242667ae0cb5e96d4c63296f0bae4bb83b28e
    BUG: 829137
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3546
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 93e9c02599e710bac112ac19ac4932ac4ad52a25
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu May 31 23:10:01 2012 +0530

    doc: Changes in Hadoop to reflect the right RPM
    
    Change-Id: Ieb179affe5cb3c7d3ae1ca1e47c1a76ada876ced
    Reviewed-on: http://review.gluster.com/3499
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 6d602670ef63e184492e19ed2dea6095db3ec36e
Author: Csaba Henk <csaba@redhat.com>
Date:   Fri Mar 9 09:11:23 2012 +0100

    geo-rep / gsyncd: fix cleanup of temporary mounts
    
    [This is a "forward port" of fafd5c17, http://review.gluster.com/2908]
    
    The "finally" clause that was meant to cleanup after the
    temp mount has not covered the case of getting signalled
    (eg. by monitor, upon worker timing out).
    
    So here we "outsource" the cleanup to an ephemeral child process.
    Child calls setsid(2) so it won't be bothered by internal process
    management. We use a pipe in between worker and the cleanup child;
    when child sees the worker end getting closed, it performs the cleanup.
    Worker end can get closed either because worker closes it (normal case),
    or because worker has terminated (faulty case) -- thus as bonus, we get
    a nice uniform handling with no need to differentiate between normal and
    faulty cases.
    
    The faulty case that was seen IRL -- ie., users of maintainance mounts
    hang in chdir(2) to mount point -- can be simulated for testing purposes
    by applying the following patch:
    
      diff --git a/xlators/mount/fuse/src/fuse-bridge.c b/xlators/mount/fuse/src/fuse-bridge.c
      index acd3c68..1ce5dc1 100644
      --- a/xlators/mount/fuse/src/fuse-bridge.c
      +++ b/xlators/mount/fuse/src/fuse-bridge.c
      @@ -2918,7 +2918,7 @@ fuse_init (xlator_t *this, fuse_in_header_t *finh, void *msg)
               if (fini->minor < 9)
                       *priv->msg0_len_p = sizeof(*finh) + FUSE_COMPAT_WRITE_IN_SIZE;
       #endif
      -        ret = send_fuse_obj (this, finh, &fino);
      +        ret = priv->client_pid_set ? 0 : send_fuse_obj (this, finh, &fino);
               if (ret == 0)
                       gf_log ("glusterfs-fuse", GF_LOG_INFO,
                               "FUSE inited with protocol versions:"
    
    Change-Id: I14bad56a60a7fa82d0104fa4b9a20f4e42a7186f
    BUG: 786291
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3542
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 05ad7e460c9f7ab7759313dfcd07ab37f9acd2b2
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Thu May 31 22:24:25 2012 +0530

    swift: Updated the UFO admin guide for 3.3.
    
    Also, added a script to install the new rpm's.
    
    Change-Id: I66ba72822046d5930d021073a0cd918aafda6c24
    BUG: 811430
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3498
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 281c79c3766ca6a912e419d0cde24d1b8c457cbe
Author: Amar Tumballi <amarts@redhat.com>
Date:   Fri Jun 1 10:30:34 2012 +0530

    doc: added release-notes directory
    
    Change-Id: Idd45c0fe6a0615a3204aad216002894746cea03c
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/3501
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f037fe9143706375bea140b61fd87d13e5b2b961
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon May 28 19:32:14 2012 +0530

    documentation - Admin-Guide Updates
    
    Change-Id: I6e053b6a5f099fb7b1c228668949463c795b4fc7
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/3496
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1b798491193add9cb296ce6817a6cbc2fdb9db34
Author: Anand Avati <avati@redhat.com>
Date:   Sun May 27 16:52:21 2012 -0700

    storage/posix: readdirp enhancements
    
    - avoid multiple calls to posix_istat(). use cheaper posix_pstat()
    - code re-org
    
    Change-Id: I4a2e32626ade49b7d18158952849c6fe7bd6875c
    BUG: 816140
    Reviewed-on: http://review.gluster.com/3488
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 493ef71222e780cb542c7edc5dfb7d0e3097c55a
Author: Anand Avati <avati@redhat.com>
Date:   Tue May 29 22:30:53 2012 -0700

    protocol: do not log getxattr/ENODATA as warning
    
    When SELinux is enabled, most of the files do not have labels and
    result is a ton of unnecessary logs
    
    Change-Id: I0e781e2fb6bcfb3fb12298175a41f7b981af9c39
    BUG: 811217
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3487
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit f69785a9e3f9ad55e81f1fe8212485b7e4dc11fe
Author: Anand Avati <avati@redhat.com>
Date:   Tue May 29 22:01:42 2012 -0700

    fuse: make SELinux support configurable
    
    Make support for SELinux labels (extended attributes) configurable
    and disabled by default as it can cause significant performance
    penalty when enabled (it need not be enabled unless specially crafted
    policies are set -- which is not by default)
    
    Change-Id: I97bc4b1c26cf055fd520e9bf2d49e52b14fe7515
    BUG: 811217
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3485
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 647f561f6ad16174da700ea6b70f01b6e0ae6d96
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Tue May 29 17:57:54 2012 +0530

    glusterd: change working-directory from /etc/glusterd to /var/lib/glusterd
    
    as it is changed in RPM based install (using spec file), makes sense to do
    it everywhere, even in source install
    
    Change-Id: Id813104cf017ac575d4ce9bdff76b414c99db999
    BUG: 824231
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3479
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9b9ede959d70438b1c41aad14ed189c03d16a544
Author: Raghavendra Bhat <raghavendra@redhat.com>
Date:   Tue May 29 18:22:16 2012 +0530

    distribute: use global synctask 'env' instead of local
    
    creating a local synctask_env can lead to creating of many more
    syncop threads than required. The current syncop logic can handle
    the scale-up/scale-down of threads depending on the load. Hence,
    its neater to use global synctask env.
    
    Change-Id: Iff71885ed92eaab67fa2c2cf88c85af3a4a603d9
    BUG: 823774
    Signed-off-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-on: http://review.gluster.com/3480
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 90394b565aa61f9a649233bf6b92fabf32c3af39
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Tue May 29 16:33:52 2012 +0530

    swift: Fix for multiple mounts on the same mount point.
    
    When swift server receives multiple requests on a volume and if the
    volume is not mounted before hand, for each request swift tries to
    mount the GlusterFS volume on the mount point. This process is racy
    and may mount multiple times on the same mount point.
    
    Also added a new option object_only in fs.conf which should be enabled
    only if the user requires ReST interface and will have better performance.
    By default it is set "off".
    
    Change-Id: Ie1718554c5aaf577e823bbd84da8e78d803e954d
    BUG: 821310
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3478
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 292949eeeef888f87d833bdfcfbc1f4ede8d38ea
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed May 23 14:44:26 2012 +0530

    nfs/nlm: avoid duplicate replies for nlm procedures
    
    The way NLM handles errors and corresponding response
    messages has been simplified to avoid duplicate replies
    in case of failures.
    
    Also, unlock_cbk and unlock_fd_resume functions are moved
    in with other unlock functions.
    
    Change-Id: I94100aa3c8de95dabebed4598651bbcd49d95782
    BUG: 824316
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3462
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c55aad83235d86cfe15a26c760649a91e04f389a
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri May 25 23:41:19 2012 +0530

    glusterd: Run post hooks on a different thread
    
    This change ensures post hooks can 'wait' if need be
    and _not_ prevent glusterd from being able to run other operations
    meanwhile.
    
    Also ensures that post hook scripts are 'serialized'
    between transactions. ie, post hook scripts of txn1 are completed
    before post hook scripts of txn2 are started, where txn1 happens before
    txn2.
    
    Change-Id: Iaeb676737d8c67e7151127c8d1fd8c2891e10aee
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3476
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c7ed7013e9cc22b1e01d49580d138955034395a3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon May 28 15:31:36 2012 +0530

    glusterd: regenerate brick vol-files on upgrade
    
    If upgrade/downgrade option is set in glusterd it terminates
    after the volfiles are regenerated. No need for 'sleep 10'
    hack anymore.
    
    Change-Id: I83b1cd83b1cc56c6d221e6f2bbbf58af62cb56b9
    BUG: 825872
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3472
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 98c39b1a7b65184db95ae690648765dd64fae8ee
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue May 29 00:35:20 2012 +0530

    build: Update licensing in buildspec
    
    Change-Id: I1d3348a99dad621608eccb08a71c85766e9ae451
    BUG: 820551
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3470
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Sachidananda Urs <sacchi@gmail.com>

commit b278ff4b71f2b779810383ec1bba147cc5b2e07d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue May 29 08:54:45 2012 +0530

    doc: changed installation to not install man pages
    
    this is temporary fix till man pages are updated to match the
    release data.
    
    Change-Id: I78ce4ee303ebc2aefc9d630d9c72d7b4bfa9a404
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 825906
    Reviewed-on: http://review.gluster.com/3473
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7f52ce36d1a378c0983fb00c06032297033e350d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 25 09:49:58 2012 +0530

    cluster/afr: Don't reset split-brain when data-self-heal is off
    
    Change-Id: Ie3b2c19e0bee85f64d4c2522beaf7d08e46b8a9e
    BUG: 804606
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3466
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7224bedd47891e36fb55b8480f5c1f9c0338f70d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon May 28 23:50:01 2012 +0530

    libglusterfs: Fix incorrect NULL check
    
    Change-Id: I8f9e6452c3ee7038417a9f3bcd9fc5990386af42
    BUG: 825197
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3468
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 42491cf4eac02dd3f3ae9ee57e8af16873ca30b8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu May 24 20:45:56 2012 +0530

    mgmt/glusterd: self-heals should be on in glustershd
    
    Change-Id: I804dee79eaba0a1b055ad51a194278c8fec8de8f
    BUG: 825740
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3461
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendra@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 063679d8fbeaad7034db33f1dc4cb1713754cb3a
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed May 23 15:15:51 2012 +0530

    glusterd: Replace-brick should create dst brick path only on 'dst' node.
    
    Change-Id: I61e6f8aa44dfef85c7cd98f40b176b796422c4b2
    BUG: 824302
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3457
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a1904d84f7a62f0defe195d3c316fbe95adb51e4
Author: Venky Shankar <vshankar@redhat.com>
Date:   Mon May 28 12:10:04 2012 +0530

    glusterd / geo-rep : fix rotating slave log file
    
    Attempt to rotate log files for slave that are local.
    Remote slaves (identified by the 'ssh' scheme) are
    ignored.
    
    Change-Id: Iff46462c388d39433917159c0e89e7ac9e772c0f
    BUG: 821443
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/3459
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8df11080514f37e61c666c162c774d4bb02016f2
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed May 23 18:09:48 2012 +0530

    cluster/afr: Release inodelk on erase changelog failures
    
    Change-Id: I58271e1ac5a116b5bc717d7cad9f03eb7dc8a1a4
    BUG: 811551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3416
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d497922a725da0690e5c5c75911e59d30c5d53a1
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri May 25 15:02:47 2012 +0530

    glusterd: Cherry-picked e44ac01b08c3ee from master branch
    
            Fix volume create
    
            Improve Krishnan Parthasarathi's patch, which fixed situation where
            a brick mount point did not had EA enabled. This fixes an incorrect
            assumption that dirname(3) returns the same address it was given as
            argument. GNU dirname(3) does it, BSD dirname(3) does not.
    
            Also makes the code a bit easier to read.
    
            Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    
    Change-Id: Ie5106b0ee7bda126666cd0ec9c827c895ec035c9
    BUG: 812214
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3441
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3d653908554dc92af6b7414df4083bee2b9e039f
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 18 14:30:16 2012 +0530

    glusterd: Disconnected bricks of 'stale' volume before deleting it.
    
    If glusterd_delete_bricks is called before glusterd got the DISCONNECT event
    from the brick that was stopped, then glusterd_brick_rpc_notify would
    dereference a free'd brickinfo. This can happen if the brick had not been
    disconnected before.
    
    Change-Id: I6c07ec50f6739422a14478a549edd06c4c0ce913
    BUG: 802015
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3442
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c4d4d9d1d3ec4565346efcfe8bdc6c10b8d5ba2d
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Tue May 8 15:15:31 2012 +0530

    nfs/mount: Support MOUNT protocol on UDP. Needed for NLM on solaris clients.
    
    Change-Id: I3f5c35d06827fb267a7dae53d949c61567a945d0
    BUG: 799287
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3434
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 252bd6b8b6952127ee3462495b1e5063e7a22ad0
Author: Csaba Henk <csaba@redhat.com>
Date:   Sat May 26 19:04:25 2012 +0530

    glusterd/geo-rep: cleanup and fixes
    
    - fix the hilarious fd leak of "geo-rep status"
    - instead of "corrupt", which can trip up users to think their
      data is in danger, use the term "defunct" to describe the
      condition when gsyncd is dead/unresponsive
    - don't use buffered I/O when unnecessary
    - stop using PATH_MAX for sizing buffers that don't hold paths
    - some cleanups wrt. memory management
    
    Change-Id: I396aacc45dc06a002318b19c60c44041fa9fa18d
    BUG: 764268
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3456
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 74c0dd6b7b3f4caaf36a18b37e62cf3338f99cab
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed May 23 14:54:02 2012 +0530

    geo-rep / gsyncd: add "--super" to rsync invocation
    
    This forces rsync to perform supposedly privileged operations on
    unprivileged slaves (like chown(2)).
    
    For consistent behavior (with gsyncd's "chown" RPC call that's
    being used for symlinks and directories), we also pass
    "--numeric-ids" to rsync.
    
    Also took the chance to retire gsyncd's "--rsync-extra" option
    which was there for debugging purposes (related to a resolved
    issue).
    
    Change-Id: I4ee4d0d3a8c4e0f6746d34d7722c8a567a67491c
    BUG: 822121
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3426
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3453
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4409b22a7a86431631f3fdf5a07d642e32735042
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon May 14 17:07:28 2012 +0530

    fuse, glusterfsd: mount logic fixes
    
    Commit 7d0397c2 introduced two issues:
    
     i) broke the libfuse derived mount logic (details below)
    ii) in case of a daemonized glusterfs client is ran as daemon, parent
        process can return earlier than the mount is in place, which breaks
        agents that programmatically do a gluster mount via a direct call to
        glusterfs (ie. not via mount(8)).
    
    This patch fixes these issues by a refactor that merges the approaches
    sported by commits
    
      7d0397c2 fuse: allow requests during mount (needed for SELinux labels)
      c5d781e0 upon daemonizing, wait on mtab update to terminate in parent
    
    Original daemonized libfuse event flow is as follows:
    
      try:
        fd = open("/dev/fuse")
        mount("-oopts,fd=%s" % fd ...)
        mount(8) -f    # manipulate mtab
      except:
        sp = socketpair()
        env _FUSE_COMMFD=sp fusermount -oopts
        fd = receive_fd(sp)
    
      where fusermount(1) does:
        fd = open("/dev/fuse")
        mount("-oopts,fd=%d" % fd ...)
        sp = atoi(getenv("_FUSE_COMMFD"))
        send_fd(sp, fd)
    
      daemonize(
        # in child
        fuse_loop(fd)
      )
      # in parent
      exit()
    
    As of 013850c9 (instead of adopting FUSE's 47e61004), we went for async
    mtab manipulation, and as of c5d781e0, still wanted keep that in sync
    with termination of daemon parent, so we changed it to:
    
      try:
        fd = open("/dev/fuse")
        mount("-oopts,fd=%s" % fd ...)
        pid = fork(
          # in child
          mount(8) -f
        )
      except:
        sp = socketpair()
        env _FUSE_COMMFD=sp fusermount -oopts
        fd = receive_fd(sp)
    
      daemonize(
        fuse_loop(fd)
      )
      waitpid(pid)
      exit()
    
    (Note the new approch came only to direct [privileged] mount, so fusermount
    based mounting was already partially broken.)
    
    As of 7d0397c2, with the purpose of facilitating async mount, the event flow
    was practically reduced to:
    
      fd = open("/dev/fuse")
      fork(
        mount("-oopts,fd=%s" % fd ...)
        fork(
          mount(8) -n
        )
      )
    
      daemonize(
        fuse_loop(fd)
      )
      exit()
    
    Thus fusermount based mounting become defunct; however, the dead
    code was still kept around. So, we should either drop it or fix
    it. Also, the mtab manipulator is forked into yet another child
    with no purpose, while syncing with it in daemon parent is broken.
    mount(2) is neither synced with parent.
    
    Now we are coming to the following scheme:
    
      fd = open("/dev/fuse")
      pid = fork(
        try:
          mount("-oopts,fd=%s" % fd ...)
          mount(8) -n
        except:
          env _FUSE_DEVFD=fd fusermount -oopts
      )
    
      where fusermount(1) does:
        fd = getenv("_FUSE_DEVFD")
        mount("-oopts,fd=%s" % fd ...)
    
      daemonize(
        fuse_loop(fd)
      )
      waitpid(pid)
      exit()
    
    Nb.:
    
    - We can't help losing compatibility with upstream fusermount,
      as it sends back the fd only when mount(2) is completed,
      thus defeating the async mount approach. The
      'getenv("_FUSE_DEVFD")' mechanism is specfic to glusterfs'
      fusermount (at the moment -- sure we can talk about it with
      upstream)
    
    - fusermount opens /dev/fuse at same privilege level as of
      original process, so we can bravely go on with doing the open
      unconditionally in original process
    
    - Original mounting code actually tries to mount through
      fusermount _twice_: if first attempt fails, then, assuming
      subtype support is missing in kernel, it tries again subtype
      stripped. However, this is redundant, as fusermount internally
      also performs the subtype check. Therefore we simplified the
      logic to have just a single fusermount call.
    
    - we revert the changes to mount.glusterfs as of 7d0397c2, as
      now there is no issue with glusterfs to work around in that scope
    
     http://fuse.git.sourceforge.net/git/gitweb.cgi?p=fuse/fuse;a=blobdiff;f=ChangeLog;h=47e61004;hb=4c3d9b19;hpb=e61b775a
     http://fuse.git.sourceforge.net/git/gitweb.cgi?p=fuse/fuse;a=blob;f=util/fusermount.c;h=b2e87d95#l1023
     http://fuse.git.sourceforge.net/git/gitweb.cgi?p=fuse/fuse;a=blob;f=util/fusermount.c;h=b2e87d95#l839
    
    Change-Id: I0c4ab70e0c5ad7b27337228749b266bcd0ba941d
    BUG: 811217
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3428
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 507a4ebb6ca3704e1a6ee3d1b6511b58ed9f6ba7
Author: Csaba Henk <csaba@redhat.com>
Date:   Thu May 24 12:25:43 2012 +0530

    fuse: allow requests during mount (needed for SELinux labels)
    
    Resurrecting Jeff's commit:
    
      commit 7d0397c2144810c8a396e00187a6617873c94002
      Author: Jeff Darcy <jdarcy@redhat.com>
    
          fuse: allow requests during mount (needed for SELinux labels)
    
    that was reverted as of:
    
      commit 4ab1c326f3862714b960302f06c6323d6291b695
      Author: Vijay Bellur <vijay@gluster.com>
    
          Revert "fuse: allow requests during mount (needed for SELinux labels)"
    
    BUG: 811217
    Change-Id: Ia1af402897e6a7290acf79617c34fdc804751729
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3452
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 994c56a185d1f3e0f0f40f4051f82cdf2c7905b9
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Fri May 18 17:43:49 2012 +0530

    nfs/nlm: nlm-unlock call should reply success in case it is not able to find the lock in the list.
    
    Change-Id: I84b298702c445320082ef03de90c924931f1a1e1
    BUG: 822384
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3451
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 69392d4daa9df0612630813713ae02a99cc068e0
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon May 21 15:47:28 2012 +0530

    swift: Passing account name in container_update.
    
    This patch also contains fixes to bugs
      * 811501
      * 812498
      * 821310
    
    Also, removed the default set of users in the proxy-server.conf file.
    
    Change-Id: Ief83905d10ff7bf7c43685ada4d7f05959cee9d1
    BUG: 821310
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3440
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 65275d048bb031f93a690c69cb32bb751298c212
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Fri May 11 12:51:38 2012 +0530

    protocol/client: Concatenate the graph uuid along with process uuid in setlk_version.
    
    Change-Id: Idec06c5ef1d440864e465f008a38c86395b52aba
    BUG: 820831
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3439
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0917026a3629cd8bfb9af73f1c8d5a333c2bf569
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Wed Apr 25 15:39:20 2012 +0530

    mount/fuse: Use state->lk_lock to print lock information on EAGAIN.
    
    Change-Id: I24a4a0b1c8dc0b8e08b380a5bc8efc111ccdb2c3
    BUG: 808400
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3438
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ed67fbf9d22a8099155795a5482c219f488992c3
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Sat May 19 23:40:13 2012 +0530

    locks: Fixed opt arg parsing in clear-locks
    
    Change-Id: I470fd21d5d53e3c6f0bd2a4f84c6327532e18559
    BUG: 823151
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3429
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b86436da7e0de47282c46cd14989e4cbaad0501d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed May 23 23:43:44 2012 +0530

    protocol/client: use correct xlator object while creating frames during reopening files and reacquiring locks.
    
    Change-Id: I29f42fcfa9e782ce9e323e53024e5034029914a7
    BUG: 822337
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3421
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 9d4c8b3909b8f572a732b884062b70efa51e4956
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat May 19 14:49:21 2012 +0530

    performance/quick-read: fix race-conditions in qr_unlink.
    
    The list of fds on which open needs to be done as part of unlink,
    was being modified at different places using different locks.
    This resulted in a race-condition where open was marked as in-transit,
    but fdctx was removed from the list of fds on which open was being
    sent even before open was done. Because of this, open_in_transit would
    be set forever (as an open was never actually sent, there would be no
    open_cbk called and hence we could not reset the variable), blocking
    all the future fd based fops on this fd.
    
    Change-Id: Ie84a55bee578869a9a060a094ba28480e7643ae8
    BUG: 819490
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3372
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 638a4740cc553c96bc01d1dfe4a2b7acf0b406e6
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue May 22 11:25:55 2012 +0530

    cluster/dht: Handle ENOENT failure in dht_rmdir_opendir_cbk
    
    We should not treat ENOENT as a failure in rmdir.
    
    BUG: 806761
    Change-Id: I847cfd9fb31880b8200cf04aa795fed3c870f71a
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3402
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a87151dc3a34e24d6ba6d3f4b84d2c5feabff587
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sun May 13 21:56:06 2012 +0530

    features/marker: use the gfid from the stat structure instead of inode
    
    in fresh lookup, the inode would not have linked to the inode table
    until the fop reaches back to protocol/server, thus it would not contain
    the gfid within it (gfid would still be null). So use the stat structure
    to get the gfid in lookup callback instead of inode's gfid.
    
    Change-Id: Id70277f0228f3db64b05d613108cfb4f070197e6
    BUG: 791087
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3400
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 065703939125c2c4be88c400cc9c6690acdd5f93
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon May 21 13:34:20 2012 +0530

    performance/md-cache: use mdc_fsetattr_cbk as the callback if setattr is on a fd
    
    Change-Id: I114a16055540e0cd3317b83b329600251ffe03c3
    BUG: 823886
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3404
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cd246b4ce4f5968f80de245adebbf634e3fdf37e
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue May 22 11:39:47 2012 +0530

    glusterfs/rebalance: Register cbk for glusterfs_rebalance_event_notify
    
    In case of n/w failures, cbk needs to be passed to
    mgmt_submit_request
    
    BUG: 822086
    Change-Id: Ie443902b94a09e11a2696b89de44a11fb477ca3e
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3403
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f5e63d3ebb02898212b11a9a6599f3483a76568d
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon Apr 16 21:37:31 2012 +0200

    glusterd / mountbroker: warn if mountbroker-root permissions are suspected to be too strict
    
    At the level of mountbroker, this is a best effort, as "too strict" depends
    on the purpose it's being used for (thus we just warn, don't err). However,
    it's a good guess, as it stands for existing use cases of mountbroker.
    
    Change-Id: Ic5e7d6cb44ced5509c05e0ee8a9043252470683f
    BUG: 765214
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3171
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3406
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 38f3920ae59fc0f0b70ccf79131901cffc493ccd
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon May 7 16:59:43 2012 +0530

    geo-rep / gsyncd: typo fix
    
    fix topy.
    
    Change-Id: I84df3e850dd24d9e86713dfa401c603a84a81ca6
    BUG: 763302
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3375
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3407

commit 80f4d9a0561f7b263c2d9f0e1cc941208b58a468
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Apr 4 03:12:26 2012 +0200

    geo-rep / gsyncd: recognize ECONNABORTED as termination of aux glusterfs
    
    Don't dump stack, rather log the "glusterfs session went down" message.
    
    If the aux glusterfs is already dead when we try to do some file
    operation, we get a failure with ENOTCONN, which is already handled
    as above. However, it's also possible that glusterfs dies while we
    are in a syscall into it -- in that case we get ECONNABORTED, and
    so far then we end up with an ugly stack strace. From now on we
    take ECONNABORTAD as well into consideration.
    
    Nb. wrt. testing: it's not easy to synthetically force the aux glusterfs
    to end this way; for that we have to provoke gsyncd into intensive
    synchronization. I succeeded in that with the following ruby oneliner:
    
    ruby -rcgi -e '
      Dir.chdir($*[0])
      a=[]
      Thread.new { loop { while a.size >= 100; File.delete a.shift; end; sleep 1 }}
      loop { a<<CGI.escape(STDIN.read 10); open(a[-1], "w") {}}' MTPT < /dev/urandom
    
    where the geo-rep master is mounted at MTPT. With this going on, deliver a
    SIGKILL to the geo-rep session's aux glusterfs. (It is giving ECONNABORTED
    non-deterministically, actually in the minority of cases.)
    
    Change-Id: I24fd8d0295cdba91d8b994057a1255ca8e2d1a67
    BUG: 764510
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3078
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3408

commit 8e7f28fa1ebc6d7efdc892856884a92191e47040
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon May 21 11:59:34 2012 +0530

    glusterd: On-wire changes required for probe/detach errstr
    
    This patch changes the on-wire structures for 'peer probe' and 'peer detach' to
    include op_errstr. These changes have been backported from patches
    feb99ca (glusterd, cli: Enable errstr for peer probe) and
    3213a4e (glusterd,cli: Enable errstr for peer detach). The remaining changes
    will be included later on.
    
    Change-Id: I6e8e917f5ad928b80862d301c364cd4df56bb4c0
    BUG: 816840
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3387
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 7a9a28742a7dffa8cc16866e9e3388f392e0e3b2
Author: Csaba Henk <csaba@redhat.com>
Date:   Fri Apr 20 17:21:12 2012 +0200

    geo-rep / gsyncd: fixes regarding the command invocation framework
    
    Some of the bugs to fix were found by the following stress-test:
    make "glusterfs --client-pid=-1" exit immediately on slave
    side.
    
    Also fix eintr_wrap which should not "adopt" exceptions generated
    by the wrapped call, by re-raising them as GsyncdError.
    
    Change-Id: Ia0d39e0635975ebbbf98d86e1e26f3122e1ed6ff
    BUG: 764678
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3258
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/3409
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 258b0f9b2e73d560774d80bd4724155e550ea31b
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed May 16 15:40:47 2012 +0530

    geo-rep / gsyncd.c: fix coverity fix
    
    gsyncd wrapper was segfaulting as coverity fix freed
    up pointer at wrong place (after it was reused)
    
    Instead of the apporach of the original coverity fix
    that added elaborate control flow to hunt down potential
    leaks, here we move the code over to static allocations
    in place of (the not really necessary) dynamic ones.
    
    Change-Id: Ida3855ff4a4f4371b350d27f858f129ceed51785
    BUG: 789278
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3345
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3405

commit 52f3aac6d80aea5d7c531005cb621463806000af
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun May 20 21:02:55 2012 +0530

    cluster/afr: Unlock higher entry locks in rename entrylk failure.
    
    Change-Id: I4646809ec86baf4b741a874353dbf27fbffb4791
    BUG: 823255
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3381
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 86c8e411143a9ee2bfd81270676ebd2a987cf946
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat May 19 11:14:25 2012 +0530

    protocol/server: del_locker should delete one locker per unlock
    
    BUG: 771595
    Change-Id: If1c352b2d65938ad07f2e4b70c0e58c2d3be11bc
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3399
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 27960b127ea55f1bd877c1e421c93fea3a2c42af
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 18 17:00:07 2012 +0530

    features/locks: Don't delete blocked locks in pl_flush
    
    BUG: 810502
    Change-Id: I68c1c11754e1f4413b457c5f4bb7da3bc1aafc23
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3398
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f742f5e6902af5c984f948c8ef5c38022752a018
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 18 11:06:52 2012 +0530

    features/locks: insert_and_merge should not operate on blocked locks
    
    BUG: 810502
    Change-Id: I1c560dae638ddb66f47ea64b661979b31708731b
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3397
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a289a11b0f7892e62e4b31041c852c4a98fa4c25
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 2 21:46:42 2012 +0530

    cluster/afr: Perform conservative merge on dir with xattr split-brain
    
    BUG: 765587
    Change-Id: Ifa7a4eae37b0c887a913c8c59d83a679c96c345b
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3396
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 64156e71bc71d7100b0e81bbe0702740b37c3ffb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Mar 13 11:15:36 2012 +0530

    cluster/afr: Handle files w.o. xattrs and size mismatch.
    
    BUG: 765587
    Change-Id: I1c1a739f25c4a798ba8ccaa52bc23d2c1dadd034
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3395
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f5c87c7bedfda7ed80d03918bfc3ce90069378e8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 5 14:26:22 2012 +0530

    cluster/afr: Mark zero size file as sink in absense of xattrs.
    
    BUG: 765587
    Change-Id: I225dbf79ec2d4669333cbb28b3c5319a08fe0600
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3394
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bdec439fe59c5e3fa9701d9cf4b5b92bd7e8a98f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 5 11:31:47 2012 +0530

    cluster/afr: Determining sources should do both fxattrop, fstat
    
    BUG: 765587
    Change-Id: Ibaf719776667595e8e9ea2c6be5a0a390a27b506
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3393
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4da1b231c3333806cec16321efa45cc410359574
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon May 21 14:13:05 2012 +0530

    protocol/client: free the 'loc2' variable of client_local
    
    in common client_local_wipe(), local->loc2 was not getting freed
    up, but its used in few functions for logging purpose.
    
    Change-Id: I05715843b59aa216a79f5164a152c605dc9ad114
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 823133
    Reviewed-on: http://review.gluster.com/3389
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4746ed1a055c595f08445d5a670e9585f8209183
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon May 21 09:05:23 2012 +0530

    protocol/server: fix a crash with NULL dereference
    
    in setxattr() and fsetxattr() _cbk functions
    
    Change-Id: I9798d182e7f68509e8e37d43cb18e4c2f4bd6fab
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 823244
    Reviewed-on: http://review.gluster.com/3385
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1d939fe7adef651b90bb5c4cd5843768417f0138
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri May 18 14:58:52 2012 +0530

    features/quota: get the top xlator from the active graph outside the list
    
    In quota reconfigure we were getting the top of the active graph within the
    list which contains the limits set on the volume. Suppose the list is empty,
    then the code inside the list traversal loop is not executed, and thus top
    will be NULL which might lead to segfault when accessed later.
    
    Change-Id: I1648d69256490878339294537e17300399ddbf2c
    BUG: 822827
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3379
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d54d9e9412a267ed8abaee1c682c7b6f734e8205
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 18 22:00:03 2012 +0530

    cluster/afr: Assign gfid path if path is NULL in lookup
    
    BUG: 820355
    Change-Id: I68bea2b8408e741af5fff9e6588ddb87421dbda4
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3374
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 86e0789a8e3c9e7289857fee59b9dedffc5b5e54
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue May 15 16:00:52 2012 +0530

    nfs/mount: avoid duplicate reply on ENOENT
    
    Change-Id: I310e525b5bd302c0acadcc077213fbd570bf772d
    BUG: 820582
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3355
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ef3cd63cc95c26fdf7f7a2d8046b4686b02cb836
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon May 7 13:31:24 2012 +0530

    glusterd: Fixed glusterd_brick_create_path algo.
    
    - check if any prefix of the brick path has "trusted.gfid"
      or "trusted.glusterfs.volume-id" set.
    - set trusted.glusterfs.volume-id on the bricks as soon as
      its induction into the volume is settled. Earlier, the setting of
      "volume-id" used to happen during the first run of the brick process,
      leaving of window for bricks part of one volume to be (ab)used by another
      volume inadvertently.
    - removed creation of brick directory (if missing), during start volume force.
      This is to avoid directory creation as part 'force'ful starting of volume
      and leave the responsibility with the user, who understands the
      'availability' of the export directory (brick) better.
    
    Change-Id: I4237ec4ea7a4e38a7501027e7de7112edd67de8c
    BUG: 812214
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3280
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3313

commit 0cdb1d147afd644153855f6557bf7e809e5444f0
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri May 11 18:11:31 2012 +0530

    libglusterfs/fd: while dumping the fd_ctx use fd->xl_count
    
    While dumping the fd_ctx when statedump is issued fd->xl_count should be
    used to determine the number of xlators instead of using latest graph's count,
    since while creating the fd only those many slots would have been allocated
    as the number of xlators in the graph at that instant. Then the graph would have
    changed, thus the xl count.
    
    All the above things should happen before any operation is done on fd, otherwise
    fd_ctx_set will allocate the extra slots for the new xlators present in the
    graph.
    
    Also added the program which can be used to reproduce the bug.
    
    Change-Id: I11fe75d71ef5d37e29e2958d53752aa31098c313
    BUG: 820887
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3335
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3369

commit 7914df6c6ab6d7d3905b26c1dbc5ac07d79ef10f
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Thu Apr 12 14:49:44 2012 +0530

    nfs/nlm: procedures for PC clients
    
    *  This change introduces four NLMv4 procedures:
    
       NM_LOCK, SHARE, UNSHARE and FREE_ALL.
    
       These are used by PC clients (windows/dos) to control access
       to files.
    
       1. NM_LOCK: this lock is not monitored by statd.
    
       2. SHARE: A share reservation is a lock on the whole file
          that is taken whenever a file is opened on windows clients.
          This has ACCESS (N, R, W, RW) and DENY MODE (N, R, W, RW).
            ACCESS:    mode of access requested by the client;
            DENY MODE: what the requesting client wants to
                       deny other clients.
    
       3. UNSHARE: remove a share reservation obtained by SHARE.
          Called while closing a file.
    
       4. FREE_ALL: remove all share reservations and locks,
          both monitored and unmonitored, of the calling client.
    
    *  lock and nm_lock use a common function with only
       a flag conveying whether or not to monitor a lock.
    
    *  NOTES:
       1. SHARE reservations are not STACK_WIND'd to subsequent xlators.
          These are maintained in-memory in the nfs xlator.
    
       2. Consequently, for SHARE reservations to work effectively,
          all PC clients  *must* mount from the same gNfs server.
          Not doing so will result in different servers maintaining
          separate SHARE reservations which will not be enforced
          for obvious reasons.
    
    Change-Id: Id4f22670a94ed58691a6a7f4c80aa8c11421a277
    BUG: 800287
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3356
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 27f4cc44140260516efa5a226b9f49b761b6b559
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 20 17:22:43 2012 +0530

    Self-heald: Print the time stamp of the event-history
    
    BUG: 796579
    Change-Id: I4c738d9073b53fc3c4d4797b5f01e841dae1b4e9
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3352
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3e3a687d025918232763488e6c9e102b0b2a0dcc
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Mar 13 17:33:34 2012 +0530

    cluster/afr: Return EIO if read-child < 0 in inode-read fops
    
    BUG: 800884
    Change-Id: Ia3382d169e96308eaf48fbd717a72d5266e40677
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3351
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bdd240eca1e7350f4e6ddec047ea8f6db67512d5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu May 17 09:28:02 2012 -0700

    Revert "fuse-resolve: consider cases where an entry should be resolved even"
    
    This reverts commit 27fb213be6101bca859502ac87dddc4cd0a6f272.

commit 99ac60193a31438258b751e4c99c85d153ddaae5
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue May 15 16:31:55 2012 +0530

    client/protocol : Changes in client3_1_getxattr()
    
    Backporting change 1d02db63ae from master.
    
    Copy args->loc to local->loc in client3_1_getxattr(). This prevents logs with
    "(null) (--)" in client3_1_getxattr_cbk().
    Also save args->name in local->name and print it in the log as well.
    
    Also, fixes crashes caused by above patch in master. (trying to gf_strdup a NULL
    args->name)
    
    BUG: 812199
    Change-Id: I5419f6a244de93dd1a96ac8e229be3ecdc9f456e
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3350
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit ab12e305fcd303972c17e8b9e777cc1482aadf37
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat May 12 23:14:13 2012 +0530

    configure.ac: Update version to 3.3git
    
    Change-Id: I6f42bfe920fff5166d2424e8fc08f1286297e2e1
    BUG: 820551
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3318
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 8852f95869139c03d9504887a95a6ca52b5d65e0
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri May 11 11:23:58 2012 +0530

    build: Include COPYING-{LGPLV3,GPLV2} and remove COPYING
    
    Change-Id: Ib7867a79b3831b24b5f26cfee44b87e72f6be09b
    BUG: 820551
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3312
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 8707fac1f92415f9fc05dc6484026a66e6e7873b
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri May 11 11:32:01 2012 +0530

    Update rfc.sh to release-3.3
    
    Change-Id: I9452d9166ae0a441ed1dc09613e836f2262fd1f3
    BUG: 820551
    Reviewed-on: http://review.gluster.com/3311
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 4ab1c326f3862714b960302f06c6323d6291b695
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu May 10 22:18:20 2012 -0700

    Revert "fuse: allow requests during mount (needed for SELinux labels)"
    
    This reverts commit 7d0397c2144810c8a396e00187a6617873c94002.

commit 7319017fae450af1d8988bc3a95eec40d913e701
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Tue May 8 07:21:17 2012 -0400

    license: dual license under GPLV2 and LGPLV3+
    
    Note that the license was not changed in any of the following:
    	.../argp-standalone/...
            .../booster/...
            .../cli/...
            .../contrib/...
            .../extras/...
            .../glusterfsd/...
            .../glusterfs-hadoop/...
            .../mod_clusterfs/...
            .../scheduler/...
            .../swift/...
    
    The license was not changed in any of the non-building xlators. The
    license was not changed in any of the xlators that seemed  to me  to
    be clearly server-side only, e.g. protocol/server
    
    Note too that copyright was changed along with the license; I did
    not change the copyright in files where the license did not change.
    
    If you find any errors or ommissions please don't hesitate to let me know.
    
    The complete list of files with the license change is:
    	libglusterfs/src/byte-order.h
    	libglusterfs/src/call-stub.c
    	libglusterfs/src/call-stub.h
    	libglusterfs/src/checksum.c
    	libglusterfs/src/checksum.h
    	libglusterfs/src/circ-buff.c
    	libglusterfs/src/circ-buff.h
    	libglusterfs/src/common-utils.c
    	libglusterfs/src/common-utils.h
    	libglusterfs/src/compat-errno.c
    	libglusterfs/src/compat-errno.h
    	libglusterfs/src/compat.c
    	libglusterfs/src/compat.h
    	libglusterfs/src/daemon.c
    	libglusterfs/src/daemon.h
    	libglusterfs/src/defaults.c
    	libglusterfs/src/defaults.h
    	libglusterfs/src/dict.c
    	libglusterfs/src/dict.h
    	libglusterfs/src/event-history.c
    	libglusterfs/src/event-history.h
    	libglusterfs/src/event.c
    	libglusterfs/src/event.h
    	libglusterfs/src/fd-lk.c
    	libglusterfs/src/fd-lk.h
    	libglusterfs/src/fd.c
    	libglusterfs/src/fd.h
    	libglusterfs/src/gf-dirent.c
    	libglusterfs/src/gf-dirent.h
    	libglusterfs/src/globals.c
    	libglusterfs/src/globals.h
    	libglusterfs/src/glusterfs.h
    	libglusterfs/src/graph-print.c
    	libglusterfs/src/graph-utils.h
    	libglusterfs/src/graph.c
    	libglusterfs/src/hashfn.c
    	libglusterfs/src/hashfn.h
    	libglusterfs/src/iatt.h
    	libglusterfs/src/inode.c
    	libglusterfs/src/inode.h
    	libglusterfs/src/iobuf.c
    	libglusterfs/src/iobuf.h
    	libglusterfs/src/latency.c
    	libglusterfs/src/latency.h
    	libglusterfs/src/list.h
    	libglusterfs/src/lkowner.h
    	libglusterfs/src/locking.h
    	libglusterfs/src/logging.c
    	libglusterfs/src/logging.h
    	libglusterfs/src/mem-pool.c
    	libglusterfs/src/mem-pool.h
    	libglusterfs/src/mem-types.h
    	libglusterfs/src/options.c
    	libglusterfs/src/options.h
    	libglusterfs/src/rbthash.c
    	libglusterfs/src/rbthash.h
    	libglusterfs/src/run.c
    	libglusterfs/src/run.h
    	libglusterfs/src/scheduler.c
    	libglusterfs/src/scheduler.h
    	libglusterfs/src/stack.c
    	libglusterfs/src/stack.h
    	libglusterfs/src/statedump.c
    	libglusterfs/src/statedump.h
    	libglusterfs/src/syncop.c
    	libglusterfs/src/syncop.h
    	libglusterfs/src/syscall.c
    	libglusterfs/src/syscall.h
    	libglusterfs/src/timer.c
    	libglusterfs/src/timer.h
    	libglusterfs/src/trie.c
    	libglusterfs/src/trie.h
    	libglusterfs/src/xlator.c
    	libglusterfs/src/xlator.h
    	libglusterfsclient/src/libglusterfsclient-dentry.c
    	libglusterfsclient/src/libglusterfsclient-internals.h
    	libglusterfsclient/src/libglusterfsclient.c
    	libglusterfsclient/src/libglusterfsclient.h
    	rpc/rpc-lib/src/auth-glusterfs.c
    	rpc/rpc-lib/src/auth-null.c
    	rpc/rpc-lib/src/auth-unix.c
    	rpc/rpc-lib/src/protocol-common.h
    	rpc/rpc-lib/src/rpc-clnt.c
    	rpc/rpc-lib/src/rpc-clnt.h
    	rpc/rpc-lib/src/rpc-transport.c
    	rpc/rpc-lib/src/rpc-transport.h
    	rpc/rpc-lib/src/rpcsvc-auth.c
    	rpc/rpc-lib/src/rpcsvc-common.h
    	rpc/rpc-lib/src/rpcsvc.c
    	rpc/rpc-lib/src/rpcsvc.h
    	rpc/rpc-lib/src/xdr-common.h
    	rpc/rpc-lib/src/xdr-rpc.c
    	rpc/rpc-lib/src/xdr-rpc.h
    	rpc/rpc-lib/src/xdr-rpcclnt.c
    	rpc/rpc-lib/src/xdr-rpcclnt.h
    	rpc/rpc-transport/rdma/src/name.c
    	rpc/rpc-transport/rdma/src/name.h
    	rpc/rpc-transport/rdma/src/rdma.c
    	rpc/rpc-transport/rdma/src/rdma.h
    	rpc/rpc-transport/socket/src/name.c
    	rpc/rpc-transport/socket/src/name.h
    	rpc/rpc-transport/socket/src/socket.c
    	rpc/rpc-transport/socket/src/socket.h
    	xlators/cluster/afr/src/afr-common.c
    	xlators/cluster/afr/src/afr-dir-read.c
    	xlators/cluster/afr/src/afr-dir-read.h
    	xlators/cluster/afr/src/afr-dir-write.c
    	xlators/cluster/afr/src/afr-dir-write.h
    	xlators/cluster/afr/src/afr-inode-read.c
    	xlators/cluster/afr/src/afr-inode-read.h
    	xlators/cluster/afr/src/afr-inode-write.c
    	xlators/cluster/afr/src/afr-inode-write.h
    	xlators/cluster/afr/src/afr-lk-common.c
    	xlators/cluster/afr/src/afr-mem-types.h
    	xlators/cluster/afr/src/afr-open.c
    	xlators/cluster/afr/src/afr-self-heal-algorithm.c
    	xlators/cluster/afr/src/afr-self-heal-algorithm.h
    	xlators/cluster/afr/src/afr-self-heal-common.c
    	xlators/cluster/afr/src/afr-self-heal-common.h
    	xlators/cluster/afr/src/afr-self-heal-data.c
    	xlators/cluster/afr/src/afr-self-heal-entry.c
    	xlators/cluster/afr/src/afr-self-heal-metadata.c
    	xlators/cluster/afr/src/afr-self-heal.h
    	xlators/cluster/afr/src/afr-self-heald.c
    	xlators/cluster/afr/src/afr-self-heald.h
    	xlators/cluster/afr/src/afr-transaction.c
    	xlators/cluster/afr/src/afr-transaction.h
    	xlators/cluster/afr/src/afr.c
    	xlators/cluster/afr/src/afr.h
    	xlators/cluster/afr/src/pump.c
    	xlators/cluster/afr/src/pump.h
    	xlators/cluster/dht/src/dht-common.c
    	xlators/cluster/dht/src/dht-common.h
    	xlators/cluster/dht/src/dht-diskusage.c
    	xlators/cluster/dht/src/dht-hashfn.c
    	xlators/cluster/dht/src/dht-helper.c
    	xlators/cluster/dht/src/dht-inode-read.c
    	xlators/cluster/dht/src/dht-inode-write.c
    	xlators/cluster/dht/src/dht-layout.c
    	xlators/cluster/dht/src/dht-linkfile.c
    	xlators/cluster/dht/src/dht-mem-types.h
    	xlators/cluster/dht/src/dht-rebalance.c
    	xlators/cluster/dht/src/dht-rename.c
    	xlators/cluster/dht/src/dht-selfheal.c
    	xlators/cluster/dht/src/dht.c
    	xlators/cluster/dht/src/nufa.c
    	xlators/cluster/dht/src/switch.c
    	xlators/cluster/stripe/src/stripe-helpers.c
    	xlators/cluster/stripe/src/stripe-mem-types.h
    	xlators/cluster/stripe/src/stripe.c
    	xlators/cluster/stripe/src/stripe.h
    	xlators/features/index/src/index-mem-types.h 
    	xlators/features/index/src/index.c 
    	xlators/features/index/src/index.h 
    	xlators/performance/io-cache/src/io-cache.c
    	xlators/performance/io-cache/src/io-cache.h
    	xlators/performance/io-cache/src/ioc-inode.c
    	xlators/performance/io-cache/src/ioc-mem-types.h
    	xlators/performance/io-cache/src/page.c
    	xlators/performance/io-threads/src/io-threads.c
    	xlators/performance/io-threads/src/io-threads.h
    	xlators/performance/io-threads/src/iot-mem-types.h
    	xlators/performance/md-cache/src/md-cache-mem-types.h
    	xlators/performance/md-cache/src/md-cache.c
    	xlators/performance/quick-read/src/quick-read-mem-types.h
    	xlators/performance/quick-read/src/quick-read.c
    	xlators/performance/quick-read/src/quick-read.h
    	xlators/performance/read-ahead/src/page.c
    	xlators/performance/read-ahead/src/read-ahead-mem-types.h
    	xlators/performance/read-ahead/src/read-ahead.c
    	xlators/performance/read-ahead/src/read-ahead.h
    	xlators/performance/symlink-cache/src/symlink-cache.c
    	xlators/performance/write-behind/src/write-behind-mem-types.h
    	xlators/performance/write-behind/src/write-behind.c
    	xlators/protocol/auth/addr/src/addr.c 
    	xlators/protocol/auth/login/src/login.c 
    	xlators/protocol/client/src/client-callback.c
    	xlators/protocol/client/src/client-handshake.c
    	xlators/protocol/client/src/client-helpers.c
    	xlators/protocol/client/src/client-lk.c
    	xlators/protocol/client/src/client-mem-types.h
    	xlators/protocol/client/src/client.c
    	xlators/protocol/client/src/client.h
    	xlators/protocol/client/src/client3_1-fops.c
    
     Copyright only, license reverted to original
    
    Change-Id: If560e826c61b6b26f8b9af7bed6e4bcbaeba31a8
    BUG: 820551
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3304
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f6694199e637f67051b02ae423a4823a1594ee50
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Wed May 9 14:06:58 2012 -0400

    glusterfs.spec.in, Add BuildRequires: libxml2-devel so that configure will
    DTRT on Fedora's Koji build system
    
    Change-Id: I14a64d2e562282e4e7d1d37b526c112c9f343454
    BUG: 819916
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3305
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Joe Julian <me@joejulian.name>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 72da7808cb0497b4ac6df55c58c9bf34daeee7ac
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu May 10 15:48:22 2012 +0530

    locks: Set flock.l_type on successful F_UNLCK to signal last unlock on fd.
    
    NLM expects a successful F_UNLCK on an fd to set flock.l_type to F_UNLCK
    if it were the last unlock else F_RDLCK.
    
    Change-Id: Ib304ac6102664abbb13d1fda649b3da63f1ee97e
    BUG: 800300
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3306
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 4789058d916de596720213154cd1e2f73695aa13
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu May 10 22:22:45 2012 +0530

    build: Include protocol/server* shared libraries in the glusterfs-server rpm
    
    Change-Id: I46354dd8c0e9c9d81366d3e92af4a24a9d2c568a
    BUG: 764702
    Reviewed-on: http://review.gluster.com/3308
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 17b0814243b4ccd56c0ce570b7f42d5e572e1e71
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu May 3 16:39:55 2012 +0530

    geo-replication: coverity resource leak fixes
    
    Change-Id: I5739e9c9ae6fe78a6defb640d630e5f918ac1295
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 789278
    Reviewed-on: http://review.gluster.com/3266
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 53a09f49abb291625c96409627cba348f0c35e55
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Apr 29 23:08:42 2012 +0530

    mgmt/glusterd: Avoid re-starting nfs unconditionally.
    
    NFS server is restarted unconditionally when a volume option is
    configured through the set interface. This patch prevents restart
    of NFS server when operations are performed on translators that
    are not part of the NFS graph.
    
    This does not prevent re-start of a NFS server when an option
    corresponding to a translator that is part of the NFS graph is
    re-configured.
    
    Change-Id: Ic4b8e48e5e7e80438f230521042c267ec3b96a25
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3247
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 8af87a7ff4da6791a339e2bdb159a4b0c4a66c30
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 20 18:49:40 2012 +0530

    cluster/dht: rmdir should succeed last on the hashed subvol
    
    mkdir and rename both first happen on the hashed subvol.
    Rmdir should succeed, only if all non hashed subvol succeed,
    and finally removal from hashed_subvol succeeds.
    
    if hashed_subvol is unavailable, then rmdir should be sent
    on all subvols
    
    Change-Id: I1bf5d5fc25393d0e2fde13ae403cf867a01f5ec7
    BUG: 773187
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3202
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit fc481386d296921d883d1b8678795eb45bb8b8b7
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue May 8 13:57:31 2012 +0530

    glusterfsd: Make sure mountpoint is an absolute path
    
    If the mountpoint path given to glusterfs is not an absolute path, convert it to
    an absolute path by concatenating it with the curren working directory.
    This prevents cases, where in gluster cannot perform clean unmounts when mount
    is done with a relative path.
    
    Change-Id: Ie25add4e1dc59171e522c4244c79a6c148844ab3
    BUG: 819466
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3302
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 27fb213be6101bca859502ac87dddc4cd0a6f272
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 26 18:44:14 2012 +0530

    fuse-resolve: consider cases where an entry should be resolved even
    when parent belongs to active itable.
    
    When parent is root, the parent inode returned will always be
    active_subvol->itable->root and hence there can be cases where we
    should explicitly resolve the entry in active graph.
    
    Change-Id: I4e82df9a351ff6b5304891abc9932495bf7ea79d
    BUG: 804592
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3007
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit d6244e238976e45ccb8c64ab4a0fe443fe44c952
Author: Brian Foster <bfoster@redhat.com>
Date:   Thu May 3 10:09:27 2012 -0400

    quick-read, md-cache: selectively cache xattr data to conserve memory
    
    The md-cache translator can cache items for a long period of time and
    thus is sensitive to memory usage associated with the items it
    references. This implements two changes to help conserve memory:
    
    - quick-read - Migrate the file content data to a local dict and
    	delete from the xdata dict that passes through the stack.
    - md-cache - Create a local dict to selectively store the xattr
    	data md-cache is interested in. This includes a slight
    	optimization to not allocate an empty dict in the case
    	where we have not received any xattr's of interest.
    
    I've tested both changes independently and together by running a
    readdirp test against several compiled source trees (~340k files).
    The base test results in a 7.7GB RSS on the client. The quick-read
    modification cuts RSS down to 4.1GB, which is still large due
    to md-cache unintelligently caching a large number of empty
    dictionaries. The combined modification cuts RSS down to 462MB
    on the same workload.
    
    NOTE: Theoretically the md-cache change should supercede the
    quick-read change, but practically I save an extra 150MB or so with
    both. I already had the change and consider it an improvement that
    quick-read clean up after itself.
    
    BUG: 812876
    Change-Id: Id59734d12dd6476b0e32480939e633448adb6884
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3268
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 11a19ce031932640584f8bc207274f4e08d97c5f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 27 18:43:23 2012 +0530

    Resolve: Assign correct path while resolving
    
    Change-Id: Ia17ff38a60225dd2e9115aaa298bed42f9e43f56
    BUG: 812277
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3248
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f233e26f99decc0b2552ed10cd81c30c684139ac
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 27 16:15:12 2012 +0530

    mgmt/gluster: Load index xlator on brick always
    
    Change-Id: I56e4fce83a6bd557a3d0dc115a7dd0cd699328e0
    BUG: 816941
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3239
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 44a1857e544f64e10e8bfb4641bedd841910a6c6
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri May 4 15:13:03 2012 +0530

    protocol/{client,server} : Log improvements
    
    Make use of gfid in log messages.
    
    Change-Id: I28548be64d19418f99ee9ccdbd3ac4ae67c6c015
    BUG: 814666
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3274
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit eb7c8dd03d84d7c3917d18a59d86c379382c8b2d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Sat May 5 09:54:22 2012 +0530

    glusterd: remove-brick: add more error handling
    
    with this, we can make sure, all wrong patterns in CLI can be
    reported with proper message back to user, instead of resulting
    in an wrong volume type.
    
    Change-Id: Ib461956dd7d51f7f81c19c27112d44c2adb3a66d
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 803711
    Reviewed-on: http://review.gluster.com/3278
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c4dadc74fd1d1188f123eae7f2b6d6f5232e2a0f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 18 17:30:39 2012 +0530

    Self-heald: Dump the event history completely
    
    Change-Id: Icf08ef1752795276f88c343d1d74af104095c6cb
    BUG: 796579
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3276
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ca5861fdf9fdf9c29523893418312bdf1796c28e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 25 14:58:31 2012 +0530

    cluster/afr: Fix inodelk-trace logs to print lk-owners
    
    Change-Id: Icc983effcf1b6283410a162f260755e97d41ee65
    BUG: 810502
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3228
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c5d9ac3477d295b5e97166ac655a52463a0d1fb8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 23 19:58:41 2012 +0530

    cluster/afr: Perform Flush with lk-owner given by parent xlator.
    
    Lk-owner of posix-lk and flush should be same, flush can't clear
    posix-lks without that lk-owner.
    
    Change-Id: If775abb5741a0beb00c419b54d023fbd429e3cb7
    BUG: 810502
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3221
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0caffe52b8db6670dfa2b1c825477ede7ba304c6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue May 1 10:50:50 2012 +0530

    protocol/client: hold lock when cancelling ping_timer in
    client_ping_cbk.
    
    Change-Id: I2b4e723ef119c62902f8a692a8a1f424da0d08b4
    BUG: 816951
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3254
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 9bd1b291e3e107250b38d05702df7cd751382bdc
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Mon Apr 30 16:43:16 2012 +0530

    libglusterfs/inode.c: do not link the inode in the dentry cache for "." and ".."
    
    Change-Id: I18c2e090c1ca64f47ce70dc63c9f73ea7def2f86
    BUG: 810828
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3220
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 298ff93eab48de51a1bd77e4b12e88a7add1d174
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu May 3 15:56:15 2012 +0530

    glusterd/store: Move remove-brick/rebalance status to node_state.info
    
    Hence forth, all node related info, which does not need chksum or
    versioning can be stored in this file. This data might not be in
    sync across nodes, as it contains only information related to
    local node.
    
    Change-Id: I88a48c1b7bb7b4c29625550a9ff349442bcc5d09
    BUG: 812234
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3141
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4ec3c04a43b89fc76c8919aadfe28fb0b8990cd0
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat May 5 16:50:18 2012 +0530

    mgmt/glusterd: allow volume start force
    
    Change-Id: If920bf0bf96b61b39bccbb10e66f5f39a55967f5
    BUG: 812214
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3279
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 530a44a7c936dca76bda30bd40abdcc47c21fa7f
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Wed Apr 11 08:55:46 2012 +0530

    swift: Gluster object storage plugin for Openstack Swift.
    
    Change-Id: I5e07339064b1f3bb2aa5b04740ed870e114db4f9
    BUG: 811430
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3118
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3651c7425ef41eae70d86b67151b62e8b6d5a3fc
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri May 4 12:27:16 2012 +0530

    mount.glusterfs: Fix log-level
    
    Change-Id: Ia5ad073ba384e1569970ada8763a8bf9bccbc9c4
    BUG: 818835
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3272
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 44c152bd8feb089b8b6d7124f88d0d97cd80bdf2
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 6 15:19:59 2012 +0530

    self-heald: loc should have gfid path for better logging
    
    Change-Id: I31e51c8bd68a72ea2216df306a2f5c738c5d155c
    BUG: 810144
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3099
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 66701832cf2db0fc3fc55bc99d01d4b0f1cb6a2a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 6 15:43:31 2012 +0530

    self-heald: Don't trigger self-heal always.
    
    - If self-heal is disabled, the crawl is always spawned but immediately
      terminated upon realizing that the self-heal-daemon is disabled. Fixed it.
    - If for some reason finding child position fails, it should still spawn timer
      and should keep the timer alive until the position is found to be REMOTE.
    
    Change-Id: I20cc6af93a1ff26f2b837bbf063bbe508b5fdc78
    BUG: 810144
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3100
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 352f09f8eb5c2487612e6e6afa20742c9b9d6df4
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri May 4 12:00:14 2012 +0530

    extras/hook-scripts: Fixed EXTRA_DIST to explicitly list *.sh files
    
    Change-Id: I48785317b42e37a6e7768c89bdb7ca8ac41220fa
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3271
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cfaf9989e63dda0cc8e4e2c5e42bcd4ad4e43c4b
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed May 2 11:59:35 2012 +0530

    stripe: don't send parent pointer in stripe_readdirp_lookup()
    
    Change-Id: I53e28f4046c13ad13c9300990a95480a5c62f180
    BUG: 808353
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3232
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit e4b3c0d90c46e6dde97f57fa93ed215b0d34e0c4
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Apr 12 17:52:10 2012 +0530

    iobuf: option to provide larger size of buffers
    
    provide an option to failover to standard allocation if iobuf of
    required size doesn't exists. this can be achieved by keeping an
    arena dedicated for all the out of boundary allocations.
    
    Change-Id: I41a2bd7d353dc7bcb2e1a6e4b41735afe9865975
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 812784
    Reviewed-on: http://review.gluster.com/3136
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit d879951ca9e69632517cf13f8f8773c330c14165
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu May 3 12:45:25 2012 +0530

    glusterd/rebalance: Switch off afr self heal in rebalance process.
    
    Self heal if any will be taken care of the self heal daemon.
    
    Change-Id: I4f3c270b6fce250cbdf6f986066f64e7c4b2f29f
    BUG: 808977
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3263
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 3b47032cbec05ebd90a73e362eaf2653789a09bc
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed May 2 14:23:27 2012 +0530

    cli: fix remove-brick output behavior in failure cases
    
    earlier it was dependant on server sending the dict for knowing
    the command. Now it preserves the dictionary in frame->local,
    which is used to understand the command.
    
    Change-Id: Ica675b497e466f77878f67792ae96b71f0704d6b
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 815745
    Reviewed-on: http://review.gluster.com/3235
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 5f48ad266195ec85171db48cf3dba83f98cbe728
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed May 2 18:38:52 2012 +0530

    glusterd: Added glusterd command specific optional args for hooks scripts.
    
    start volume: --first=yes if the volume is the first to be started
                  and --first=no otherwise
    
    stop volume: --last=yes if the volume is the last to be stopped
                  and --last=no otherwise
    
    set volume: -o key=value ... for every key, value supplied in
                volume set command
    
    Change-Id: Ia8530771f8b9d7424fd1c736cb4c3622b5cabec2
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3260
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d88237faa6982c9f0beca65262a220becaacb096
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed May 2 16:29:49 2012 +0530

    cluster/pump: Fixed fd leaks in pump directory traversal logic
    
    Change-Id: Ie54c8c9b19be6824445ada6bbcd4983e90a7c5c4
    BUG: 818593
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3267
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7509afb03da6fe9a0f07e902869f44d4ff545fa7
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Apr 26 15:41:10 2012 +0530

    RPC: change the AUTH_GLUSTERFS_v2 value to private range
    
    As per RFC5531, the value we were using with AUTH_GLUSTERFS_v2 (6)
    is already a standard number for RPCSEC_GSS. Hence having a number
    from the free pool for now, till IANA approves a standard number
    for GlusterFS RPC itself.
    
    Change-Id: I10ef6f349bccf3cf42fadfa3861c374adae2a808
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 816148
    Reviewed-on: http://review.gluster.com/3230
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Niels de Vos <ndevos@redhat.com>
    Tested-by: Niels de Vos <ndevos@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c204e8c2713678e990b74c98f9eda8f18d714b3d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Sun Apr 29 09:32:43 2012 +0530

    protocol: fix memory leak of lk-owner buffer in *lk() calls
    
    Change-Id: I7fb0e1757c5e04b1a2609c9822ac79301808f671
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 768330
    Reviewed-on: http://review.gluster.com/3244
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit a2ca310cd334bc4c3387107a0931f695efac5ba9
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Sat Apr 14 11:58:28 2012 +0530

    glusterd: Disallow (re)-using bricks that were part of any volume
    
    Change-Id: I001a67bed1cc3118174a5ddc2f2011e8e48d8ae8
    BUG: 812214
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3147
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit b8cfc761bd7a664a4ed73999e898973c9718ecee
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 4 00:29:40 2012 +0530

    cluster/afr: Fix race in nonblocking entrylk
    
    Change-Id: I6d96c1aed4bf08b90b6918e3694c688eccdc2445
    BUG: 818578
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3270
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 9b3def01e4b6c7c3e6899e4ad52ee64440285f54
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 30 07:29:16 2012 +0530

    libgluster: Fix counting, synctask state errors
    
    When a synctask is executed in synctask_switchto, if by the time
    it goes to check the woken/sleep part a reply already comes and
    __wake is called, already running task is going to be put in runq
    this generates a false warning "re-running already running task".
    
    If the reply does not come before the woken/sleep check, then the
    running task is put in waitq which decrements env->runcount even
    when the task is not in runq, this leads to -ve runcount everytime
    a task goes from runq->switchto->waitq.
    
    This patch fixes both of them by introducing a new state for the
    task called SYNCTASK_SUSPEND just when the task is suspended before
    yeild in SYNCOP.
    
    Change-Id: Ib82182cf950f9d85b5656f6243541489a104ca3d
    BUG: 816551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3249
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 170a3a411c88f6ce1662c55440a372f512e901d1
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed May 2 11:38:33 2012 +0530

    log cleanup: in setxattr() path
    
    * in posix we log occassionally if errno is ENOTSUP, added a
      suggestion to mount with 'user_xattr' option.
    
    * changed server's *etxattr_cbk to log ENOTSUP in debug level.
    
    * changed client's *etxattr_cbk to log ENOTSUP in debug level.
    
    Change-Id: Icd604050aaa68546011f2c950ecd7883ac6ee820
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 811957
    Reviewed-on: http://review.gluster.com/3140
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7ee1c22353e3af4153d1716a5f3629615de4510e
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 18 18:16:30 2012 +0530

    extras: Added hook script to help in CTDB setup
    
    Change-Id: Ib43cd3583e791aabc8cc25fe4eea43a620f73d01
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3188
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3d5d5846d86b305955c1f1fcd1f426b5ecb1df6f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Apr 26 20:07:32 2012 +0530

    glustershd: allow changing of log-level through cli
    
    Change-Id: Ie33ad4f4ffcb025b22801d6beb9b87d8325021a0
    BUG: 815903
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3234
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 69a946bfea058bd5f9776343d7ccc1864d4a81b8
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed May 2 10:31:27 2012 +0530

    rpcsvc: size check before calloc in rpcsvc_handle_disconnect
    
    Change-Id: Ib9e9e28b4fd3d68ebd4b5dcbd0ee4576217b9d4f
    BUG: 782761
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3257
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1c825e5f2498ec586c0e9123c472f6d134706e08
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Apr 27 14:34:07 2012 +0530

    mgmt/glusterd: take the statedumps of running bricks if one of the bricks is down
    
    Till now if one of the bricks of the volume is down, then statedump of that
    volume (bricks) did not take the statedumps of running bricks.
    
    This patch fixes that issue and cli command will take the statedumps of
    running brick processes.
    
    Change-Id: Id9b11905d3d759202e505c2ecfa6ccd5dce6a9ff
    BUG: 816884
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3237
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3dd38a4a35885adf6ac2e0c6c4e38d36ab862441
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Sun Apr 29 09:51:06 2012 +0200

    get rid of ZR_PATH_MAX
    
    As suggested by Amar Tumballi
    
    Change-Id: Id1cd74fd7530e8c846f3be4a88b1fa301a728cf1
    BUG: 764655
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3243
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d09a5beae2d26803b67ab8f3de6862044a8a758c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 30 16:18:50 2012 +0530

    libglusterfs/fd: use reallocated memory for intializing new graphs contexts
    
    While setting fd_ctx, if we have to scale the fd contexts, then we get the
    xl_count of the new graph and reallocate the memory for contexts so that
    it is suffecient for contexts of xlators of both new as well as old graph, and
    then initialize the new graph xlator contexts. For that we are considering the
    old pointer itself, instead of using newly reallocated pointer.
    
    Change-Id: I32c18cd69c03c771b4a63e5186c65ae658e54e92
    BUG: 817461
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3250
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 67ceb347c83e3b994791feb58fc607475fa1177e
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Mon Apr 30 09:36:38 2012 -0400

    contrib/rbtree: additional license from Richard Fontana
    
    BUG: 807724
    Change-Id: I1e9a7aac7b535687b9e48bdb0e94c7f52dc6aad7
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3252
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 99bdbb2ed9697bb93f006d4060d4f1aaeb0850af
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 18 15:45:44 2012 +0530

    glusterd: Fail replace-brick subcmds on bricks other src/dst.
    
    Change-Id: I5b55d3e353e70a9d4d8b7948853cbfa5b001a447
    BUG: 811956
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3184
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4c84a4cd5e5e563e1e91656f7462b4c444e5f4e6
Author: Amar Tumballi <amarts@redhat.com>
Date:   Fri Apr 27 13:20:21 2012 +0530

    storage/posix: fix illegal memory access in fgetxattr()
    
    we were not checking for the return value of the fgetxattr(key), and
    used to continue with the allocation even if size was -1, leading to
    wrong memory access.
    
    Change-Id: Ib5cf2e74fee95bc919b12efe89fed5cd25807efd
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 815346
    Reviewed-on: http://review.gluster.com/3236
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f9ca9f09ce47715573d0ae2b5e174e8b63185b56
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 27 16:19:38 2012 +0530

    storage/posix: Fix leak of dict in getxattr calls.
    
    get_new_dict does not take a ref. Ref was taken only when any data
    was added to the dict.
    But in the out tag: we call explicit unref, which would move the ref
    count to -1, if it was a unsuccessful call. unref destroys the dict
    only if ref == 0.
    
    Change-Id: Ie08c301237c2042daf90a7ef25569e3b06e3e1e9
    BUG: 816870
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3240
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c3a16c32f5bd1924766d5844c100d5aa6ce8c392
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Tue Mar 13 20:49:35 2012 +0530

    nfs: use hostname without port numbers
    
    Change-Id: I7c4cba84723a9ca73f1d1f1e9a2c479a2bfd14fe
    BUG: 798969
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2973
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8b6534031ab9b60da293e9c2ffb95141d714f973
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 20 11:41:20 2012 +0530

    libglusterfs/fd.c: Dynamically scale fd->_ctx when there are no
    slots for new keys.
    
    Since while migrating fds to new graph we retain the same fd object,
    we might run out of slots for new keys in fd->_ctx after some graph
    switches.
    
    Change-Id: I1e3865c76f4703768f9b10b0453558877c2f5448
    BUG: 811562
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3201
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4213745eba97ffe1e2bdb13446fe2fd87e7c6fef
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 27 15:31:50 2012 +0530

    features/quota: update inode ctx in reconfigure.
    
    Till this patch, quota was relying on lookups after reconfigure, for
    new limits to be effective. However, this might be restrictive for
    users who don't want to change directories after resetting quota
    limits.
    
    Change-Id: I236aa31fdc7dcbc01d40d38c9b5b7b0a28a4d2ea
    BUG: 802905
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3022
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Tested-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ecb818902e4ee7491aaeae21226b62a0ab806370
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Apr 26 14:28:05 2012 +0530

    cli: Make use of cli_err()
    
    Use cli_err() in case of errors instead of cli_out().
    
    Change-Id: Ib0766e59516a1ccd56a2133f33fac3877c4384d6
    BUG: 815194
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3229
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 81df001b3efb2313e68745abd84f02e24fba6e67
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Thu Apr 26 17:42:11 2012 +0530

    nlm: use correct subvolume when opening the file
    
    Change-Id: Ia0a482c89f10481184dc8f0f5b27cf6612ac114a
    BUG: 816476
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3233
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6db7f8f173d30313ab9f1d88e7a6398ac97fdf8d
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Apr 26 15:57:42 2012 +0530

    glusterfsd: Change a free() to GF_FREE()
    
    Change-Id: I19bad33864b67e7ac79d8c5e642efa19dbc5bd80
    BUG: 816163
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3231
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit bb55a0c967a829a0b5eb5a4883d86540511a9d1c
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Mon Mar 26 11:16:11 2012 -0400

    contrib/rbtree license GPL -> LGPL
    
    The latest source of rb.c in the avl-2.0.3 package from GNU/FSF is
    now licensed under LGPL, a better license for allowing our partners
    to write translators and applications for gluster.
    
    Resubmitting with a BZ. The real question is whether this is okay with
    LGPL or whether we should go all the way to a BSD-licensed implementation.
    
    Change-Id: Ifb9c344c84d960832671a2619d37b925e4dede2d
    BUG: 807724
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3008
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 8afd8abd982442155d727aaec82c76706d77b84f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 6 12:49:34 2012 +0530

    cluster/afr: Log enhancements
    
    Change-Id: I12918cb0a4e85310d4463bc3e75e7c89565a3218
    BUG: 810144
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3098
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e8f9d42504126f8af6bbb8d160925148ad44c5de
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Apr 24 19:39:40 2012 +0530

    pump: Removed extra dict_unref in pump_command_reply
    
    afr_local_cleanup is already performing the dict_unref on local->dict.
    
    Change-Id: I07bcb100db0a0b96b3a698c444f43f96065746fb
    BUG: 804905
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3223
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 8be3e656aa58e790c301c9078afdbd4bd4909d92
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Apr 24 10:39:31 2012 +0530

    glusterd/rebalance: Remove state dependency on rpc event
    
    Status is updated by event_notify handshake by the rebalance process.
    If there is disconnect, before rebalance process, only then the
    state is moved to failure.
    
    Change-Id: I334055397c3d38688dbef653826bc07ac47a1911
    BUG: 813167
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3165
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit bd892b972eb5df5d3f48637cc473f9622684087d
Author: shylesh <shmohan@redhat.com>
Date:   Wed Apr 25 03:00:28 2012 -0400

    cli: Show proper remove-brick usage
    
    Change-Id: I669736b34f50caa146eea47dcd8c081f6436a585
    BUG: 816051
    Signed-off-by: shylesh <shmohan@redhat.com>
    Reviewed-on: http://review.gluster.com/3224
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 8f2eba00fd315b42aeaa01d683b765fbd2ee111b
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Apr 24 10:27:18 2012 +0530

    rebalance: handshake_event_notify to make fsd talk to glusterd
    
    Event_notify can be used by others to communicate with glusterd.
    A cbk event is also added for future use.
    
    req has a op, and dict.
    rsp has op_ret, op_errno, and dict.
    
    With this, rebalance process can update the status before
    exiting.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: If5c0ec00514eb3a109a790b2ea273317611e4562
    BUG: 807126
    Reviewed-on: http://review.gluster.com/3013
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3f35280a364bd35293d3e5804eb2a659a7f174b1
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Apr 23 11:11:43 2012 +0530

    cli: implement a fn 'cli_err()' to send error messages to 'stderr'
    
    we were using 'cli_out()' to send all the possible msgs, which is not
    very friendly with scripts, because if one want to get only valid
    output with "<command> 2>/error.log 1>/proper-info.log"
    
    Change-Id: I008ebcbd90935c41dbfc1bd2adeb094ed21116cb
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 815194
    Reviewed-on: http://review.gluster.com/3208
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 90d5d569b5a2333094ba8741bb29fe040b695b23
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue Apr 24 10:32:53 2012 +0530

    glusterd: glusterd_op_build_payload() fix for geo-rep
    
    Change-Id: I9f625022fa6d70ccda70d197e4124fa73be8e776
    BUG: 815603
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3215
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4a0f5e49f85f88912cc9c73b379403ead82e4912
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Apr 24 16:36:52 2012 +0530

    glusterd: command check failure fixes
    
    due to the patch 29f2de478cc6a475e6ae760d9cbe7ac847e9d79c (coverity
    issues fix), geo-replications assumption of anything other than -2
    is valid error (ie, expected error), was broken, which resulted in
    staging failure of all geo-replication commands. now fixed!!!
    
    Change-Id: I26c3574e966dd8ba89ef423a3ad17aa863a62c13
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 815613
    Reviewed-on: http://review.gluster.com/3219
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 2a59514236630756dc996e08b50f539ccc2d3ff0
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 24 18:40:00 2012 +0530

    mount/fuse: unref the fds after they have been migrated to the new graph
    
    In fuse upon graph changes fds were being migrated to the new graph.
    It was done by taking all the fds from the fdtable in a structure and then
    migrating each fd in the structure to the new graph. But after the fds
    are migrated the structure which had the fds within it (that is refed fds)
    was being freed without unrefing the fds, thus leading to a fd leak.
    
    Change-Id: I7b25220a48954384a004373d378cee11c6109f7e
    BUG: 811552
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3222
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 1fc54cf7c5e2a88cf8f59d98f6e0eb7df485ae80
Author: Anand Avati <avati@redhat.com>
Date:   Mon Apr 23 00:39:14 2012 -0700

    statedump: fix deadlock during state dump of fds
    
    Existing state dump of FD context tries to be extra safe by trying
    to call the fd dump callback outside the inode lock. It acheives
    this by taking an fd ref and unreffing it later. This exercise can
    be harmful at times when the fd unref performed by state dump ends
    up being the last unref and triggers fd_destroy. fd_destroy in turn
    triggers inode_unref which blocks on inode table lock, while the
    inode table lock was already held by the thread before it even
    attempted fd ctx dump.
    
    The fix takes away the dangerous ref/unref of the fd during state
    dump and instead calls fd_ctx_dump() whiel the inode lock is held.
    This is not a problem as long as the dump functions do not call any
    inode function which tries to take an inode lock (none of the
    existing fd dump ops do)
    
    Change-Id: Ia4b27ba5a321285d3e64896a679a00363bb1e822
    BUG: 815242
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3210
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit be2cc2f7ce90b97328d933517ce66169ae89baeb
Author: shylesh <shmohan@redhat.com>
Date:   Tue Apr 24 02:32:32 2012 -0400

    cli: Return -1 if fix-layout stop is issued
    
    Change-Id: If2e4b842029a1a720403cbec0c076f3dbf1fc6df
    BUG: 803971
    Signed-off-by: shylesh <shmohan@redhat.com>
    Reviewed-on: http://review.gluster.com/3216
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 19c2d6b3d61e2fcf52e1097de4d70ecbb2966ffd
Author: shylesh <shmohan@redhat.com>
Date:   Tue Apr 24 02:49:52 2012 -0400

    dht: Log message fix gfid's to gfids
    
    Change-Id: I9ad67b6ded05992d1b56ca843f685c4fe2b15b71
    BUG: 815186
    Signed-off-by: shylesh <shmohan@redhat.com>
    Reviewed-on: http://review.gluster.com/3217
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 5d3108d182877795eab118a448d1e21f021d7d9c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 27 15:05:15 2012 +0530

    libglusterfs/inode.c: add inode_resolve
    
    inode_resolve takes an itable and path as arguments and returns either
    NULL or the inode corresponding to the path
    
    Change-Id: Id42d62cce6b04dbfec7d606120b09a1e54ab484e
    BUG: 802905
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3021
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7313b22f10fafe7773a15d8306496d1d56ef5f81
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Mar 30 15:58:43 2012 +0200

    NetBSD build fixes
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    
    Change-Id: I8f9aabeadd2f842521a82e59594115bd80155d68
    BUG: 2923
    Signed-off-by: Emmanuel Dreyfus <manu@netbsd.org>
    Reviewed-on: http://review.gluster.com/3053
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 92baa61bfe5853fca301eb1e10f063097df24e2e
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Apr 18 16:51:35 2012 +0200

    geo-rep / glusterd: update list of reserved tunables
    
    (keeping up with http://review.gluster.com/399)
    
    Change-Id: Iefc095a65efaa722a980315603f9ad027ee16eba
    BUG: 764557
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3189
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7cc14db79d4579cfa50c30108fdf67ffa61cb94a
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Apr 19 14:10:44 2012 +0530

    glusterd,glusterfsd : Perform proper cleanup of connections and socket files
    
    Perform proper disconnections and cleanup in glusterd on stopping nfs-server and
    self-heal daemon processes to prevent glusterd from opening unneded unix domain
    socket connections.
    
    glusterfsd processes will cleanup the socket files properly in
    cleanup_and_exit() to prevent junk socket files.
    
    Also, fix rpcsvc_program_unregister() to preform the unregistering properly.
    
    Change-Id: I1c7302c1166cf43feba1c7a813c3dc10169dc53a
    BUG: 810089
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3168
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 7c49e18bb58e91698630f95b67bd52e79ad391ca
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Apr 21 16:20:17 2012 +0530

    glusterfsd: print entire path of functions whenever serializing a reply fails
    
    Change-Id: I72c0296e16c90ec09ecb1678b4c78e8ffd834580
    BUG: 814926
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3205
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit cbd13c0c1e2abbd04aff616d9767fc7b95365707
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Apr 23 10:55:22 2012 +0530

    cli: fix the output of 'gluster volume list'
    
    make it script friendly
    
    Change-Id: I5b196cf5cf1744090a1360eef95c9a842d7be996
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 815190
    Reviewed-on: http://review.gluster.com/3207
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 853452410adc284faba03c001f0b25188deeeea8
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon Apr 16 17:53:06 2012 +0200

    gerrit / rfc.sh: further trim of fetch target
    
    We _really_ don't need anything to be fetched from anywhere except for origin.
    
    We can do away with all other tracked repos (which still can be a nuisance
    eg. if they are in a VPN that we are not happen to be joined to).
    
    Change-Id: I98b375698f999500153e5a000dc8dac5005dfaec
    BUG: 764966
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3162
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 29f2de478cc6a475e6ae760d9cbe7ac847e9d79c
Author: Amar Tumballi <amarts@redhat.com>
Date:   Fri Apr 13 17:29:41 2012 +0530

    core: coverity issues fixed
    
    this is not a complete set of issues getting fixed. Will
    address other issues in another patch.
    
    Change-Id: Ib01c7b11b205078cc4d0b3f11610751e32d14b69
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 789278
    Reviewed-on: http://review.gluster.com/3145
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 4c9e8fad23836d87b0c4327e990c789630fe5b97
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Apr 23 12:51:50 2012 +0530

    doc: Added admin guide
    
    Change-Id: Ic60558dee0d20df0c2a1bf41e4bd072ae4774912
    BUG: 811311
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3209
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: divya M N <divyasetty@gmail.com>
    Reviewed-by: divya M N <divyasetty@gmail.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 664daecef49d5e497bb5dd867fc1f51b046d4bf2
Author: Csaba Henk <csaba@redhat.com>
Date:   Tue Apr 17 00:19:54 2012 +0200

    clean up handling of special client pids
    
    - no need to name a lower boundary [drop GF_CLIENT_PID_MIN]
    - drop utility function to decide about pid speciality [gf_pid_client_check()];
      when we implement uniform policy for special pids, use just comparison with
      GF_CLIENT_PID_MAX (currently such uniform policy exists in io-threads, where
      special clients get lowest priority)
    - io-threads: drop numeric literal, use GF_CLIENT_PID_MAX
    - xattr flipping (in fuse):
      - fuse_xattr_alloc_default() made static
      - avoid compiler warnings wrt. partial enum traversal in the switch
        by not casting the original numeric value to gf_client_pid_t (enum) type
      - trim down the switch to those cases with which there is something to do
        [GF_CLIENT_PID_GSYNCD, GF_CLIENT_PID_HADOOP]
      - eliminate the (theoretical) chance of succesfully returning
        from fuse_flip_xattr_ns() with unallocated nkey
        [as was the case with pids GF_CLIENT_PID_{MIN,MAX,DEFRAG}]
    
    Change-Id: Ic2b83b908d8e3be23a7fba1e5895869828a6194b
    BUG: 765433
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3170
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 6fbf369d59cf87b903403699666d99232a372fef
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Thu Apr 19 16:53:19 2012 -0400

    Make option code quieter to make logs more readable.
    
    A lot of this stuff is extremely uninformative, such as messages about
    default values that can be read from the code.  Having them in the logs
    makes more important messages harder to find, so they're down to
    GF_DEBUG_TRACE now.
    
    Change-Id: I18921b3deac7a01ad94c50670b90342d1130837b
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3198
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7d0397c2144810c8a396e00187a6617873c94002
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Mon Apr 23 11:51:22 2012 -0400

    fuse: allow requests during mount (needed for SELinux labels)
    
    Change-Id: Ia1af402897e6a7290acf79617c34fdc804751729
    BUG: 811217
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3199
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit eb9003cdca755980da9ed5a3a3fb0fc52c750131
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 23 10:49:02 2012 +0530

    libglusterfs: Never block syncproc
    
    Change-Id: I64cd8a2ef37926173c19a33df0716183530e22bf
    BUG: 814074
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3194
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit fc024df2b6f9307f23a4a0800103555708036b17
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 2 16:32:18 2012 +0530

    cluster/distribute: handle dht_layout_normalize errors differently in
    dht_lookup_dir_cbk and dht_discover_complete.
    
    return value from dht_layout_normalize is interpreted as follows:
    
    ret > 0 - number of subvolumes returned ENOENT errors.
    ret = 0 - no anomalies found.
    ret < 0 - there are holes/overlaps.
    
    We need to handle errors differently in dht_discover_cbk because,
    if a subvolume is newly added, the directory will not be present on it
    and we cannot create a directory there since a nameless lookup has
    resulted execution in this code-path. Hence if directory is guaranteed
    to be present in atleast one subvolume and there are no holes/overlaps
    in the layout, lookup can be treated as successful.
    
    there is no change in behaviour dht_lookup_dir_cbk caused by this
    patch.
    
    Change-Id: I9b0b510f1c7de187be95a47da6c9ec57b5e38d1d
    BUG: 802233
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3069
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit fdcbf065a9a4c39f08dfbe9e40695de250829bd8
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Apr 23 13:22:42 2012 +0530

    glusterfs.spec: Added hook-scripts in server rpm
    
    Change-Id: Idd0ed2a72ea9ec947eaf142b889730e8d4be63c1
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3211
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f47b0fa1ccd594be9f0cda7f756973a04c0faed6
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Sat Apr 21 17:42:10 2012 +0530

    nfs/nlm: remove /var/run/rpc.statd.pid before starting rpc.statd.
    
    Sometimes rpc.statd fails to start if rpc.statd.pid exists.
    
    Change-Id: Ic6feb375330fceb8dd6c35330757738fb5cbe16f
    BUG: 814265
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3206
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: Saurabh Jain <saurabh@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 66fddb979d7f33a86869211c06e4a9ef4a54a080
Author: Anand Avati <avati@redhat.com>
Date:   Sun Apr 15 22:14:38 2012 -0700

    storage/posix: prefer absolute path handles over GFID handles
    
    Change-Id: I9afefa2f8a39c5f2c77271ea64aff95249c88821
    BUG: 791187
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3204
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e2216fbc37831f76039cae77bf724550827daa0f
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Apr 19 13:17:49 2012 +0530

    cli: Strip whitespace from "volume set" option values
    
    Strips the whitespace from options values before sending to glusterd.
    This prevents options containing whitespace to be written to the volfiles which
    would cause the volfile parser to fail.
    
    Change-Id: I46faee7b0853141fa102d06bb067c7ab499a2f6e
    BUG: 813937
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3192
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3a26a7324128aed8181959b995d09ffc19ec2265
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 18 16:17:51 2012 +0530

    mgmt/glusterd: Make priority threads configurable
    
    Change-Id: I7aa4c80fac3269052adb1b5516e9dd774d5f9e0a
    BUG: 812515
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3187
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2d836326ce8962a734ac099560256fe00e3b2c9c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 18 14:33:01 2012 +0530

    performance/io-threads: Change the thread scaling logic.
    
    Change-Id: Idc0db1cb2c26dcb0b36a58d4d43f2da10cde62c5
    BUG: 812515
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3186
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9083ed64125f17ff04383f32300582d7b33c0be4
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri Apr 20 11:20:41 2012 +0530

    storage/posix: Don't allow mkdir() on HIDDEN_DIRECTORY
    
    Change-Id: Iecbd71d13ee8a492a99689674be99b4a451593db
    BUG: 788150
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3200
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d10e17bf59966d66ebe4ea5627cf89b10bcd5fe8
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Thu Apr 5 18:42:25 2012 +0530

    nlm: register client name with statd for blocking, nonblocking and reclaim lock calls
    
    Change-Id: If983f7b2f94703442e0745c5cbd2701edb2a972a
    BUG: 809362
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3097
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 443806fcfa6332163e08a63620e54d2f6be3996e
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 19 13:18:33 2012 +0530

    stripe: make sure we have complete set of subvolumes before making fop
    
    Change-Id: Ifc3b05183945a7ce3e25f8c777daaf3fd4aecff3
    BUG: 810450
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3190
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 10e8f8e7a9dbcb048fd6991d3c474e3430676859
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Apr 19 17:59:21 2012 +0530

    glusterd: Enable hooks for volume set.
    
    Change-Id: I0cfa83feea719fb98c37418ad7b8dbe613ce7641
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3193
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 857ba84a236bcfb665aa930976106d990e96db77
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Apr 19 23:51:15 2012 +0530

    rpc-transport/socket: Set NODELAY for connect socket
    
    This is essentially a re-introduction of setting TCP_NODELAY
    on the connect socket which was erroneously removed as part
    of commit 2da18b6
    
    Change-Id: Icc3a8faafce0e63a9dde592a48f22b90a72860d1
    BUG: 795635
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3197
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit cbb7a20daf7d59681eb21495361236cf68e9cd3b
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Apr 13 14:28:05 2012 +0530

    glusterd: Moved 'hooks' interface code to glusterd-hooks.*
    
    Change-Id: Ia7c0e37154414bddb05516e11b3cc4e6ae83ff38
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3142
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1a46dcecd0cfba549ae54bf61eaea2223b39c10f
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Apr 19 12:18:53 2012 +0530

    rpc-clnt: use the correct xdr_size for getting the iobuf
    
    earlier we used to get the size of rpc_msg from an empty msg, which
    was resulting in minimum size allocated for rpc-msg. the correct way
    is to fill the required fields in rpc_msg structure and then calculate
    the size, and allocate the iobuf.
    
    Change-Id: I3692831b53b8820a36e4562a1fa3d4c3dbdf4f9d
    BUG: 813787
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/3191
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 3ad81d490f9e822efa34b3ffaf3c527e99af5d40
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 18 14:48:35 2012 +0530

    cluster/afr: Set errno correctly in find_fresh_parents failures
    
    Change-Id: I923103a03c1efe38285cd70842ec91b98a3f6bfd
    BUG: 765551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3185
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c284511c1ff7639ff674bca9260553680a917aa3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 17 15:45:44 2012 +0530

    cluster/afr: Handle transient parent-entry xactions in lookup
    
    This patch addresses the case when the lookup on an entry is performed
    while it is being renamed. The lookup can possibly return 2 different
    gfids when lookup on one subvol reached before rename and on other
    after rename. In such cases the conflicting entry self-heal is
    triggered to resolve the issue, but if there are lot entry transactions
    going on the parent directory of the entry then the non-blocking
    locks could fail resulting in EIO. To avoid this, lookup queries
    locks xlator if there are any parent-entrylk on entry's basename.
    If afr finds that there are such locks and gfids are differing then
    it chooses the file with latest ctime as the iatt of the entry.
    This solution is not foolproof, but it decreases the probability of
    hitting the EIO. The correct solution is to take blocking locks on
    the parent-entry to find out the correct source. Taking blocking
    locks in lookup is not good. One stale entry lock can hang the whole
    filesystem. So we chose to go with this for now.
    
    Change-Id: Ibebb6c3074f56f80a96893b6bf5b77941e30d400
    BUG: 765551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3179
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 64177411f7c032eeb2b65635a9ca4e5767a72b40
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 4 23:37:58 2012 +0530

    extras: Added (hook) scripts to start/stop samba on volume start and stop
    
    These are example/helper scripts that demonstrate how one could
    leverage the recently added hooks interface in glusterd.
    The scripts are in 'beta'.
    
    Change-Id: I7aaf999f3bdfb276ef64e115a57cbdb36c7a896e
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3086
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f8bbf1cef9da21ea55649f5a05a88479853cd8eb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 16 14:50:16 2012 +0530

    cli: do not put the frame->local to mempool since its a calloced structure
    
    In cli, frame->local is not allocated from the internal mempool, rather its
    calloced. So while destroying the stack, we have to set frame->local to NULL.
    Otherwise if frame->local is not NULL, STACK_DESTROY will try to put it back
    to the mempool and thus segfault.
    
    Change-Id: I5bd17d099e16fb8e73f3250cc022008e26e28f50
    BUG: 812735
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3167
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 678efee04855f88919904d98176b0d7c44e543d6
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 18 10:49:09 2012 +0530

    cluster/dht: Remove un-used pathinfo code for link files
    
    Currently, we do not return LINK: attributes for a file
    in pathinfo requests.
    
    Change-Id: If8667bd6af06de3d11c37dd0a09726dfe1d2e330
    BUG: 795289
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3175
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 1b8f254daf05f84ebc3170e7b840608fc7baf068
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Tue Apr 17 23:58:08 2012 +0530

    nfs/nlm: disable NLM if rpc.statd is not found.
    
    Change-Id: I571e1f14cefdfabecd8996b6d0ffc928464d2b51
    BUG: 813258
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3174
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c9a8da5bb8c78aba4b2477c011e2a4f335351fd8
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Apr 16 12:07:15 2012 +0530

    glusterd: Properly validate compressed form of IPv6 addresses
    
    Properly validate IPv6 compressed notation, when used in volume set.
    
    Change-Id: Ia489125a45472fc0971c6b11de073aaeb9b1a123
    BUG: 810442
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3152
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6ff8c16cbaa23e209d270d2d559a6072e554e68f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 18 11:44:21 2012 +0530

    cluster/afr: Build parent loc for expunge
    
    Change-Id: Ifd1a4117924a7f9a90eb8e02dd2d655f2156fabd
    BUG: 765551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3178
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit fb9f485db2b4a92c16c0683cf3d5cfcd07054d71
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 17 13:20:43 2012 +0530

    features/locks: Find parent-entrylk presence in lookup
    
    Change-Id: I8fc85676827f26b07bf578ea1152d3e251adb4af
    BUG: 765551
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3177
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c0eec503b78949bd1785e5bf2533db211f3d256c
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 18 12:16:51 2012 +0530

    glusterd/rebalance: Start process with xlator option client-pid -3
    
    This would prevent updation of xtime by the marker.
    Set frame->root->pid while creating sync-task. Removing the command
    option, as it is in-effective
    
    Change-Id: Ifaa587df67a72ec0571c7d0043de8048e2be12a8
    BUG: 812287
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3180
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7522df3b98467c2ddfb9cc12f5c807d4408267cc
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Apr 17 23:30:23 2012 +0530

    glusterd (remove-brick): fix data-loss issue
    
    * when more than one brick (more than one distribute subvolume)
      was removed using single command, rebalance process used to
      get started only on one node, causing data-loss when 'commit'
      was done, because the brick's data was not migrated at all.
      Fixed the logic of validating rebalance required in remove-
      brick case.
    
    Change-Id: I3a90ff9f9593e5215110a3a0974bb97e7271f910
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 812770
    Reviewed-on: http://review.gluster.com/3173
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 7ef32ae76d1c1e4a5ff47899d175be9fdeb73bc8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 16 11:38:33 2012 +0530

    performance/quick-read: disable reading from cache if unlink has
    happened after fd was opened.
    
    If dentry being unlinked is the last one, there is a possibility that
    later, a new entry with same name being created. After creation of new
    file, we shouldn't be returning the contents of this new file, when
    application reads using fd opened before unlink.
    
    Change-Id: Ic98aa9cd76d24e8a37ce02a0aae6c66290043192
    BUG: 811976
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3151
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 80eeaab2be884f0ebc89704011421541742cd5e6
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Thu Apr 5 15:57:47 2012 +0530

    nlm: send sm-notify to clients whenever the nfs server is restarted so that clients reclaim the locks.
    
    Change-Id: I0a8e291ad0a78e2e68070b1d289d32a786da8da2
    BUG: 802885
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/3096
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b69f0110410c670eb6c31b6669d47ec2aaeb92f4
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Mon Apr 16 12:05:45 2012 +0530

    nfs: option to disable NLM
    
    Adding support to disable/enable nlm with the following command:
             # gluster volume set <VOLNAME> nfs.nlm [on|off]
    
    Change-Id: I1ad3e44c5d4349d0f3463bfca0995fd10def39dd
    BUG: 812869
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3160
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>

commit c20f501d0632d6105f0d570ac8dec251974ebe87
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 16 14:39:10 2012 +0530

    cluster/dht: Handle failures in getxattr_cbk
    
    Change-Id: Ifbce2d69f0fdd0c45cba92b6fc2dffe13c60de28
    BUG: 810106
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3156
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 0049c2405aa39fe4ef299bd646e7a53e40753039
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Apr 16 19:31:44 2012 +0530

    glusterd : Fixes for breakages caused by volume-id validation
    
    Fixes glusterd_op_build_payload() to,
    1. take account of status cmd type when building payload for "volume status" to
       prevent "volume status all" from failing.
    2. take account of volname being "help/help-xml" in volume set to prevent
       "volume set help/help-xml" from failing
    3. obtain volname using key "master" prevent "volume geo-replication" commands
       from failing
    
    Also, fails op and sets correct op_errstr if volume not found during
    glusterd_dict_set_volid(), to make sure cli displays proper message.
    
    Change-Id: I40ded15c50b54a82ee61bf6d6e9d07f571679c8c
    BUG: 812801
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3157
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 79620e8f63148b1ad7d8180da46176a759435590
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Apr 11 17:04:15 2012 +0530

    cli: Fix for "volume status all"
    
    Fixes output of "volume status all" when some volumes are stopped and some
    changes to xml output.
    
    Change-Id: I77938422c0258bb69e32b54c23df1225474532bc
    BUG: 811539
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3130
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4359d00fcb17d22ef487bff34943475c77194692
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Apr 17 15:37:38 2012 +0530

    nlm: unregister nlm v1 when gNfs is stopped
    
    NLM v1, registered to communicate with statd
    is unregistered once gNfs is stopped.
    
    Change-Id: I165658488f4971e743736f5f77c7247590e64bd5
    BUG: 786345
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3166
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>

commit 6b0a44b4df1c1f7d70b2296862d25bf166009ebc
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Apr 17 11:23:46 2012 +0530

    protocol/server: Check if dict arg is NULL in setxattr
    
    Change-Id: I44d199ffa5d08115cc0aa7cb0b99298a9907af60
    BUG: 808067
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3164
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 41bd7281a5fe4062fabe963d7862117aca50cc3d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Apr 16 13:26:40 2012 +0530

    features/marker: fix possible NULL access in strcmp()
    
    for a given setxattr call, loc->path can be NULL now, handle
    that case properly
    
    Change-Id: Ic56ec81aa8eb62aafdb524bf22f6d84390ab1d4b
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 812767
    Reviewed-on: http://review.gluster.com/3154
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 754112b7b716c68fb6cf44941ce4f343698d533e
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Apr 16 12:57:57 2012 +0530

    protocol/client,server: Lock self healing off by default.
    
    Also, merged the options client.grace-timeout and server.grace-timeout
    into one option "features.grace-timeout".
    
    Change-Id: Icb9f0809f89379de673f8c9f7ca4725bc113797f
    BUG: 812760
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3153
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 42c06ba048d0bcb7093063bf99dfa3e520a038a5
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 13 15:22:57 2012 +0530

    glusterd/rebalance: Start process with xlator option client-pid -3
    
    This would prevent updation of xtime by the marker.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I11e287511026326271c2926e55993e48b32018f6
    BUG: 812287
    Reviewed-on: http://review.gluster.com/3144
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-by: Csaba Henk <csaba@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c75a5d348f0d30b61bdc45e9e54d623957a6050f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Apr 14 18:02:05 2012 +0530

    cluster/afr: increment change log with correct byte order
    
    Change-Id: Id2af3e61ad659ff6d168161673e5e1e19f36bdb5
    BUG: 765194
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3149
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 369873fbeac1c33bf5f2468e475c3a08608e8965
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 16 13:31:59 2012 +0530

    cluster/dht: Revert to calling ftruncate
    
    Additionally, change lookup failure error to DEBUG level.
    
    Change-Id: I6eaf8e92a9cd34eba125a1e0e183bc3b6dc71945
    BUG: 812769
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3155
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit c6e226751efb4ce98e5c887b955c778b713b77bc
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Fri Apr 13 14:19:11 2012 +0530

    nfs/server: hard resolve fh on restart
    
    the filehandle passed to hard resolving code was not initialized
    to it correct value (resovlefh).
    
    Change-Id: I0a26c7b90bf3efec7fda26fed0823755c4b9e87b
    BUG: 802779
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3150
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dc4c44d51e3eb4b53e78840bf223911e48ce62b5
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 13 18:37:55 2012 +0530

    libglusterfs: Syncop procs should not exceed SYNCENV_PROC_MAX
    
    Change-Id: I0eb2adac06eae31939c8ed6b544b4be43d1a5885
    BUG: 810109
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3146
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 77645c35323c30f881ac5e5418c8723642f3845f
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Thu Apr 12 17:32:00 2012 -0400

    Fix dangling references to examples.
    
    Change-Id: Ic90f332fb6554173a03f7a026fc3677e7cf42eae
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3139
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 5c67b2c99de39c988be7c5fffd504fdbaae74a01
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Apr 11 13:40:28 2012 +0530

    glusterd: IPv4 auth improvment
    
    Check if last character of an IPv4 address is valid to prevent successful
    validation of addresses with '.' as last character.
    
    Change-Id: I0af6c288e12a47986ce3f8b02c317b99767e69e6
    BUG: 811458
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3124
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 362c5283ace6f048d0404a8a390faeb014ebe351
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Apr 12 12:39:48 2012 +0530

    server: Modified logging information to ease log based analysis
    
    Change-Id: I1bde6505346b5dda37cf88c66f9af8ff48668ed9
    BUG: 811864
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3133
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 28f373d89fba7266473c952d9c2bf6ec5f02628c
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Apr 9 12:17:16 2012 +0530

    xlator/server,xlator/nfs : Fix authentication for address lists
    
    Fixes authentication problems when address lists are given for
    auth.{allow,reject} and nfs.rpc-auth-{allow,reject}.
    
    Change-Id: I9959ebfa6820aef52c883372e1085660560e1e73
    BUG: 810179
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3104
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b19a7fee17ddedfc6692deb5a8dc8df927a2cf7b
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 12 15:32:05 2012 +0530

    dht/rebalance: Display migration failure count
    
    Change-Id: Ib2f8be2c98eae1b4df5d2090c1f1eec8ab264a35
    BUG: 811923
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3135
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bada6aeb2cabd12a11b0fe17bb01e9f2045b013d
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 11 15:30:22 2012 +0530

    glusterd/remove-brick: Replace ABORT with STOP
    
    Remove-brick stop now invokes rebalance stop. This leads
    to a graceful stop of decommissioning.
    The volfile is also updated (removal of decommission)
    
    Change-Id: I5a8f725c0f54439b810ce32d988c21c02229c703
    BUG: 811513
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3126
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d80846bee0621f591a7b519743e4d91a620ccdca
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 11 11:47:17 2012 +0530

    dht/rebalance: Handle ASSERT_ON_CHILD_DOWN gracefully
    
    In rebalance process, instead of terminating, send a stop
    event. The migration in question will either complete or
    be handled as error.
    Also, handle few syncop calls as errors, instead of just
    logging them.
    
    Change-Id: If6ed54474cb0f1fe0e28a5765e6d90966740dfde
    BUG: 811444
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3120
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c2ebd7aa84ed666ac8d1f0e9424cd01f877fb53b
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 11 12:11:06 2012 +0530

    glusterd/remove-brick: Remove support for pause option
    
    Decommissioning through rebalance has no pause option.
    
    Change-Id: I90f165cdb2eccfaefc99365ae4b48d81320fb753
    BUG: 811459
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3123
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit c238e5073a8d60fede1f88e584c14de42885276e
Author: Csaba Henk <csaba@redhat.com>
Date:   Tue Apr 10 15:34:02 2012 +0200

    geo-rep / gsyncd: log sync failures as warnings
    
    Syncing of certain files can fail naturally if changes happen on
    master (eg. file gets deleted). Therefore logging an error is
    misleading.
    
    Change-Id: I7b54904e5ec7c85e4e0fa1e330123d2c44c78ac5
    BUG: 764510
    Reported-by: Vijaykumar Koppad <vkoppad@redhat.com>
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3113
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijaykumar <vkoppad@redhat.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit ecfe2d0a94dd6626e2e6c1e7707549adf550a5af
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 9 17:20:10 2012 +0530

    glusterd/rebalance: re-establish conn between rebalance process
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: Ib13b4b9beebf18632027e4dd7c68f627c311781c
    BUG: 810688
    Reviewed-on: http://review.gluster.com/3110
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d2a73be6d94d108673e3427e534c1abbe71ccbff
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Sun Apr 1 14:50:08 2012 +0530

    mount.glusterfs: multiple fixes
    
    * noticed that the regex to parse the options were not fool proof.
      for example, 'ro' in a logfilename could have made the mount
      point read-only. Now fixed.
    
    * this issue existed for 'acl', 'worm' options.
    
    * log-server/log-server-port options were legacy, and no more
      needed in codebase.
    
    * refactored option processing in general to avoid above issues
    
    Change-Id: I172d24c86ece9a34420ba997fa385e304b4924ae
    BUG: 806978
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3058
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8a45a0e480f7e8c6ea1195f77ce3810d4817dc37
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Apr 3 15:37:25 2012 +0530

    glusterd: Added volume-id to 'op' dictionary
    
    Volume-id passed in op dictionary would help detect possible split brains
    among peers in a cluster. The idea is to check if the volume's id and
    the vol-id that was passed are equal.
    ie, same volume name, but different volume id indicate that glusterd
    'metadata' of one of the participating peers is stale or there is
    a split brain.
    
    This is over and above the existing checksum based validation of peer
    supplied cluster 'metadata' (ie, volume info file).
    
    Change-Id: I1049ef249e417e540ccb4243e450f92fcd0f46f9
    BUG: 797734
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3083
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b337b755325f75a6fcf65616eaf4467b70b8b245
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Apr 9 18:21:43 2012 +0530

    glusterd: Removed 'unprotected' concurrent access of priv->volumes on glusterd restart
    
    This must have been removed as part of
    afe542eca18888463798747d2a95e5a9d239a4a0 (reverting to non-synctask behaviour).
    
    Change-Id: Ic23c8bbf8f90f4c9af6e68349de63e22d7f25606
    BUG: 810829
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3109
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e46a57fda716c00b7c490be74485863c80d6f7b4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 8 11:40:48 2012 +0530

    features/quota: don't adjust statfs buffer if size used is already
    greater than available limit.
    
    members f_bfree and f_bavail of struct statfs are unsigned types.
    A negative value assigned to them is interpreted as some positive
    number and resulting in incorrect output of df output.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: I4d3d38b9bb6f675958ee38ad4d6c71ebcf4bb9a1
    BUG: 773530
    Reviewed-on: http://review.gluster.com/3102
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ea8378299e4d9ae5a8d296feb1d16950d07173de
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 9 16:29:45 2012 +0530

    glusterd/rebalance: Provide option start rebalance with valgrind
    
    Change-Id: Ia7a836425f5dbfe07b2e46563e49aaeaaaaa4e14
    BUG: 810836
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3108
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 122da53bd1a82eaaf4aeb2ce6443fe8d0fe3ab46
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 11 16:14:31 2012 +0530

    cluster/afr: Perform gfid-less lookup in afr
    
    Change-Id: I78d9f0563e25047f392675ae32db38d2c94f6651
    BUG: 795355
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3129
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7edec07b139626bb64ea34e143a02dbfd28a6d9f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 11 16:14:16 2012 +0530

    storage/posix: Handle gfid-less lookup
    
    Change-Id: I4605dbb1dd8bf8e26de7f253e54a7f4840c8a8be
    BUG: 795355
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3128
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit a3c61c6aea4045a6adafcc7350bd14f1e9c68ca1
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 12 22:03:49 2012 +0530

    libglusterfs: loc_copy should set name only if src->name is set
    
    Change-Id: If06d97dd1ff1293730e0cd4933f6ab3283f0475e
    BUG: 788051
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3137
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 918678dc8e5a8cac1ec2dea7f8d2b11a186f38eb
Author: Brian Foster <bfoster@redhat.com>
Date:   Thu Apr 12 15:46:37 2012 -0400

    md-cache: fix dict memory leak in mdc_inode_xatt_update
    
    We currently either dict_ref() or dict_copy() into mdc->xattr.
    The double dict_ref() call path is obvious. Alternatively,
    dict_copy() does not ref the dict in the situation where it
    creates a new dict, but we only call dict_copy() in this
    context when we already have a dict, which should mean the
    extra ref is unnecessary.
    
    BUG: 801582
    Change-Id: I72e3f1a16f942f04752c033812d13d50ee7c2c2c
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3138
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 6a995ab3300a5ee0ee79a4d7d75281a79deec96e
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Thu Apr 5 10:29:18 2012 -0400

    contrib/md5: prune contrib/md5/* from tree
    
    Previous change set did not delete contrib/md5 from the tree.
    
    BUG: 807718
    Change-Id: I74eee1897fac24b83b379f2433de5e4648eb5f4c
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3095
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f2921551424a97dcc3914cc79a241dca42675b97
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Apr 11 23:55:58 2012 +0530

    glusterfsd: mem-pool count of dict_t is adjusted
    
    increased dict_t pool count based on test results.
    
    Change-Id: Ia5b24940b79a1489b00cca2993241c32be94bbec
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 809034
    Reviewed-on: http://review.gluster.com/3131
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 472b55a6db996ca3058fec3aa6ab9a8745cbd5cb
Author: Anush Shetty <ashetty@redhat.com>
Date:   Wed Apr 11 11:49:46 2012 +0530

    Error-gen: declare the structure for cbks
    
    Change-Id: Iaa2e367ad225a2b24dd56c3941163f90be74e6ee
    BUG: 811445
    Signed-off-by: Anush Shetty <ashetty@redhat.com>
    Reviewed-on: http://review.gluster.com/3121
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 076830c068fb39bbc3e863c89a4253cbea36357e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Apr 9 23:11:52 2012 +0530

    doc: Move outdated documentation to legacy
    
    Change-Id: I0ceba9a993e8b1cdef4ff6a784bfd69c08107d88
    BUG: 811311
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3116
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit df8e2f53b70f4f49af70df308010dddfe5ca35ec
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 11 16:07:43 2012 +0530

    dht/rebalance: Correct log messages
    
    Change-Id: Ica73707922c1bf1a0975a8057d39c1441b987b0a
    BUG: 808376
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3127
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit dde9cfcaf3016968fade7591ddfc1c95851e9e59
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Apr 11 11:51:31 2012 +0530

    protocol/client: in link_cbk() try to print valid information in case of error
    
    currently there is a chance we don't have a source 'loc_t' path information
    instead we would have gfid. Need to print destination information too.
    
    Change-Id: I7a5edbdc9abe18fdb330fc7ed49c9946cf7fe382
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 810146
    Reviewed-on: http://review.gluster.com/3122
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 0bfadb56d0ce0ffaa410eccb2a9d9eaaf6f3ab7c
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Apr 11 14:40:44 2012 +0530

    protocol/server: validate connection object before dereferencing
    
    in 'release()' and 'releasedir()' fops the check for 'connection object'
    was not done before dereferencing it. the check was in place for all
    other fops. handling the missing cases now.
    
    also removed some warnings related to 'set-but-unused'
    
    Change-Id: I47b95318e8f2f28233179be509ce090b2fb7276d
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 801411
    Reviewed-on: http://review.gluster.com/3125
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f56404a3358c799f907f36aecedf774b1875a56c
Author: Anand Avati <avati@redhat.com>
Date:   Fri Apr 6 11:17:34 2012 -0700

    fuse-bridge: generate GFID as gfid-req in fresh lookup
    
    This is necessary for self-heal to assign fresh GFID when
    performing lookup on files/dirs without GFID (migration from
    old version, etc.)
    
    Change-Id: I6f070255dc6e85bf6625b704cb5fb7f831ee58e6
    BUG: 795355
    Signed-off-by: Anand Avati <avati@redhat.com>
    Reviewed-on: http://review.gluster.com/3101
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 7f5c1e5777d77570be0f9698de39d2f1905c509f
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Tue Apr 10 17:12:05 2012 -0400

    Fix compiler warnings and typos from Debian build.
    
    Mostly to do with "-Werror=format-security" being buggy, but while we're
    here we might as well fix some typos and such.  Credit goes to Patrick
    Matthi <pmatthaei@debian.org> for pointing these out.
    
    Change-Id: Ia32d1111d7c10b1f213df85d86b17a1326248ffd
    BUG: 811387
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3117
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 4bb82b2c779bb984a980e371c3119254cf1cb0f8
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Apr 9 12:14:59 2012 +0530

    storage/posix: Avoid excessive logging in posix.
    
    When quota or gsyncd is enabled, the marker translator performs setxattr on
    files/directories. If the file/directory is deleted before setxattr, posix gets
    an error when it does setxattr and logs it. But its not an error for marker and
    it handles the case gracefully. Hence, avoid logging for these keys.
    
    Change-Id: Ic614777399497be92ed1c2b4718d46adfb639d96
    BUG: 765498
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3105
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 05a9780c9111396f4e2c3ebdae77cf8a257f1a54
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Apr 9 21:27:40 2012 +0530

    glusterd: Modified algo for creating hooks directories.
    
    - This change will ensure that hooks directories are created
    when glusterd is upgraded from a version that doesn't have
    the hooks feature or the 'current' hooks version.
    
    Change-Id: I8a0ea64eda52a15b1605b98588b9b19df209a73e
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3111
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 79b3e4111a1a64dc74046571845b3ed83b8ede24
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 9 17:22:16 2012 +0530

    rebalance: revert sending PARENT_DOWN event to xlators
    
    reverting patch 1043dedfb54c80bdbb6e050920ced204515b226e
    
    Change-Id: I2e919c8a5e43f3cce74a8eaf58554830fa708364
    BUG: 808402
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3107
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1222e2ae2d42cf12569a0cf00bb1f1504ef4e7b7
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Apr 4 16:04:10 2012 +0530

    remove-brick: Abort should revert volume changes
    
    Also, enhanced gluster cli output.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I520ccfb63b3568a2e6654d8a5fbf265b9b903af1
    BUG: 788524
    Reviewed-on: http://review.gluster.com/3082
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7768d700a18f5bdb1e4640070ec5dd380384c7a9
Author: Venky Shankar <vshankar@redhat.com>
Date:   Mon Apr 2 12:47:55 2012 +0530

    hadoop-glusterfs: Fix IndexOutOfBounds Exception
    
    Fix IndexOutOfBounds Exception which is hit when one
    of the replica pair is down. Problematic code existed
    in assuming a uniform size for each replica in pathinfo
    string.
    
    Change-Id: I85377ba5549e0603fe86e8d787115004f50e0c6a
    BUG: 808009
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/3087
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f132cc666ba4aa5e804de1c4529674618ca0d875
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Apr 5 19:00:08 2012 +0530

    cluster/afr: Fix a compilation warning
    
    Change-Id: I36dc1b53fd4a7d824fe8506a4ad83ad652f95ce5
    BUG: 807718
    Reviewed-on: http://review.gluster.com/3094
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 8b892fff8be9adca22c180a62d1dd01d83559330
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 3 15:36:55 2012 +0530

    self-heald: succeed heal info always
    
    Succeeding the mgmt op enabled the rsp_dict to be used to get the
    reason for the failures.
    
    Change-Id: I781ded31afa5aafd717543a5339dee3f316aade8
    BUG: 807556
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3076
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6424f5a6cce467751fdfe991addc922a498d44fc
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 3 15:20:44 2012 +0530

    mgmt/glusterd: Use the correct status string for filtering
    
    Change-Id: Id62bec56aeda0cede19369708242f0b92f800125
    BUG: 807556
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3075
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3e27f277951e9369517bdd16170639f587d3fb9d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 3 11:13:09 2012 +0530

    self-heald: Add node-uuid option for determining brick position
    
    Change-Id: Ia60981da7473d74682d86286e4d540568c8de25b
    BUG: 807556
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3074
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 73e2c0dec5b432c788cd80c4210b887517188f3d
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Apr 4 03:42:31 2012 +0200

    geo-rep / gsyncd: shuffle directory entries in crawl
    
    In order to randomize the walk of the file tree.
    
    Change-Id: I9fc3b83d5804914a50faae8df7dbcfed2ba6f4b4
    BUG: 809675
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3079
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit bd83e10deec2e7dcd289ca30d2a3de19e0d59c30
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Mon Apr 2 11:56:21 2012 +0530

    nfs/nlm: dummy actor for FREE_ALL procedure
    
    NLM4_FREE_ALL rpc procedure has been provided nlm's
    null procedure as actor to facilitate windows Nfs mounts.
    
    NOTE: windows Nfs needs several other NLM procedures to work.
    As a result, this patch only makes it possible to do a working
    mount of a volume with "nolock" option in windows.
    *Windows mount WITHOUT "nolock" option does NOT work as expected*
    
    Change-Id: Ie163982497871312c5bb15f8c141fef460cadc34
    BUG: 800287
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3063
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>

commit 7d62749f14663ea6c0000a4aab2c32041cbb4e75
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 3 08:12:34 2012 +0530

    self-heald: Find self-heal failures, split-brain
    
    Change-Id: Ib967f0fe0b537fe60e51d7d05462b58a7f16596e
    BUG: 806745
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3077
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1f3a0dd4742a2fcd3215aee4a5e22125d7ea4f4d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Apr 4 18:04:52 2012 +0530

    fuse-bridge/fd-migration: document migration failures in fdctx.
    
    Change-Id: Ib85871e586f89f88dd7bf738fbb284b5d7b70a86
    BUG: 809919
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3085
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 42a0889d93450e6f1f3472ec0818e678412346c2
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Apr 1 15:48:26 2012 +0530

    cluster/afr: Handle self-heal of files with holes
    
    Change-Id: I6c04fe3022f234455d52620f42b9add80fc6abe4
    BUG: 765424
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3065
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 69f70038171862daedcbbccf0eaba3d1f8d885f5
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Tue Mar 27 11:14:23 2012 -0400

    Replace GPLV3 MD5 with OpenSSL MD5
    
    Ric asked me to look at replacing the GPL licensed MD5 code with
    something better, i.e. perhaps faster, and with a less restrictive
    license, etc. So I took a couple hour holiday from working on
    wrapping up the client_t and did this.
    
    OpenSSL (nee SSLeay) is released under the OpenSSL license, a BSD/MIT
    style license. OpenSSL (libcrypto.so) is used on Linux, OS X and *BSD,
    Open Solaris, etc. IOW it's universally available on the platforms we
    care about. It's written by Eric Young (eay), now at EMC/RSA, and I
    can say from experience that the OpenSSL implementation of MD5 (at least)
    is every bit as fast as RSA's proprietary implementation (primarily
    because the implementations are very, very similar.) The last time I
    surveyed MD5 implementations I found they're all pretty much the same
    speed.
    
    I changed the APIs (and ABIs) for the strong and weak checksums.
    Strictly speaking I didn't need to do that. They're only called on
    short strings of data, i.e. pathnames, so using int32_t and uint32_t
    is ostensibly okay. My change is arguably a better, more general API
    for this sort of thing. It's also what bit me when gerrit/jenkins
    validation failed due to glusterfs segv-ing. (I didn't pay close enough
    attention to the implementation of the weak checksum. But it forced me
    to learn what gerrit/jenkins are doing and going forward I can do better
    testing before submitting to gerrit.)
    
    Now resubmitting with a BZ
    
    Change-Id: I545fade1604e74fc68399894550229bd57a5e0df
    BUG: 807718
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/3019
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 3c5aed7d8226e50296c6a7106e0d59682732e9b5
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 3 15:22:45 2012 +0530

    locks, stripe: check if dict is NULL before refing it
    
    Change-Id: Ifab58504280ed92e4435f7805052745e56bef5ef
    BUG: 808003
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3073
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0e4c74861f762d4af7b7d8ffce5384920a6aa335
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 3 13:17:28 2012 +0530

    quota: log msgs indicating NULL parent inode in DEBUG level.
    
    with name-less lookups its common to hit situations where parent
    inode is NULL.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: I980b14c3d4691e850ae15768f73cf1b7d867e930
    BUG: 809032
    Reviewed-on: http://review.gluster.com/3071
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e5b5bb4de46a2a37c8ff392c456c306026517269
Author: Csaba Henk <csaba@redhat.com>
Date:   Tue Apr 3 01:57:23 2012 +0200

    libglusterfs/run: POSIX compatible closing of child fds on non-Linux
    
    It just occurred to me that I realized there are POSIX features that let this be
    done cleanly. However, For Linux we keep the proc based approach to get more
    graceful strace logs.
    
    Change-Id: I6b473271b2adfd85cef6612eb65d88e5d00f5943
    BUG: 764294
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3068
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1043dedfb54c80bdbb6e050920ced204515b226e
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 2 16:52:10 2012 +0530

    dht/rebalance: Send PARENT_DOWN event before cleanup in rebalance
    
    To prevent any crashes, due to backend ops (e.g: afr self heal),
    sending GF_EVENT_PARENT_DOWN before calling cleanup_and_exit.
    
    Change-Id: I58c87c114bf259a69a8d081d291ca908b30ec407
    BUG: 808402
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3062
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 943ca064ec6ab2f009f12b3d5f1e90a5402f04d6
Author: Csaba Henk <csaba@redhat.com>
Date:   Sat Mar 31 00:15:02 2012 +0200

    libglusterfs/run: clean up properly also if program could not be spawned
    
    Change-Id: Ie81a6e1a99c1cb002653c0175bb3c5fcff9c8a4a
    BUG: 808427
    Reported-by: Krishnan Parthasarathi <kparthas@redhat.com>
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3055
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 22cc617902794f4136fe6ba7b631ebe9f7bd4563
Author: Csaba Henk <csaba@redhat.com>
Date:   Sat Mar 31 00:15:02 2012 +0200

    libglusterfs/run: test suite refinement
    
    If run is compiled as a standalone self-test program
    
    (-DRUN_STANDALONE -DRUN_DO_TESTS)
    
    add the possibility to pass an integer which makes
    the program sleep that many seconds before exit
    (0 forever).
    
    This makes it possible to investigate post-test
    state (eg. if there are leftover zombies).
    
    Change-Id: Ia8d80a74eb83615ad50db2e17bb2701dc0d69070
    BUG: 808427
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/3067
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit b283a09b05606b953339ea419d16cb1ec40326c3
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Apr 2 11:08:24 2012 +0530

    cli: Limit value of bs * count in "volume top"
    
    The maximum value of bs * count is limited to 10GB. This prevents gluster from
    returning 0 throughput with large values of bs * count. If throughput for values
    larger than 10GB is required, use dd.
    
    Change-Id: Ia4ea70cb20f3f32b6cb81fd451ad56933f438452
    BUG: 803322
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3059
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7bcf48a73f6313a0cffbc37288041f1dc8bba71e
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Apr 2 18:32:05 2012 +0530

    cli/rebalance: Fix parse error for volume rebalance cmd
    
    gluster volume rebalance <vol> force was handled as a success.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I4f73aa5935c7e62673d457b52a6dfea6c7197dcc
    BUG: 808991
    Reviewed-on: http://review.gluster.com/3064
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dcfd0f4ee8c3c405f768cbb79219c0c5fa071a56
Author: Brian Foster <bfoster@redhat.com>
Date:   Mon Apr 2 09:56:42 2012 -0400

    md-cache: fix time comparison to support 0 timeout
    
    The time comparison currently causes caching when the current
    time matches the timeout. This causes caching to occur even
    when the timeout parameter is set to 0. Fix the condition to
    support the no caching scenario. A longer term approach is to
    use gettimeofday() for more accurate granularity, but this
    apparently fixes a known bug.
    
    Change-Id: I6552c5961743edb22a1aec2e6a3a6e041d0647b2
    BUG: 809193
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/3066
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit b0bb1a2c979078efa3ab024e14119df6087c4320
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Mar 27 18:22:15 2012 +0530

    cli: do the proper STACK_DESTORY of created frames
    
    * fixes memory leaks
    * fixes some random local mem-pool empty messages
    
    Change-Id: Ic79f279f2acfe4722fa54d52397d0267b3918928
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 803638
    Reviewed-on: http://review.gluster.com/3018
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dc2a52fa0d83ba2e807a175655fc0362b707a22d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 2 14:57:20 2012 +0530

    nlm: print the reason of failure when clnt_create fails to create the client object
    
    Change-Id: Icc271e2166dbccc2cc12029e26c674fdb79fe975
    BUG: 808390
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3061
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e51f690d7c5eda400316ba97ab2f4ce448b51e7d
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Apr 2 13:00:47 2012 +0530

    glusterd: Include port in nfs status
    
    Change-Id: I679e491e801b694e8a0f93dd87cf540441dae927
    BUG: 806877
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3060
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0f3b55be4376c1c59131d999469d3b3c6aaddd87
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Mar 30 10:04:45 2012 +0530

    performance/quick-read: open shouldn't be worried about checking
    whether it is being done on a deleted dentry.
    
    lookup would've taken care of sending ENOENT, in case the entry
    was already deleted.
    
    Change-Id: I79c51e34ae3a202eb04123a2a58d0e819b6e94fa
    BUG: 808017
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3044
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 67450da471307d1c09bd21694a76fb12b2fcd405
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Fri Mar 30 17:18:07 2012 +0530

    mgmt/glusterd: unregister NLM service from portmapper
    
    Native NLM v4 service is unregistered from portmapper
    when Nfs is stopped.
    
    Change-Id: Id74cf9a31f6b00450504a1271bb47617aa5ec1fc
    BUG: 786345
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/3052
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ca4d7c9dfc1d7f8c09994a862868f55b8320eb95
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 27 12:50:59 2012 +0530

    performance/io-cache: Enhance state-dump output
    
    Along with weight, print uuid and path. If only the inode is
    cached, only weight, path and uuid will be printed.
    
    Change-Id: Ie7567832915319f26c6bab8a34576f6c43be7998
    BUG: 806900
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3014
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c2dd1510e18e4c91d54ce4de91ecd47b408524dd
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Mar 31 20:43:12 2012 +0530

    mgmt/glusterd: Improvements for volume heal CLI.
    
    1) Brought in a CLI improvement for volume heal cmd when it fails
    before initiating a transaction.
    
    2) Minor improvements in UI messages related to self-heal-daemon.
    
    Change-Id: I983c1e54b48f2efe8793fa5b00fa50df2067683b
    BUG: 807261
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/3057
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 778c8d616ba2e9b47cafbbe95dbec7f2eb788302
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Mar 31 13:30:22 2012 +0530

    cluster/afr: Fix frame leak in hardlink self-heal
    
    Change-Id: I8560fc2ba0d989eeb33226f8eb8c7fbad46dfe32
    BUG: 765391
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3056
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 06226c19a2b6a8840c0fd88837164f1e2150ba5b
Author: Amar Tumballi <amarts@redhat.com>
Date:   Fri Mar 30 15:42:21 2012 +0530

    glusterd: remove-brick validation behavior fix
    
    earlier one of the major validation case was missed if user provided
    a 'replica N' option for remove-brick where N is already existing
    replica count of the volume. This would have left the volume in
    inconsistent state, eventually crashing glusterd. Now fixed.
    
    Change-Id: I418f3bbb983d36aa51214c616a887e5a3ee98e74
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 803711
    Reviewed-on: http://review.gluster.com/3050
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 96e68adc348e96c1b9d70f6a621f607591f052c2
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Mar 30 12:03:32 2012 +0530

    features/locks: INIT the list before insert_merge
    
    Change-Id: I1612565e2bbf1811a85341016b86571bdf6e5062
    BUG: 805994
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3047
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c078b9df8d8f44ca90e61566f83f83809ce5ac0f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 29 19:45:29 2012 +0530

    cluster/afr: Handle invalid inode in open_fd_fix
    
    Change-Id: Ie009fb4b8b7745ebd5b76f7a40287998be35eef3
    BUG: 804914
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3045
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 66d430da4e3788aeb41eea46455ca25a2d19a626
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Mar 26 16:11:29 2012 +0530

    glusterd: Added init scripts like interface for gluster commands
    
    Directories to hold the scripts mentioned above would be created for each
    gluster command under glusterd's 'working dir' as follows:
    (eg.)
    <glusterd-working-dir>/hooks/version/create/pre
    
    <glusterd-working-dir>/hooks/version/create/post
    
    where, version corresponds to the version of hook scripts.
    
    The scripts beginning with 'S' under the above directories would be run before
    (pre) and after (post) the volume created. The scripts would receive a command
    line argument as below:
    --volname=<volname>
    
    This can be optionally used  by the script.
    
    Change-Id: Ia81b4ff9dd4477d99dd59b39c805aa645521edb0
    BUG: 806996
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3010
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3f81c44a03e9ab78be2b4a69e3e36d41a4de324a
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Mar 29 14:00:50 2012 +0530

    glusterd: Used runner's RUN_PIPE to get inode size in xfs/ext3/ext4
    
    Change-Id: I8057fd04baf36db86fe679a1beb86f76a1085b7c
    BUG: 786367
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/3033
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@redhat.com>

commit 73c789cd9c530ded113905ef7efb47e1ac3251d6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Mar 30 13:33:10 2012 +0530

    nlm: do not destroy the NULL client object
    
    Change-Id: Ie1946b33353a91a266d2b21727d0c8eaa06af7f9
    BUG: 808341
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3046
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 6f10f48a6a1632cd62206fd84634ab0e5db1c361
Author: shylesh kumar <shylesh@gluster.com>
Date:   Wed Mar 28 14:13:00 2012 +0530

    cluster/stripe: minimum blk size log message
    
    Change-Id: I16ba2e17796cd91e89a6216d4981c09f1bcdc5cb
    BUG: 807637
    Signed-off-by: shylesh kumar <shylesh@gluster.com>
    Reviewed-on: http://review.gluster.com/3026
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cc2e9ad0751da55dfdcd86fea2d5b312a1cbd1b5
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 29 22:43:29 2012 +0530

    cluster/afr: Fix split-brain log
    
    Change-Id: Id6869fb83bb083809a2a69227e233458e0b9e0bf
    BUG: 787653
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3041
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 80d0c49125c67fcc0aab48cce7ef895dabf1d006
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 29 21:07:06 2012 +0530

    cluster/afr: Fix the split-brain log
    
    Change-Id: Ia4937dee009af7c945ec590a827c982b0e6ad307
    BUG: 787653
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3039
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 630e272a89fde08315b6159b83fcbbd6711a6046
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 29 13:02:32 2012 +0530

    glusterd: add-brick: give proper reason in few error cases
    
    had missed few 'else' cases, which were needed to send the right
    error message to the user regarding the reason for failure.
    
    Change-Id: I42d92782f4dec6f6bdffd42df254b7f38a715e36
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 772544
    Reviewed-on: http://review.gluster.com/3032
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 33bbab6ff9b34b1e623a53cc0c3483563f2aeace
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Mar 29 18:18:50 2012 +0530

    cli, glusterd : "volume status detail" fixes
    
    Use _PATH_MOUNTED, which refers to /etc/mtab, in
    glusterd_add_brick_mount_details(), instead of _PATH_MNTTAB, which refers to
    /etc/fstab.
    
    More changes to cli to show available information.
    
    Change-Id: I9da97c0fec14b3372f281efc0be37b2799bc2d0d
    BUG: 808044
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3037
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7cc52b98a54ef29844a302f2d4f129adcaefcbf3
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Mar 28 00:14:29 2012 +0530

    cli: give warning to user in add-brick if stripe count given
    
    * as it is currently not so well tested, user should get notification
      about possibility of problems with the volume type changes.
    * added warning instead of removing the feature because with keeping
      an option we can enhance what is there already.
    
    Change-Id: I6cf3491870ac2e50e85c5dbe15c61622a47c18cb
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 787967
    Reviewed-on: http://review.gluster.com/3034
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit db501c73701b620be67b4c33ea16cac983dcd9b1
Author: Amar Tumballi <amarts@redhat.com>
Date:   Sun Mar 25 22:48:09 2012 +0530

    core: fix all the iobuf related refs and unrefs
    
    reviewed the code against all the possible places where
    iobuf/iobref ref unref are present, and hopefully fixed most of
    the issues around memory leaks with respect to iobuf
    
    Change-Id: I9aa30326962991f8e23acedd389a0e962e097885
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 797875
    Reviewed-on: http://review.gluster.com/2994
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2dea3b34755d9af1d1c1ffe517c6a087cf44512a
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue Mar 27 15:52:47 2012 +0530

    cli,glusterd: more volume status improvements
    
    The major changes are,
    * "volume status" now supports getting details of the self-heal daemon processes
    for replica volumes. A new cli options "shd", similar to "nfs", has been
    introduced for this. "detail", "fd" and "clients" status ops are not supported
    for self-heal daemons.
    * The default/normal ouput of "volume status" has been enhanced to contain
    information about nfs-server and self-heal daemon processes as well. Some tweaks
    have been done to the cli output to show appropriate output.
    
    Also, changes have been done to rebalance/remove-brick status, so that hostnames
    are displayed instead of uuids.
    
    Change-Id: I3972396dcf72d45e14837fa5f9c7d62410901df8
    BUG: 803676
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3016
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 735714edca08e2de16c0e447f8c3256913186ce6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Mar 29 16:31:24 2012 +0530

    features/locks: check whether dict is NULL before refing it
    
    Change-Id: I8906b80e584466aceb5a7402e3cee6ac2a552fab
    BUG: 808003
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/3036
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 3fb9ee6caa3325423ac221b5f24e980c24edafde
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Mon Mar 26 12:27:12 2012 -0400

    Save old volfiles in the RPM standard way.
    
    I just got bitten by this again.  It appears that the previously merged fix
    was inadvertently reverted by a subsequent change.
    
    Change-Id: I3a2067ee891fd5b8be0cd6cee58dcbc8cb6005e9
    BUG: 764702
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3009
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d1c8d296a23244a351bc2274e78c315b0870aeeb
Author: Kaushal M <kaushal@redhat.com>
Date:   Thu Mar 29 12:41:22 2012 +0530

    glusterd: Increase output_string size in glusterd_get_volopt_content
    
    The number of volume options with docs has increased, which causes the
    output_string to overflow and causes glusterd to crash. This change prevents
    glusterd from crashing.
    
    Change-Id: I79f8931f92ad55245aa547e7df15c9826537b615
    BUG: 807914
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3030
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9d884d7139e9c5b3edca2ecb89f7824ac207ad98
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 29 15:17:14 2012 +0530

    cluster/dht: send dict with linkto key for lookup in rmdir_readdirp
    
    Without this, if there are any stale link files, rmdir fails with
    ENOEMPTY error.
    
    Change-Id: I7056b272122eb5540c22412856f46f638774c119
    BUG: 807246
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/3035
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 834408a49f204e8c256dad4b46d0f19053bf4b0e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 29 12:17:12 2012 +0530

    cluster/afr: handle fstat failure in data-self-heal
    
    The final fstat which makes the call_count 0 could be a failure.
    In that case the buf could either be NULL or buf is all zeros.
    If buf is NULL then it will crash, if it is all zeros
    buf->ia_type will be IA_INVAL and it proceeds to special file fix.
    sh->type is assigned with the ia_type of the file to be healed.
    I modified the code to depend on that instead.
    
    Change-Id: Icf7e19ff5908207128f2a1ee2963ad6b791c1ac5
    BUG: 804645
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/3031
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit fbfb4d48491b160436e6ac986057a8fe5e320502
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Mar 29 11:21:07 2012 +0530

    performance/quick-read: fix build errors.
    
    Change-Id: I8c4781bdd6c3cfd50cff95c31ecd6d653b916ac3
    BUG: 765363
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3028
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 864c9b612a5965a0934dcbdc51f84018d27c2c80
Author: M S Vishwanath Bhat <vishwanath@gluster.com>
Date:   Tue Mar 27 17:59:15 2012 +0530

    build-deploy-jar.py: Print usage message when hadoop home directory is missing.
    
    Change-Id: I0b55b33a36a4a5e4f1b71547629d20ae6b5eba5a
    BUG: 807155
    Signed-off-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-on: http://review.gluster.com/3017
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 3360fca3f3abf4dd6b1025063610f5c8c880a747
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Mar 28 16:18:17 2012 +0530

    cli, glusterd: "volume set help" additions
    
    "auth.allow/reject" and "server.statedump" options are included in "volume set
    help" now.
    
    Change-Id: I7f9ba89d1782c26792347ffd2cd4042c3c396934
    BUG: 783390
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/3025
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1f7692fecd1b5eaab60a01b64e9e4a67f0630804
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Jan 19 12:40:34 2012 +0530

    cluster/afr: Handle afr data self-heal failures gracefully
    
    Change-Id: I5f91098111a8ca29982f3b4292e2109e4a36cce1
    BUG: 765373
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2662
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 243f02a5ef77d69fa91c18092d5da8578bb8f042
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 27 01:20:21 2011 +0530

    performance/quick-read: make unlink aware of open-behind behaviour of quick-read.
    
    quick-read should do an open of all the fds that are waiting for to be
    opened behind before doing an unlink on a path.
    
    Change-Id: I4c8d65c0511e8a37765ff57e30d99dd89b56c4fc
    BUG: 765363
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/506
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bfb6366bd2a6de4cb5322dda72fbc1e6ad1edc41
Author: shylesh kumar <shylesh@gluster.com>
Date:   Wed Mar 28 10:50:06 2012 +0530

    cluster/stripe- do not ref if dict is null
    
    Change-Id: Ifa4a5253482d837e2583de078e908b8c442f9dca
    BUG: 807214
    Signed-off-by: shylesh kumar <shylesh@gluster.com>
    Reviewed-on: http://review.gluster.com/3024
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit b8c4da2ce0326d5c1a3303d4c3931e60b40e9bdc
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Wed Mar 28 06:31:56 2012 +0530

    protocol/client: Set grace_timer_needed flag to false on a disconnect.
    
    A grace timer is registered on a disconnect, but a reconnect timer sends a
    connect request after every 3sec and if the server is down, the client protocol
    receives disconnect and a grace timer will be registered which on timeout will
    increase the lk-version value. Its enough to register the grace timer once after
    the first disconnect and later just ignore other psuedo disconnects until the
    next successful reconnect.
    
    Change-Id: I7f34a98a79fdc25370ef15a6712bfa316a9b7c7c
    BUG: 807271
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/3020
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit af0eb165f624c6a76e84e5a0c78881715ceae7c3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 27 08:47:35 2012 +0530

    performance/write-behind: queue setattr fop with writes always.
    
    stat returned in setattr_cbk can be cached by the kernel. Hence it is
    always necessary that we return correct stat, which implies that setattr
    should not be out of order with respect to write fops.
    
    Change-Id: I305feeb4802f8a41ffaf032100832cbd65dfc5c1
    BUG: 765443
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3011
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c3c4ee24a64a2447f77788cb84559f1e07a21e04
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Feb 13 19:15:17 2012 +0530

    glusterd: Fixed replace-brick commit_force algo.
    
    - commit force subcommand of replace-brick (rb) should be allowed
      even if source brick is (irrecoverably) offline.
    - modified rb_timer to be active only for start subcommand. This is
      important since, the rb timer event relies on src_brick and dst_brick
      objects to be 'alive' when it 'happens'. In the case of
      abort/commit/commit force it is very likely that src_brick and/or
      dst_brick objects could have been destroyed.
    
    Change-Id: Ib8b8a4d690fbdd6f99b8aff306490eb59c54a437
    BUG: 772845
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2620
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3184ad0f88255fdec5a33b29790f677848c422e3
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Nov 15 18:26:44 2011 +0530

    cluster/dht : Acl fix for distribute directory selfheal
    
    Send acl xattrs, if present in the xattrs returned during lookup, during
    directory self-heal.
    
    Change-Id: I5337bbd3f3963aeed500a8a552e5f6713089b53e
    BUG: 764787
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/737
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 98b98d6cd7d94bfae5b4a7b54b04b59bf9381df9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 26 18:36:29 2012 +0530

    libglusterfs/fd: ref fds while copying the fdentries.
    
    Change-Id: I8973ec5d9858adfbdd6efc7cd596cf5d5af0e3cb
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/3006
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 78e5e52c51ceb2255ac28ab86a91ed887d334cf6
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Mar 7 14:04:07 2012 +0530

    mgmt/glusterd: native sort of info files
    
    dependence on sort(1) has been removed,
    sorting of the files is now done using qsort(3).
    
    Change-Id: I90e162ba626506d01323ddfbfa594cf64b2e43c3
    BUG: 790337
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2990
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c1f8af00eaa03f1c2a7ea145ff627ca749e330cb
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Fri Mar 23 13:13:09 2012 -0400

    Fix build problem with "trash" being semi-removed.
    
    With "trash" removed from xlators/features/Makefile.am but not from
    configure.ac, configure fails trying to create .../features/Makefile
    from .../features/Makefile.in which was itself never created.
    
    Change-Id: Idcba2c282c09821ae620e59748952e8d26117fdc
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/3003
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9d3af972f516b6ba38d2736ce2016e34a452d569
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Mar 20 17:22:24 2012 +0530

    core: adding extra data for fops
    
    with this change, the xlator APIs will have a dictionary as extra
    argument, which is passed between all the layers. This can be
    utilized for overloading in some of the operations.
    
    Change-Id: I58a8186b3ef647650280e63f3e5e9b9de7827b40
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 782265
    Reviewed-on: http://review.gluster.com/2960
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit afe542eca18888463798747d2a95e5a9d239a4a0
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 22 16:37:42 2012 +0530

    glusterd: bring back the 'non-synctask' behavior
    
    revert back to non synctask behavior
    
    Change-Id: Icfc9cbdeaf8dd6735df8366a6121c6598c56fade
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 805802
    Reviewed-on: http://review.gluster.com/3002
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dc174a4d60ebca6a67e32c1834c2f0dcbff2c3c0
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 22 04:11:38 2012 -0700

    Revert "core: enable process to return the appropriate error code"
    
    This reverts commit 16717f4df7b0fbd3c255f5faf8a2744444231bb7
    
    Change-Id: I65624db4d31e11e1bec66b07b352ce823ef069b9
    Reviewed-on: http://review.gluster.com/3001
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2db6b286d091346b4386fd6091eb22bd9d3ea7a0
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 22 13:51:23 2012 +0530

    glusterd: fix bugs of syncop for operations
    
    * free the stack created for synctask
    * use different key than 'operation' in dictionary as thats being used
      already by other glusterd operations
    * send proper frame to 'rpc_clnt_submit()' API, as it gets used
      internally
    * also make sure to destroy the above frame in all _cbk()
    * move everything specific to synctask into one file, so it is easy to
      maintain
    
    Change-Id: Ia1a4414fffec6f9e51700295947eea4a2104a8c2
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 805802
    Reviewed-on: http://review.gluster.com/3000
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 1522ac5c15516156bb33f8d47b0c0e7de6cd411f
Author: Kaushal M <kaushal@redhat.com>
Date:   Tue Mar 20 18:05:18 2012 +0530

    cli: Display available information in "volume status detail"
    
    Display the available information in "volume status detail", without failing
    and erroring out if some information is missing.
    
    Change-Id: If8edc268fe91ca9c681f25135738a75eec43b8c3
    BUG: 765464
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2989
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f7842792de7661dd72c40fb950102e5dfcf0e487
Author: Rahul C S <rahulcs@redhat.com>
Date:   Wed Mar 21 12:15:52 2012 +0530

    Add space for heal vol req log message.
    
    Change-Id: Iadf1d6304bcae8f666f2435ffa2d71c50dd1395a
    BUG: 764658
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2991
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>

commit 11be645bb84ade2c5c9f42baec5ca6c6d1dc1d2c
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Mar 14 15:10:48 2012 +0530

    dict: add a dict_dump() function to dump the dictionary contents
    
    helps for debugging some functionalities where we have to understand
    what we send from one end point to another is properly received on
    the other endpoint without any errors.
    
    Change-Id: I9b802f12ae542e499161a1f3b9a5602f7b93b0ee
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 782265
    Reviewed-on: http://review.gluster.com/2959
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit ebb5c6cc1e0d47513edb851128e424e747bb9166
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Mar 21 12:39:13 2012 +0530

    glusterd: Disabled self-heal on clear-locks internal mount
    
    - Also, changed afr_get_xattr_clrlk_cbk to use dict_set_dynstr for
      clear-lock summary. Earlier, it was relying on 'str' passed from
      xlators below.
    
    Change-Id: I175f4542e6ef2c859c4811eecb9d8c5a7d25a283
    BUG: 800779
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2992
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit abae8a2086e71aaf193b12df90ae3fe687117c28
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 13 15:23:39 2011 +0530

    core: enable process to return the appropriate error code
    
    Credit of this patch goes to Avati <avati@gluster.com> as I just did a
    rebase to the lastest master.
    
    Change-Id: I53b2adf90fd9808433bdc35b57dad0682bc90860
    BUG: 762935
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/579
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c3bdb1d4c6c4491afdf1ba26bb0d6204270cc058
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Dec 20 14:54:35 2011 +0530

    glusterd: bring in feature to use syncop for mgmt ops
    
    * new sycnop routines added to mgmt program
    * one should not use 'glusterd_op_begin()', instead can use the
      synctask framework, 'glusterd_op_begin_synctask()'
    * currently using for below operations:
      'volume start', 'volume rebalance', 'volume quota',
      'volume replace-brick' and 'volume add-brick'
    
    Change-Id: I0bee76d06790d5c5bb5db15d443b44af0e21f1c0
    BUG: 762935
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/479
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 8217148c97a474a9eab4a309589ceb8ff281f5c6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 21 21:57:37 2012 +0530

    features/locks: Avoid race in pl_inode_get
    
    Change-Id: I6c7b878fb43863137aac6552ee66f091534a6296
    BUG: 770080
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2998
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit b1f1d57ca547cfa7644914bf7ff2d731b4a49134
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 21 15:41:26 2012 +0530

    features/locks: Avoid race in creating domains
    
    Thread:1                 |       Thread:2
    -----------------------------------------
    1) Does inodelk on inode1| 1) Does inodelk on inode1
    2) It tries to get the   | 2) It tries to get the
    dom object for the volume| dom object for the volume
    volname-replicate-0. But | volname-replicate-0. But
    the domain list is empty.| the domain list is empty.
    3) Create the new domain |
    dom1 and add it to head  |
    of the list of domains.  |
    4) inodelk happens on    | 3) Create the new domain
    dom1 on range r1.        | dom2 and add it to head
                             | of the list of domains.
                             | 4) inodelk happens on dom2 on range r2
    5) unlock for r1 comes   | 5) Unlock on r2 succeeds.
    on inode1.               |
    6) It tries to get the   |
    domain, of the inodelk   |
    for volume               |
    volname-replicate-0, gets|
    dom2 but the lock on     |
    range r1 is not present  |
    so it fails.             |
    
    subsequent inode lock, unlocks will keep happening on the domain dom2.
    The stale lock present in the dom1 on range r1 will live on.
    It wont cause any hangs, but the statedump will always be scary.
    
    Change-Id: I9adc120d33febf685b30859cc307768c2fc63ae5
    BUG: 770080
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2993
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c40b9975d0bb3fdffdab281ad4f5e222d63d8674
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 21 10:58:03 2012 +0530

    protocol/client: memory leak fixes.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: I804c934d79ed13ded9d1b741cef6597bc238e476
    BUG: 803675
    Reviewed-on: http://review.gluster.com/2987
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit b8e98e8d6fa1a783f9dac4eb17609f799fde4b2b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 20 17:11:04 2012 +0530

    performance/read-ahead: destroy pages which survived from being flushed
    in flush_region because of frames waiting on them, after those frames
    are served.
    
    Change-Id: Ic8402f3da32058a1a11e62124b598b0ec3befeff
    BUG: 767948
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2982
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dbae3d58d7dbfb404211866a17da1559cdde3387
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 20 16:48:18 2012 +0530

    performance/io-cache: destroy the pages which survived in
    __ioc_page_destroy because of non NULL waitq in ioc_fault_cbk.
    
    Change-Id: I00b83f8bf0a654b3a3a23cf0b25657fbfda17804
    BUG: 767948
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2981
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e8f9aabb782d4e97b1c2a6df379128c3f3962401
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 20 16:00:41 2012 +0530

    protocol/server: remove the transport from the list irrespective of lock-heal is on/off
    
    Upon getting disconnect, remove the transport from the list of transports that
    protocol server maintains irrespective of whether lock-heal is on or off, since
    upon reconnect a new transport would be created.
    
    Change-Id: I18a269a93487d6e2cb11c345b6dde813d089809c
    BUG: 803815
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2980
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit a2291931d550cbbc19983bccb93dbf31a9993db4
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Mar 19 12:05:09 2012 +0530

    features/marker: Replacing -1 with GF_CLIENT_PID_GSYNCD as part of code cleanup.
    
    Change-Id: Ia665060bff636b372904a726aba5249de9ade124
    BUG: 769494
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2971
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@redhat.com>

commit c816d16288d3089d9e986c3155cb5ca9265b6210
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Mon Mar 12 09:32:40 2012 -0400

    replicate: fix a glitch in up_count/down_count updates.
    
    Change-Id: I4919a98191bf7fe5edad9a149a129bcd177cd4a8
    BUG: 802522
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/2927
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 2ffefd720a54fb815b1efa11e9de766fe1518831
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Mar 19 21:26:56 2012 +0530

    protocol/client: Handle failures in lock self healing gracefully (part2).
    
    During reopening of fd's and reacquiring of locks on the fd (after a
    reconnect), a release on a fd on which reacquiring of locks is in progress
    will free up fdctx. This patch will keep fdctx valid until the reacquiring
    of locks is in progress.
    
    Change-Id: I0fae27544a7f8ddaa26def4ee4d41a8a2b322521
    BUG: 795386
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2819
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d98c3e19342be3b8b3e2c7e3d7e544de34143bdf
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 19 18:10:34 2012 +0530

    rpc-clnt: separate out connection_cleanup() from destroy()
    
    noticed that there are possibilities where one would like to do a
    connection_cleanup() before destroying a RPC connection itself, also
    current code is such that, rpc_clnt_connection_cleanup() does
    rpc_clnt_ref() and unref(), creating a race window/double unref
    possibilities in the code.
    
    by separating out the functions, this race window/double fault can be
    prevented.
    
    Change-Id: I7ebd3392efa891232857b6db9108b0b19e40fc12
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 802403
    Reviewed-on: http://review.gluster.com/2979
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 55c22fbfae259bff3b0e0cca192f709b74d8bee5
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Mar 19 21:07:33 2012 +0530

    protocol/client: Handle failures in lock self healing gracefully (part 1).
    
    During reopening of fd's and reacquiring of locks on the fd (after a
    reconnect), a release on a fd on which reacquiring of locks is in progress
    will free up fdctx. This patch will keep fdctx valid until the reacquiring
    of locks is in progress.
    
    Change-Id: I0464c751a5aa986abac0b72b48b261fceeba24e8
    BUG: 795386
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2937
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 83277598bda524f44b76feed6adc7b19fc49d49a
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Mon Mar 19 19:56:21 2012 +0530

    protocol/server: Handle server send reply failure gracefully.
    
    Server send reply failure should not call server connection cleanup because
    if a reconnection happens with in the grace-timeout the connection object is
    reused. We must cleanup only on grace-timeout.
    
    Change-Id: I7d171a863382646ff392031c2b845fe4f0d3d5dc
    BUG: 803365
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2947
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f076c23f381d9013d4fa2145c329033a51194597
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Mar 19 18:02:57 2012 +0530

    protocol/client: Avoid STACK_DESTROYing more than once in RELEASE fops.
    
    Change-Id: I435327c6133aa6739731dabddde860b0b43c1497
    BUG: 804607
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2978
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit b315c42344f808bd9e2cba06bade0e5da58b0381
Author: Rahul C S <rahulcs@redhat.com>
Date:   Mon Mar 19 15:03:09 2012 +0530

    print bound_xl only once in server statedump
    
    since, currently there is only one bound_xl for
    all connection objects, it does not make sense
    to print the bound_xl for every conn object.
    
    Change-Id: Iaf4a170fe63fb7e80133c449a20f298f0e86364c
    BUG: 765495
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2975
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a77c4a7954df0f0e3d075895039e66eb4361562b
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Mar 19 15:13:14 2012 +0530

    features/quota : Fix timeout min value
    
    Change timeout min value to 0, so that default value of 0 successfully validates
    and mounts happen properly.
    
    Change-Id: I579c6192b97ffe2678fa95c912679b514fa7d8c0
    BUG: 804509
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2976
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 028936e2dc544158011eb32ad1629eeed75a42e9
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Mar 19 11:56:20 2012 +0530

    cluster/dht: Prevent crash in dir xattr selfheal
    
    Change-Id: I2ca4ab2f8e8611e7b2ac9ed2edc2e304727259dc
    BUG: 804280
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2970
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit def3dd7f37150657e1b41a2df8a563a93394a518
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 19 14:07:14 2012 +0530

    libglusterfs/call-stub: ref dict while storing it in readdirp stub
    
    Change-Id: I11224f7afa2e87dc242cc2e9e865c7ab2bb88c7e
    BUG: 765785
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2974
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 65c6e3706f5290947179922c9e3b8f05ea6ae91c
Author: Harshavardhana <fharshav@redhat.com>
Date:   Fri Jan 6 16:00:25 2012 -0800

    libglusterfs/dict: Add boundary conditions
    
    Functions modified:
    1. data_to_int16()
    2. data_to_uint16()
    
    Change-Id: I6775ca5d39f519c24ca3a07ce41018472e238cdf
    BUG: 769692
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2599
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 5f59fbd81830a5f2157b3206d8413ba862aa5253
Author: Venky Shankar <vshankar@redhat.com>
Date:   Wed Mar 14 16:45:21 2012 +0530

    cluster/stripe: fix {set/get}xattr query for dirs/symlink
    
    This patch fixes the following problems:
    * ENOENT returned for getxattr (xtime) on symlinks
        Non-data entities are created only on the first subvolume but
        getxattr fop winds to all subvols. This results in all subvols
        except the first one to return ENOENT which is propogated down
        the stack.
    
    * ENODATA returned for getxattr (xtime) on directory
        setxattr calls always wind to the first stripe subvolume.
        xtime getxattr invocation winds to all subvolumes but the
        xattr is present in only the first one, resulting in all
        subvols except the first one to return ENODATA.
    
    Fix
    
      For symlinks getxattr now always winds to the first subvol and
      for directories setxattr sets the xattr on all subvols.
    
    NOTE
    
       For directories the all-subvol-wind in setxattr is done
       only when request is from a special client (client-pid == -1)
    
    Change-Id: I9236345ef319506770d2034b840ee4ac04704b21
    BUG: 801394
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2948
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 1477fe376ae51ae077430aea25aa6a7a34596768
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Mar 18 14:10:08 2012 +0530

    Logs: Improved logs in lock/unlock execution path
    
    Statedump will now start showing the lk-owner of the stack.
    
    Change-Id: I9f650ce9a8b528cd626c8bb595c1bd1050462c86
    BUG: 803209
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2968
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit dfc481bf2dfe9a26d8c311de578ca82b347810d0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Mar 8 14:13:56 2012 +0530

    protocol/client: replace STACK_UNWIND_STRICT macro with CLIENT_STACK_UNWIND,
    which does appropraite cleanup before unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: Ic49d6e21c5fc56e747afec35be2bebbbbd2a6583
    BUG: 767359
    Reviewed-on: http://review.gluster.com/2897
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 4d4a1e0801d1a7b2b3ec226309809c5fddd84319
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Mar 8 10:59:43 2012 +0530

    rpc: don't unwind the fop in caller if client_submit_request fails
    
    client_submit_request guarantees that the cbkfn - which we pass to
    it as argument - is called whenever there is a failure.
    
    Change-Id: I0e8ce5a6b320246dc13ce4318b04739d38d183a3
    BUG: 767359
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2896
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 968c6ba70cbcc058823947cc925072e03cbb0ac8
Author: M S Vishwanath Bhat <vishwanath@gluster.com>
Date:   Fri Mar 16 17:02:46 2012 +0530

    Using correct path to build and find jar file in build_deploy_jar.
    
    Change-Id: Ifeadd60370b36ab7b345c336a40a17091698ffe5
    BUG: 803879
    Signed-off-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-on: http://review.gluster.com/2955
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit e6753927338a12175f3a87fd4349d41847b8d2aa
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Mar 18 13:49:07 2012 +0530

    rpc: cancel reconnect timer in rpc_clnt_disable
    
    When the graph is considered no longer needed, rpc_clnt_disable
    is called, which disconnects the connection to server but the
    reconnect timer is not cancelled in that function, so it is
    reconnecting to the server before the grace-time-period.
    The locks of the disabled graph are still there on the server
    which are leading to hangs.
    
    Change-Id: I8d37f1296370e37117005137a0a430e636da4d2e
    BUG: 803209
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2967
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7fdd830431614231e0372faaff33359932b9631a
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Mar 7 08:11:57 2012 +0530

    volgen: by default don't include performance xlators in nfs volfile
    
    Change-Id: I183ff00b0c0d23cec1123c320b7444eec0f71765
    BUG: 790333
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/2883
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 9fd44bd90ecb60760919bda85308132341f857f9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Mar 18 13:07:30 2012 +0530

    protocol/server: Clear internal locks on disconnect
    
    If there is a disconnect observed on the client when the
    inode/entry unlock is issued, but the reconnection to server
    happens with in the grace-time period the inode/entry lk will
    live and the unlock will never come from that client.
    The internal locks should be cleared on disconnect.
    
    Change-Id: Ib45b1035cfe3b1de381ef3b331c930011e7403be
    BUG: 803209
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2966
    Reviewed-by: Anand Avati <avati@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit f20d895a8ed2a3ee032bd0f85d5bfaf645575fd7
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 17:50:34 2012 +0530

    mgmt/glusterd: don't create the brick path in 'volume start'
    
    create the missing brick directory only on a
    'gluster volume start <VOLNAME> force' command
    
    Change-Id: Ica4fab9cefe953d73de9a30843d48f94e6ab735c
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 801610
    Reviewed-on: http://review.gluster.com/2921
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 6bf0a809c99ec33fee73e6ebebb58baa2614f977
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 6 14:35:45 2012 +0530

    protocol/server: send forget on the renamed inode
    
    If rename is given on a file "a" to "b" ("b" is already existing file),
    then after rename, the inode for "b" would still be in the inode table
    and would not get forget (for fuse client, the fuse kernel module would
    send, but on server forget will not come on that inode), thus leading
    to inode leak even when the mount point is empty.
    
    To avoid that before doing inode rename, unlink the previous inode that
    "b" is pointing to and send forget on that, if "b" is the last dentry
    for that inode.
    
    Change-Id: Ie4dcc39ea190ee8f28029b4d7661df576d9cf319
    BUG: 799833
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2874
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 93022c0cc6c22b3a30ded3e109a3fe0a0dce8ca0
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Mar 7 13:06:38 2012 +0530

    mgmt/glusterd : volume set validation fixes
    
    This is the new version of the patch by Kaushik at review.gluster.com/699
    
    The following new option types have been introduced:
     * GF_OPTION_TYPE_INTERNET_ADDRESS_LIST
     * GF_OPTION_TYPE_PRIORITY_LIST
     * GF_OPTION_TYPE_SIZE_LIST
    and option types of several options in translators have been updated to use the
    new types.
    
    valid_internet_address(), valid_ipv4_address() & valid_ipv6_address() functions
    has been updated for * wildcard matching. Previously used standalone wildcard
    address checking functions have been removed.
    
    Changes have been done to stripe translator to correctly set, update and use
    stripe-blocksize. Also minimum value for block-size has been set to 16KB.
    
    Change-Id: I2aa484ff695f6a915a8fc9a9f965cf0344f41d59
    BUG: 765248
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2899
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c3bbf6aa6c090fd066ab0079aa1c8ae332309d2a
Author: Louis Zuckerman <louiszuckerman@gmail.com>
Date:   Tue Feb 7 11:16:10 2012 -0500

    Updated the Ubuntu upstart jobs for glusterd in extras/Ubuntu.
    
    Using upstart jobs, instead of an initscript, solves Bug 765014.
    See also: https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/876648
    
    The new upstart jobs split the work of starting glusterd & mounting glusterfs volumes into two parts: a glusterd service runner and a glusterfs volume moung blocker which waits for the service runner.
    
    This is the method preferred by Ubuntu developers to block a mounting event until a required service is available.  These changes will be included in the Ubuntu glusterfs-server package starting with release 12.04, Precise Pangolin.
    
    Tested on Ubuntu 12.04
    
    Change-Id: I9bb4e8cb05a1da0997c23f2ef7fea8737f6a2eb9
    BUG: 765014
    Signed-off-by: Louis Zuckerman <louiszuckerman@gmail.com>
    Reviewed-on: http://review.gluster.com/2727
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 598ab12c30b44c4c5f5922f3b76eec2ed8872790
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 14 16:13:17 2012 +0530

    mount/fuse-bridge: don't pass flags O_CREAT | O_EXCL during open as part of
    fd-migration during graph-switch
    
    Change-Id: Ia1494941d3e3d5bebdba3483b0ea7b32c9704b8c
    BUG: 802710
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2943
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 642343cc55e6ea2b0d463d77334c34790c30080f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Mar 16 16:09:42 2012 +0530

    Self-heald: Handle errors gracefully and show errors to users
    
    Change-Id: I5424ebfadb5b2773ee6f7370cc2867a555aa48dd
    BUG: 800352
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2962
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit f159e2247b58441449ad8da13ddf5cc5d3887b93
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Mar 16 22:10:02 2012 +0530

    cluster/afr: set_read_child when xactions in progress in fresh lookup
    
    Change-Id: I33e0268635ae7a1f247b0052994e027f990083da
    BUG: 800755
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2963
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 7cc412c7a2d2e4a6c7709b84bed75c10e5476244
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 15 16:04:10 2012 +0530

    mem-pool: more debug friendly logs by using gf_log_callingfn()
    
    Change-Id: I4d6e53ad8660314315f2ff3aa92ffbe707d6efe9
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 803638
    Reviewed-on: http://review.gluster.com/2951
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit e3a3912f890a73a13020acba86394125bb501b95
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Mar 15 11:52:07 2012 +0530

    afr: Copy loc->gfid independent of lookup being fresh or otherwise
    
    This change ensures that entry self-heal following a lookup on that entry
    would have loc->gfid 'filled'.
    
    Change-Id: If723c71ca43e1f062dcb99cbe5488342514dace0
    BUG: 786087
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2950
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit bf818f9a9e299475b09b85e28f3bca57f4a00624
Author: Rahul C S <rahulcs@redhat.com>
Date:   Sat Mar 17 18:32:04 2012 +0530

    Change option brick-with-valgrind to run-with-valgrind
    
    brick-with-valgrind does not make much sense because all the
    glusterfs/glusterfsd server processes are run with valgrind.
    So changing the option from brick-with-valgrind to
    run-with-valgrind.
    Also fix misspelt 'valgrnd' for valgrind log file namenames.
    
    Change-Id: I87aad6d65ffc37d8f8679be215709a9174385ecd
    BUG: 804293
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2965
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit a3c8c7be83a4be1cb3d89a187da05d9247cc4f07
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 15 10:51:12 2012 +0530

    cli/remove-brick: Enhance remove-brick status to display
    
    Rebalance status now contains info from all nodes.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I6208c9879927fb6ddc0713c1480feadcf4f3fd75
    BUG: 797887
    Reviewed-on: http://review.gluster.com/2949
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 3823d7ee14fca54e513d45374e882c6de64fd2a7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Mar 16 09:11:58 2012 +0530

    protocol/server: memory leak fixes.
    
    Change-Id: I203832d9d52373f068f90e30dc7672329d65bbea
    BUG: 803675
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2954
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit ca15758018b4da68da40c34f240de75b44cb49e9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Feb 23 15:43:58 2012 +0530

    cluster/afr: Enable eager-lock
    
    Eager-lock is disabled by default.
    Use cluster.eager-lock on/off to change the config.
    write-behind on and eager-lock off is not supported configuration.
    
    In afr, when eager-lock is enabled the inode lock on fd is taken
    using the fd address as the lk-owner. So the lock is
    interchangableale between the inode-locks on the same fd.
    
    Change-Id: I7eef1ecd510f8028f5395dee882782da53c0de3f
    BUG: 802515
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2925
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit cba2f84cd084fdf005977690dce3c54fa9f8b133
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Fri Mar 16 16:59:45 2012 +0530

    rpc-lib: memleak fix in rpcsvc_volume_allowed
    
    Change-Id: Iaa6baa4a3e036b2b5c808ea5e79017fffeb80a24
    BUG: 801754
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2956
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit fb406f942befbe48eec75043d89ecd0824f91dd6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Mar 16 16:25:07 2012 +0530

    protocol/server: add and remove the transports from the list, inside the lock
    
    Till now for graph changes, glusterfs client used to remember the old graph
    also. Hence the transport object on the server corresponding the old graph
    never received disconnect. But now since the graph cleanup is happening,
    transport on the server side gets disconnect for the cleaned up graph.
    
    Server maintains, all the transports in a list. But addition of the new
    transport to the list, or removal of the transport from the list is not
    happening within the lock. Thus if a thread is accessing a transport
    (in cases of statedump, where each transprt's information is dumped),
    and the server gets a disconnect on that transport, then it leads to
    segfault of the process.
    
    To avoid it do the list (of transports) manipulation inside the lock.
    
    Change-Id: I50e8389d5ec8f1c52b8d401ef8c8ddd262e82548
    BUG: 803815
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2958
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 178652106c5d731b24ddc9bb9bc1d8aae3952e2d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Mar 16 11:35:36 2012 +0530

    glusterfsd: Handle errors in response send
    
    Change-Id: I2d0a136fdfc4c86fb89cff5565efbf4af80e1edf
    BUG: 799265
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2961
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 6aab9d9602dc1ef62a2d1d63aa1764a062bf9d9f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Mar 3 17:28:17 2012 +0530

    protocol/server: Avoid race in add/del locker, connection_cleanup
    
    conn->ltable address keeps changing in
    server_connection_cleanup every time it is called.
    i.e. New ltable is created every time it is called.
    Here is the race that happened:
    ---------------------------------------------------
    thread-1                        | thread-2
    add_locker is called with       |
    conn->ltable. lets call the     |
    ltable address lt1              |
                                    | connection cleanup is called
                                    | and do_lock_table_cleanup is
                                    | triggered for lt1. locker
                                    | lists are splice_inited under
                                    | the lt1->lock
    lt1 adds the locker under       |
    lt1->lock (lets call this l1)   |
                                    | GF_FREE(lt1) happens in
                                    | do_lock_table_cleanup
    
    The locker l1 that is added just before lt1 is freed will never
    be cleared in the subsequent server_connection_cleanups as there
    does not exist a reference to the locker. The stale lock remains
    in the locks xlator even though the transport on which it was
    issued is destroyed.
    
    Change-Id: I0a02f16c703d1e7598b083aa1057cda9624eb3fe
    BUG: 787601
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2957
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 5e50175f56d05ab6c1295b0e0f0c11695e49c277
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 15 14:00:13 2012 +0530

    core: bring a cmdline option to set memory-accounting
    
    currently this is implemented as a command line option, and not
    as an easier translator option. this is because as of now, before
    even the volume files are parsed, we would need memory accounting
    enabled. there is scope for improving this behavior, but for now,
    this approach solves the problem.
    
    Also, this feature's major consumers are the testers who are
    looking for leaks, hence option is hidden from usage output.
    
    Change-Id: I09a5b13743ae43ff42c251989f921319e94cabe3
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 799199
    Reviewed-on: http://review.gluster.com/2856
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit eb8a9aae19755bc21afe2d8ed4893b788c4e84ff
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 1 17:25:12 2012 +0530

    core: dict allocations through mem-pool
    
    Change-Id: I7401639060957d437808779745a1e46c3f9f4585
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 798503
    Reviewed-on: http://review.gluster.com/2851
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d05708d7976a8340ae7647fd26f38f22f1863b6a
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 14 15:35:51 2012 +0530

    dht: Rebalance status should display status from each process
    
    Change-Id: Id128417219bdb7146253618a5f8f31ef35013894
    BUG: 801322
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2942
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 212d739886cde04ca79f58915a84b6ed09eec00b
Author: krishna <ksriniva@redhat.com>
Date:   Tue Feb 28 13:28:31 2012 +0530

    remove code that was part of hard resolution which is not needed anymore.
    
    Change-Id: I9321745a40765eff048a656a7885f12847a0a318
    BUG: 781318
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2830
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6826e046157a6ea1a07ba2a38a1825b05eb0b666
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon Feb 27 05:41:17 2012 +0100

    glusterd/mountbroker: enhance mountbroker-geo-replication.* option to take multiple volumes
    
    Comma can be used in the value of a "mountbroker-geo-replication.*" option
    with semantics as of these examples:
    
      option mountbroker-geo-replication.foolabel vol1,vol2,vol3:geouser
    
    and
    
      option mountbroker-geo-replication.geouser vol1,vol2,vol3
    
    will allow geouser to mount any of the volumes vol{1,2,3} with params of a
    geo-rep aux mount under label foolabel, resp. geouser
    
    Also fix memleak in parsing of this option.
    
    Change-Id: I5311388812f503a078a52a14f2679f5ddb33b248
    BUG: 765214
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2818
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 48adf93423ba52f2a0e6d9d59060e6f2f1aa203c
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Mar 12 17:34:32 2012 +0530

    afr: Corrected getxattr 'key' matching in case of clrlk cmd
    
    - Added local->dict cleanup into afr_local_cleanup
    
    Change-Id: Ie1b96615735a9d2a2be1757cd016dbe225aae31c
    BUG: 800412
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2922
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bf65ae4fef113d78b7555db8520cd9f64817eda2
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Mar 14 18:28:09 2012 +0530

    glusterd: Fix brick op to prevent glusterd crashing
    
    Was building payload only for node types GD_NODE_BRICK & GD_NODE_NFS.
    Payload wasn't being built for nodes GD_NODE_SHD & GD_NODE_REBALANCE, which made
    glusterd crash when those operations were performed.
    
    Also fix a compile warning.
    
    Change-Id: Id33e21c84901d4d112c54514b7f16add31aeb950
    BUG: 803313
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2946
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 160ff641157359dc60d1a37652ef449b3c21ebad
Author: krishna <ksriniva@redhat.com>
Date:   Thu Mar 8 17:11:42 2012 +0530

    rpc: log in DEBUG when nfs clients try to see if ACL requests are accepted by nfs server
    
    Change-Id: I897b48a02ce2150d268a1a8b45163e9e1aee6cff
    BUG: 801338
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2901
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 152bf376b51a896f65470a65d8e9410f19d8689b
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Mar 13 16:58:04 2012 +0530

    rpm spec file: update the 'logrotate' config file during rpm install
    
    so there is no need for admin to worry about logrotate configs.
    
    Change-Id: Iec6def870d0c3550f2642ade023c03de52d6d530
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 801372
    Reviewed-on: http://review.gluster.com/2935
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit aa0f68aa8ec38808a83553abde8d8211047e7b4e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Mar 12 21:06:45 2012 +0530

    nfs: do not call inode_path on the newly created inode
    
    While resolving, for building the path into the loc, inode_find
    is called with gfid as argument to get the inode from the inode
    table. If the inode is not found, then a new inode is created.
    Then the path is build using inode_path. But if the inode is
    not linked to inode table (newly created inode), then gfid will
    be null and inode_path returns null gfid as the path. Suppose the
    lookup operation on that gfid fails, then we print the null gfid
    in the log message.
    
    To avoid it, build the path using the gfid only if inode_path
    fails.
    
    Change-Id: I2506fa8675761ddb0bc02980cd3583d9d068fc85
    BUG: 802424
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2930
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7bd561996d5a32071942b598739b130e020f89ee
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Mar 12 13:15:14 2012 +0530

    locks: Fixed incorrect list ptr manipulation in clearing entrylks
    
    Avoided unwinding blocked entry lock frames inside pl_inode->mutex.
    
    Change-Id: I424c4a1762c889c1a567c588d4ca383a6c338886
    BUG: 800412
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2878
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 84ef0ec98763c1ce92d0cc24d29d9953bb6bd3f1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 14 16:01:20 2011 +0530

    performance/io-cache: cleanup the xlator private data completely in fini.
    
    Change-Id: Ib8859c57e89248ccaad94662f88944e79ec28d5a
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/791
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1e5653165a97999288cbf40e670d6c84a31ad3f6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 5 15:15:04 2012 +0530

    fuse-bridge/graph-cleanup: don't provide a cbk for cleanup syncop task
    
    without a cbk, syntask_new returns only after the task is complete.
    Hence we don't have to wait on a conditional variable in the caller.
    
    Change-Id: Ie83894aa6fc02cc3a973930e67ae2b35de3b7647
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2870
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a059bc30561a3046e255ba1e6ad54b09f0b03636
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Mar 8 01:26:29 2012 +0530

    cluster/afr: handle sending NULL dentry name for inode link in self-heal-daemon
    
    * Without the dentry name, dentry cannot be created in inode_link, which
     leads to trying to access the null dentry to check if it is cyclic and
     thus segfault. So send the parent inode also NULL, which just returns
     the proper inode after assigning the gfid and type to the inode without
     trying to create dentry.
    
    * Handle failures such as dentry_create returning NULL, in inode_link
      properly and return NULL in such cases.
    
    * Increase the lru limit of inode table of self-heal-daemon to 2048
    
    Change-Id: I7ae0e0e9be279d1694b6aafb5e054585e43f03ff
    BUG: 801149
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2893
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f9be1e7c665be0507e431cb42cd55032807bd3ea
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 14 16:06:21 2011 +0530

    performance/read-ahead: cleanup xlator private data completely in fini.
    
    Change-Id: I3bb143036557d7d3844dc825f6870140e414f85a
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/792
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7161d0995c937c1712d29a04356a11ca51e9ce07
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 14 15:47:01 2011 +0530

    performance/quick-read: implement fini
    
    Change-Id: I92d4e7ded470b0e97b699656a890bab8c113bf4f
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/790
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 29a3dc028d2847bd8421b23b7c7ee5419bd30392
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 12:53:01 2012 +0530

    mgmt/glusterd: provide an option to make a volume read-only
    
    this can be triggered by "gluster volume set <VOLNAME> read-only on",
    which adds read-only translator on server graph, thus making the
    volume read-only.
    
    Change-Id: Iee32e6b2f3022d16016534914a5198d1cd327e25
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 798877
    Reviewed-on: http://review.gluster.com/2915
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit eae8a469e7172380dd9c820405e7528a0ec33bad
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 14 10:14:18 2012 +0530

    performance/io-cache: store op_errno in page.
    
    This will enable us to pass appropriate op_errno indicating EOF even
    during cache-hits.
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    
    Change-Id: Ib239b5de9b8fca2bd8eb5ec87c93f2cb1c11a99c
    BUG: 795789
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2939
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c0b3ba9b3b65de88628a36cc51d2864ec72de0d0
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Mar 14 14:16:08 2012 +0530

    glusterd: Checked if peer is connected and 'handshaked' before sending updates
    
    Change-Id: Ia57378d5c81b263d6fcbc9d54ccc7fb138d83d8e
    BUG: 801731
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2941
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 404e8f27d3a9e950173e02151eccbb792615e535
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Mar 13 13:54:11 2012 +0530

    distribute-rebalance: fix the logic of ENOENT handling
    
    due to this, we were missing the entries from the last subvolume of
    distribute for all the rebalance or remove-brick operations
    
    Change-Id: I486f15c1d3d17cbf6f353f6179b2623af61f4868
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 770346
    Reviewed-on: http://review.gluster.com/2933
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 90333660ce4dd1fc94aa8f6b30c085d354f6693e
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Mar 13 17:26:13 2012 +0530

    storage/posix: don't allow rmdir()/lookup() on HIDDEN_DIRECTORY
    
    so that we won't even have a GFID set on the GFID dir itself.
    
    Change-Id: I65be7d675a308f51f4c62a86499341412b20c47f
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 802726
    Reviewed-on: http://review.gluster.com/2936
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 718a8ab91f6b9bd84da52c2029707f48e9fecaa4
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Mar 13 13:13:11 2012 +0530

    rpc-lib/rpcsvc: nfs auth corrections
    
    in comparing ip addresses during authentication,
    we need to take only the ip address of the client
    instead of the transport endpoint (ip:port).
    
    Change-Id: If48eca37edea1d69deb150720fbaea0ea2443a00
    BUG: 771845
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2929
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 91b4c34805f69c30c4730352eee873cee0dc17ee
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 18:07:09 2012 +0530

    nfs: no need to recalculate the 'ino' from gfid
    
    it is guaranteed to be sent properly from posix layer itself now
    
    Change-Id: Ifbbf558f3bcfa609bf107a75c692003ca261ac0a
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 800831
    Reviewed-on: http://review.gluster.com/2923
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit daa7cb945027e6564068310a9b857d0eb4ec1779
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Mar 14 12:15:05 2012 +0530

    glusterd: file perm change for glusterd.info
    
    this is need for the vdsm gluster plugin, changing
    glusterd.info file's permission to 644 from 600.
    
    Change-Id: I9de39f1b8b31a6c2f448e2ff6601eb270d042343
    BUG: 802217
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2940
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b61103d7ea35a2ea190465c836fe0d22f9f6f8c1
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri Mar 9 09:38:36 2012 +0530

    core, cli : Changes to statedump
    
    This patch,
    * Enables missing inodectx, fdctx dumpops for cli statedump command.
    * Reintroduce changes introduced in statedump.c by 489a7a10 which were
      overwritten by db20a0f8.
    * Change strncasecmp() in gf_proc_dump_parse_set_option() to strcasecmp()
      to properly parse similar options like fd-fdctx, inode-inodectx
    
    Change-Id: I85ad854dce73048617b933d29cf360af9d0ed90a
    BUG: 797788
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2914
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 84da099ed321621928f11fe9cd164a4b0cfe1883
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 14 09:58:05 2012 +0530

    features/marker: Nameless lookup related fixes
    
    while filling a loc structure, marker should not error out if loc->name
    is NULL or loc->path is just a gfid.
    
    Change-Id: Ie3a9cffde2d17da0377f1e41de93b099a9133abe
    BUG: 801364
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2938
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit a476aba5b0368c3bc649db319ee748ae410144d9
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Feb 27 12:41:24 2012 +0530

    cli, glusterd, nfs: "volume status|profile|top" for nfs servers
    
    Enables usage of volume monitoring operations "volume status", "volume top" and
    "volume profile" for nfs servers. These operations can be performed on
    nfs-servers  by passing "nfs" as an option in cli. The output is similar to the
    normal brick outputs for these commands.
    
    The new syntaxes for the changed commands are as below,
     #gluster volume profile <VOLNAME> {start|info|stop} [nfs]
     #gluster volume top <VOLNAME> {[open|read|write|opendir|readdir [nfs]]
                   |[read-perf|write-perf [nfs|{bs <size> count <count>}]]}
                   [brick <brick>] [list-cnt <count>]
     #gluster volume status [all | <VOLNAME> [nfs|<BRICK>]]
              [detail|clients|mem|inode|fd|callpool]
    
    Change-Id: Ia6eb50c60aecacf9b413d3ea993f4cdd90ec0e07
    BUG: 795267
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2820
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit fcb5ebde1e84da871a7f43df9ecbce7d1d1de435
Author: Brian Foster <bfoster@redhat.com>
Date:   Thu Mar 8 16:11:58 2012 -0500

    system/posix-acl: fix reference counting in posix_acl_readdirp_cbk
    
    unref. the acl pointers from posix_acl_get()
    
    Change-Id: I1247f64ceded17bfa204d1b899ec56a27bef0cdb
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    BUG: 801183
    Reviewed-on: http://review.gluster.com/2904
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 61a550b77b776145d45025467f3fa6e9040bc2e0
Author: Brian Foster <bfoster@redhat.com>
Date:   Wed Mar 7 14:56:19 2012 -0500

    system/posix-acl: fix acl inode assignment in posix_acl_readdirp_cbk
    
    If an entry includes no ACL returned via dictionary, it is possible
    to skip down to acl_set without updating acl_access and/or
    acl_default. If either are set from the previous iteration, the
    unrelated ACLs are set to the current entry. Use a single set of
    pointers to ensure that valid ACLs are always set.
    
    Change-Id: Ia94887ded91845bc39d4d5e95ef00d190681e517
    BUG: 801183
    Signed-off-by: Brian Foster <bfoster@redhat.com>
    Reviewed-on: http://review.gluster.com/2903
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit fa5b0347193f8d1a4b917a2edb338423cb175e66
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Mar 10 00:54:12 2012 +0530

    protocol/server: Remove connection from conf->conns w.o. race
    
    1) Adding the connection to conf->conns used to
    happen in conf->mutex, but removing happened under conn->lock.
    Fixed that as below.
    When the connection object is created conn's ref, bind_ref count
    is set to '1'. For bind_ref ref/unref happens under conf->mutex
    whenever server_connection_get, put is called.
    When bind_ref goes to '0' connection object is removed from
    conf->conns under conf->mutex.  After it is removed from the list,
    conn_unref is called outside the conf->mutex.
    conn_ref/unref still happens under conn->lock.
    
    2) Fixed races in server_connection_cleaup in grace_timer_handler
    and server_setvolume.
    
    Change-Id: Ie7b63b10f658af909a11c3327066667f5b7bd114
    BUG: 801675
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2911
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4a37d78da3fef69f0074cab3ff71182a68876358
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Mar 13 16:48:58 2012 +0530

    glusterd: Updates on members of cluster must include peer to-be friended
    
    Updates about members of cluster must be sent to the peer to-be friended.
    
    Change-Id: I56745885d75af7c609227ba8582da1bb07c1b894
    BUG: 801731
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2934
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8c7549f9094d99d679de447230edaa5040db3e92
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Mar 5 19:04:49 2012 +0530

    cli: More xml output changes
    
    * Added xml output for "volume quota" which was missing.
    * Fixed xml output for "volume info all" so that it contains only one xml
      document
    * Fixed no xml output for normal "volume status"
    * Fixed normal output for "volume set"
    
    Change-Id: I3d85b6800e428226f2970d669e38e4331c99a218
    BUG: 799957
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2868
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6a8fcff3fb6955162dc4eeaeaa627bb31311627e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 12 14:22:01 2012 +0530

    features/quota: store quota context even for the cases where loc.name
    is NULL
    
    with name-less lookups, loc.name is NULL.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Change-Id: Ie3914924896c90a7fb7251cb0184c8e561ef7f4f
    BUG: 801364
    Reviewed-on: http://review.gluster.com/2917
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 2056df6f5e9ae7ccc6bb1b8f0b036f206b218999
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Mar 9 12:36:49 2012 +0530

    core: Made lkowner_unparse use 'type-safe' format-specifier
    
    Change-Id: Ibd39edb5fccef525f7f0929401f7329508c59ced
    BUG: 767229
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2907
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 05318789c5dbc92634a03e355acddbffb122b64e
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 18:28:31 2012 +0530

    glusterfsd: handle a case of NULL dereference during rebalance
    
    Change-Id: I9dbe1235f9b5eb7dd43c92bd46830ed9e5734768
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 801787
    Reviewed-on: http://review.gluster.com/2924
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 58776c0800ab146b1dd9a8461a98ca719afff6ef
Author: Amar Tumballi <amarts@redhat.com>
Date:   Sat Mar 10 19:59:07 2012 +0530

    iobuf: add a counter to keep track of request misses
    
    requests can be denied if the size of the request is higher than the
    available sizes.
    
    Change-Id: Id1bf2a56de799ccb94f3791899f2e33f68cd1e2b
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 802047
    Reviewed-on: http://review.gluster.com/2913
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 08cc17a5528d0194bdb835e05e3950d5516274c3
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 17:24:33 2012 +0530

    glusterd: minor log fix in handle probe query
    
    now prints the destination hostname instead of self.
    
    Change-Id: If73158c36780d597a67ec9185d99083764966c04
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 802265
    Reviewed-on: http://review.gluster.com/2920
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c8e7ec5e24613d8a20cd06d9e1b70e9386a889c4
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 12 13:00:45 2012 +0530

    protocol/client: remove unused variables from 'priv/conf'
    
    'last_sent', and 'last_recieved' variables were not used anymore
    after having RPC layer. Hence removed it from the code.
    
    Change-Id: I1ba74d47f909406ebde43476ccfed724e6c7e77f
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 801721
    Reviewed-on: http://review.gluster.com/2916
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit afae9366d220d79fb8b0b1ab96f0e95d25dc4a90
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Feb 24 15:23:08 2012 +0530

    cluster/afr: save the xattr obtained in the {f}xattrop_cbk in local
    
    If the {f}xattrop operation succeeds on one of the subvolumes and fails
    on another (thus the xattr dict obtained from the failed subvolume in
    the callback will be NULL), then afr would be unwinding with op_ret = 0
    (since the operation was successful on one subvolume), but the xattr dict
    would be NULL (afr is not saving the xattr it has received in the callback
    in its local structure and will send the xattr it has received in the last
    callback). xlators above afr might segfault when they access the xattr since
    they would have assumed that xattr would be present as op_ret is 0.
    
    Change-Id: I50761a302150285f31dfdaa397f890c9370a989a
    BUG: 797119
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2813
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c9322f64cc4b8c661cf282bf1a2b08e0d6567b16
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Mar 12 14:26:36 2012 +0530

    glusterd: Peer(s) mustn't send updates about members not yet in cluster
    
    Also, peerinfo is added to peers list synchoronous with the request triggering
    it. This ensures that atmost one request sees that the peer (in question) is
    not in peers list.  Earlier, 'concurrent' handle_friend_update requests would
    see that a particular peer is not in the peers list yet, as the addition of the
    'peer' into the list happened asynchronously, on the 'connect' event of the
    'peer'.
    
    Change-Id: I6f017fb43079862fbe5ae7db8f9f4e4fefaa091d
    BUG: 801731
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2918
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e7d9f599ee52408819be649ef41ffc00c77e785e
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Feb 29 12:41:55 2012 +0530

    cluster/stripe: Readdirp - send aggregated block_size in stat
    
    Change-Id: Iee83a355ab767acac89b11d0a5add8527fc387a7
    BUG: 797308
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2833
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 152a0194e736e073d96fedd980b976cc1f1d4df8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Mar 10 17:22:55 2012 +0530

    Print non-zero timestamps in statedump
    
    Change-Id: I686842bc0934128b825828066f613c2a6280ceb9
    BUG: 801689
    Reviewed-on: http://review.gluster.com/2912
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7157a2cf42c4cf7c2ec2805e0732b49ebabd975e
Author: M S Vishwanath Bhat <vishwanath@gluster.com>
Date:   Sat Mar 10 15:51:22 2012 +0530

    posix_fill_readdir: Using strcmp to compare GF_HIDDEN_PATH with entry->d_name instead of strncmp.
    
    Change-Id: I29b6fc81213e52a697ed96559c3216c5512799ed
    BUG: 802005
    Signed-off-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-on: http://review.gluster.com/2910
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit b596986ca43b2acd83debe3c77607cc4e8ff1dc6
Author: krishna <ksriniva@redhat.com>
Date:   Thu Mar 8 16:38:36 2012 +0530

    nfs/nlm: logging NFS client IP address when FH->volume mapping fails or when resolve_and_resume fails.
    
    Change-Id: Ia89113f46c1d7c9ed629e9dc0ff0779c41ed947f
    BUG: 765259
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2900
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ef108d4fa77fd9aba48a7b9475c9b72352c16e6a
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Fri Mar 9 12:44:05 2012 +0530

    protocol/client: Register a timer(grace-timer) conditionally.
    
    A grace timer is registered on a disconnect, but a reconnect timer sends a
    connect request after every 3sec and if the server is down, the client protocol
    receives disconnect and a grace timer will be registered which on timeout will
    increase the lk-version value. Its enough to register the grace timer once after
    the disconnect and later just ignore other psuedo disconnects.
    
    Change-Id: I36a153aa86b350d87fe50d014ee0297f558a7fb6
    BUG: 795386
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2906
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 56ec59a465c4a4a34bac3a785964c2517570898b
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Feb 22 08:11:57 2012 +0530

    glusterfsd: fix some option definitions
    
    VOLUME_NAME used earlier in option definitions are confusing with
    glusterd specific volumes. It should be translator name in volume
    file.
    
    Change-Id: Id4d86c8def65aa6ff1346ef49f8b20ea428de615
    BUG: 788437
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/2789
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f75277b12af4c7e72c448480feec0d0e2e6582cd
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 7 17:48:12 2012 +0530

    features/locks: Make inodelk ref-counted
    
    Ref when the object is allocated.
    Unref after the response is submitted to that inodelk.
    
    Ref when the lock is granted.
    Unref when the lock is unlocked.
    
    Change-Id: I2bfe9182b67bea7dc7b9d0ed9f99f1c7fa0b8a3c
    BUG: 783449
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2891
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7afa2747234778be3f2cffb860a8c48286dde566
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Mar 6 11:26:17 2012 +0530

    nfs/server: allow deletion of files by default
    
    this is needed for Micrsoft Windows-based Nfs clients
    which do not ignore ACCESS3_DELETE permission not being
    granted, while linux/unix systems ignore the same.
    behaviour on linux/unix systems remains unchanged
    
    Change-Id: I67f5f66a7486b93163aebedec5fbaa303173964e
    BUG: 790781
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2875
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3193c56b7e3d0be9713138784b1a6477136add9e
Author: krishna <ksriniva@redhat.com>
Date:   Fri Mar 9 09:43:18 2012 +0530

    nlm: support ipv4 only
    
    Change-Id: I0d8381b7d4da0e961677cca63d6d2c82836c1632
    BUG: 800735
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2909
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 17111383828b44bf8f437aef76870c2c01fdd946
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Mar 9 10:05:48 2012 +0530

    cluster/dht: Replace ftruncate call with truncate in rebalance
    
    ftruncate call seems to be broken as of now (marker).
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: Ib49ced0471e1b8e9ee411eb5a9ff1b83c4d82bec
    BUG: 801658
    Reviewed-on: http://review.gluster.com/2905
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 5b290bc6e3df76bea04c11cb15643173c33455bd
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 8 22:17:46 2012 +0530

    syncop: Make syntask scalable
    
    At the moment, synctask uses task->frame to perform
    all the syncops, this will lead to high-memory usage if the task
    crawls millions of directories. i.e millions of STACK_WINDS/UNWINDS.
    To prevent this, in each task a new stack is created to perform
    the fops which is reset after every syncop.
    
    Change-Id: I53c262ec348be9b1d91af73da01f1c217f31ce6e
    BUG: 798907
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2850
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit bc10ade1cff9d6cd3b3528ec6c845efadc722481
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 7 21:02:16 2012 +0530

    performance/io-cache: pass appropriate op_errno even during successful
    reads.
    
    An op_errno equal to ENOENT with op_ret equal to zero is used by
    storage/posix xlator to indicate EOF. NFS relies on this protocol
    for correct functioning.
    
    Change-Id: I136fbf429a829bd7bd75ce8ce236f9557a418a5d
    BUG: 795789
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2894
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 204ab142977163f634cbf4ec92be58754225504a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Mar 8 07:45:15 2012 +0530

    performance/io-cache: move mem-pool initialisation to init.
    
    mem-pool is global structure which is stored in ioc-inode-table and hence
    can be initialised in init.
    
    Change-Id: I4bc88fe3e8c729312e41f62c98f665af5fb26a62
    BUG: 765340
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2895
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9ae2f79879b295639b55411c5339eba04e627345
Author: Venky Shankar <vshankar@redhat.com>
Date:   Thu Mar 8 14:51:02 2012 +0530

    xlator/lib: fix spurious STACK_UNWIND
    
    Change-Id: If37eba97710fc79713f70c4117015d49f93ad137
    BUG: 801285
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2898
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5fdd65f5f4f5df1d28b0fb4f7efed226d5db1b3c
Author: M S Vishwanath Bhat <vishwanath@gluster.com>
Date:   Fri Feb 24 13:18:56 2012 +0530

    renaming hdfs -> glusterfs-hadoop
    
    Change-Id: Ibb937af1231f6bbed9a2d4eaeabc6e9d4000887f
    BUG: 797064
    Signed-off-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-on: http://review.gluster.com/2811
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e1ab347720f25ed2e7db633a7202f7b873f4b90a
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Mar 7 05:29:41 2012 +0100

    cleanup and fix xattr namespace flip
    
    - function of actual flipping made static
    - clean out references to particular namespaces from flipping logic
    - namespaces involved in flipping defined at single location
    - fix fnmatch(3) invocation with reversed pattern and string arguments
    - instead of "user", use "system" to flip from, because latter is
      free from supervision of the VFS layer (cf. attr(5))
    
    Change-Id: I3cc5836fadcad5b237fd5c67d0dcaea63aee9164
    BUG: 798716
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2890
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 33e9f9da8546dc57ecf6b3705f6b6474150ec78c
Author: shishirng <shishirng@gluster.com>
Date:   Tue Mar 6 18:55:37 2012 +0530

    glusterd/rebalance: Bring in support for parallel rebalance
    
    This patch, enables rebalance processes to be started on all
    nodes where the volume is spread across (1 process per node)
    
    node-uuid xattr identifies which node takes ownership of the
    task to migrate the file. The model employed is push (src pushes
    to dst)
    
    Change-Id: Ieacd46a6216cf6ded841bbaebd10cfaea51c16d6
    BUG: 763844
    Signed-off-by: shishirng <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2873
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f6a779ffc5b515163995dc2d240c3271cc6bceeb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 7 17:34:37 2012 +0530

    features/marker: GFID file handle based backend related fixes
    
    * make sure loc->gfid is filled.
    
    Change-Id: I5304e650d9fc181ee1f3b65be7f2ff3847d9722e
    BUG: 790389
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/2888
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 57a51c734408e9439640d215795f7d2188f2383b
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Sun Mar 4 00:01:17 2012 +0530

    glusterd: Append internal mount logs of clear-locks command to a single file
    
    To ensure logs of all clear-locks commands executed from a
    'peer' (glusterd) are in one place.
    
    Change-Id: I9f531a1e24d4502769740010da73b3d4adb5c5c9
    BUG: 799267
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2861
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit fe7d9a874d50fe51e26f6ac9293026534b8f22a1
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Mar 7 15:13:04 2012 +0530

    cluster/distribute: fix log level of few messages
    
    Change-Id: Ibdeeb705e75a94bb96a1ae259be32ddd2ca5fec8
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 797715
    Reviewed-on: http://review.gluster.com/2885
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8e29fe73b96f1feb3cc4093eb2e71c7c92be4a31
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Mar 7 23:45:47 2012 +0530

    libglusterfs/fd: fixed fd_anonymous() leak
    
    fd was getting leaked whenever there was a overlapping operations,
    which caused memory leak, and process fd leaks, which made most of
    the operations on NFS mount of a replicate volume not work. With
    the fix, things are back to normal.
    
    Change-Id: I2d2158b2972ba5dae270d6ff7b1a827403653c04
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 787368
    Reviewed-on: http://review.gluster.com/2892
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 63281d7eeb5b8ac44e3630ccfbc61774eedf2ae2
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Mar 7 00:19:29 2012 +0530

    protocol/client: Added lk_ctx info in fdctx dump
    
    - Added a brief explanation as to why we can't use gf_log
      when in statedump.
    
    - Removed gf_log messages from client_priv_dump since
      it can cause a 'deadlock' - See statedump.c for explanation
    
    - Added try-lock based accessors for fd_lk_list for dump purposes.
    
    Change-Id: I1d755a4ef2c568acf22fb8c4ab0a33a4f5fd07b4
    BUG: 789858
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2882
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ac568d561ba15a148d8de6a3d4431714bce230f6
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 5 23:54:51 2012 +0530

    cluster/distribute: send proper 'dict' in readdirp()
    
    if we do the STACK_WIND from readdirp_cbk(), we were not sending
    the right dictionary which made our linkfile determination a
    failure.
    
    Change-Id: Ie3f26748608f1a81123fe475d8a42bf2717475c3
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 799887
    Reviewed-on: http://review.gluster.com/2869
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit ebbc6e802bbffc9c0fd03db1cafefcaaca3a0f05
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 7 16:03:32 2012 +0530

    protocol/client: Free readdirp xdr leak
    
    Change-Id: I5e46deedd93e852a483693de42e4bec0082bc08b
    BUG: 796186
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2886
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 1e22ab9d218405f5081a30e90c4541e43243a216
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Wed Mar 7 14:16:07 2012 +0530

    nfs: fcntl lock self healing.
    
    Change-Id: Ic3e00e8ea3b873acbc3abb5155aecdaac848a3e5
    BUG: 795386
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2884
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>

commit 0d99aa113d42d96b35e5bc477349b28ef161c4af
Author: krishna <ksriniva@redhat.com>
Date:   Tue Mar 6 15:52:34 2012 +0530

    nlm: call nlm4_cancel_fd_resume instead of nlm4_unlock_fd_resume when CANCEL proc is called.
    
    Change-Id: Id4c74165f24cccb46ca5de406dd7e47e4a8b99e1
    BUG: 798222
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2877
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 293aa0b9a08da1c4703ddd992a2e03d53ec84cc5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Mar 7 00:30:17 2012 +0530

    xlator/lib: Drain out sent requests to avoid multiple STACK_UNWINDs
    
    Change-Id: If28e4b6e157ac0cb9e1f325bbba39f6c3f1c2b45
    BUG: 789078
    Reviewed-on: http://review.gluster.com/2881
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 228d01916c57d5a5716e1097e39e7aa06f31f3e4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Mar 5 16:05:12 2012 +0530

    glusterfsd: Don't reconfigure if process does not know volfile server
    
    Change-Id: I09e5527bb1496e0029d73f08dd7892d74df93084
    BUG: 799882
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2865
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit e435faeae8bdedbfcdeae6a37e51b913b7c7ff00
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Mar 2 13:26:36 2012 +0530

    cluster/afr: handle node failures in lookup
    
    When a transaction is in progress lookup depends on inode ctx
    for read-child. If the lookup fails on the read-child while
    another transaction is in progress, it should select the
    read-child as the next success_child which is in fresh_children.
    
    Change-Id: I33a04b102966b63a64bacf8d2e29f0d0119fdac6
    BUG: 773225
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2858
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 347b4d48cba3cc1e00d40ec50e62497d65a27c84
Author: Rahul C S <rahulcs@redhat.com>
Date:   Thu Feb 23 16:51:59 2012 +0530

    cli: Fix volume statedump cli output typo
    
    Change-Id: I1363123d13fa4364e917344fdd928ac48b85326c
    BUG: 796617
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2807
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit b7dc6b4df748d890d6b76c613f4911c4bd5947eb
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Feb 27 16:08:56 2012 +0530

    glusterd: Rename nodes in "volume set help-xml" output
    
    Change-Id: I44bbfb6e78a459783d7d5bbccda6bbbd3ec1e391
    BUG: 791054
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2823
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0783ca994d9ea95fd9ab3dd95d6407918f19f255
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 1 12:34:56 2012 +0530

    cluster/afr: Reset re-usable sh args in sh_*_done
    
    The bug is observed due to stale value of active_sink count
    set in metadata self-heal.
    
    Change-Id: I41996999213c323c0f4d4db575d87b2d0b4b3fec
    BUG: 798874
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2849
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5d813bb5fa005d15de47ba0cde0af7bda6bd9995
Author: Amar Tumballi <amarts@redhat.com>
Date:   Mon Mar 5 14:17:57 2012 +0530

    rpc-clnt: print xid of the saved frames getting unwind
    
    so that one can match the corresponding submit failed errors in
    brick logs
    
    Change-Id: I4422805a20c251aeffb51d63572c251176b2620c
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 799337
    Reviewed-on: http://review.gluster.com/2864
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6756245b1514374712136c8dc1f4ac2a19a6da21
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Feb 29 15:16:53 2012 +0530

    fops/removexattr: prevent users from removing glusterfs xattrs
    
    * Each xlator prevents the user from removing xlator-specific
      xattrs like trusted.gfid by handling it in respective removexattr
      functions.
    
    * For xlators which did not define remove and fremovexattr,
      the functions have been implemented with appropriate checks.
    
    xlator         |     fops-added
    _______________|__________________________
                   |
    1. stripe      |     removexattr and fremovexattr
    2. quota       |     removexattr and fremovexattr
    
    Change-Id: I98e22109717978134378bc75b2eca83fefb2abba
    BUG: 783525
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2836
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 33b9f156e6b6137e33bd9becfe640166986ecc55
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Feb 29 10:20:54 2012 +0100

    glusterd: mountbroker-geo-replication.* fix
    
    mountbroker-geo-replication.* option's value was always
    discarded due to bogus control flow
    
    Change-Id: I5ec57dd0db9502ba088c42e07e32ac3e15317ce5
    BUG: 797702
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2835
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit 5b9d47a3a39fac39e3fbccd4083f2f45c9ce5b49
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Feb 29 10:21:03 2012 +0100

    geo-rep / syncdaemon: determine suitable xattr namespace based on privilege
    
    Change-Id: I91fe16d7e5e4c21f138eab4ee0b9334aec40e41b
    BUG: 765433
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2838
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Venky Shankar <vshankar@redhat.com>

commit eb3bab1c6d391131cdff48a458fbfec2f53d7c6c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Mar 4 23:45:26 2012 +0530

    glusterfsd: Unref iobuf after using it
    
    Change-Id: Ieefc08d9af2125fabc2a86e5ff3a933aec539da0
    BUG: 799882
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2866
    Reviewed-by: Raghavendra G <raghavendra@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 7fec9b41d8e1befa8d58a76d98207debddd60b65
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Mar 3 00:01:23 2012 -0800

    Revert "afr: [Un]Set the 'right' lkowner for [f]{inode|entry}_lk and the 'enclosed' fop."
    
    This reverts commit 2e80fdbeb6abbb23ff6789c2b98c82704883af0a.
    
    Change-Id: I417fd43e4195d63e5b8b83dd3beb712887130e1e
    Reviewed-on: http://review.gluster.com/2860
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit aaac9cf176b407f89a1e8015140916b3f9d3cddb
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Mar 1 00:17:21 2012 +0530

    Refactor xlator/lib for better readability & maintainability.
    
    Change-Id: I6468462ae2bbc05c1dd6c2aea66b440aa7cfdd09
    BUG: 789078
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2845
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit f822d76d5a247ea6ba7375a35cb72b63fa413005
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Mar 2 15:34:51 2012 +0530

    cluster/afr: copy the parent's gfid from child loc while building parent loc
    
    Suppose the process is not a fuse or nfs mounted client, and some other process
    such as rebalance, then after lookups inode would not be linked to the inode
    table (since the inode was created for rebalance purpose only), thus keeping
    inode's gfid NULL.
    
    And afr while building the parent loc using child loc, does not copy the
    pargfid present in child'd loc structure. protocol/client will search for
    the gfid either in loc or in loc->inode and assert if it cannot find the
    gfid in either of them.
    
    Change-Id: I882e449fb8b79d5c69e4a942abcd844dc4d5d30c
    BUG: 799262
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2857
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 71cffc0b66b849306778515d385083b9f78857f5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Mar 2 00:54:12 2012 +0530

    Fix memory leaks found in readdir
    
    Change-Id: I0e221e4de9ee12586b09cd8bf7f394e9d4b88a11
    BUG: 765785
    Reviewed-on: http://review.gluster.com/2853
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0d62b3e4cd9de73b0cb7e54f904eefe27581cf4d
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Thu Mar 1 22:34:59 2012 +0530

    protocol/client: Calling GF_FREE on memory allocated via GF_CALLOC.
    
    This is a temporary fix. A clean fix would be to allocate memory using mem_get0
    and free via mem_put.
    
    Change-Id: I6351ab22c2f05ba8fa4aaad67f375027df873807
    BUG: 796656
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2852
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 316e694d53f20a76ee36654a9a865a493800dc3c
Author: Csaba Henk <csaba@redhat.com>
Date:   Wed Feb 29 10:21:09 2012 +0100

    geo-rep / syncdaemon: make the timeout for establishing the connection to slave configurable
    
    It can be set through the connection-timeout tunable but we keep it hidden,
    intended as a workaround for some special scenarios not for general use.
    
    Change-Id: I31f9fa3873afa7babc2106ee34484123a01bdc57
    BUG: 789078
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2839
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 326a7d04260c15f1b6e201621438844f8747b963
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 22:06:29 2012 +0530

    cluster/afr: Add new option to know which process it is in
    
    Afr xl needs to maintain inode-table inside the xl if it is in
    self-heal-daemon. The code was depending on the option
    self-heal-daemon to do this. This is wrong as the option can be
    reconfigured to on/off. Added a new option which can't be
    reconfigured for this purpose.
    
    Change-Id: Idc42c403c4bd9b73d1f328427ae4158ff1420b3a
    BUG: 795741
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2787
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 86f631f4283cba7185e5b1d5a3be4b9a614ed985
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Feb 23 14:46:04 2012 +0530

    protocol/server: Make conn object ref-counted
    
    Change-Id: I992a7f8a75edfe7d75afaa1abe0ad45e8f351c8b
    BUG: 796581
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2806
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f93045296870cb6938d9b4356a4f3198cbebe3ba
Author: Venky Shankar <vshankar@redhat.com>
Date:   Wed Feb 29 19:25:30 2012 +0530

    hdfs/plugin: Fix regex for parsing pathinfo string
    
    Change-Id: I3a5d78f39a15c8029cd40225013e9ac40beb9373
    BUG: 797116
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2844
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0978b5a36d379839ff543fd54612fde476deede7
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Feb 27 11:15:51 2012 +0530

    cluster/afr: Handle errors in build_parent_loc
    
    BUG: 787671
    Change-Id: I0b01b0f9e14a26d757748413dd71909e915c7573
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2826
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bcfd365c10d20bde920a3c6cdd1f95b7da5ffe84
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Feb 14 21:27:10 2012 +0530

    afr: [Un]Set the 'right' lkowner for [f]{inode|entry}_lk and the 'enclosed' fop.
    
    afr 'mangles' the lkowner inorder to ensure [f]inodelk/[f]entrylk fops from the
    same application contend. But other fops that are 'visible' to the application
    should operate with the lkowner provided by fuse for correct functioning of
    posix-locks xlator.
    
    Change-Id: I7e71f35ae7df2a070f1f46d4fc77eed26a717673
    BUG: 790743
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2752
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1936e29c3ac3d6466d391545d761ad8e60ae2e03
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Feb 29 16:31:18 2012 +0530

    cluster/afr: Hardlink Self-heal
    
    Change-Id: Iea0b38011edbc7fc9d75a95d1775139a5234e514
    BUG: 765391
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2841
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6e9a8f61b7d7371fa749c168162c716c2b0be70b
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Mar 1 12:18:48 2012 +0530

    glusterd: Changed clear-locks cmd to use trusted-volfile for its internal mount
    
    Change-Id: Iba8add1802832d4fa7082bc6a68eee966ddc508b
    BUG: 798127
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2846
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 8747925fb0847364be98afc2c2d59b42b2f8514c
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 1 12:20:08 2012 +0530

    cluster/rebalance: Fix expression in check_free_space
    
    Migration should fail if available space in dst < src
    
    The expression was evaluating otherwise
    
    Change-Id: Ief64ad8797e405d0cdc787eef49bfbf4051dffac
    BUG: 798864
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2847
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6c4b8d02db7b47d67a306a71a72bcc016fbdf183
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 29 23:23:54 2012 +0530

    mgmt/glusterd: do not close the same fd twice
    
    In volfile generation part, if the close on the file stream for
    the volfile fails, then we should not again close the same file
    stream which may lead to undefined behavior.
    
    Change-Id: Idec00955eea11d5b2ea74574f8d4e53fa80c220a
    BUG: 798599
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2843
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 70fb696abd6144199bc08b05d403daaca314c7b4
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Mar 1 00:35:36 2012 +0530

    perf/md-cache: hold lock on modification of md_cache structure
    
    as it is possible that multiple fops can alter the content of
    md-cache structure from inode-ctx, we need to safe-guard the
    issue of corruption due to race conditions.
    
    Change-Id: Iea051f8f6adff7690d6d60f3cf82eda75150b449
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 798179
    Reviewed-on: http://review.gluster.com/2834
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 49a0c12e490f72d94acd6169a33f3f0f855000db
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Feb 29 16:06:25 2012 +0530

    cluster/stripe: Send xattr request in lookup even when type is INVAL
    
    Change-Id: I6f66b5aa39eaa5eadca2a91b1d4e948490f0aa06
    BUG: 798161
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2837
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 0054807e5288727599bc264e64f83e9fb526732f
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Feb 29 16:16:12 2012 +0530

    nfs: prevent crash during cthon lock test
    
    When cthon was invoked to test nlm, the mount point
    would hang, and crash nfs server, and all the brick
    processes. This path fixes the crashes.
    
    Change-Id: Ide88adb7e25ea722b143bfd62e23361ff7be4b67
    BUG: 798194
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2842
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 72eda6a45b52e98458e4efa3e9819a8a3a25faef
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 28 09:27:32 2012 +0530

    libglusterfs: Handle loc_copy for nameless loc
    
    BUG: 787671
    Change-Id: I7601f482ae753ead83be16d1df33c2187e76dc5c
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2825
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 15141a7660b1e4430513c8a96a498da652023894
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Feb 28 15:27:24 2012 +0530

    protocol/client: send unique key to server during handshake
    
    utilize the graph->id for making the key unique.
    
    Change-Id: I0c1b355aa901af88e65fd12cb9e0535318856867
    BUG: 783982
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/2831
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Mohammed Junaid <junaid@redhat.com>

commit ca8e61069b4fec42efa76da2070d362607770bc7
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Feb 28 12:57:26 2012 +0530

    nfs/doc: corrections
    
    corrections in nfs configuration helpers displayed
    with "gluster volume set help".
    
    Change-Id: Iffc0d10eacbaea647270cd875d4cbd5f80333671
    BUG: 771876
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2829
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2da18b6724b7daf7c3a973515fc3d59e7d2c4622
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Feb 22 14:51:53 2012 +0530

    transport/socket: configuring tcp window-size
    
    Till now, send and recieve buffer window sizes for sockets
    were set to a default glusterfs-specific value.
    Linux's default window sizes have been found to be better
    w.r.t performance, and hence, no more setting it to any
    default value.
    
    However, if one wishes, there's the new configuration option:
       network.tcp-window-size <sane_size>
    which takes a size value (int or human readable) and will set
    the window size of sockets for both clients and servers.
    Nfs clients will also be updated with the same.
    
    Change-Id: I841479bbaea791b01086c42f58401ed297ff16ea
    BUG: 795635
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2821
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5ad1c2caed743fc10a0645055a825252dfbf77ba
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Feb 28 18:03:29 2012 +0530

    storage/posix: In lookup check for buf->gfid being NULL
    
    There are few cases where create and lookup race.
    Lookup ends up getting a valid struct iatt, but with no gfid set.
    We need to check for gfid being 0, and handle it as an error.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I36ae1978b325aff964cbc3b24730c1e993666267
    BUG: 797167
    Reviewed-on: http://review.gluster.com/2832
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c2c82c360fda20533093c27c82ce0725cf40cab5
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon Feb 27 05:41:11 2012 +0100

    glusterd/mountbroker: fix handling of MEET mountbroker keyword
    
    Change-Id: I5331a17a772e9ef15e132b9f335e5ff9d70735b7
    BUG: 765214
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2817
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c1e3d3b963a46fb92d309ac3d0a11adfad8ce745
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Feb 24 14:59:43 2012 +0530

    locks/glusterd: Fixed clearing of posix locks from failing always.
    
    Change-Id: Ieaf636c6f0d2aa1d001143a2d1433fce85dc8c7a
    BUG: 797042
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2812
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 19dd4b7f0080a1924099ace7e3d7fcd9f0314f2d
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Feb 24 15:25:06 2012 +0530

    mgmt/glusterd: pass defrag_cmd in rsp dict for volume info
    
    glusterd_import_volinfo used to error out as it was not able
    to find the rebalance key in the dict
    
    Change-Id: Ife35a041072a8a978d7595e8381f68e624bd8da3
    BUG: 797105
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2814
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a3f6b0c4f231ccdb727227c9c35816b4823cef90
Author: Amar Tumballi <amarts@redhat.com>
Date:   Thu Feb 23 12:53:19 2012 +0530

    mempool: add more counters to understand the usage scenarios properly
    
    current design of mempool is to fallback to standard calloc/free if
    all the buffers in pool are exhausted. Understanding more about those
    numbers will help us to tune mempool parameters properly over time.
    
    Change-Id: I2c94373186f7c6a486caff2611c2d9df2c37db3c
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 797730
    Reviewed-on: http://review.gluster.com/2804
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 85471322df9676cc344cc2b03627c02ed90da3cd
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Feb 23 22:58:44 2012 +0530

    glusterfsd: unref the dict and free the memory to avoid memleak
    
    Change-Id: Ib7a1f8cbab039fefb73dc35560a035d5688b0e32
    BUG: 796186
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2808
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bd94f6a1cc26fbcf8811e04dab0c90257b44d89a
Author: Kaushal M <kaushal@redhat.com>
Date:   Mon Feb 27 15:34:11 2012 +0530

    cli: Fix broken "volume set help/help-xml"
    
    Change-Id: I4e71e67f32ff37cfe23bc77c0e27645ac495a247
    BUG: 796040
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2822
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3cad6558b030bc3b0ebb662ec7d0346ab9a32cc2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Feb 26 22:16:59 2012 +0530

    cli: Add 'exit' command.
    
    Based on request at:
    http://community.gluster.org/i/make-cli-understand-command-exit/
    
    Change-Id: I9116236a8c2f7767c88672b8d3d6565906bfc61f
    BUG: 797551
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2815
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 20b50008c710c973ebb0a84506b55e6aea044fad
Author: Csaba Henk <csaba@redhat.com>
Date:   Mon Feb 27 05:40:58 2012 +0100

    libglusterfs: fix GF_FREE
    
    Argument-taking macros should be possible to use with
    same syntax that of C functions. In particular (assuming
    FOO is a single-argument macro),
    
      FOO(bar)
    
    should break and
    
      if (cond)
        FOO(bar);
      else
        baz();
    
    should compile.
    
    Change-Id: If852c128a7317dc0dda1c669be7c6af40501e48d
    BUG: 762061
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2816
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 728de5be7ce2975efb59bb5928fd7261d5ec7760
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Dec 15 17:38:05 2011 +0530

    locks: Made dump locks formatting more 'readable'.
    
    Also,
    Added inode's path to dump locks.
    Added basename to entrylk dump output.
    Added whence field of range locks to dump output.
    
    Change-Id: Ifd3f8b585a52de7ff68cd54506619ac3eaedeecc
    BUG: 789858
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/798
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 88c6c11813cbd60a6b8e5ec4e2edd40e326ac311
Author: Shylesh Kumar <shylesh@gluster.com>
Date:   Thu Feb 23 14:59:36 2012 +0530

    Change rebalance log file name
    
    Log file name for the rebalance process should
    be <volname>-rebalance.log
    
    Change-Id: I1ed169cdc92b11058b80360086b3c1f7618064ef
    BUG: 795714
    Signed-off-by: Shylesh Kumar <shylesh@gluster.com>
    Reviewed-on: http://review.gluster.com/2805
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit d4ff4103e09ba076653aa6f0774269c47cc931f2
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Feb 22 19:38:14 2012 +0530

    glusterd: Modified server graph to have index xl above pump
    
    Index xlator needs a resolved inode in the incoming xattrop request to perform
    its indexing. In the case of replace-brick pump xlator doesn't resolve the
    inode in the (fop) requests it sends 'downwards', leading to null gfid sent to
    index xlator.
    
    Change-Id: I6b6e7af4354670616bf342292df1a25c219dd9e9
    BUG: 796171
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2801
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 5842656feba99a239b922f8099fb336c66b61929
Author: Venky Shankar <vshankar@redhat.com>
Date:   Tue Feb 21 14:23:13 2012 +0530

    Introduce new extended attribute: node-uuid
    
    Request for trusted.glusterfs.node-uuid returns pathinfo
    like string but containing the UUID of glusterd instead
    of the backend path for the requested file. This info
    is benificial for tasks like parallel rebalance that will
    make use of the UUID for data locality.
    
    Change-Id: I766a09cc4a5f63aebd11c73107924a1b29242dcf
    BUG: 772610
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2614
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7820f7563aff8e1a5e73eb75adc387635a301b6e
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Feb 23 12:24:08 2012 +0530

    protocol/client: Pass correct dict in client_readdirp
    
    Also, alloc entry->dict before calling unserialize to it.
    
    Change-Id: I8a9db93afd6e95e75307467cd654805780d7b467
    BUG: 796534
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2803
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 52904f0d416aedf61fcebe2e5051bfa92999c6e4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Feb 22 16:08:26 2012 +0530

    build: Changes to specfile for correctness and package relevance.
    
    - Removes a stale dependency of glusterfs-client on glusterfs-core
    - Server specific shared libraries included in glusterfs-server package.
    
    Change-Id: I852304e6351a9a7864b2049f603e11f6a5601ffb
    BUG: 764702
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2797
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 4ac06a16999bde2f9860f6a8713e7f2544b44f9a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Feb 23 01:25:47 2012 +0530

    features/marker: Use loc.inode to obtain parent if loc.parent isn't set.
    
    Change-Id: I89dddb19168a3ffb269afc9f6bcb2d7e7c9a69cd
    BUG: 790389
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2802
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>

commit 72187f8e02e7d3aa17636ade033482e4de41657a
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Feb 22 08:30:47 2012 +0530

    glusterfsd: give out the error on screen when cmd is given without options
    
    'glusterfs' cmd would take default options when no option is given,
    but sometimes default option may not work, in that case, we need
    to provide usage output
    
    Change-Id: I2ebd342890da11d2afaa0a23ee3a01d87694ff28
    BUG: 791198
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/2790
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 683ce1bca3b6c541e565eec014fa7cc3308957d8
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 22 18:27:15 2012 +0530

    glusterfsd: unref the dict and use dict_set_dynstr to avoid memleak
    
    Unref the new dict and use proper dict api (dict_set_dynstr) to save
    data for displaying volume status information, which otherwise leads
    to memory leak in the process.
    
    Change-Id: Icb9ceb1a867c5b9759211a67027d983ab9b7e1c2
    BUG: 796186
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2799
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ca502ca780202c71623a34349c88d114ad58ec12
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 22 14:38:42 2012 +0530

    cli: print the type of the inode in gluster volume status inode output
    
    Instead of a number print the type of the inode in the output of
    gluster volume status inode. This is what the output symbols indicate.
    
    R -----> Regular file
    D -----> Directory
    L -----> symbolic Link
    B -----> Block special device
    C -----> Character special device
    F -----> FIFO
    S -----> Socket
    I -----> Invalid inode type
    
    Also supress a warning message displayed at the time of build.
    
    Change-Id: I5a2adfe044ce21d9da159652d4b6e25cd0a2fdca
    BUG: 796078
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2794
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1350aecc7e600e73b810522c7727be20bdd3ae40
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Feb 22 18:35:07 2012 +0530

    protocol/client: Print correct error message
    
    Change-Id: Ic68626c4a205cd78b60831aa7bd838b6d8824fa1
    BUG: 796195
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2800
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 67104b716a93520d66c6e572b5f94aa808645e56
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Feb 21 16:55:28 2012 +0530

    mempool: adjustments in pool sizes
    
    * while creating 'rpc_clnt', the caller knows what would be the ideal
      load on it, so an extra argument to set some pool sizes
    
    * while creating 'rpcsvc', the caller knows what would be the ideal
      load of it, so an extra argument to set request pool size
    
    * cli memory footprint is reduced
    
    Change-Id: Ie245216525b450e3373ef55b654b4cd30741347f
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 765336
    Reviewed-on: http://review.gluster.com/2784
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f37fcaab9eb0601898f4ba6fb747d5c8d3fe4195
Author: Amar Tumballi <amarts@redhat.com>
Date:   Wed Feb 22 17:27:59 2012 +0530

    mount.glusterfs: multiple fixes
    
    * fix return value in case of proper 'backup-volfile-server' option,
      and actual default server based mount failed.
    
    * fix a syntax error (bug: 796050)
    
    Change-Id: I6a530c9b9431e46f45ec9eeb99f6103386dd10dc
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    BUG: 796101
    Reviewed-on: http://review.gluster.com/2798
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a423cf80d17285de69594401559b7a255281c26c
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Feb 22 15:06:23 2012 +0530

    cluster/stripe: Readdirp should call lookup on entries
    
    We were calling stat on each entry. Also, the inode ctx
    needs to be populated with the stripe_fd_ctx_t.
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    
    Change-Id: Ibaafa360f22b551d1609041f13a4339e22c95645
    BUG: 795669
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2795
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 064bd0f25a02bd65e32a1c03bfb124340dd60651
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Feb 2 19:17:12 2012 +0530

    cluster/afr: Don't trust the fd returned in open_cbk
    
    Change-Id: Id7d85a38875e3675904fc134e54e723c6a0c4de2
    BUG: 786766
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2792
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2b52b096a7db3124fdd97554e63792f36e889af9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Feb 22 13:46:37 2012 +0530

    features/locks: Don't access free'd memory
    
    Change-Id: I4e22ede84622f2c9c46cc0bc9f17bef73afa815c
    BUG: 796069
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2791
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f3b2305009b98de42c84e5b86668cf8b5f41e01f
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Feb 22 15:07:03 2012 +0530

    pump: Fixed undefined reference to fill_loc_info fn.
    
    Changed function to pump_fill_loc_info since its use is relevant
    only in pump's context.
    
    Change-Id: I5be1a908f88328f732dacfd7eac18f0c62f49eb8
    BUG: 796066
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2796
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2d470cd910b49976befea664ae5cc7ea6aa10020
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Feb 21 10:45:32 2012 -0800

    libglusterfs/options: Cleanup xlator percent_sizet code.
    
    Change-Id: I1a39252d6c26f7e30b77ef682b8b3cdcde8a4a51
    BUG: 769691
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2619
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 311de6f96c4fabf30f734e62996ec18817447e2f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 18:12:41 2012 +0530

    features/index: Set correct ret value in index_add
    
    Change-Id: I6314ea25ef26920593a3113eb2951d18255db34f
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2786
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 42cc043875621a02444f3324b2f9629ac68ab5aa
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Feb 21 23:35:05 2012 +0530

    build: More rpmbuild friendly changes
    
    Change-Id: I7dcd5c6461bbddde3bcc3d2519777e4c8889fe52
    BUG: 764702
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2788
    Reviewed-by: Venky Shankar <vshankar@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit f2eb8e4a17219e6a75b8673181f4bb0b85697d66
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Feb 21 17:35:31 2012 +0530

    build: rpmbuild friendly changes
    
    Change-Id: Ia1299d4404da0bd6787516924ebadcf9d6e021d1
    BUG: 764702
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2785
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 0344a8a12e7675bee24c770d71eff52db6b2d128
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Feb 21 13:39:29 2012 +0530

    glusterd/auth: 3.2.x compatibility
    
    volumes created with GlusterFS 3.2.x will be compatible
    with GlusterFS 3.3 w.r.t auth.allow enhancements
    
    Change-Id: I615e46d648e1270a7b856cd71fab24cfe791ddb8
    BUG: 795634
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2779
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6a6abb5367f46bab4a7363db9e181c845a334cdb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 14:46:05 2012 +0530

    features/index: Fix fd leak
    
    Change-Id: Ib01d03999b099369674495ce500f48d492758f91
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2781
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 709de8c86a2947c98d59a5b32bcf258c196bab4b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 11:25:07 2012 +0530

    libglusterfs: Warn on missing _cbk calls in xlator
    
    Change-Id: I44684b5eeca3674ed8d5b7b0120699bb3767e38d
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2782
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit e311a30f845255b44f3abc56215f584a3c245136
Author: Kaushal M <kaushal@redhat.com>
Date:   Fri Feb 17 12:32:18 2012 +0530

    cli, glusterfsd: Fixes for "volume top {read,write}-perf"
    
    Changed variables to use unsigned types, to support larger comninations of
    block_size * block_count
    Also increases cli time out for "volume top" ops to 600, to allow more time
    for glusterd to return the results to cli.
    
    Change-Id: I4b953799c78a5a184311f6f8c4a7a99dc9e87a07
    BUG: 783980
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2761
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0ef7e763c85c045ef7937d0ca02d8c5f0333e6e8
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Feb 21 14:47:48 2012 +0530

    core: utilize mempool for frame->local allocations
    
    in each translator, which uses 'frame->local', we are using
    GF_CALLOC/GF_FREE, which would be costly considering the
    number of allocation happening in a lifetime of 'fop'. It
    would be good to utilize the mem pool framework for xlator's
    local structures, so there is no allocation overhead.
    
    Change-Id: Ida6e65039a24d9c219b380aa1c3559f36046dc94
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 765336
    Reviewed-on: http://review.gluster.com/2772
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 1f296b84e6c7bf55fc81d0c1dade7ccda75229a6
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 17 17:22:59 2012 +0530

    cluster/distribute: send the right 'dict' for check_is_linkfile()
    
    earlier we were using 'check_is_linkfile_wo_dict()' for readdirp_cbk(),
    which is no more required now.
    
    Change-Id: I52295e08f8c494b7a081cfc684164a7f72562d0d
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 794641
    Reviewed-on: http://review.gluster.com/2763
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 1979cee4716fdb95909654148eebb8b0b973f484
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 11:18:32 2012 +0530

    features/index: Add release, releasedir cbks
    
    Change-Id: Ice45a0b4e953e270273aa4155a895d6ec033fda8
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2780
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 39fb5051ffdf6a978537e8c50f05b7a0135f7075
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Feb 21 15:50:35 2012 +0530

    features/md-cache: Change strdup to gf_strdup
    
    Change-Id: Ic96e7d38b988efab49f723c9d1d46f65037a84ed
    BUG: 795682
    Reviewed-on: http://review.gluster.com/2783
    Reviewed-by: Anand Avati <avati@redhat.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 490d8805f0d9b4e58258505d678f0e75e089aa26
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Tue Jan 10 17:42:24 2012 -0500

    Honor O_SYNC etc. properly.
    
    Change-Id: I3dd90fe230386ad5571c5e639f27460e3d003f0e
    BUG: 773100
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/2626
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit bca46fd46b1a1a28daeb9ea3f47cef9bbacecd6d
Author: Amar Tumballi <amarts@redhat.com>
Date:   Tue Feb 21 15:02:39 2012 +0530

    rpc/clnt: handle PARENT_DOWN event appropriately
    
    Change-Id: I4644e944bad4d240d16de47786b9fa277333dba4
    BUG: 767862
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-on: http://review.gluster.com/2735
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7197111677619da96c80572a09331d6e28c1015b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Feb 8 15:06:30 2012 +0530

    fuse-bridge: Handle graph-switch.
    
    The purpose of this patch is to let protocol/client know when its transports can
    be disconnected, without application running on gluster mount noticing any
    effects of graph switch.
    
    In order to do this, we migrate all fds and blocked locks to new graph.
    Once this migration is complete and there are no in-transit frames as viewed
    by fuse-bridge, we send a PARENT_DOWN event to its children. protocol/client
    on receiving this event, can disconnect up its transports.
    
    Change-Id: Idcea4bc43e23fb077ac16538b61335ebad84ba16
    BUG: 767862
    Reviewed-on: http://review.gluster.com/2734
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6d19136de7af9135dd23662f18c3ee544a2888da
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 21 12:45:24 2012 +0530

    performance/md-cache: Add mem_acct_init
    
    Change-Id: I1b91ee0bde160762548c39646ceb96c3c778e06c
    BUG: 795651
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2778
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 81ab6622d403558cd6f31efeb535fe886d3beeaa
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Feb 16 21:30:47 2012 +0530

    cluster/afr: Add commands to see self-heald ops
    
    Change-Id: Id92d3276e65a6c0fe61ab328b58b3954ae116c74
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2775
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5f117a4a1fca3ec2d163fe77615cf6859c0450e4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Feb 14 22:40:34 2012 +0530

    cluster/afr: Self-heald, Index integration
    
    Change-Id: Ic68eb00b356a6ee3cb88fe2bde50374be7a64ba3
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2749
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8456c28af75a4083286fc6ceadc03f2703f4c9b6
Author: Anand Avati <avati@redhat.com>
Date:   Fri Feb 3 00:16:30 2012 +0530

    md-cache: replace stat-prefetch with md-cache in a backward compatible way
    
    - preserve CLI set option key as "performance.stat-prefetch"
    - create a symlink stat-prefetch.so to point to md-cache.so
    
    Change-Id: Ib95e7c30073f13ae04c39e9466967ba1db5a0614
    BUG: 765785
    Reviewed-on: http://review.gluster.com/2714
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit c41a9d1c3fe4002bdf8849c4e8ae7c2e10841c69
Author: Anand Avati <avati@gluster.com>
Date:   Sat Sep 24 16:14:11 2011 +0530

    md-cache: meta-data caching translator
    
    This is a metadata caching translator which is well integrated with
    glusterfs core framework and leverages some of the recent protocol
    changes to do a better job at caching.
    
    - It uses the attributes returned along callbacks of all calls to
      update its attribute cache as frequently as possible without
      issuing calls on its own (i.e, very low overhead)
    
    - It caches attributes returned via readdirp into the inode contexts
      corresponding to those entries (i.e, well integrated)
    
    - It caches and updates xattrs and not just inode attributes (i.e,
      eliminates the need for a separate xattr-prefetch translator)
    
    In its current form it has a timeout based consistency model
    
    Change-Id: I891f6225c1a4c08bb111e287571d5f6d326dbe97
    BUG: 765785
    Reviewed-on: http://review.gluster.com/2713
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 1206437fcfc1f3e1bd4a6faec3341c240bae5cf2
Author: Anand Avati <avati@redhat.com>
Date:   Tue Feb 21 09:25:14 2012 +0530

    syncop: Multi-processor support in syncenv
    
    This patch introduces:
    
    - multithreading of syncop processors permitting synctasks to be executed
      concurrently if the runqueue has many tasks.
    
    - Auto scaling of syncop processors based on runqueue length.
    
    - Execute a synctask (synctask_new) in a blocking way if callback function
      is set NULL. The return value of the syncfn will be the return value
      of synctask_new()
    
    Change-Id: Iff369709af9adfd07be3386842876a24e1a5a9b5
    BUG: 763820
    Reviewed-on: http://review.gluster.com/443
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit dfc88bf3727fb33e2fc273bd7f24401e0209f39e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Feb 20 19:48:07 2012 +0530

    storage/posix: Add xattr for gfid2path
    
    Change-Id: I1fe987d255bf50e8433043749b482b67554a0ac3
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2774
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d349334fc0b3b069875b2724a5a46dfeb84289e4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 20 22:27:31 2012 +0530

    nfs/server: Fix compilation warnings
    
    Change-Id: If5c2375adb3769827cf5099cb6b2d19ba75bf238
    BUG: 795421
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2776
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 12480df27becfc5aef5ff0f1d712d4d73c894c7a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Feb 2 19:14:28 2012 +0530

    features/index: Index translator implementation
    
    Change-Id: If8a11ecbdd010f64fb4409add5751080f4b59086
    BUG: 763820
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2722
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ed2036979499cb272336187c06955aa5e484023d
Author: Krishna Srinivas <ksriniva@redhat.com>
Date:   Mon Feb 20 14:34:39 2012 +0530

    NLM - Network Lock Manger V4
    
    Change-Id: Ic31b8bb10a28408da2a623f4ecc0c60af01c64af
    BUG: 795421
    Signed-off-by: Krishna Srinivas <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2711
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit db20a0f8a99f715a77366e518720612f043d5c9e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Feb 20 18:42:37 2012 +0530

    libglusterfs: Implement circular buffer and event history
    
    Implement circular buffer framework, so that it can be used by other components
    such as event history management. And event history is implemented which can
    be used by xlator to dump some information to a file (such as information of some
    structure etc).
    
    Through statedump, history of each xlator can be dumped. An option called history
    should be given to the statedump command.
    
    Change-Id: I7c5e8f6bd1018584eaee856e933e7c4b94c6709c
    BUG: 795419
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2769
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f764516c2e526624ce0088963924ff2d88304553
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Wed Feb 8 18:06:39 2012 +0530

    protocol/client,server: fcntl lock self healing.
    
    Currently(with out this patch), on a disconnect the server cleans up
    the transport which inturn closes the fd's and releases the locks acquired on
    those fd's by that client. On a reconnect, client just reopens the fd's but
    doesn't reacquire the locks. The application that had previously acquired
    the locks still is under the assumption that it is the owner of those locks
    which might have been granted to other clients(if they request) by the server
    leading to data corruption.
    
    This patch allows the client to reacquire the fcntl locks (held on the fd's)
    during client-server handshake.
    
    * The server identifies the client via process-uuid-xl (which is a combination
      of uuid and client-protocol name, it is assumed to be unique) and lk-version
      number.
    
    * The client maintains a list of process-uuid-xl, lk-version pair for each
      accepted connection. On a connect, the server traverses the list for a
      matching pair, if a matching pair is not found the the server returns
      lk-version with value 0, else it returns the lk-version it has in store.
    
    * On a disconnect, the server and client enter grace period, and on the
      completion of the grace period, the client bumps up its lk-version number
      (which means, it will reacquire the locks the next time) and the server will
      distroy the connection. If reconnection happens within the grace period, the
      server will find the matching (process-uuid-xl, lk-version) pair in its list
      which guarantees that the fd's and there corresponding locks are still valid
      for this client.
    
    Configurable options:
      To set grace-timeout, the following options are
        option server.grace-timeout value
        option client.grace-timeout value
    
      To enable or disable the lk-heal,
        option lk-heal [on|off]
    
    gluster volume set command can be used to configurable options
    Change-Id: Id677ef1087b300d649f278b8b2aa0d94eae85ed2
    BUG: 795386
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2766
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4d1b040f00e7ec8de997d151b35fa035bba9cb25
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Feb 20 14:34:39 2012 +0530

    volgen: give an option to insert trace/error-gen
    
    currently, these translators can be plugged in on the server
    volfile. Need to enhance on client side too.
    
    Change-Id: I8c3696f62f1de646a736d68c4c427c6fffd6bbf4
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 782262
    Reviewed-on: http://review.gluster.com/776
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6827f56dfcde4546e5adb3af65e7f21bef7fd58a
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Feb 15 14:33:19 2012 +0530

    protocol/client: delete locks only for non-anonymous fds
    
    delete_granted_lock_owners () is not called for anonymous
    fds since they are not involved in locking
    
    Change-Id: Icdc7818f98f5371232ba276ed442704ef69e6b0e
    BUG: 787365
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2754
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c0b8e886cac4ef0f16d5f93adab02229bb1414cd
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Feb 14 15:05:19 2012 +0530

    iobuf: use 'iobuf_get2()' to get variable sized buffers
    
    added 'TODO' in places where it is missing.
    
    Change-Id: Ia802c94e3bb76930f7c88c990f078525be5459f5
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 765264
    Reviewed-on: http://review.gluster.com/388
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 975933a25d14cbac861e809b40c6edd01acaa28d
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Mon Feb 20 12:31:10 2012 +0530

    glusterd: auth allow enhancements
    
    * PROBLEM:
    
      When address-based authentication is enabled on a volume,
      the gNfs server, self-heal daemon (shd), and other operations
      such as quota, rebalance, replace-brick and geo-replication
      either stop working or the services are not started if all
      the peers' ipv{4,6} addresses or hostnames are not added in
      the "set auth.allow" operation, breaking the functionality
      of several operations.
    
      E.g:
        volume vol in a cluster of two peers:
        /mnt/brick1 in 192.168.1.4
        /mnt/brick2 in 192.168.1.5
    
        option auth.allow 192.168.1.6
        (allow connection requests only from 192.168.1.6)
    
        This will disrupt the nfs servers on 192.168.1.{4,5}.
        brick server processes reject connection requests from both
        nfs servers (on 4,5), because the peer addresses are not in
        the auth.allow list.
    
        Same holds true for local mounts (on peer machines),
        self-heal daemon, and other operations which perform
        a glusterfs mount on one of the peers.
    
    * SOLUTION:
    
      Login-based authentication (username/password pairs,
      henceforth referred to as "keys") for gluster services and
      operations.
    
      These *per-volume* keys can be used to by-pass the addr-based
      authentication, provided none of the peers' addresses are put
      in the auth.reject list, to enable gluster services like gNfs,
      self-heal daemon and internal operations on volumes when
      auth.allow option is exercised.
    
    * IMPLEMENTATION:
    
      1. Glusterd generates keys for each volume and stores it in
         memory as well as in respective volfiles.
         A new TRUSTED-FUSE volfile is generated which is
         fuse volfile + keys in protocol/client,
         and is named trusted-<volname>-fuse.vol.
         This is used by all local mounts. ANY local mount (on any peer)
         is granted the trusted-fuse volfile instead of fuse volfile
         via getspec. non-local mounts are NOT granted the trusted fuse
         volfile.
    
      2. The keys generated for the volume is written to each server
         volfile telling servers to allow users with these keys.
    
      3. NFS, self-heal daemon and replace-brick volfiles are updated
         with the volume's authentication keys.
    
      4. The keys are NOT written to fuse volfiles for obvious reasons.
    
      5. The ownership of volfiles and logfiles is restricted to root users.
    
      6. Merging two identical definitions of peer_info_t in auth/addr
         and rpc-lib, throwing away the one in auth/addr.
    
      7. Code cleanup in numerous places as appropriate.
    
    * IMPORTANT NOTES:
    
      1. One SHOULD NOT put any of the peer addresses in the auth.reject
         list if one wants any of the glusterd services and features
         such as gNfs, self-heal, rebalance, geo-rep and quota.
    
      2. If one wants to use username/password based authentication
         to volumes, one shall append to the server, nfs and shd volfiles,
         the keys one wants to use for authentication, *while_retaining
         those_generated_by_glusterd*.
         See doc/authentication.txt file for details.
    
    Change-Id: Ie0331d625ad000d63090e2d622fe1728fbfcc453
    BUG: 789942
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2733
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 27e51951bc53f36b2286c70eb2263173b29d7a85
Author: Venky Shankar <vshankar@redhat.com>
Date:   Wed Feb 15 12:04:24 2012 +0530

    GlusterFS Hadoop Plugin
    
    Apache Hadoop plugin to run Map/Reduce (MR) jobs on data
    stored on GlusterFS. This is a drop in replacement for
    HDFS requiring the plugin jar and modification to a
    single conf file to enable MR jobs to process data on
    GlusterFS.
    
    Change-Id: I8862efec30708849fa7c544fed88b8e50e622fed
    BUG: 790671
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2751
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 4a65356275cda45f665dfa99d3712f6fb9087aff
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Feb 17 19:21:07 2012 +0530

    cluster/dht: Support for hardlink rebalance when decommissioning
    
    The support for hardlink rebalance is only available for decommissioning
    of a node. this can be triggered in two ways
    1. remove-brick start
    2. if decommission node value is set in vol file, then a normal rebalance
       command
    
    The way we handle it is-
    if (nlink > 1)
    do
           * if src file doesnt have linkto xattr
                    * mark src's linkto to the dst
           * else
                    * perform a link on the dst
                    * do a look up
                    * if nlinks = dst.nlinks
                            * migrate data
                    * else
                            * continue crawling
    done
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: If43b5524b872fd1413e9f7aa7f436cb244e30d8d
    BUG: 763844
    Reviewed-on: http://review.gluster.com/2737
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 6123265556e54891369cc79a72b670a4b23a8a41
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Feb 16 14:47:27 2012 +0530

    cluster/dht: Handle get cached/hashed subvol failures gracefully
    
    Change-Id: I7a41c2876be04acd166b2004d9aa66af078d32ea
    BUG: 790328
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2757
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit be0fdd8363fd3683c782d9fef86a1b9ffb38983a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Jan 20 00:01:53 2012 +0530

    cluster/dht: Exit clean when assert_no_child_down is enabled
    
    Change-Id: If90b1080edcf3792f8590492b585a6dd48fac18e
    BUG: 783249
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2664
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 82da7e9acf6c6091599835117439260f0505d528
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Feb 18 12:12:10 2012 +0530

    cluster/distribute: send the proper 'loc_t' for statfs()
    
    in dht-diskusage.c, which was getting used for getting free disk
    space of all subvolumes
    
    Change-Id: Ieb2bb5f2479fac1803b9af4ef1948954a026c2ee
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 290282
    Reviewed-on: http://review.gluster.com/2767
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e8b6dad4dea4535a179a03824aa44628f9adaa17
Author: Joe Julian <me@joejulian.name>
Date:   Wed Nov 9 18:27:25 2011 -0800

    Merged in the fedora spec file to bring glusterfs into compliance
    with FSH and Redhat/Fedora requirements.
    Created a single spec that works for both 3.1 and 3.2 versions.
    
    Releases will now require changing the source url in configure.ac
    at the same time the release version is set.
    
    OLDBUG: 2970
    BUG: 764702
    
    Change-Id: I1ec9d10fce6dbd72c329d04c7ad61df2ad117adb
    Signed-off-by: Joe Julian <me@joejulian.name>
    Reviewed-on: http://review.gluster.com/701
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7ba1e1ed45cee56ef51b9c04df99c976546d5d04
Author: shishirng <shishirng@gluster.com>
Date:   Wed Jan 18 15:29:15 2012 +0530

    cluster/dht: Rebalance will be a new glusterfs process
    
    rebalance will not use any maintainance clients. It is replaced by syncops,
    with the volfile. Brickop (communication between glusterd<->glusterfs process)
    is used for status and stop commands.
    
    Dept-first traversal of dir is maintained, but data is migrated as and when
    encounterd.
    fix-layout (dir)
    do
            Complete migrate-data of dir
            fix-layout (subdir)
    done
    
    Rebalance state is saved in the vol file, for restart-ability.
    A disconnect event and pidfile state determine the defrag-status
    
    Signed-off-by: shishirng <shishirng@gluster.com>
    Change-Id: Iec6c80c84bbb2142d840242c28db3d5f5be94d01
    BUG: 763844
    Reviewed-on: http://review.gluster.com/2540
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 061d70e8195d082043b071118333b7e3173fa3ec
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Feb 18 12:58:39 2012 +0530

    extras/rpc-coverage.sh : behavior fix
    
    don't treat getfattr after 'setfattr -x' (ie, removexattr())
    as an error. ignore the output so the script runs for completion
    
    Change-Id: Id7089b91e7259a39be7cb6fce627828774c4acbc
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 787956
    Reviewed-on: http://review.gluster.com/2768
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit df12073c4cc8340eb85b5d25c2da84fc21ec1f38
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Jan 31 17:04:37 2012 +0530

    cli/glusterd: volume status modification
    
    * Method of getting mount details of brick has been
      changed from direct reading of /etc/mtab to using
      libc's <mntent.h>, providing a fairly portable
      version independent of different linux distributions.
      It is only supported on Linux though.
    
    * Wrong fs type (rootfs for /) in fedora-based
      distributions has been fixed.
    
    * Allows options (detail, mem, fd, et al) to "all" volumes.
    
    * Use of the fnmatch's GNU extension flag,
      FNM_LEADING_DIR is restricted to Linux hosts only.
      In case of non-Linux hosts, partial match functionality
      is absent.
    
    Change-Id: I102ce808c192ef635c2536a2167101be0aa0fc50
    BUG: 786367
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2705
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit acb691f8908049e651fc12ff1cf01e9cf4ddde65
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Sat Dec 24 13:49:52 2011 +0530

    cli, glusterd : Added support for clear-locks command.
    
    Change-Id: I8e7cd51d6e3dd968cced1ec4115b6811f2ab5c1b
    BUG: 789858
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2552
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b016fe67b6c8957eebc9736b9af9406326800b6d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Feb 17 12:15:48 2012 +0530

    mount/fuse: unref the fd from resolve to avoid fd leak
    
    Change-Id: I162e07219b98669bc6e09784830ca9407518fd8b
    BUG: 794618
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2760
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 489a7a10fe2e00d00d86f0304145a4910bb94070
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Feb 1 14:44:07 2012 +0530

    cli: Fix for statedump crashing gluster processes
    
    1. Fixes the bug in statedump causing the gluster process to crash when an unknown
    option was given in the 'glusterdump.*.options' file.
    2. Also fixes cli, making it send full statedump option strings even when only
    partial option strings are given in 'volume statedump' command.
    3. Minor change to order of operations during statedump to allow option parsing
    errors to be written to the dump file.
    
    Change-Id: Ic878cbca4dbf46b83fba0fd88fcb3c03f05ae46d
    BUG: 772586
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2706
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7fa06c4ce1a44bbd89d3798193f173c057533bb6
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Feb 15 19:48:50 2012 +0530

    protocol: remove the 'path<>' from rename() and link()
    
    missed it in the previous round of cleanup, path is completely
    useless in resolve function.
    
    Change-Id: I1aef0f5276afb77dfacfcc0c337ac80b4fcacc55
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 790298
    Reviewed-on: http://review.gluster.com/2756
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 47e748fe60c46d543c87f3228eb59d6580db8cf1
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Feb 15 17:20:40 2012 +0530

    posix: handle some internal behavior in posix_mknod()
    
    assume a case of link() systemcall, which is handled in distribute by
    creating a 'linkfile' in hashed subvolume, if the 'oldloc' is present
    in different subvolume. we have same 'gfid' for the linkfile as that
    of file for consistency. Now, a file with multiple hardlinks, we may
    end up with 'hardlinked' linkfiles. dht create linkfile using 'mknod()'
    fop, and as now posix_mknod() is not equipped to handle this situation.
    
    this patch fixes the situation by looking at the 'internal' key set in
    the dictionary to differentiate the call which originates from inside
    with regular system calls.
    
    Change-Id: Ibff7c31f8e0c8bdae035c705c93a295f080ff985
    BUG: 763844
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2755
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 4cc4e47f6cad1127ad425cc0ab10bc42ab1411c8
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Feb 16 17:48:44 2012 +0530

    storage/posix: reset op_ret to -1 after call to MAKE_INODE_HANDLE
    
    MAKE_INODE_HANDLE uses op_ret. We do not reset it to -1, and in few
    instances we jump to label out, where we unwind with op_ret.
    
    Change-Id: Iac4d9f250f5253b3ce0cd91cc385168247efd4a8
    BUG: 788998
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2759
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit b19719d037f32a5af109bc474afda2230a0a2403
Author: Shylesh Kumar <shylesh@gluster.com>
Date:   Thu Feb 16 11:06:08 2012 +0530

    filter stripe internal xattrs from getxattr call
    
    Change-Id: Ia0e9662644494c61033e7a7853353294598984af
    BUG: 787964
    Signed-off-by: Shylesh Kumar <shylesh@gluster.com>
    Reviewed-on: http://review.gluster.com/2758
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 26800453aacd76e6edc36c078aaacbe7c16aa75e
Author: Kaushal M <kaushal@redhat.com>
Date:   Wed Feb 15 16:18:25 2012 +0530

    cli: Enable output in XML
    
    This patch enables gluster cli to output data in xml format. XML output can be
    obtained by passing "--xml" as an argument.
    
    A new "volume list" command, which lists the volumes present in a cluster, has
    been added. This can be used for obtaining a quick list of volumes.
    
    Several commands, including "volume top", "volume profile", "volume status" and
    "volume info", "volume list", have custom XML output routines. Other commands
    use either one of the 2 generic output routines, cli_xml_output_str() &
    cli_xml_output_dict().
    NOTE: When using "all" for "volume status" and "volume info" the XML output will
    have multiple roots.
    
    Change-Id: I6117baa02ec06fda116177dbd401f66521263ac6
    BUG: 790713
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2753
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c8d47f056ef69d2a644646fd24e8f58de4c0e70e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 15 11:22:00 2012 +0530

    features/marker: copy the gfid to loc from oplocal->loc.inode
    
    Change-Id: I8cfb70c163a3c4a0bd682678f71b38b5bae20ab4
    BUG: 790393
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2750
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 69dad8baff6b0461fde1edbcb1418d0ba3beaa6c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Jan 12 12:53:48 2012 +0530

    mgmt/glusterd: changes to run nfs server and self-heal daemon with valgrind
    
    Currently glusterd can start only the brick processes in the valgrind mode.
    This patch ensures that nfs server and self-heal daemon are also started
    with valgrind along with the bricks.
    
    Change-Id: I3136deb58d54075627cdd204002eb26fdfdde462
    BUG: 773600
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2638
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1fbed11ead209a8bcd1fd65846e0dfac6d5e1f2d
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Feb 14 16:28:44 2012 +0530

    nfs: avoid logging invalid fdctx in case of anonymous fds
    
    if get_fd_ctx fails (as in case of anonymous fds), overwhelming
    amount of entries are seen in the nfs log, causing dd and other
    heavy i/o operations to become unresponsive. this patch logs an
    invalid fdctx only if it is not an anonymous fd.
    
    Change-Id: I4e917d150d6a053af77d47a94a2f1c2633acadb5
    BUG: 787365
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2747
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 22d2abe742a67f1700f0f8f2a6449f3640826b27
Author: Rahul C S <rahulcs@redhat.com>
Date:   Tue Feb 14 17:09:21 2012 +0530

    Allows Successful log rotation when no bricks are specified.
    
    log rotate must happen for all the bricks if no specific
    brick path is given as an argument for the command.
    
    Change-Id: I39e55883fd301bedffae996384a8284119011951
    BUG: 765578
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2748
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 38d73bdfc659dde4a2632da2da01c785b642c728
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Feb 13 16:33:32 2012 +0530

    glusterd: Fail volume 'modify' operations when rb is ongoing
    
    * add-brick, stop-volume, remove-brick are the operations that are explicitly
     'failed' when attempted while replace-brick is in progress.
    * we attach the volume-id to the dst_brick volfile ensuring that the replace-brick
      operation holds 'claim' on it.
    
    Change-Id: If60b2af566ca940b2add600b473c99730e06ab47
    BUG: 765470
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2740
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5f002b5418b557fd03ce59fbfd5d41272bdf491a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Feb 14 15:27:49 2012 +0530

    protocol xdr: remove 'path<>'
    
    client was sending 'path' on wire, which gets ignored on server
    side, and also doesn't get freed up, which causes memory leak.
    
    also with not having path on wire, the xdr size on wire most of the
    time can remain constant, which helps in allocating RDMA buffers.
    
    Change-Id: Ie0d36a670be60b02fd1e925c6f977b1a71def5cd
    BUG: 790298
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2744
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 69a7f2fea23880fbdc776b657dd6aa32c643c6c4
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Feb 14 15:50:40 2012 +0530

    rpc : fix the leak with glusterfs v2 auth structure conversion
    
    both 'groups' and 'lkowner' were getting leaked after the conversion
    
    Change-Id: Iab7cc1cf5afdad18ead9f33e6ccf98e0a934a09a
    BUG: 790298
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2746
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit b27512e006ae55777f481937d321f60fa195c48d
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Nov 16 16:23:48 2011 +0530

    locks: Added a getxattr interface to clear locks on a given inode.
    
    getxattr returns a summary of no. of inodelks/entrylks cleared.
    cmd_structure: trusted.glusterfs.clrlk.t<type>.k<kind>[.{range|basename}]
    where,
    type = "inode"| "entry"| "posix"
    kind = "granted"| "blocked" | "all"
    range = off,a-b, where a, b = 'start', 'len' from offset 'off'
    
    Change-Id: I8a771530531030a9d4268643bc6823786ccb51f2
    BUG: 789858
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2551
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 58a538e99806ae84ec4d4bf03aa726302e16d07b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Feb 14 12:26:29 2012 +0530

    features/quota: fix a crash in fgetxattr() by checking for NULL arg
    
    'name' can be NULL in getxattr() as it is overloaded in glusterfs
    code to support listxattr() too.
    
    Change-Id: I70ccee027828e9b2b08da770f513c4edc5c7a46b
    BUG: 772601
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2743
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit caa5db96282186333e294d93571eb49a3ed63f18
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Feb 11 18:46:10 2012 +0530

    cluster/stripe: Support for NFS anonymous fd's
    
    Moving storing of all ctx info to inode ctx. anonymous fd's do not
    have the ctx stored in them, hence readv/writev can fail.
    Open call does not need the additional lookup calls, as all the
    required fctx info will be available in the inode ctx populated
    any one of the following create/mknod/lookup
    
    Change-Id: I94ca69ff821d46ac8ed3ba1b87b97a3d1c736566
    BUG: 786095
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2726
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit b0e28fe22293b6b9811094f4048c84a8383e8c8d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Feb 11 22:25:09 2012 +0530

    features/marker: set loc->gfid in setxattr initiated from marker.
    
    Change-Id: I7abb62272b7c8bb25ad37cbc13da7b4713924b7a
    BUG: 787151
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2736
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amarts@redhat.com>

commit 0e6df0100e13123fe38f28c5a090777e894d8f52
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Feb 6 17:49:14 2012 +0530

    core: add an extra flag to readv()/writev() API
    
    needed to implement a proper handling of open flag alterations
    using fcntl() on fd.
    
    Change-Id: Ic280d5db6f1dc0418d5c439abb8db1d3ac21ced0
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 782265
    Reviewed-on: http://review.gluster.com/2723
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit e17ac220e4bff53fb89f5bea636acb61e347cf50
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Feb 13 13:00:26 2012 +0530

    protocol: code cleanup
    
    make dict serialize and unserialization code a macro
    
    Change-Id: I459c77c6c1f54118c6c94390162670f4159b9690
    BUG: 764890
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2742
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@redhat.com>

commit 635f3bc0f8a05ad1280f8ab7d55181502bcad700
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Thu Feb 9 15:57:51 2012 -0500

    Fix case where we free a definitely-NULL iobuf
    
    Change-Id: I7097386b41c8881f875c9cc3e41354df5c904dea
    BUG: 789118
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/2732
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 18a5e19b62ff675aaa187fe53bd5cfa6d5945ef4
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Mon Jan 16 14:04:10 2012 +0530

    core: log xlator options in init
    
    * The options (default as well as explicitly set)
      for each xlator are logged at DEBUG log-level
    
    Change-Id: I757e206bf06ef5dc60a3255e2377a821c284b6f1
    BUG: 767087
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2647
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b71c572df106f33cda0e4b90f174f6426f598741
Author: krishna <ksriniva@redhat.com>
Date:   Thu Feb 9 12:08:07 2012 +0530

    support for nano second resolution for mtime,ctime,atime attributes.
    
    Change-Id: Id5078f270d0fec280b53d4aa7b16bbaf42a2df05
    BUG: 784095
    Signed-off-by: krishna <ksriniva@redhat.com>
    Reviewed-on: http://review.gluster.com/2730
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f47558fc72bcb6d786b117061add384f9f6aa6d5
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Wed Feb 8 16:36:22 2012 -0500

    Use /dev/zero instead of /dev/urandom to get realistic numbers.
    
    Change-Id: I460a03759b3e450765758e456f0b4f514ca934ae
    BUG: 788716
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/2728
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 8e81cbacc53adc77bc4eabb5a26d6d13012f5f86
Author: Anand Avati <avati@redhat.com>
Date:   Mon Jan 30 15:03:56 2012 +0530

    fuse: fix resolver to handle graph switches properly
    
    perform resolution on the latest graph by caching it in state->itable
    and use fuse_nodeid as just a hint to the possible final resolved inode
    (in case it was resolved off the latest graph). GFID is the primary key
    for resolving inodes on the latest graph.
    
    Change-Id: I3921c6f59c9ff80e4ff076bec3bd334423fc36cc
    BUG: 785675
    Reviewed-on: http://review.gluster.com/2703
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit aec6d5d89249868dc99d8fb432d8ab120bb38ef1
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jan 5 02:01:00 2012 +0100

    geo-rep: gsyncd: fix up fallback xtime for orphans on master side
    
    Change-Id: I2fa543b4bd317e06ea621ae968300ffb7223a68a
    BUG: 771787
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Reviewed-on: http://review.gluster.com/2580
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f4db9775655b24b9896ad697c534caec8868562d
Author: Kaushik BV <kbudiger@redhat.com>
Date:   Fri Jan 20 11:47:54 2012 +0530

    nfs: export-dir option changed to type GF_OPTION_TYPE_PATH
    
    Change-Id: Ica47482cfed794d6923047db859191462919d6fe
    BUG: 782424
    Signed-off-by: Kaushik BV <kbudiger@redhat.com>
    Reviewed-on: http://review.gluster.com/2667
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a4818cef9838ed3b1a270f395b4cce9551532927
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Feb 6 15:12:51 2012 +0530

    glusterd: Initialised op_sm/friend_sm before cluster restore.
    
    Cleaned up peerinfo/rpc association.
    
    Change-Id: I11bcaa3ea1f2b86c6b4e235873a60bb5bf76a892
    BUG: 786006
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2725
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 0272f7de41fa529f51bc69fdaf694c77b47250f2
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 3 13:54:02 2012 +0530

    protocol/client: assign the right value to 'conf' before de-refing it
    
    variable assignment was done after it was actually getting de-referenced.
    moved the assignment few lines up.
    
    Change-Id: Id65e3e2d3dfe071e1c5b14c32488647070398ae4
    BUG: 787117
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2712
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 1969ef17591342af2148d3a740b368f8cc6f8d5d
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Feb 1 15:52:36 2012 +0530

    mount/fuse: check for existence of volfiles
    
    If glusterd is not running in the client host and/or
    if there are no volume created yet, this patch ensures
    that appropriate error message is displayed
    
    Change-Id: I15d23a45d70aa27bbdd42f435fe705b14c779e3f
    BUG: 786077
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2708
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b708b18b833d1f2ba4da394884bc762a821ff56b
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Aug 23 12:23:53 2011 +0530

    cli, protocol/server : improve validation for the option auth.(allow/reject)
    
    cli now checks validity of address list given for 'volume set auth.*'
    
    Server xlator checks addresses supplied to auth.(allow/reject) option
    including wildcards for correctness in case volfile is manually edited.
    
    Original patch done by shylesh@gluster.com
    Original patch  is at http://patches.gluster.com/patch/7566/
    
    Change-Id: Icf52d6eeef64d6632b15aa90a379fadacdf74fef
    BUG: 764197
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/306
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1d77fe2458be6dc567435dc59bb94870cd0fe529
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jan 9 15:43:10 2012 +0530

    glusterd/quota: inform the user if some quota command is executed without enabling it
    
    Change-Id: I676e52b0e0a9a6868eaa56d0309faa264e6e73be
    BUG: 771639
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2609
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5ebc522717ef891c138307d02dcbc0bc1e9017f8
Author: Kaushik BV <kbudiger@redhat.com>
Date:   Mon Jan 30 19:17:12 2012 +0530

    read-ahead: add performance.read-ahead--page-count option to 'volume set' framework
    
    Change-Id: I727be1ae2e3da1816afa52fc9555269aa07c39c1
    BUG: 783379
    Signed-off-by: Kaushik BV <kbudiger@redhat.com>
    Reviewed-on: http://review.gluster.com/2700
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9636f5b16c1847bc94d42ca6ac948c680bd55f2e
Author: Kaushik BV <kbudiger@redhat.com>
Date:   Fri Jan 20 11:54:21 2012 +0530

    extras: create PID file for glusterd when started from init scripts
    
    thanks to Jaroslav Pulchart (jaroslav.pulchart@centrum.cz) for the patch
    
    Change-Id: Id07bf50536c8638f790f06e6e5994f85555c3978
    BUG: 771221
    Signed-off-by: Kaushik BV <kbudiger@redhat.com>
    Reviewed-on: http://review.gluster.com/2668
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7d81a11e661654394e116af52f0cab3d400ee2cf
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Jan 21 20:05:55 2012 +0530

    extras/test: add a test file to test 'f-fops'.
    
    mainly to test f*xattr(), fchown()/fchmod()/ftruncate() on fuse
    mounts.
    
    Change-Id: I59edbe172f307a2ba94f11c650ac0176fd35564f
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 766571
    Reviewed-on: http://review.gluster.com/2692
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 08041c321229bdfb2cbe1b638fb4fabb0b9da013
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 12 15:14:26 2011 +0530

    protocol/client : prevent client from reconnecting when server
    authentication fails
    
    This prevents the client from trying to reconnect on server
    authentication failure. Reconnecting on authentcation failure causes hung
    mounts on unauthorised clients. This patch fixes this problem.
    
    Also, mount.glusterfs script unmounts mount-point on mount failure to
    prevent hung mounts.
    
    Change-Id: I5615074d27948077bad491a38cecae1b7f5159fb
    BUG: 765240
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/398
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 3ec7680a70bcace6b195ae412362b7e1b072eaeb
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Jan 11 15:39:38 2012 +0530

    glusterd: Changed op_sm_queue locking mechanism to accomodate nested calls to op_sm
    
    Today if an rpc call made inside an op_sm can fail due to a disconnected peer,
    resulting in the rpc callback to be called in the same stack with appropriate
    status set. All glusterd rpc cbks move the state machine based on the status
    returned by the rpc layer, which would result in a nested call to op_sm. With
    the current scheme of locking, glusterd would end up in a deadlock situation
    
    The new scheme will fail the nested glusterd_op_sm (). This prevents the
    deadlock.  It would work without any change in overall behaviour, as the
    current op_sm () call in execution wouldn't return until all events in the
    queue are processed.
    
    Change-Id: I6a7ba16d3810b699bcd06dc28a5ff3205a25476f
    BUG: 772142
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2625
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2313600f0749094f1246e663a0db15da3c2812db
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Jan 6 12:18:35 2012 +0530

    glusterd: Improved err msgs for add_brick
    
    Change-Id: I4b97d7e26b8c81ed52657467981be0c4adc291ae
    BUG: 772145
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2589
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 83a3daf7c205f119169eb2d7091432de05b1861c
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Dec 16 18:27:52 2011 +0530

    distribute: utilize new 'fremovexattr()' fop for rebalance
    
    instead of existing 'syncop_removexattr()' which is not rename proof
    for now.
    
    Change-Id: Ib171710645a6ee35c86d851a057b68461ecbab27
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 766571
    Reviewed-on: http://review.gluster.com/2691
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3c0c468640ccd020a585c9f19366f857ee78d013
Author: M S Vishwanath Bhat <vishwanath@gluster.com>
Date:   Tue Jan 31 01:32:50 2012 +0530

    removing the dead code in cli-rpc-ops.c
    
    Change-Id: Ie80b7938944a5984e4d9cd0a5f52b7976030ea73
    BUG: 783972
    Signed-off-by: M S Vishwanath Bhat <vishwanath@gluster.com>
    Reviewed-on: http://review.gluster.com/2701
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 698c0750e5b93fb9aa842a1d70def9ecfa6da41c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 1 22:35:55 2012 +0530

    performanc/stat-prefetch: check if loc->gfid is present before checking loc->name
    
    After gfid based backend changes loc will either contain the gfid of the inode
    or it will contain the parent gfid and the name of the entry. So before unwinding
    when loc->name is not there we have to check if loc->gfid is present or not.
    If loc->gfid is null and loc->name is also NULL, then unwind with the error.
    
    Change-Id: If88b9462bde09a80e79f27899c995605697ce453
    BUG: 785675
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2710
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 52c13660eec1dd38f71e7119b319209f8cfd84e8
Author: Csaba Henk <csaba@redhat.com>
Date:   Tue Jan 24 18:28:22 2012 +0100

    Revert "mgmt/glusterd: Allow insecure ports by default"
    
    This reverts commit f6e0e614fbd07a57de44f0d16c304d01d1a5b269.
    
    Conflicts:
    
    	xlators/mgmt/glusterd/src/glusterd.c
    
    Change-Id: I1da429e4b8c3f8c67367b173aa11dbe2b0435046
    BUG: 781256
    Signed-off-by: Csaba Henk <csaba@redhat.com>
    Reviewed-on: http://review.gluster.com/2695
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b1a884aae98927d847085c9794f8b4aa8bebf838
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jan 30 19:34:03 2012 +0530

    features/marker,quota: Incorporate changes to support nameless lookup
    
    Change-Id: Ic5f00a9891bd835ebee5a3e103ef0f75d0b7fc25
    BUG: 783925
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2702
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit c3aa99d907591f72b6302287b9b8899514fb52f1
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Thu Jan 19 17:49:42 2012 -0500

    Fix race between read-ahead and write.
    
    Change-Id: I0ed1aca585733302b5e3840f392849e12f0b0f0d
    BUG: 783313
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/2666
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 20d74c540879d3994d56b9baf7044c79ae5df5e3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Jan 29 16:17:21 2012 +0530

    storage/posix: Fix rename gfid handle unset
    
    Change-Id: I365ef264056691914ad5bd620d8150f8b71ec887
    BUG: 785524
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2698
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 21bad6eb3a3c48ad3edc37927aeabcd3de8b9d64
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Jan 29 16:09:29 2012 +0530

    storage/posix: janitor should unset gfid handles
    
    Change-Id: I449b6a55122dfc27035569e6eb1d74ddcea68a69
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    BUG: 785522
    Reviewed-on: http://review.gluster.com/2697
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit e2303e774e1e37cd9becb672a67278502724b369
Author: Mohammed Junaid <junaid@redhat.com>
Date:   Tue Jan 24 17:12:59 2012 +0530

    features/quota: Check for error in statfs fop call back.
    
    Change-Id: Ia73d2b77dcb0507a7b8362c336c71301526aaf82
    BUG: 783927
    Signed-off-by: Mohammed Junaid <junaid@redhat.com>
    Reviewed-on: http://review.gluster.com/2685
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e99cb60af1e153efd616014da6a54d2f95c119d1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jan 4 00:08:14 2012 +0530

    glusterd: provide option to take statedump of the nfs server
    
    Currently the cli command for taking statedump is for glusterfs servers
    only. Statedump of nfs server cannot be taken. With this patch if one
    gives nfs as an option to the statedump command, then the nfs-server's
    statedump is taken.
    
    Change-Id: I4ef7a68e608da4aa2f17541d7b42cd78ce2624b6
    BUG: 771587
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2579
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5a8c58cf6e6c993c8665a31e6f108744ca27ccf4
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Nov 3 15:16:18 2011 +0530

    glusterd: Refactored rb subcmds code and fixed some minor issues.
    
    Change-Id: I680a1c8f01883433d4cd1ed51723acebd8fe9245
    BUG: 765441
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2689
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 623919a78a7faac30d1f0df5793681da2c449e32
Author: Kaushal M <kaushal@redhat.com>
Date:   Sun Jan 1 15:59:28 2012 +0530

    cli: Extend "volume status" with statedump info
    
    This patch enhances and extends the "volume status" command with information
    obtained from the statedump of the bricks of volumes.
    
    Adds new status types : clients, inode, fd, mem, callpool
    The new syntax of "volume status" is,
     #gluster volume status [all|{<volname> [<brickname>]
                             [misc-details|clients|inode|fd|mem|callpool]}]
    
    Change-Id: I8d019718465bbc3de727653a839de7238f45da5c
    BUG: 765495
    Signed-off-by: Kaushal M <kaushal@redhat.com>
    Reviewed-on: http://review.gluster.com/2637
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit a078235dbede380ca695251e86a1502ca131d816
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Nov 29 18:30:39 2011 +0530

    cluster/afr: Perform xattrop with all afr-keys
    
    Self-heal does not happen if the file has change log xattr
    only for one of the subvol keys. This patch makes sure that
    xattrop is done for all the afr subvol keys after a new entry
    is created in entry-self-heal.
    
    1) Added matrix create/cleanup functions
    2) Impunging a new file does multiple xattrops on the source
    subvol, one per sink. The code can do a single xattrop after
    the entry is created on all the sinks.
    3) Missing entry self-heal uses one frame per sink to heal
    the file. This leads to multiple xattrops on the source subvol.
    That code is changed now to use one frame which will
    create the file on all subvols.
    
    Change-Id: I65a42f9779b03f7efae283479f8653fb2cb8046b
    BUG: 762680
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2503
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit d04a781d9acf328bf5f7a45d67c0d2b4cdd35311
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Jan 24 18:47:35 2012 +0530

    cluster/afr: Stack wind with correct frame
    
    *) Found possible races in _cbk fixed them as well.
    
    Change-Id: Id9a9f3cbf71f55827addb24ba2cbddecb8326b5b
    BUG: 784279
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2687
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c13e3e090cc4d97dbf87a21b9de77e0b37ee5dd9
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Wed Dec 14 13:37:36 2011 -0500

    Make volfile-save scriptlet follow .rpmsave convention.
    
    Change-Id: I7a106defcc441679cf7c48f78eea2c04feb2853e
    BUG: 764702
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/788
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6b0cd9fc8450029449f7c320a2e5d766e87ac8d4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jan 26 16:11:02 2012 +0530

    protocol/client: Pass the right arguments to CLIENT_GET_REMOTE_FD
    
    Change-Id: I04f984f20964650a38009bba7711d2757151ade5
    BUG: 762935
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2694
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cf57b7b517af68c56fb8d4c229e2988c306384c4
Author: Harshavardhana <fharshav@redhat.com>
Date:   Mon Jan 9 17:15:23 2012 -0800

    common-utils: Add support for solaris, bsd and mac os/x
    
    get_mem_size() is more standardized now.
    
    Change-Id: I8e3dc29df0a64a5eb8eea4fd3965b268cb1a85c2
    BUG: 772808
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2618
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e8c722ba2832e4d0cae6ba3d043e5f06aaadbacd
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Wed Jan 25 07:01:48 2012 -0500

    Add format/printf/attribute to log decls
    
    This enables compile-time checking of printf-style format checking
    
    Reason for doing it this way: N/A
    
    Description of test cases: N/A
    
    Change-Id: I9e26a5dceef5b545b9434b1d418c3d1193b4ef9a
    Signed-off-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/2693
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ef1f9cfbaeb62fbabfcc175dc643baa125b393bb
Author: Venky Shankar <vshankar@redhat.com>
Date:   Tue Jan 24 10:52:00 2012 +0530

    geo-rep: gsyncd: Python3 compat fixes
    
    Change-Id: I2eef82faab3eed1189e3786a5dca296773e1caa0
    BUG: 784498
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2690
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Csaba Henk <csaba@redhat.com>

commit fd61cd598b70fbc9442350483a3777d77990d257
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Jan 24 15:53:52 2012 +0530

    protocol/client: if the remote_fd is -1, then unwind instead of sending the call to server
    
    For calls with remote_fd set to -1, client xlator is sending the call to the
    server which results in server not resolving it and thus fd being NULL. Locks
    xlator when tries to get the inode context using the fd it segfaults. To avoid
    it unwind the call in the client xlator if the remote_fd is -1.
    
    Change-Id: Ic34a49fdf1012dd371f4b194703c0be74f29bda2
    BUG: 784187
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2684
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit e98752525706fd6d9989367eb84f1a7fc1b81fa4
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Dec 23 10:00:28 2011 +0530

    protocol: allow extra data in all the 'fops' over wire
    
    Change-Id: I3920c68b5b317fc4a4acfd26d64d900bf7bd59d1
    BUG: 782265
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/2511
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 49c325d949b2df06572df7dd3825735fb9c8cd6f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Jan 21 20:05:55 2012 +0530

    complete the implementation of missing 'f**xattr()' fops
    
    in debug/* and cluster/* translators and a syncop_fsetxattr()
    
    added a test case for testing the working of 'f-fop()' on
    fuse mount.
    
    Change-Id: I0c2aeeb30a0fb382ef2495cca1e66b00abaffd35
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 766571
    Reviewed-on: http://review.gluster.com/802
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d7ecaaa1ed0f88869812ea17cb64a102a74c8c1c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jan 17 05:57:24 2012 +0530

    core: add 'fremovexattr()' fop
    
    so operations can be done on fd for extended attribute removal
    
    Change-Id: Ie026f1b53793aeb4ae33e96ea5408c7a97f34bf6
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 766571
    Reviewed-on: http://review.gluster.com/778
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 6c54022f1b1c7f5f458f6a7e783203d11e7f89b5
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Jan 5 15:38:32 2012 +0530

    cluster/dht: handle ENOENT err in rename fop
    
    A ENOENT should not be a error propogated for rename failures.
    As, ENOENT can arise only due to internal unlink call of rename.
    
    Change-Id: I925622da8ef370d0385bc5b30cf8dc9b8e852beb
    BUG: 768879
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/2583
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cf8486cbef329ef66868f658fa35f470f97db462
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jan 18 18:06:44 2012 +0530

    core: get xattrs also as part of readdirp
    
    readdirp_req() call sends a dict_t * as an argument, which
    contains all the xattr keys for which the entries got in
    readdirp_rsp() are having xattr value filled dictionary.
    
    Change-Id: I8b7e1290740ea3e884e67d19156ce849227167c0
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 765785
    Reviewed-on: http://review.gluster.com/771
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b02afc6d008f9959db28244eb2b9dd3b9ef92393
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jan 17 05:28:51 2012 +0530

    core: change lk-owner as a 1k buffer
    
    so, NLM can send the lk-owner field directly to the locks translators,
    while doing the same effort, also enabled sending maximum of 500 aux gid
    over protocol.
    
    Change-Id: I87c2514392748416f7ffe21d5154faad2e413969
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 767229
    Reviewed-on: http://review.gluster.com/779
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 0694749c3e5039be327110a64dd66619b5d9121c
Author: Shylesh Kumar <shylesh@gluster.com>
Date:   Tue Jan 24 12:14:36 2012 +0530

    cluster/afr: set loc->gfid for building root loc
    
    Change-Id: Icb902846d243df0502f664bfd187280cecd4397c
    BUG: 784176
    Signed-off-by: Shylesh Kumar <shylesh@gluster.com>
    Reviewed-on: http://review.gluster.com/2681
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit e04d45facc722d944d51439f4ae57b2af2a03d3e
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Jan 24 12:03:56 2012 +0530

    glusterd: fix transpose of memset arguments
    
    a fix for transposed arguments to memset in glusterd_get_all_volnames
    function introduced in volume status enhancement.
    
    Change-Id: Iaea60c7d19b23992684f91b016b0841e2153b0a9
    BUG: 765464
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2680
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit aecc9f52647e0ebc89cc5ca56a9f5182b7feb594
Author: Harshavardhana <fharshav@redhat.com>
Date:   Mon Jan 23 13:20:04 2012 -0800

    Revert "distribute: utilize new 'fremovexattr()' fop for rebalance"
    
    This reverts commit c4e4be31ec2783b984e7dbb9ecbc1eea84044ad0 ..
    
    There is a problem here. syncop_fremovexattr doesn't exist in the codebase yet. Have a dependency merge for this. No other patches can be uploaded without a build failure now.
    
    Change-Id: Ic2c6194d905ffcfa7cbdc29c9bc8739f628d404e
    Reviewed-on: http://review.gluster.com/2679
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 54b8d503dd23e72ed3076988c52e689f3554ebc8
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Thu Jan 19 18:09:34 2012 +0530

    pump: move internal pump xattrs out of trusted domain
    
    * the trusted.glusterfs.pump.{start|pause|commit|status|abort} xattrs
      have been moved out of trusted domain. This enables separation of
      xattrs used as gluster-internal commands (handled by pump) for
      replace-brick, which are not set in the back-end, from xattrs set
      on the replace-brick source and destinations bricks.
    
    * macros definitions from pump.h and glusterd.h, #defining these xattrs
      have been merged and put into libglusterfs/src/glusterfs.h
    
    Change-Id: I87b8bfbf045aa140f5d3f0c9baa9b2e79f87b67b
    BUG: 783049
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2663
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4e2a26eb285de9e0a5836ad5e2edbc14eb9adc80
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Dec 16 18:27:52 2011 +0530

    distribute: utilize new 'fremovexattr()' fop for rebalance
    
    instead of existing 'syncop_removexattr()' which is not rename proof
    for now.
    
    Change-Id: I3b2afbe58ce90658100cc56b01e23bed672854e8
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    BUG: 766571
    Reviewed-on: http://review.gluster.com/803
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 366c98afe6d8ec1e69d33baad5e914fa3229f2a1
Author: root <shishirng@gluster.com>
Date:   Mon Jan 23 14:32:31 2012 +0530

    storage/posix: Pass correct size to sys_lgetxattr
    
    We were passing op_ret (0), instead of size variable obtained by previous
    sys_lgetxattr to determine the  size
    
    Signed-off-by: root <shishirng@gluster.com>
    Change-Id: I886dedc2ab752ac1feabe7a79725ea5f069d6865
    BUG: 783916
    Reviewed-on: http://review.gluster.com/2676
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 4e92c58d27b5cea9d7346d6dd88be9b3479c9e3b
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jan 13 06:12:11 2012 +0100

    rpc: extend actors with flag signing if privilege is required
    
    Currently we allow the following RPC messages for unprivileged users:
    GLUSTER_CLI_GETWD, GLUSTER_CLI_MOUNT, GLUSTER_CLI_UMOUNT
    
    Change-Id: I05414f3ca7cbe47de45c5e5cfba1537efc774e6c
    BUG: 781256
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Reviewed-on: http://review.gluster.com/2641
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d3ca9f05ec3a9881b5aeadb7b61cfcb97dbdb718
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jan 13 06:05:34 2012 +0100

    cli: exit with error if connection problem occurs
    
    Change-Id: I97fc4d0a260120810b71dd5d9957a269d4550a3b
    BUG: 781256
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Reviewed-on: http://review.gluster.com/2640
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit bb1e07b7f42e7db415527852e98fcc1cbf2e1285
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jan 13 23:17:07 2012 +0530

    nfs: changes for using nameless lookup and anonymous FDs
    
    - Use gfid to create filehandle instead of encoding path components
    - Utilize nameless lookups of GFID for deep resolution instead of
      crawling the namespace with component hints
    - Use anonymous FDs for file based operations
    - Do away with fdcaching code for files and dirs
    
    Change-Id: Ic48fb23370b25d183f7e1fc1cc5dffa9d5bab3fb
    BUG: 781318
    Reviewed-on: http://review.gluster.com/2645
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 7e1f8e3bac201f88e2d9ef62fc69a044716dfced
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jan 13 13:27:15 2012 +0530

    core: GFID filehandle based backend and anonymous FDs
    
    1. What
    --------
    This change introduces an infrastructure change in the filesystem
    which lets filesystem operation address objects (inodes) just by its
    GFID. Thus far GFID has been a unique identifier of a user-visible
    inode. But in terms of addressability the only mechanism thus far has
    been the backend filesystem path, which could be derived from the
    GFID only if it was cached in the inode table along with the entire set
    of dentry ancestry leading up to the root.
    
    This change essentially decouples addressability from the namespace. It
    is no more necessary to be aware of the parent directory to address a
    file or directory.
    
    2. Why
    -------
    The biggest use case for such a feature is NFS for generating
    persistent filehandles. So far the technique for generating filehandles
    in NFS has been to encode path components so that the appropriate
    inode_t can be repopulated into the inode table by means of a recursive
    lookup of each component top-down.
    
    Another use case is the ability to perform more intelligent self-healing
    and rebalancing of inodes with hardlinks and also to detect renames.
    
    A derived feature from GFID filehandles is anonymous FDs. An anonymous FD
    is an internal USABLE "fd_t" which does not map to a user opened file
    descriptor or to an internal ->open()'d fd. The ability to address a file
    by the GFID eliminates the need to have a persistent ->open()'d fd for the
    purpose of avoiding the namespace. This improves NFS read/write performance
    significantly eliminating open/close calls and also fixes some of today's
    limitations (like keeping an FD open longer than necessary resulting
    in disk space leakage)
    
    3. How
    -------
    
    At each storage/posix translator level, every file is hardlinked inside
    a hidden .glusterfs directory (under the top level export) with the name
    as the ascii-encoded standard UUID format string. For reasons of performance
    and scalability there is a two-tier classification of those hardlinks
    under directories with the initial parts of the UUID string as the directory
    names.
    
    For directories (which cannot be hardlinked), the approach is to use a symlink
    which dereferences the parent GFID path along with basename of the directory.
    The parent GFID dereference will in turn be a dereference of the grandparent
    with the parent's basename, and so on recursively up to the root export.
    
    4. Development
    ---------------
    
    4a. To leverage the ability to address an inode by its GFID, the technique is
    to perform a "nameless lookup". This means, to populate a loc_t structure as:
    
    loc_t {
       pargfid: NULL
       parent: NULL
       name: NULL
       path: NULL
       gfid: GFID to be looked up [out parameter]
       inode: inode_new () result [in parameter]
    }
    
    and performing such lookup will return in its callback an inode_t
    populated with the right contexts and a struct iatt which can be
    used to perform an inode_link () on the inode (without a parent and
    basename). The inode will now be hashed and linked in the inode table
    and findable via inode_find().
    
    A fundamental change moving forward is that the primary fields in a
    loc_t structure are now going to be (pargfid, name) and (gfid) depending
    on the kind of FOP. So far path had been the primary field for operations.
    The remaining fields only serve as hints/helpers.
    
    4b. If read/write is to be performed on an inode_t, the approach so far
    has been to: fd_create(), STACK_WIND(open, fd), fd_bind (in callback) and
    then perform STACK_WIND(read, fd) etc. With anonymous fds now you can do
    fd_anonymous (inode), STACK_WIND (read, fd). This results in great boost
    in performance in the inbuilt NFS server.
    
    5. Misc
    -------
    The inode_ctx_put[2] has been renamed to inode_ctx_set[2] to be consistent
    with the rest of the codebase.
    
    Change-Id: Ie4629edf6bd32a595f4d7f01e90c0a01f16fb12f
    BUG: 781318
    Reviewed-on: http://review.gluster.com/669
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 33c568ce1a28c1739f095611b40b7acf40e4e6df
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Jan 18 13:59:32 2012 +0530

    glusterd: Fixed crash in stop volume found using efence.
    
    Change-Id: I84d38b8af248920a1559d05f0e4f43d3eda0f43e
    BUG: 782710
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2651
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 9b389a3f76bc858f95e498c1539317c7a8bc6188
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Jan 19 11:41:55 2012 +0530

    cluster/afr: do not unlock without holding the lock on the fd
    
    In afr_open_fd_fix we were unlocking the local->fd->lock, without
    holding the lock on it if we were not able to get the fd context.
    Now we are directly going to out and returning, instead of going
    to unlock without holding the lock.
    
    Change-Id: I0da638bbd2c269127cf111b3aac707e4a95d20c6
    BUG: 783036
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2658
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 6481f062b8ad0f47fa7715f78b7bf61623d1dc9a
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Jan 17 11:54:20 2012 +0530

    cli: trivial changes in cli-rpc-ops.c
    
    * the get_volume_cbk has been cleaned up(w.r.t whitespace) and a memset
      used where appropriate. some other functions have been
      affected(in a good way) by the whitespace-dealing commands in emacs.
    
    Change-Id: Iba473290e87747f8bb06d335db06c872a241d7cd
    BUG: 781333
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2653
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3169891538331a8a0e954010c5dac8360997da12
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Jan 18 15:16:48 2012 +0530

    glusterd: Fixed crash in peer probe found using efence
    
    Change-Id: Ie09d1e4eb9a8d338f8e5cf6360b398b196141a81
    BUG: 782718
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2655
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 36cedb338ec1d021e189379f30100f0d983e3e01
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Dec 6 11:35:33 2011 +0530

    core/setxattr: prevent users from setting glusterfs xattrs
    
    * Each xlator prevents the user from setting glusterfs-internal
    xattrs like trusted.gfid by handling it in respective setxattr
    functions. The speacial case of trusted.gfid is handled in
    fuse (Not in posix because posix_setxattr is used to set gfid).
    
    * For xlators which did not define setxattr and/or fsetxattr,
    the functions have been implemented with appropriate checks.
    
    xlator         |     fops-added
    _______________|__________________________
                   |
    1. afr         |     fsetxattr
    2. stripe      |     setxatrr and fsetxattr
    3. quota       |     setxattr and fsetxattr
    
    Change-Id: Ib62abb7067415b23a708002f884d30e8866fbf48
    BUG: 765487
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/685
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 4e76cea78b11e9290b16c2faa85cf81b8e32b7ea
Author: Niels de Vos <ndevos@redhat.com>
Date:   Sat Jan 7 16:10:06 2012 +0000

    trivial: gluster_pmap_actors should only use GF_PMAP_* procedures
    
    GF_HNDSK_NULL is not suitable for gluster_pmap_actors, instead use
    GF_PMAP_NULL. The actual value (0) is not different for these, so there
    is no fuctional change.
    
    Change-Id: Ibb998ebae88b457c57a42ce63dad095d2d4a22c5
    BUG: 772468
    Signed-off-by: Niels de Vos <ndevos@redhat.com>
    Reviewed-on: http://review.gluster.com/2603
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 3007bdddb1cae3d2b036ebddfc76ca6f6e06a184
Author: Kaleb KEITHLEY <kkeithle@redhat.com>
Date:   Mon Jan 9 12:32:46 2012 -0500

    don't try to get ngroups from /proc on non-Linux systems
    
    Emmanual Dreyfus abandoned his changes, seemingly because he couldn't
    get rfc.sh to correctly generate his changed patch set. Since Mac OS
    is an important port, I suggest we keep this change alive. (This
    change also works on the other BSDs too)
    
    Now with added Solaris support
    
    BUG: 764655
    Change-Id: I6a9ab7383777f9a09ab5c9a6914f45eee43461fb
    Signed-off-by: Kaleb S. KEITHLEY <kkeithle@redhat.com>
    Reviewed-on: http://review.gluster.com/2617
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 0e1679aee746040cdd509c5cd4004a4641c4c203
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Jan 13 18:21:39 2012 +0530

    cli,glusterd: Display volume UUID in the output of 'volume info'
    
    Cleaned up some leaks along the way.
    
    Change-Id: Ibc76c539eee935c0630f9580d0d914814b1a6fe1
    BUG: 781445
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2643
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit faf9099bb50d4d2c1a9fe8d3232d541b3f68bc58
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Jan 3 16:05:51 2012 -0800

    cluster/distribute: dht_aggregate() fix a logic error before xattr comparisons
    
    Change-Id: I20f015263bed9851225005d5f41a5d518bd22592
    BUG: 769691
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2557
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 718a2744076ff21d19c0e9b2cadac5b975a3f6a9
Author: Niels de Vos <ndevos@redhat.com>
Date:   Sat Jan 7 22:05:11 2012 +0000

    trivial: correctly document that GLUSTER_CLI_VERSION=2 matches version 0.0.2
    
    Change-Id: I0d7eb0ac67ad83e5f21b60cc2acc514ac602ea42
    BUG: 772469
    Signed-off-by: Niels de Vos <ndevos@redhat.com>
    Reviewed-on: http://review.gluster.com/2604
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit cf944c8ad5da87bce15b08d0bbb2ecd62e553d86
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Fri Jan 6 16:02:55 2012 +0530

    glusterd: prevent adding bricks already in use
    
    The add-brick command now checks if the brick provided for
    add-brick is used in any volumes, even if the volume was
    never started by looping through the brick lists of all
    volumes.
    
    Change-Id: I15035d41d91386448a3e3d4063d909b880288681
    BUG: 771831
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2607
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit bfd429e583f50a4f4712de88dc0a15baadebbf9b
Author: Harshavardhana <fharshav@redhat.com>
Date:   Wed Jan 11 12:24:38 2012 -0800

    common-utils: Cleanup old stuff and standardize
    
    Change-Id: If15058c3a1cc4070d1ebbabe37e012a70353310e
    BUG: 769691
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2635
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3207a33ef67ed0d065935360adb309a7ae046317
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Dec 27 15:09:39 2011 +0530

    glusterd: improve replace brick status message
    
    when replace-brick status is invoked without starting
    replace brick on the specified bricks, appropriate error
    message is displayed
    
    Change-Id: I57230db84314caf807f1ff54f74307d85bdc1633
    BUG: 769926
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2531
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 919e3424849db2276e003dcd919a470838bf084f
Author: Lubomir Rintel <lubo.rintel@gooddata.com>
Date:   Mon Dec 19 23:40:11 2011 +0100

    posix-acl: properly process umask in case client sent it
    
    FUSE used to interpret the umask itself. That was a bad idea, since
    there are cases where umask is not applied, such as when extended POSIX
    ACLs are present and default ACLs are set on parent directory.
    
    The FUSE bridge was changed to send original mode with umask (alongside
    masked mode, for compatibility). If that is the case, we decide whether
    to apply the umask or not in the posix-acl translator depending on
    whether a default umask is set, or not.
    
    The original, broken, behavior is preserved in following cases:
    * Unpatched client (not sending umask with original mode)
    * Unpatched server (not understanding umask with original mode)
    * Old FUSE on client side (FUSE < 7.12 or linux < 2.6.31)
      (can not find out the umask and original mode)
    
    Change-Id: I2e3bfc4c7c9611bc51119ca5c8e28f6582677516
    Signed-off-by: Lubomir Rintel <lubo.rintel@gooddata.com>
    Tested-by: Lubomir Rintel <lubo.rintel@gooddata.com>
    BUG: 765508
    Reviewed-on: http://review.gluster.com/668
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 8a78d969ee8b7c284751364d72496eec84c7290b
Author: Lubomir Rintel <lubo.rintel@gooddata.com>
Date:   Thu Nov 3 08:51:50 2011 +0100

    fuse-bridge: preserve original mode and umask
    
    FUSE used to interpret the umask itself. That was a bad idea, since
    there are cases where umask is not applied, such as when extended POSIX
    ACLs are present and default ACLs are set on parent directory.
    
    Thus, FUSE was changed to pass umask to operation handler itself in case
    the fuse server is initialized with FUSE_DONT_MASK. In case FUSE
    supports it, gluster client sends mode unmasked and umask separately (
    masked mode is still sent, for compatibility with old servers).
    the mode as-is for compatibility with older clients.
    
    Change-Id: I55862b39a25261446f18ba0b3c03f85b41c4d722
    Signed-off-by: Lubomir Rintel <lubo.rintel@gooddata.com>
    Tested-by: Lubomir Rintel <lubo.rintel@gooddata.com>
    BUG: 765508
    Reviewed-on: http://review.gluster.com/667
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 169c73f28dae61236de54889edcaa8236d91da59
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Dec 7 20:51:03 2011 +0530

    cli: volume status enhancement
    
        * Support "gluster volume status (all)" option to display all
          volumes' status.
    
        * On option "detail" appended to "gluster volume status *",
          amount of storage free, total storage, and backend filesystem
          details like inode size, inode count, free inodes, fs type,
          device name of each brick is displayed.
    
        * One can also obtain [detailed]status of only one brick.
    
        * Format of the enhanced volume status command is:
          "gluster volume status [all|<vol>] [<brick>] [detail]"
    
        * Some generic functions have been added to common-utils:
    
               skipword
               get_nth_word
          These functions enable parsing and fetching
          of words in a sentence.
    
               glusterd_get_brick_root    (in glusterd)
          These are self explanatory.
    
    Change-Id: I6f40c1e19810f8504cd3b1786207364053d82e28
    BUG: 765464
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/777
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 4e40a7e48757feedc959c7982acf05c73f739a15
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Jan 11 10:38:45 2012 +0530

    mount/fuse: Fix memory leaks
    
    Change-Id: Iff10650dc8234f9d8ca0472f2e1ea9c60fbd6d4e
    BUG: 773211
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2630
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 984de558a959854ddb4042f2fb3d47508883b788
Author: Anand Avati <avati@gluster.com>
Date:   Thu Dec 8 11:08:48 2011 +0530

    core/stack: perform locked winds
    
    In configurations like pump, where there is a cluster translator on
    top of io-threads, there are situations where two concurrent stack-winds
    can be performed on the same call stack in multiple threads. This patch
    holds locks during the call frame list manipulation
    
    Change-Id: I51539210dc8101f7a80cf9bc103b5eff0c86dc9f
    BUG: 765522
    Reviewed-on: http://review.gluster.com/774
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 836c5f0075e83816d00003da440d5c728aefb93e
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Jan 9 17:03:21 2012 +0530

    cli: Corrected replace-brick error messages and usage string.
    
    Change-Id: I2739529ca572fd762fbbed27de9e433e8c5b1f81
    BUG: 772583
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2613
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 979e12f16b57cbb848fb9096d673dc58ed9b67a4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jan 9 19:48:44 2012 +0530

    cluster/afr: Remove dead code
    
    Change-Id: I239128c51b728fbb7814fd6a41020b76c88fbd93
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    BUG: 772876
    Reviewed-on: http://review.gluster.com/2623
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5303f98f674ab5cb600dde0394ff7ddd5ba3c98a
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Mon Dec 26 14:39:24 2011 +0530

    extras: add check for brick path existence
    
    Adding a couple of checks to validate brick path(s)
    
    Change-Id: I2d8538add21407d9457542373b528c2a02cd7eb6
    BUG: 765572
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2514
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 22282b4fb82b83621c15773c4c44ff3d28a82e3c
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Wed Jan 4 13:06:29 2012 +0530

    lib/mount-broker: move utility functions to common-utils
    
    functions skipwhite and nwstrtail have been moved from
    mount-broker to common-utils library for general use.
    
    Change-Id: I9cfefb28bbfcf5d0bd37e35865ff3f3b7923fc53
    BUG: 765464
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/2560
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit ea275f8cfe8abf5877f67b21afb2c1e6e08f06b7
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Jan 5 11:21:25 2012 +0530

    glusterd: Fixed add-brick error message.
    
    Change-Id: I9260d5a0203ae2990d37b30bcc7c94c81c1e168e
    BUG: 770678
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2581
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit c66ced7d876c8c96561724901be52a0a8afd4baa
Author: Junaid <junaid@gluster.com>
Date:   Wed Jan 4 12:46:53 2012 +0530

    features/marker: xtime should not be updated for modifications done by special client.
    
    Change-Id: Ia577422dedb94a1febeceb2a50cabf61d48cb714
    BUG: 769494
    Signed-off-by: Junaid <junaid@gluster.com>
    Reviewed-on: http://review.gluster.com/2559
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit 0a4ac033095c0675c90abc353736f388873291c0
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Jan 4 19:05:18 2012 +0530

    glusterd: Added checks for remove-brick handler.
    
    Removing bricks in a plain stripe-replicate is failed
    if replica count is not reduced explicitly.
    
    Change-Id: I6d0de4862595744d1d1998b9a287c34c53d7fe5f
    BUG: 770561
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2577
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 60862f5916dff99c91dd6d6319c958d02cb535d8
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Jan 3 11:07:00 2012 -0800

    libglusterfs: Add boundary conditions to data_to_int8() function.
    
    Change-Id: Iff50d44568895a75fc8743a10346990f764cf8fa
    BUG: 769692
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2556
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a6777636fbb94a34a37cadd7840429f72fc5b747
Author: Rahul C S <rahulcs@redhat.com>
Date:   Tue Jan 3 22:24:22 2012 +0530

    Avoid setting dict when size is -1
    
    when lgetxattr fails and returns size as -1, we
    still try to set the dict. Instead it should set
    proper errno & exit.
    
    Change-Id: I282dc0765e562bd9bbcf852453cd3b72d918b269
    BUG: 771313
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2555
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit fb825bccca8348cbff64edb239ee0cd66942984e
Author: Venky Shankar <vshankar@redhat.com>
Date:   Sun Jan 1 23:48:15 2012 +0530

    cluster/stripe: Fix block size reported in pathinfo xattr
    
    Block size (or stripe size) is reported when request is made
    for pathinfo xattr (trusted.glusterfs.pathinfo) for a striped
    volume. When the block size is changed, the new block size is
    reported for files created with older block size. This can be
    confusing ( or even erroneous ) for applications relying on
    pathinfo xattr to find chunks in backend.
    
    Change-Id: I79cb6721bbd33f44c3fada4dd52e459d2c128e24
    BUG: 766530
    Signed-off-by: Venky Shankar <vshankar@redhat.com>
    Reviewed-on: http://review.gluster.com/2545
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 29b9b0c72809456b1ba334a40adc1ed9929eca91
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Jan 2 18:40:31 2012 +0530

    glusterd: Fixed add-brick handler algorithm.
    
    In the fix for 765774, setting the op dictionary with modified stripe
    and replica count was (accidentally) removed affecting the correctness.
    The stage and op functions of add-brick rely on the fact that stripe/replica
    count are zero if there is no change in them during the add-brick operation.
    
    Change-Id: I55a23878e618b355009ffd0fce8c4904dbb70691
    BUG: 770914
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/2548
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit be003fbb3ac7a1f1021774ecb75a4929f1ba85d4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Dec 15 16:51:02 2011 +0530

    cluster/afr: Handle fini for afr,pump
    
    Change-Id: Idc0a05a8a25f278a7ab05e242263e0a5001bde18
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    BUG: 767862
    Reviewed-on: http://review.gluster.com/800
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c8c0942d1c890fd9b74c8e2fb3897bc96f9b9b82
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Dec 29 11:58:21 2011 +0530

    cluster/afr: EIO should overwrite ENOENT in lookup
    
    In case if lookup decides there is a gfid-mismatch,
    some enoents and self-heal cant remove the stale entry,
    it tells lookup to unwind with EIO but since ENOENT
    has more priority it is not over-written, this patch
    fixes that case.
    
    Change-Id: Icd68c4a5cf05dd97c568964ab647a34fdb6e26f4
    BUG: 765528
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2541
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8de9cad2234109913cf090b93e77980603424e85
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Dec 23 14:57:37 2011 +0530

    mgmt/glusterd: log the rebalance command received properly in the log file
    
    Change-Id: If18d9a49f5a3442755440e08ee7a63f6c6e54c5d
    BUG: 770058
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/2500
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 145b0f5a45c600c4f84f0d85adf36035a0abce5e
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Dec 23 11:49:02 2011 +0530

    debug/io-stats: Handle fini for io-stats xlator
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I0b36a2f4836fa84ced7414fdba4d68e0cb6cac7b
    BUG: 767862
    Reviewed-on: http://review.gluster.com/2499
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 1c4098a05e8e035c4e155aebb410fe2c811ccd50
Author: Rahul C S <rahulcs@redhat.com>
Date:   Fri Dec 23 03:28:13 2011 +0530

    Added/Removed white spaces wherever necessary in replace-brick
    
    Change-Id: Ic11d04813109bc6252e4dfe754c7b4c5c74014cd
    BUG: 769985
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2498
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit d2b6d69023c954eed1031c03e0b6750bb81f52ac
Author: Harshavardhana <fharshav@redhat.com>
Date:   Fri Dec 2 16:57:22 2011 -0800

    mount/fuse:  Cleanup / remove unnecessary comments
    
    Change-Id: If236e82c2e89d2ab4a0e3278319976aeb9fc05a6
    BUG: 769691
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/2491
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit e9659b4103680eb82e7004b411d2db18c5fbb9bd
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Dec 28 12:09:08 2011 +0530

    cluster/afr: Handle error cases in local init
    
    - Fop should unwind with appropriate errno
    - Local is de-allocated on errors
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Change-Id: I4db40342ae184fe1cc29e51072e8fea72ef2cb15
    BUG: 770513
    Reviewed-on: http://review.gluster.com/2539
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e1f6ebc1a41d1759c2c4ec1d81a9b8a777b7a25d
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Wed Nov 23 12:52:04 2011 +0530

    rebalance: remove the *.fix.layout xattr from trusted domain.
    
    moving trusted.distribute.fix.layout from trusted domain.
    
    Change-Id: If4317e4320998bbd739a8472b8814d75c425d341
    BUG: 765487
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/747
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 8be9b0502843b755adad7badfc4e144cf7c410f6
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Dec 25 22:17:08 2011 +0530

    build: Change dependency of rsync version for geo-replication
    
    Change-Id: Iaf49121ef04bb02114f74cdc2fd2985a564d5407
    BUG: 764476
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-on: http://review.gluster.com/2505
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 8543529f381d16349662269342d55ab67a1a4582
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Dec 26 10:10:13 2011 +0530

    cluster/afr: Handle split-brain/all-fool xattrs for directory
    
    In case of split-brain/all-fool xattrs perform conservative merge.
    Don't treat ignorant subvol as fool.
    
    Change-Id: I6ddf89949cd5793c2abbead7c47f091e8461f1d4
    BUG: 765528
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2521
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a0c5efcf2cb2be5c9736c75af7a6d8754a101bf5
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Dec 21 10:43:28 2011 +0530

    features/posix-acl: handle fini for features/posix-acl
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I6cd3a9c3a513cc2a998b82610613bbfa0622eec4
    BUG: 767862
    Reviewed-on: http://review.gluster.com/811
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 4511ed196f94f639846b899e6b58f5f6af3fa668
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Dec 13 12:58:25 2011 +0530

    extras: clean up a brick's gfid xattr
    
    * extras/clear_xattrs.sh: This script enables a brick from a
    deleted volume(stale brick) to be used in a new volume by
    clearing all the trusted.gfid xattr from the brick tree.
    
    * One should run this script on all machines which have
    stale bricks if one wants to re-use the same bricks
    for a new volume.
    
    NOTE: This script *SHOULD BE RUN ONLY AFTER STOPPING A VOLUME*,
    thereby ensuring that no replace-brick or rebalance operations
    are on-going.
    
    Change-Id: I35a4a2784fe502749184b87299b1a043b8e48e90
    BUG: 765572
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/781
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 31fa06932952f0cb706653aa7d0450646009eb07
Author: Rahul C S <rahulcs@redhat.com>
Date:   Thu Dec 22 13:17:21 2011 +0530

    Improve cli output of gluster volume heal command.
    
    Improving cli outputs according to the type of the volume,
    the "heal" action can be performed on the volume.
    Also checks if the volume is started & then if the
    "self-heal" daemon is not started, prints appropriate
    message.
    
    Change-Id: I25b0822e4d518c50e2f1173aa8c7c11ae6b76d3f
    BUG: 769774
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/2496
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit d7d9f3d4002d31ceefed6ce80ec7567eca9ba6d3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Dec 20 10:05:12 2011 +0530

    cluster/afr: Set pargfid when missing
    
    client asserts for missing pargfid in case of unlink. So
    Afr needs to make sure it is present in that fop.
    
    Change-Id: Iea0ad65e1e7254c8df412942c52d5870e853aa51
    BUG: 769055
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/2495
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5ccbfdd87bebbc4c65a76c72191ac564ff844df8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Dec 19 22:10:38 2011 +0530

    libglusterfs: set inode path to be NULL in case of errors
    
    Some of the functions calling inode_path, __inode_path
    are assuming the path to be set to NULL in case of errors.
    Instead of fixing it in the calling functions, fixing it in
    the __inode_path function.
    
    Change-Id: I77736a2700d3c2c9732a536bcf2a398fe626d54e
    BUG: 765430
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/810
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bddb3a014af22133d958da96ad32a02f8ff66805
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Dec 19 18:35:19 2011 +0530

    protocol/server: Do connection cleanup if reply fails
    
    We observed that after the first connection cleanup happens on
    DISCONNECT the lock calls in transit are granted or added in
    blocked locks queue. These locks were never cleaned up after that
    because no unlock would come up on that connection. This would
    leave references on that transport so it would never be destroyed.
    Now, the connection cleanup happens whenever the reply
    submission fails.
    
    Also cleaned up the old code which is not used any more.
    
    Change-Id: Ie4fe6f388ed18d9c907cf8ae06b0b7fd0601a660
    BUG: 765430
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/809
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 23495efe35515891cc56b49ef967d5b1ba195e3e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Dec 19 12:45:34 2011 +0530

    features/locks: Fix release of locks on disconnect
    
    When a disconnect comes on a transport, all the locks on that
    transport should be cleared irrespective of entry presence.
    
    Change-Id: I1c432ec1ddc8fe3f7bf236992f47437d0dacd6ae
    BUG: 765430
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/808
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 941edee5dc38328fb46dd8b284956357ca67dec9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Dec 16 21:47:14 2011 +0530

    cluster/afr: Fix meta data lock range
    
    Change-Id: I7615f31309c6c8f5373e1ff0535d84396dfa1455
    BUG: 765430
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/807
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7eed1d5ba51b65e865f79a392aff70048c702bf0
Author: Harshavardhana <fharshav@redhat.com>
Date:   Fri Dec 2 16:58:14 2011 -0800

    transport/rdma: Add attr_timeout, attr_retry_cnt, attr_rnr_retry
    as configurable options
    
    Change-Id: Ifc4710f149be35979746ddfbfb4181638601bc64
    BUG: 766040
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/766
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0074f208448d131a25721d8cd4ed408c5c57c72a
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Dec 19 12:42:31 2011 +0530

    glusterd: Fixed spurious checks in add_brick.
    
    Previous algo,
     - didn't allow volume type change from plain distribute
       to distribute-[stripe][-][replicate].
     - performed 'add-brick' on temporary volinfo without correct
       initialisations. This was superflous.
    
    Change-Id: If5d5d78e59bd04685df9c27974f715df5f0b43f3
    BUG: 765774
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/804
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 2a3e74e7a68aac1ad6d89122bbc4d64cd304986b
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Tue Dec 13 17:13:59 2011 -0500

    Fix local==NULL crash in wb_sync_cbk during disconnect.
    
    Change-Id: I26dc48a85756e189b1ef5cfef1658f9c2aed2157
    BUG: 767359
    Signed-off-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-on: http://review.gluster.com/784
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 255fed3b0d5b9d210d1da47dbd647dd6497cd550
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Dec 15 22:16:13 2011 +0530

    cli: validate the volume set command properly
    
    For volume set command if after the volume name the key and the
    value of the option are not given, then gracefully exit by
    showing the proper usage of volume set, instead of sending the
    request to glusterd, which makes glusterd crash.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Change-Id: I2f0d189a55663c7f47dddff35d4dc68fae16b755
    BUG: 767591
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/797
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 4debbfe7f629626fd2e77a2d98f37f4e808e9f95
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Dec 19 16:36:33 2011 +0530

    cluster/stripe: copy the gfid from the dentry structure to loc
    
    In stripe_readdirp_cbk we used to send stat call on each of the entry
    we have got from readdirp, by creating a new inode (but without
    setting the gfid in loc). Protocol/client asserts if it cannot find
    gfid in either loc or loc->inode. This patch copies the gfid of the
    entry from the stat structure to loc.
    
    Change-Id: I35228227e943f3b01fac720d6c587764c47e6869
    BUG: 768840
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/806
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 3853f4ccaf1f0446af9a3f523008c64834a63df6
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Dec 15 15:13:14 2011 +0530

    rpc-transport/socket: Donot fail reconnect if error is ENOENT
    
    A AF_UNIX family socket should retry connect if error is ENOENT.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Change-Id: I23b1da12faadc8043d370862bfe29c0c5c223364
    BUG: 767932
    Reviewed-on: http://review.gluster.com/795
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a6098362f93e321ce25424d2f95cc1d61783f6b9
Author: Rahul C S <rahulcs@redhat.com>
Date:   Thu Dec 15 18:16:29 2011 +0530

    Default option to be set to "all" if no option is given to
    volume statedump cli command.
    
    Change-Id: Ia167e9d0fd1f9a50f79554d40e6fa7d292896aa4
    BUG: 767545
    Signed-off-by: Rahul C S <rahulcs@redhat.com>
    Reviewed-on: http://review.gluster.com/799
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushal M <kaushal@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 3a0fe71cebd59c1204c60a7d20b2fe2b94f07665
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Dec 14 14:46:09 2011 +0530

    glusterd: Fail 'requests' from non-peers.
    
    glusterd should not honour "volume op requests" from peers who are not
    part of the cluster.
    
    Change-Id: I6cb6d630a9da02ab060650f21edb46db8deb70e8
    BUG: 767559
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/787
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cd24be007c64bd10d8c28e8e9b1c988478a32c8c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 14 10:36:27 2011 +0530

    debug/error-gen: add option to generate errors at random percentage
    
    Currently error-gen has a option where the percentage of the errors generated
    can be specified. This patch adds a new option, which if given errors
    are generated at random percentage. If both the random failure option and
    the specific percentage of the errors are provided, then random error
    generation is given preference.
    
    Change-Id: I43fffcd7da8935761ed7d30e2a9677895d6a31fb
    BUG: 767192
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/786
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ebe0cedb072baf4c1f4bd81f22745c428ab6b911
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Dec 6 14:00:40 2011 +0530

    protocol/client: Be strict about gfids in fop req
    
    Change-Id: I7508ab3a93329bb6a679801fddfcd0e5b0c7c134
    BUG: 765198
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/770
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7235e5b1af090ffc9d87ac59daadf7926433b495
Author: Rajesh Amaravathi <rajesh@redhat.com>
Date:   Tue Dec 13 15:26:55 2011 +0530

    mount/fuse: export PATH for which in mount script
    
    exporting PATH environment variable for mount.glusterfs.in
    to correct the "which: no getfattr in ((null))" error
    during fuse mount.
    
    Change-Id: Id7d024c0d1cf3d265489557897e9e1f8e7ce4ce4
    BUG: 765561
    Signed-off-by: Rajesh Amaravathi <rajesh@redhat.com>
    Reviewed-on: http://review.gluster.com/782
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 91c7ad753884c81b46f05f200b9d9dc00eec5132
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Dec 13 15:54:49 2011 +0530

    cluster/afr: Double the call count if transaction is for rename
    
    In rename the changelog modification needs to happen both on
    old parent-dir and new parent-dir, so 2 stack winds are
    done per brick.
    
    Change-Id: I43f34661e397c4288162213944529e18b7724b1d
    BUG: 766603
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/783
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1d38ec6ce40279d7e8ef2b5a9bd59a2d289eca23
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 24 15:42:55 2011 +0530

    fuse: bring in the reverse invalidation
    
    Thanks to Csaba Henk <csaba@gluster.com> for the patch
    
    Currently one can invalidate the inodes using 'setxattr()' with
    key 'inode-invalidate' (and any value). This can be further
    extended to do a purge of inode table itself.
    
    Change-Id: I165d5d585ed808b9e463ac0aad859ec64568c7a2
    BUG: 762277
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/324
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 289c2902d6a81f7a5b6da04c24cc955bd5427178
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Dec 8 11:42:50 2011 +0530

    iobuf: fix a crash in iobuf when statedump is taken
    
    With the previous patch this change was missed.
    
    Change-Id: If536cef3fa423415eaa4104e6c3e5e72c5d0a22d
    BUG: 3854
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-on: http://review.gluster.com/775
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 017344be59fbbd4cf6d29d3f5a6581b468dc29c9
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 27 18:01:29 2011 +0530

    libglusterfs/iobuf: have fixed number of arenas
    
    * so overall memory usage will be in limit.
    * the array is hard-coded, need to improve upon this.
    * need more benchmarking to tune the proper values to the array
    * fixed the issue of pruning of arenas.
    
    Change-Id: I38a8ffab37378c25d78f77a2d412b1b8935c67d3
    BUG: 3474
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/543
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 254fbfd92d4088c97ddde79a37b4e08e80c8eff3
Author: Harshavardhana <fharshav@redhat.com>
Date:   Mon Nov 21 16:28:47 2011 -0800

    cluster/distribute: Assert checks at known locations
    and new function dict_get_ptr_and_len().
    
    Change-Id: I653a1cc8123baa36d750250d02721aa98b196f38
    BUG: 3158
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/744
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2b64c93c9f7f69fab506bdfca163a2805a2ea46c
Author: Anand Avati <avati@gluster.com>
Date:   Mon Dec 5 14:18:22 2011 +0530

    CONTRIBUTING: add a DCO
    
    The new CONTRIBUTING file has a Developer Certificate of Origin with
    instructions for contributors to ensure 'Signed-off-by:' line in the
    commit log (git commit -s). Corresponding changes also done in Gerrit
    to reject patches which do not have Signed-off-by: line.
    
    Change-Id: Ia3e1e8d3cfd4b32e4cfd4d2df91c6dbd57e2f60e
    BUG: 3234
    Signed-off-by: Anand Avati <avati@gluster.com>
    Reviewed-on: http://review.gluster.com/767
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 99d606e810286eef6f19e39d24dd63cb602a0bb1
Author: Rahul C S <rahulcssjce@gmail.com>
Date:   Fri Nov 25 17:21:46 2011 +0530

    Changes all parent values for quota_check_limit
    and quota_update_size from 0x0 to NULL to make
    sure uuid_copy happens between pointers
    
    Change-Id: I73ef5f9054f972fce00b8f42125dc49c9d86c3f2
    BUG: 3830
    Reviewed-on: http://review.gluster.com/756
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 430f76a6c1c9af06b433a9d6080168b92b30e034
Author: Kaleb KEITHLEY <kkeithle@f16node1.kkeithle.usersys.redhat.com>
Date:   Thu Dec 1 12:44:38 2011 -0500

    bz 3826, fix for parallel make in fedora build system
    
    builds of glusterfs in the fedora build system often fail due to a
    race condition between running yacc and starting to compile the y.tab.c
    produced by yacc
    
    We found that the previous fix would still occasionally trip the race
    condition. This revised patch changes the automake Makefile.am to generate
    the parser files without incurring the race condition. An extra dimension
    of the problem is that the tarball from
      http://download.gluster.com/pub/gluster/glusterfs/3.2/3.2.5/glusterfs-3.2.5.tar.gz
    contains files that you don't get when you clone from the git repo (e.g.
    libgluster/src/{graph.lex.c,y.tab.c}, and all the Makefile.in files) so
    build issues on fedora build systems do not manifest themselves on jenkins
    and vice versa.
    
    This works on jenkins, the fedora build system, and my f16 vm/guest
    machines. (Finding the right combination that works on all three was an
    exercise to say the least. I'm open to other suggestions for avoiding
    the race condition.)
    
    Run autogen.sh to (re)generate the Makefile.ins. Then run configure to
    produce all Makefiles, followed by `make -j X` where X>1
    
    see also https://bugzilla.redhat.com/show_bug.cgi?id=756510
    
    BUG: 3826
    Change-Id: Iaeecb59c61a77bf3927da18253c83cf5ffed4254
    Reviewed-on: http://review.gluster.com/765
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit f5d5e8012a3762d0ffb95a0ca624a3fce3c262cd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Nov 24 13:50:23 2011 +0530

    mount/fuse: Inherit direct-io-mode values from fds already
    opened, for a new fd being opened.
    
    When an fd is being opened, it inherits direct-io-mode characterstics
    (either enabled or disabled) from the fds already opened on inode. If none
    are opened and user has not specified the mode through cmdline options,
    default mode is used.
    
    Change-Id: I0c9e959100e9130e46bbd16d63eca278260635b4
    BUG: 801
    Reviewed-on: http://review.gluster.com/55
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 5d194403e96d97f82681b5e7d96ddf8e48858cb7
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 29 15:20:48 2011 -0800

    contrib/uuid: Make sure that uuid_types.h are generated per system specific.
    Just the same way e2fsprogs maintains. This avoids unnecessary problems
    for different architectures.
    
    Change-Id: I3911998373756707996afb7b926ec0780ea18b81
    BUG: 3833
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/764
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit fbf6ce560dd6e72fc9d404e32d313732077a250f
Author: Kaleb KEITHLEY <kkeithle@f16node1.kkeithle.usersys.redhat.com>
Date:   Tue Nov 29 09:36:50 2011 -0500

    bz 3826, fix for parallel make in fedora build system
    
    builds of glusterfs in the fedora build system often fail due to a
    race condition between running yacc and starting to compile the y.tab.c
    produced by yacc
    
    This patch changes the automake Makefile.am to generate the parser files
    without incurring the race condition
    
    This works on jenkins, the fedora build system, and my f16 vm/guest
    machines. (Finding the right combination that works on all three was an
    exercise to say the least. I'm open to other suggestions for avoiding
    the race condition.)
    
    Run autogen.sh to (re)generate the Makefile.ins. Then run configure to
    produce all Makefiles, followed by `make -j X` where X>1
    
    see also https://bugzilla.redhat.com/show_bug.cgi?id=756510
    
    BUG: 3826
    
    Change-Id: I06ba0d0a1d59f0f44c0dd2cd9d227ca08d99e205
    Reviewed-on: http://review.gluster.com/763
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 1b3571d38fc789100e2c053750eca1109494596b
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Mon Nov 21 12:35:34 2011 -0500

    Add command-line support (but no doc) for enforce-quorum option.
    
    Change-Id: Ia52ddb551e24c27969f7f5fa0f94c1044789731f
    BUG: 3823
    Reviewed-on: http://review.gluster.com/743
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f52dd9bf2005449f49acd5666a02594fb4c5ac6f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Nov 20 09:13:14 2011 +0530

    cluster/afr: Update read-child if it becomes stale
    
    Change-Id: I00c714a89575023f6dbdd3430dcbf191e5d08019
    BUG: 3650
    Reviewed-on: http://review.gluster.com/740
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7ae082e9c519ea91540c4d49f9df44c4e6e9f39a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Nov 15 12:14:56 2011 +0530

    rpc-transport/rdma: add gf_ prefix to all procedure, variable names
    
    Change-Id: I251be23d2c60b88589f71e7a8c3b1f2b7e3eb3e6
    BUG: 3319
    Reviewed-on: http://review.gluster.com/148
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit f4297a0eec29b7eba2f1ddfde0d273d5f6660723
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 16:29:28 2011 +0200

    NetBSD build tweak to use linkat(2)
    
    linkat() is guarded by -D_INCOMPLETE_XOPEN_C063 for now since support
    for OpenGroup extended API set 2 is not yet complete.
    
    Change-Id: If1038dac61b6945c73a208c6e05f1154ff913098
    BUG: 2923
    Reviewed-on: http://review.gluster.com/232
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 26fd1cecc985d3cd4d84c7fa061b371757c34a6e
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Thu Nov 24 09:15:29 2011 +0100

    case to uint64_t when convering gfid to inode, otherwise it can get
    garbled on 32 bit machines.
    
    Change-Id: Id2acc1f9ae98194d541f5468616be441896c4239
    BUG: 2923
    Reviewed-on: http://review.gluster.com/753
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit ad2d5765d955899f56fec5c05ba9e0e55ccac395
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 16:23:23 2011 +0200

    Let NetBSD use its recently added Linux xattr API
    
    Change-Id: Ibd365e8d83c6faf631df7cb99ec62440496fcbdf
    BUG: 2923
    Reviewed-on: http://review.gluster.com/230
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 86ed5d68596e577b4d923750a619a6921f2cfe18
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Mon Oct 3 13:56:23 2011 -0400

    Add volfile-generation hook facility.
    
    Change-Id: I958c393ce5cfffcde8d120499a43dbe6105a082c
    BUG: 3688
    Reviewed-on: http://review.gluster.com/558
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 3f1092c1a79adefd4400bfb6fd20029a22b0f827
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Sun Oct 16 08:06:18 2011 +0200

    We must #include <signal.h> for sigprocmask(2). Failure to do so will break
    on NetBSD kernel without COMPAT_13 option.
    
    Change-Id: Ia710bbe31ed48e4df4cd47f99e335d7226b99173
    BUG: 2923
    Reviewed-on: http://review.gluster.com/594
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 79c379c70ced3fd8a487cf007ba6c82b0773fb9a
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Sun Oct 16 08:09:11 2011 +0200

    usleep(3) shall not be called with argument higher than 1s
    
    Change-Id: Ied0a2fedb3b7604f6abbf0a4aa7f71e43a5ea568
    BUG: 2923
    Reviewed-on: http://review.gluster.com/595
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 8b8459b5ee5d3bd2dbbf416e12a1be0cd90c270f
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Thu Nov 24 06:32:36 2011 +0100

    Use /bin/mount on Linux, /sbin/mount on other systems
    
    Change-Id: I8d2e518d29cedb1fbfa77d0189a2d4a24957e662
    BUG: 2923
    Reviewed-on: http://review.gluster.com/752
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b21d430729c45990492703145c075940e6b1c681
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Nov 10 11:09:56 2011 +0530

    afr: Fixed backgroundness detection in self-heal algo.
    
    Change-Id: I9888d8a0b86fdaf6589885766f2de7222d8c8ba2
    BUG: 3802
    Reviewed-on: http://review.gluster.com/705
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>
    Reviewed-on: http://review.gluster.com/745
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 3b2febc1c4b1b0f8d473e4e2503ffdff54236c9b
Author: Niels de Vos <ndevos@redhat.com>
Date:   Sun Nov 13 17:45:54 2011 +0000

    rpc-transport: fix some indentions
    
    Some lines are indented with spaces, others with tabs. When Tabs are not
    disaplayd as 8 spaces, the indention is completely messed-up.
    
    Change-Id: I31ddf44c5b7f5fe1c5493adca98e95514f2920bd
    BUG: 3822
    Signed-off-by: Niels de Vos <ndevos@redhat.com>
    Reviewed-on: http://review.gluster.com/742
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 41e99d3686f3a63b4c6afa9addc93472971e9570
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 15 13:49:18 2011 -0800

    rpm: rpmbuild fix for opensuse
    
    Change-Id: I4ccf75288aad6d5f210bd7c51c0ce9924bb0efad
    BUG: 2925
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/729
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 5aed416a5f61b18a7eb105fde0752d1f66c37a88
Author: Sachidananda Urs <sac@gluster.com>
Date:   Wed Nov 23 00:02:33 2011 +0530

    Change the start/stop order of glusterd script at boot time.
    
    In cases of client and server sharing the same machine, mounting GlusterFS at
    boot time failed due to the start and stop order we use for glusterd. And people
    had to resort to the idea of adding mount command in rc.local.
    
    Currently the start and stop order at the boot time were 90 and 12, and netfs
    started before `glusterd' and failed to mount GlusterFS. By changing
    the rc order to 20 80 glusterd is started earlier than netfs, thus enabling
    netfs to mount GlusterFS during boot process.
    
    Thanks to: alex@net13.info for the suggestion in bug 2484.
    
    Change-Id: I482f4dac5e5dd8bc5b8f5034c394f5dbe6c1fd3e
    BUG: 2484
    Reviewed-on: http://review.gluster.com/746
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Harshavardhana <fharshav@redhat.com>
    Tested-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-by: Kaleb KEITHLEY <kkeithle@redhat.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 9ac21b5a3e1b0d4afba1afb04ec62ce75e302a5e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Oct 26 12:30:29 2011 +0530

    cluster/afr: Remove treating sh_frame as special loop_frame
    
    Change-Id: I0d87f06f989b2d4b971967c52d4898331693a801
    BUG: 3675
    Reviewed-on: http://review.gluster.com/735
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0413d46873d082bbd3ee41aced3db01e444422d9
Author: Anand Avati <avati@gluster.com>
Date:   Wed Nov 23 18:10:51 2011 +0530

    gerrit: auto-rebase test
    
    Change-Id: I4bd0c2ad1ef5880e2de94d3bcc17158f18e114ab
    BUG: 3234
    Reviewed-on: http://review.gluster.com/750
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 74a2eebd9ed68fe5d8785af47c4dede9051e2ae4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Nov 23 17:49:59 2011 +0530

    Whitespace cleanup
    
    Change-Id: Ifd560492f93b1a35b36bb663c62b3c427e066caa
    BUG: 3158
    Reviewed-on: http://review.gluster.com/749
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 7a91ea707ca0f0fec8c63f97eedec04c6a16c50e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Nov 23 17:49:59 2011 +0530

    Whitespace cleanup
    
    Change-Id: I6126e22694c177d3e2b0b4e98551a9038d5cdacd
    BUG: 3158
    Reviewed-on: http://review.gluster.com/748
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 3cf35466424046e85dff9f4de2cd6a1c0f9d781b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Nov 14 10:10:27 2011 +0530

    cluster/afr: Open fd fix should perform opendir for dirs
    
    Change-Id: Iee12828ca515d44ed71d9cf97dcb8627c85f0593
    BUG: 3740
    Reviewed-on: http://review.gluster.com/725
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 896fc241850aaa021f6f8958da4e37e37679c0cd
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 15 13:44:43 2011 -0800

    cluster/distribute: Add support for 'min-free-inodes' on each distribute subvolume.
    
    This change is required as increasingly large number of small files
    would cause inodes to run out before they run out on available disk space.
    It is highly necessary to support algorithmic checking of inodes too
    just as we do for disk space.
    
    Change-Id: I9b87405328d443825e239ee80ab664aceb50ee68
    BUG: 3799
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/730
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit af7d85074fc05afdee3ff48f62b0ec5c057a3e6b
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Nov 18 17:53:53 2011 +0530

    cli: remove reference to 'RAID01' for stripe-replicate volume
    
    Change-Id: I3a9b3059fd9b918cb32bbe724ae1125fb1f5642a
    BUG: 3158
    Reviewed-on: http://review.gluster.com/738
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 89a6dc3c2b31299ac10de449d318ecf341e8b840
Author: Niels de Vos <ndevos@redhat.com>
Date:   Sat Nov 12 17:58:44 2011 -0500

    cli-cmd: call cli_cmd_unlock in the same function as cli_cmd_lock
    
    cli_cmd_submit calls cli_cmd_lock, but cli_cmd_unlock is done in
    cli_cmd_await_response. It is clearer to do the locking and unlocking in
    the same function.
    
    Only cli_cmd_submit seems to call cli_cmd_await_response, therefore
    moving the cli_cmd_unlock to cli_cmd_submit should be safe.
    
    Change-Id: I015ae0e2a404005c43606ef5258e3cfad41a88d4
    BUG: 3821
    Signed-off-by: Niels de Vos <ndevos@redhat.com>
    Reviewed-on: http://review.gluster.com/721
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 829f2b90fba8f66287e2e3b89aed9c971c2d828b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Nov 13 11:56:46 2011 +0530

    cluster/afr: Fix memory leaks
    
    Change-Id: I79a1c70c47649fbcf236191f174d766d5806545c
    BUG: 3805
    Reviewed-on: http://review.gluster.com/719
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c9fbd4c309552f7f845e73c92315abe3b6d7081b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Nov 2 13:09:41 2011 +0530

    cluster/dht: set gfid in lookup loc
    
    Change-Id: I59599cc88be1d973c955600fdd54e6c49c77b4a2
    BUG: 3770
    Reviewed-on: http://review.gluster.com/681
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 119289fa51cd6e6ceb149dd3a9596478a85adff4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Nov 5 14:54:28 2011 +0530

    cluster/afr: Handle absence of gfid in lookup
    
    Change-Id: I6295245a7f40ba4f786f1f9f35b337f3f711128d
    BUG: 3783
    Reviewed-on: http://review.gluster.com/739
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 33477a140fb4e891a05dd9261013e83035155350
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Nov 2 11:27:30 2011 +0530

    fuse: enable kernel read-only mode
    
    Enables kernel read-only mode on mounting with '-oro' and disables the gluster
    read-only translator from being loaded. As a result, '-oro' is reported
    correctly in the mount options.
    
    Change-Id: If94d97836b13668974cfac61b6e5d52e19880e10
    BUG: 3742
    Reviewed-on: http://review.gluster.com/655
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit e1de01c3fdde2497cc4a24491b75579624467456
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Oct 5 11:47:14 2011 +0200

    log to stderr if "-" is given as log-file
    
    This works around broken /dev/stderr on some systems.
    
    Change-Id: I017b03082ff630c4a713ae74990e88b3fa20d0e1
    BUG: 3686
    Reviewed-on: http://review.gluster.com/560
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 76d5e5d5b51eb2ffe5a0608bf8869650bb76585f
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Tue Sep 20 09:49:57 2011 -0400

    Add quorum checks to avoid split-brain.
    
    Change-Id: I2f123ef93989862aa796903a45682981d5d7fc3c
    BUG: 3533
    Reviewed-on: http://review.gluster.com/473
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e6a3902410aaa8756e9c07302d88399fb99641c7
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Nov 17 15:12:32 2011 +0530

    mgmt/glusterd volume delete - Unref dict only in case of an error
    
    Change-Id: I6edee785c69864bf42d869ed9cccb52cabc1523d
    BUG: 3817
    Reviewed-on: http://review.gluster.com/736
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 88ee850e68838df34d0a57307299e07dac7d9771
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Sep 27 18:16:12 2011 +0530

    rpc: Need to update conn->last_recieved.
    
    This is important for protocol/client's ping_timer to function correctly.
    
    Change-Id: I9f45d701126bb739535d9c5ec280833362bef9ed
    BUG: 3816
    Reviewed-on: http://review.gluster.com/512
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>

commit 9b391694eb53b73a5284bd5294ee66a690e7398d
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Oct 31 18:05:23 2011 +0530

    glusterd:replace-brick subcmds should detect src_brick offline.
    
    Change-Id: I686494c9c2d01fd027d333b267334842cb1dc875
    BUG: 3043
    Reviewed-on: http://review.gluster.com/651
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1e652740f74298637577e9861cb5092091404d29
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Oct 31 15:54:52 2011 +0530

    glusterd: Extended glusterd_is_service_running to get svcs's pid.
    
    Also, volume status cmd would print "N/A" if pid couldn't be
    retrieved from pidfile.
    
    Change-Id: Ie83d228b1cf86397d181885b325e337a403e6ed2
    BUG: 3043
    Reviewed-on: http://review.gluster.com/650
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c5be0df9149155f9e23a8e9f24d0becb0543efe1
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Nov 7 16:13:42 2011 +0530

    cluster/afr: lookup should honor gfid present in loc
    
    Change-Id: I2319258743e478cc3a932d8ff0b2204a97cd4f8e
    BUG: 3760
    Reviewed-on: http://review.gluster.com/680
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3bc27345bf3aaf911960793ef4d48909f585bd84
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Nov 4 19:10:11 2011 +0530

    dht,afr: Fixed gfid problems
    
    *) removed uuid_generate usage in pump and afr, self-heald
    *) filled the gfids for the fops which were sending no gfid in loc
    
    Change-Id: I85da3c10f5ee2006248b0123155a60867870d202
    BUG: 3760
    Reviewed-on: http://review.gluster.com/679
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7e085ebc9ca0d34e6251611fdc42dadc243ce276
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Nov 17 14:17:46 2011 +0530

    glusterd: Fixed volume profile's "are all bricks down?" algo.
    
    "count" key is not set if no brick in the volume (located across peers) is
    running. Sending "count" even when zero bricks are running from originator
    glusterd to client, simplifies "are all bricks down?" algo.
    
    Change-Id: I2b1da13ed4b1b9276917908223c9b2c45ca024b3
    BUG: 3553
    Reviewed-on: http://review.gluster.com/642
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5aadd0765ba4c21b5ef626f7f8ca8ccff530dd2f
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 31 12:23:21 2011 +0530

    xlator: prevent a crash in xlator_destroy due to uninitialized list
    
    was happening when any of the dlopen() fails for xlator loading, and
    xlator_destroy() was called as it was using a uninitialized list for
    traversal.
    
    now, the list gets initialized at the begining of the xl-init(), so
    xlator_destroy() works smoothly.
    
    Change-Id: I320f6fe922e6d351e6d7c0a3e8da1f6b414d3c47
    BUG: 3731
    Reviewed-on: http://review.gluster.com/606
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 43a36decf24b126936bffda273c79e23f547004d
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 15 18:58:59 2011 -0800

    cluster/dht: Fix a typo
    
    Change-Id: I6bcdc7d600ebb9ef68c60319f96cd9e28d12c861
    BUG: 3809
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/732
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit ebc497ddb9d362b9f6390b4a8176afe9f2b5def0
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Nov 7 14:42:37 2011 +0530

    libglusterfs: copy the stat structure in entry_copy
    
    Change-Id: I7a8bd3b3f9600ced4a945f07447698876933ade0
    BUG: 3760
    Reviewed-on: http://review.gluster.com/678
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 51a78ad316975763d45c11affa571892e03643e8
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 15 14:44:24 2011 -0800

    glusterfs: An effort to fix all the spell mistakes and typo
    in the entire glusterfs codebase.
    
    This patch fixes many of spell mistakes and typo in the entire
    glusterfs codebase and all supported modules.
    
    Change-Id: I83238a41aa08118df3cf4d1d605505dd3cda35a1
    BUG: 3809
    Signed-off-by: Harshavardhana <fharshav@redhat.com>
    Reviewed-on: http://review.gluster.com/731
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8c182c6bf700cdc8a7e2d4b75109ad0acee2e70d
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 28 15:41:47 2011 +0530

    core: remove 'ino' variable from 'loc_t' structure
    
    Change-Id: I53b007fbdb42313d207d5d63fbfaaa6aaf033f95
    BUG: 3518
    Reviewed-on: http://review.gluster.com/523
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 14f4e023822a22e0a4902acfd28c8f5ea8c94ccd
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Nov 16 15:39:29 2011 +0530

    core: remove 'ino' variable from 'inode_t' structure
    
    Change-Id: I0f078d1753db65d2f2e0380d1b0450c114cf40dd
    BUG: 3518
    Reviewed-on: http://review.gluster.com/522
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 217842180858afff79d06c24389752299c5ed716
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Nov 16 12:25:28 2011 +0530

    mgmt/glusterd: more cleanup
    
    * 'GD_OP_RENAME_VOLUME' removed
    * unused handler function for rebalance is removed.
    
    Change-Id: Id081cb02a6445c09347bacc0fdf9cd600ff94e5d
    BUG: 3158
    Reviewed-on: http://review.gluster.com/734
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7e3faaf682bf8f35fea9e2b4d930cbb68dae213e
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Nov 11 13:41:01 2011 +0530

    cluster/distribute: Trigger selfheal only if rmdir succeeded once
    
    A EACCES error also should not trigger a selfheal.
    Only if rmdir succeeded on any subvol, a selfheal should be triggered
    
    Change-Id: Ifebb980f0ebd1548adfd3be975ca52ca44c3f3ab
    BUG: 3786
    Reviewed-on: http://review.gluster.com/716
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit d4ff78d02d049335d827f9293a4e931261b5c2bb
Author: Gaurav <gaurav@gluster.com>
Date:   Tue Oct 11 11:15:30 2011 +0530

    NFS: logging enhancement.
    
    Change-Id: Ie1731a6b2b63e07bc49a84c2f9dd87c5b50a9f53
    BUG: 3527
    Reviewed-on: http://review.gluster.com/573
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f97897c394a7f3e9d5e870ba9814ff2ebfc4cc01
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Nov 14 15:53:27 2011 +0530

    Cluster/stripe setattr: Wind only to first_child for special files
    
    Change-Id: Ib055578477461a24562d5da139809cf0965b931e
    BUG: 3807
    Reviewed-on: http://review.gluster.com/724
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 3440b6d68a5e787a6a1baba2073ee0c44a9b1632
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Nov 10 16:39:31 2011 +0530

    cluster/distribute: Use local call_cnt while winding
    
    layout->cnt might be modified in cbk's or different threads, which
    will lead to corruptions
    
    Change-Id: Icfdab01ac583cb3d27d62f878b79e0098b597952
    BUG: 3730
    Reviewed-on: http://review.gluster.com/694
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit a3c49bb260263dce98d44c28e7106da2a2173ed9
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 14 15:57:49 2011 +0530

    glusterd: remove some of the stale 'log <CMD>' functions
    
    Change-Id: Ibda7e9d7425ecea8c7c673b42bc9fd3489a3a042
    BUG: 3158
    Reviewed-on: http://review.gluster.com/726
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit deac165b27d09e762743b180044c33ce90bbeaef
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Nov 12 22:02:37 2011 +0530

    mgmt/glusterd: delete volume to have dictionary as context
    
    earlier only DELETE_VOLUME was having volume name as context, where
    as all other OPs used to have dictionary
    
    Change-Id: I5bfcc458bff3295374eb4f0b0a31f6134745debd
    BUG: 3158
    Reviewed-on: http://review.gluster.com/718
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit a29ab15988f46fbe98151c37676185de970fb187
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Nov 13 00:18:32 2011 +0530

    glusterd/cli: rpc cleanup
    
    no more backward compatibility between glusterd <-> glusterd
    
    Change-Id: Ibfcca1c7e315a90b2639c4cba8da19b11875051a
    BUG: 3158
    Reviewed-on: http://review.gluster.com/610
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7a97478dd1a343fcc5d9d4eab963882191a3de69
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Nov 2 18:38:50 2011 +0530

    XDR: cli-glusterd xdr consolidation
    
    By using only 1 xdr struct for request and 1 xdr struct for response,
    we will be able scale better and also be able to parse the o/p better
    
    For request use-
            gf1_cli_req - contains dict
    For response use-
            gf1_cli_rsp - conains op_ret, op_errno, op_errstr, dict
    
    Change-Id: I94b034e1d8fa82dfd0cf96e7602d4039bc43fef3
    BUG: 3720
    Reviewed-on: http://review.gluster.com/662
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 913b21621e2dad9146366f24048ff07a8046e5c5
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Fri Nov 4 21:46:08 2011 -0400

    Reflect quota-adjusted values in statfs.
    
    Change-Id: I7a2a0b1ad0aa2a972aad9712658083c61052bef2
    BUG: 3813
    Reviewed-on: http://review.gluster.com/675
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@gluster.com>

commit be406a1845e84a659ca5c5834b19c094e88cbaaf
Author: Junaid <junaid@gluster.com>
Date:   Fri Nov 11 17:05:43 2011 +0530

    features/marker-quota: Use stack_wind_cookie in place of stack_wind to preserve the cookie value.
    
    In marker_rename, some of the call back functions make use of cookies sent by the calling functions. In case of stack_wind the
    frame->cookie is over written with the address of new frame.
    
    Change-Id: I8ec98f3305700e2c3295a10dff159ca6a19a380a
    BUG: 3808
    Reviewed-on: http://review.gluster.com/722
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 01de95f41429967fffaa0e9de4badb101839c3ea
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Nov 7 14:09:36 2011 +0530

    storage/posix: assign ino as -1 if gfid is missing
    
    Change-Id: I422c87f977b5da083f9fcfaf20f0ca9a872da0a4
    BUG: 3767
    Reviewed-on: http://review.gluster.com/677
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit a1fd4c9916cc56c10f83b2a1aa7ecee4d563f82a
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Nov 9 14:20:10 2011 +0530

    cluster/distribute lookup: send revalidate calls to all subvols for directories
    
    If mkdir fails on a subvolume, layout is set taking into account
    only the subvols where it was successful. stat does not trigger
    selfheal, as its layout based.
    Revalidate on directories needs to be sent to all subvols, to fix
    the error, and not just on the layout.
    
    Change-Id: If17055508ffcf268806258ed49e7d7500a89d0f2
    BUG: 3793
    Reviewed-on: http://review.gluster.com/693
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 62088ee6a8d2413c828409dec09e31d600987110
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 9 14:40:02 2011 +0530

    rpc-transport/rdma: send correct vector count when both rpc-header and program-header are received through rdma-reads.
    
    Change-Id: I1b0b91eb7216f32a5748325d6dda37f3998302c7
    BUG: 3754
    Reviewed-on: http://review.gluster.com/697
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5e14417b478520620bb5990eda41e3ad3e9af09c
Author: Sachidananda Urs <sac@gluster.com>
Date:   Sat Oct 29 14:20:02 2011 +0530

    Move some of the messages to log level `TRACE'.
    
    Change-Id: I46133b5e2218b9d810251b3dadadd8f157ab07d7
    BUG: 3761
    Reviewed-on: http://review.gluster.com/643
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 78f3ee4fb1687db948ad5d07d1ed9e6177cc54bc
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Oct 17 11:04:35 2011 +0530

    rdd: create the file and do rdd if the file does not exist.
    
    rdd takes input file and copies the its data to the specified output
    file ( by creating it) by selecting random offset. If the input file
    does not exist it will not work. This patch will create the input file
    if it does not exist and then does the copy. File size is given as an
    argument. If the file exists it truncates the file and then does the copy.
    
    Change-Id: Ia09451e9e80e13f27320f1edc12c73c0dcf663a9
    BUG: 3724
    Reviewed-on: http://review.gluster.com/596
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 34795adcc93497d97f1cd258102f4fa4b540464b
Author: krishna <krishna@gluster.com>
Date:   Thu Sep 29 17:44:55 2011 +0530

    Fix memleaks in NFS
    
    Change-Id: I522d4bad71d1e914fa88367f70f5e8c28d64fbbe
    BUG: 3542
    Reviewed-on: http://review.gluster.com/533
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Shehjar Tikoo <shehjart@gluster.com>

commit bb67817cf582678685ce1207f2a1d41fb4c3649b
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Wed Nov 2 15:26:53 2011 +0530

    debug/io-stats: prevent setfattr crash when no value given
    
    Check for whether the dump file is given, and proceed
    on success. If dump file is not given, unwind with ENOENT.
    
    Change-Id: If524a2b20d643e0e75d81daebe59560a78000524
    BUG: 3716
    Reviewed-on: http://review.gluster.com/663
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cb9ffbe767b8e5edb30bee95e33ebe9945101250
Author: Rajesh <rajesh@gluster.com>
Date:   Wed Aug 24 12:47:24 2011 +0530

    mount/fuse: check for recursive mounts
    
    Adding check_recursive_mount() in mount.glusterfs.in
    to check if mount point is in the lineage of any
    brick path. Gracefully fails if mount point leads
    to recursive mount.
    
    Change-Id: Iedc4cd767d241c8e256181e472c0815f3831a316
    BUG: 2003
    Reviewed-on: http://review.gluster.com/314
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 359eee148b2be5aaf9677f61f98b89a50d0f1b88
Author: Harshavardhana <fharshav@redhat.com>
Date:   Tue Nov 8 16:58:44 2011 -0800

    fusermount: Build problem fixed with new glibc
    
    Change-Id: Id25e688d3dbecb74d820388faec5ee5041f21630
    BUG: 3797
    Reviewed-on: http://review.gluster.com/714
    Reviewed-by: Anand Avati <avati@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit fc9fbbc35efaa84e68e108895ad64b062feed280
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Nov 3 14:47:01 2011 +0530

    stripe readv_cbk: Fix stat return values
    
    Workaround -
    If the read request, does not fall to the subvolume with the largest
    file size set, then we never return the correct size. This leads to
    clients seeing a truncated file error.
    
    The work around is to wipe stat being returned as part of read call.
    
    Problem -
    We were passing the stbuf returned by the first child/index, which
    can be different to the size/blocks returned by stat. This led to
    applications viewing the file as being truncated.
    
    The stbuf size needs to be the largest of all results, and blocks
    the aggregation from all subvolumes. (similar to stat)
    
    BUG: 3774
    Change-Id: I46c53c18b2b42b1f5b86b05555bbab73bf993476
    Reviewed-on: http://review.gluster.com/666
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 3200a2be434c462b43bf3ffe0343ddc8900c5d88
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Oct 31 10:02:16 2011 +0530

    cli : Modify "top read-perf/write-perf" output
    
    Improves alignment and width of columns in the output of "top
    read-perf/write-perf".
    
    Change-Id: I9a4ec3a121f40e099c96952e2388b27ed90b6fe6
    BUG: 3719
    Reviewed-on: http://review.gluster.com/645
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 32173e1c70dcb53470b0738ed4d0022388193113
Author: Kaushal M <kaushal@gluster.com>
Date:   Thu Oct 20 10:53:58 2011 +0530

    cluster/afr : Fix self-heal of special files
    
    Fixes self-heal of special files like device files, fifo files, socket files
    etc. Does it by doing the following:
    * Prevent setting of pending data xattr on a special file during entry self-heal
      when a new fils is created.
    * Allow data self-heal to be started on all file types other than directories.
      During data self-heal, for special files just erase pending xattrs, if those
      xattrs were set by previous releases of glusterfs.
    
    Change-Id: I34d8121e23ad00e85371ae2a36ef30cf3bd5db7a
    BUG: 3525
    Reviewed-on: http://review.gluster.com/618
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit a29f1a0e36bde5ca7b8f3762f10b210b5e12a875
Author: Venky Shankar <venky@gluster.com>
Date:   Wed Oct 5 16:56:30 2011 +0530

    fuse: flip xattr key from user to trusted namespace for certain
    clients.
    
    This is needed for gsyncd/hadoop-plugin running as non-super
    user to be able to request extended attributes under trusted
    namespace. Request for a key is made under 'user.' namespace
    and is flipped by fuse xlator for specific xattr name to the
    corresponding 'trusted.' extended attribute.
    
    Both applications set a identifier (client-pid) while doing a
    FUSE mount, which is checked by get/set/remove interfaces in
    FUSE translator.
    
    Change-Id: I72f77a5dd1ee1d69c8b0e09209449348dbcf879a
    BUG: 3701
    Reviewed-on: http://review.gluster.com/563
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit af708e9fc2eb2104b9e8e3b5a3eaf99201664324
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Oct 25 11:45:10 2011 +0530

    cluster/afr: Remove unused 'ino' code
    
    Change-Id: I425e2d23e9e45f10ddeff2eacf918dd90f8baee7
    BUG: 3744
    Reviewed-on: http://review.gluster.com/639
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c770722983f73aa838b5985755999050c746550a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 11 16:33:24 2011 +0530

    changing of the volume types after volume is created.
    
    with this patch, one can do all the below operations:
    
    on a simple distribute volume 'test' with bricks A,B, add bricks C and D:
    
     bash# gluster volume add-brick test replica 2 C D
    
    now the volume 'test' becomes distribute-replicate, with pairs A-C, B-D.
    same holds good for stripe.
    
    and now, one can change the replica count 2 on volume 'test' to 4 like below:
    
     bash# gluster volume add-brick test replica 4 E F G H
    
    now, volume has 'replica' count 4, with pairs being 'A-C-E-F' and 'B-D-G-H'.
    
    after this, if user wants to reduce the replica count, he can do
    
     bash# gluster volume remove-brick test replica 3 C H # (one from each pair)
    
    This should work to reduce the replica count
    
    Change-Id: I4f109141a9ba7be4a92a5f5810a4163baeb92973
    BUG: 3305
    Reviewed-on: http://review.gluster.com/158
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit fb653259265cbef00117e89451689dcea6c356b5
Author: Junaid <junaid@gluster.com>
Date:   Mon Oct 17 12:38:14 2011 +0530

    features/marker-quota: Donot log when inode or inode-ctx is NULL.
    
    When running rm -rf from mount point, quota-updation process may endup in a state where the
    inode is already removed from the gluster inode table, but the updation has process is still in
    progress. This is not a error condition because the updation is done asynchronously.
    
    Change-Id: I739bff466d23f55f842c16dd4fa2808df188ddf8
    BUG: 3609
    Reviewed-on: http://review.gluster.com/597
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dbf7aa864d8f0515fe4d742fc520a4d1134dbbd4
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Tue Oct 11 16:09:52 2011 +0530

    io-stats: improve io-stats dump output
    
    * Cumulative statistics' output has been formatted
      to match #gluster volume profile <vol> info
    * Fop count, latency measurements have been tabulated
      for better readability.
    * Minor formatting of individual fop call counts
      and throughput info dumps.
    
    Change-Id: I0fa524f773018be2f73077d107e34170d19fc420
    BUG: 3544
    Reviewed-on: http://review.gluster.com/581
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 1252cc90da6156945c3636c1a2b5f702bc14fb2d
Author: Kaushal M <kaushal@gluster.com>
Date:   Fri Oct 14 10:33:18 2011 +0530

    glusterd: fix '.cmd_log_history'file handle leak on SIGHUP
    
    Closes the .cmd_log_history file and reopens it to prevent leakage of file
    handles.
    
    Change-Id: I1c846ccf9a0c1c90c9209f26a1c5332d3dd94ffd
    BUG: 3678
    Reviewed-on: http://review.gluster.com/584
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 1e6780efd7320250a213eca25ee85bbf217825c4
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Fri Sep 30 18:05:38 2011 +0530

    glusterd: allow non-related directories with same prefix
    
    Earlier, using two directories with names like /test and /test1
    failed volume creation. This patch sees that the next character is
    checked to be '/' to conclude that they are recursive.
    Eg: /test and /test2 succeed, while /test and /test/alpha does not.
    
    BUG: 3645
    Change-Id: Idc90211a7a572200ed983c87c4344271f53b0132
    Reviewed-on: http://review.gluster.com/544
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Jeff Darcy <jdarcy@redhat.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 90d820d193c06efdae0a7e513faaadffb2bfdafd
Author: Anand Avati <avati@gluster.com>
Date:   Sat Oct 22 09:48:17 2011 +0530

    locks: perform inode_ref of pl_update_refkeeper outside locked region
    
    Performing inode_ref inside the critical section of pl_update_refkeeper
    (around pl_inode_t->mutex) causes a deadlock with inode_table_t->lock.
    The other thread (process state dump) holds the inode_table_t->lock first
    to loop over inodes and then while dumping an inode's lock context, tries
    to acquire pl_inode_t->mutex thereby completing the deadlock.
    
    The fix is to perform inode_ref outside the critical section in
    pl_update_refkeeper
    
    Change-Id: I689ab4a9b46b36287740279fdec6159182c86119
    BUG: 3753
    Reviewed-on: http://review.gluster.com/628
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit ea4cd6ff18bb811b053b8fc6bcef7d6377dac30b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Oct 24 08:27:40 2011 +0530

    pump: Change crawl to accommodate afr_lookup changes
    
    Change-Id: I600120252445c06d9cc3e7aa24022c2559b6abe2
    BUG: 3747
    Reviewed-on: http://review.gluster.com/638
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2712393ba21dbfdc7b3443ed019d35ab60628b2a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Oct 21 14:45:08 2011 +0530

    cluster/afr: Take gfid-req from xattr_req only if inode->gfid is null
    
    Change-Id: Iddf5b59d3534c517dcd3c0d7b819e3768f6e915a
    BUG: 3747
    Reviewed-on: http://review.gluster.com/637
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ae78820311fc95047195735b1519fa4d626de208
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Oct 22 11:32:40 2011 +0530

    mount/fuse: set gfid in lookup after a failed revalidate lookup
    
    Change-Id: I1904aa63d9365ebda3e979449454ac08db85d93d
    BUG: 3747
    Reviewed-on: http://review.gluster.com/636
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b3d696f78b16f246bd34f87aafb52317033408cc
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Oct 21 12:17:04 2011 +0530

    Stripe mknod: Always call mknod if REGULAR file on first child.
    
    This prevents a possible race between mknod(REGULUAR files) and remove.
    mknod first creates on the first_child, and only if successful, on other
    subvolumes.
    
    Change-Id: I0ddaeb92c1884c771c966bb151db052ab5735367
    BUG: 3727
    Reviewed-on: http://review.gluster.com/608
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit bdf20a205a4d67d5f6d3ac6010a34291c2822a80
Author: Venky Shankar <venky@gluster.com>
Date:   Wed Sep 28 16:38:00 2011 +0530

    cli: add geo-replication log-rotate command
    
    Rotating geo-replication master/monitor log files from cli.
    On invocation, the log file for a given master-slave session
    is backed up with the current timestamp suffixed to the file
    name and signal is sent to gsyncd to start logging to a new
    log file.
    
    Sample commands:
    
    * Rotate log file for this <master>:<slave> session:
    gluster volume geo-replication <master> <slave> log-rotate
    
    * Rotate log files for all session for master volume <master>
    gluster volume geo-replication <master> log-rotate
    
    * Rotate log files for all sessions:
    gluster volume geo-replication log-rotate
    
    Change-Id: I75f641b4e082a04d5373c18583ca4a1d9651d27a
    BUG: 3519
    Reviewed-on: http://review.gluster.com/529
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit 84ebee8c20ce667a5ec5fddc0aa47f8b5bef39f8
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 18 10:30:42 2011 +0530

    build: warning suppression (round n)
    
    with this patch, there are no more warnings with gcc (GCC) 4.6.1 20110908
    
    Change-Id: Ice0d52d304b9846395f8a4a191c98eb53125f792
    BUG: 2550
    Reviewed-on: http://review.gluster.com/607
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 26a51e5e6ec1639a7601c0fc373fd9f6493b014a
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Oct 2 11:34:41 2011 +0530

    libglusterfs/syncop: fix minor memory leaks
    
    * most of the leaks can happen in syncop_lookup(), if rsp_dict is
      not provided by user
    
    Change-Id: I5a887c45f1a46a91502147e44f7ed9d41f50dbc6
    BUG: 3715
    Reviewed-on: http://review.gluster.com/550
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 429550b75d2b97f24a102cc648bf9d8240965f93
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 13 12:59:41 2011 +0530

    distribute: handle migration of symlink and special files
    
    TODO: currently, wrt. rebalance/decommissioning, only pending thing
    is hardlink migration.
    
    Change-Id: I30cd06802e84c95601a5a081198f1f09c6d6bc01
    BUG: 3714
    Reviewed-on: http://review.gluster.com/578
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 54b44736b1558cd7e3adf75a8ecfe1a5c236dc20
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Oct 19 13:44:32 2011 +0530

    Remove EXCEPTIONS file.
    
    Change-Id: I79fe05102a954ee1c831ceca229f6dbc1997113d
    BUG: 3737
    Reviewed-on: http://review.gluster.com/617
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e1fda0971decffeddbaa0a4491270d991d83359c
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Oct 13 17:52:44 2011 +0530

    pump: status shouldn't be cleared until migration is complete during commit.
    
    Clearing pump status on migration complete is futile because we would be
    'replacing' src brick with destination brick in the volume anyway.
    
    Change-Id: Ib12fee84bd5445c4a20dac1cf10555331d7b8ebd
    BUG: 3653
    Reviewed-on: http://review.gluster.com/585
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c59dd30a13993b1988132de168f4f152757ff420
Author: Pete Zaitcev <zaitcev@yahoo.com>
Date:   Tue Aug 16 14:42:49 2011 -0600

    Print microseconds as a fraction.
    
    Change-Id: I35cdf2c771974b9c51db47f24cd044ae014e52ce
    BUG: 3426
    Reviewed-on: http://review.gluster.com/244
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit fed29e0ae382ef24f4d3dff3623daefc57dab6ce
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Oct 14 18:28:27 2011 +0530

    cluster/afr: Prevent truncation of mask uint64_t->gf_boolean_t
    
    Change-Id: If67f726f21b713fa9312dc499a1aca4cb00f71de
    BUG: 3682
    Reviewed-on: http://review.gluster.com/589
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3edfb0c492d73b349d83f904c42e6edfb9678965
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Oct 10 18:44:41 2011 +0530

    glusterd: Removing delayed moving of op sm for stop vol/remove brick op.
    
    Earlier we waited for brick disconnect or 5s whichever is smaller, before we
    move op sm from brick op stage to commit stage. This involves a race where both
    the above mentioned events can happen 'concurrently' and result in double free.
    
    Change-Id: I8b1524afded84c20d55e29cfe2579ca872d2ac26
    BUG: 3700
    Reviewed-on: http://review.gluster.com/575
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 513cd0d12e3b72e9a3714deeee251414e651213f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Oct 2 13:20:25 2011 +0530

    glusterd: take off 'auto-commit' behavior of decommissioning
    
    currently if 'remove-brick <BRICKS> start' is given, after all
    the data is migrated, in the _cbk() function from rebalance
    complete we used to re-write the volume file without the bricks.
    But the flaw of this method is that, currently the _cbk() function
    is called on only the node on which rebalance actually happens,
    hence other nodes are not aware of this behavior. So, had to remove
    the 'auto-commit', instead we want the user to issue a command
    'remove-brick <Bricks> commit' (or 'force') explicitely to remove
    the bricks
    
    Change-Id: Ifdac1292095029429da502aa6e4c0cf4ee124990
    BUG: 1952
    Reviewed-on: http://review.gluster.com/551
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 18071a240bd4c0d92f583632a7cdef1cd32bbe62
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 3 15:41:04 2011 +0530

    libglusterfs/iobuf: increase the iobref's iobuf array size
    
    earlier it was hardcoded to 8, now increased the size to 16.
    also return the exact error code in client_submit_vec_request(),
    so there will be no missing frames in case of errors.
    
    Change-Id: I82a6ee681a543b673a7cf1a0b9c5ade2a7175ebe
    BUG: 3679
    Reviewed-on: http://review.gluster.com/555
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 33ac0c6b48ccbaf357644710c804e55bdfdb12da
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Oct 7 12:29:29 2011 +0530

    smoke.sh: Avoid running extended attribute tests with dbench
    
    Change-Id: I6d58e387e2bf9d5616ec3950abdb0680801523db
    BUG: 3234
    Reviewed-on: http://review.gluster.com/564
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>

commit 3e7d8614cdb4bd77d31b7e10cdd56ab212291568
Author: Sachidananda Urs <sac@gluster.com>
Date:   Thu Oct 6 23:34:50 2011 +0530

    Fix a typo in log message.
    
    Change-Id: I5c2b170977f21c9a83d36f60d9a145c6cc221358
    BUG: 2346
    Reviewed-on: http://review.gluster.com/562
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ea3df58fd3fffcfe6f6e703ff3358a6cf1bc0619
Author: Junaid <junaid@gluster.com>
Date:   Fri Sep 30 15:41:33 2011 +0530

    cluster/dht: Handle 'user.ufo-test' sent by ufo in dht setxattr.
    
    In this case, send setxattr to all the bricks to test user xattr support and return error if setxattr fails on even one of the bricks.
    
    Change-Id: I9a9b27312a650d25bbc1f57e1ab8899d63d0593d
    BUG: 3185
    Reviewed-on: http://review.gluster.com/542
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f8959749d26de4b13774e04ba4d01d799dc1c725
Author: Junaid <junaid@gluster.com>
Date:   Fri Sep 30 12:15:17 2011 +0530

    features/marker-quota: Return error when inode-contribution is not present in inode_ctx.
    
    Also, create the inode_contribution node even before checking for dirty and xattr not present in mq_inspect_directory_xattr function.
    
    Change-Id: Ie5b6e6ba8d5abcfc6aeb9b192720ac10aac1319e
    BUG: 3624
    Reviewed-on: http://review.gluster.com/539
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 78dd69c4c732d3d74070118f0b6b708264d8fc0c
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Sep 30 17:40:26 2011 +0530

    locks: Avoid printing blocked times for locks that were never blocked.
    
    Change-Id: Ieedbfbe3ce2d4a87a8fe0e1a4322a1bb0549a2bf
    BUG: 3662
    Reviewed-on: http://review.gluster.com/545
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9d062a1359994e4c035a413fc9c5aec28fa5e7ae
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Oct 6 10:33:52 2011 +0530

    glusterd: pending_node type missed in profile volume op.
    
    Change-Id: Ib3c73a8432fdd2559422577a2f0c91d50b5a098c
    BUG: 3704
    Reviewed-on: http://review.gluster.com/561
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1b2164ec8cfea7ab99fc4a0cb86fa3d41e4fb7e5
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 3 17:21:19 2011 +0530

    Stripe: Prevent dir gfid mismatch and ENOTEMPTY errors
    
    gfid mismatch issue-
    rmdir- first remove from non first child (FC), and then last from FC. If one
    fails, FC entry is not removed and op is failed.
    mkdir- first create dir from FC, followed by other childs. If FC is success
    then, we succeed, banking on entry self heal
    
    ENOTEMPTY issue-
    
    unlink: remove from non FC and then on success remove from FC. If non FC remove
    fails, fail unlink
    create- Create first on FC, and on success create on  non FC.
    
    Change-Id: Ia8b9e92cd2aba891d249d1995e383fea0581ffca
    BUG: 3663
    Reviewed-on: http://review.gluster.com/557
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit e397772955f10f22fcb920f34a32efd859fb727d
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Oct 3 15:25:12 2011 +0530

    glusterd: Handle restoring of volumes created in older versions.
    
    Change-Id: Idd9cb9d05122750ac78410b8f5a080104d6c1e0a
    BUG: 3685
    Reviewed-on: http://review.gluster.com/554
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 72f80b87c40a899a5c6f838d368a80e6f9846f69
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Oct 3 14:53:04 2011 +0530

    glusterd: Shouldn't inject COMMIT_ACC event before receiving ACC from all peers.
    
    Change-Id: I88b9935f93d9a06e46c3351c2fd37c969396bb0a
    BUG: 3683
    Reviewed-on: http://review.gluster.com/553
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4235f7a74e0c4c637f1db2f49624a972d72b12fb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Oct 3 16:01:25 2011 +0530

    cluster/afr: set the read child ctx only if the self-heal source is valid
    
    Change-Id: Ifdf0db71594ce526ad85c21103726798d9aceef4
    BUG: 3639
    Reviewed-on: http://review.gluster.com/556
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b6eee04da4a699c7cd850bf2121825cc67f14707
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Oct 2 08:46:46 2011 +0530

    core: made changes to return value of __is_root_gfid()
    
    now returns 'true(1)' is gfid is root, 'false(0)' if not.
    earlier it was the inverse, which was bit confusing
    
    Change-Id: Id103f444ace048cbb0fccdc72c6646da06631584
    BUG: 3518
    Reviewed-on: http://review.gluster.com/549
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0db88567b916dc0dbfb0dfe2ed8a47f8d50fb317
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Oct 1 19:20:28 2011 +0530

    libglusterfs/syncop: do not rely on synctask set in makecontext
    
    Across glibc implementations, interpretation of argc/argv passed
    to makecontext() is different. This patch does away with dependence
    on such arguments passed to makecontext(). Instead,synctask reference
    is retrieved from pthread_getspecific().
    
    Change-Id: Ie01feaa0b7d430f8782c2f6805ccdf8026e401f4
    BUG: 3636
    Reviewed-on: http://review.gluster.com/547
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9ef8eabae21a3073f3dc09602d0680d631cbd576
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 29 12:11:44 2011 +0530

    statedump: do not print the inode number in the statedump
    
        Since gfid is used to uniquely identify a inode, in the statedump
        printing inode number is not necessary. Its suffecient if the gfid
        of the inode is printed. And do not print the the inodelks, entrylks
        and posixlks if the lock count is 0.
    
    Change-Id: Idac115fbce3a5684a0f02f8f5f20b194df8fb27f
    BUG: 3476
    Reviewed-on: http://review.gluster.com/530
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 161ab1b9664abf3561902c94b8748e9a95d4867c
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 26 10:24:46 2011 +0530

    glusterd: cleanup unneeded volumes after peer detach
    
    Performs cleanup on the detached peer and in the cluster after a
    peer detach, and also adds a new check before starting detach.
    
    Cleanup -
     On the detached peer, cleanup removes the entries of those volumes
    on the peer that do not have all their bricks on it. This prevents
    these stale volumes from being added to a new cluster when peer is
    attached to one.
     In the cluster, all those volumes which have all their bricks on the
    detached peer are removed.
    
    Checks-
     Checks if all the peers in the cluster are online and connected,
     except the peer being detached, before starting detach. Using force
     will bypass this check and do detach.
    
    Change-Id: I4fef9ea3cc72ce8c4ce0a82b4ee8a1663a502061
    BUG: 1926
    Reviewed-on: http://review.gluster.com/431
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit acea7409a35d03c438ff2738f701add26f0061c9
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Sep 14 18:29:18 2011 +0530

    glusterd, cli: adds 'force' for 'peer detach'
    
    Adds add a 'force' option to 'peer detach' to forcefully detach a peer from a
    cluster, even when the cluster contains volumes with bricks on the peer.
    
    Change-Id: I134df51c16a07345c8869b318141d427b572eba5
    BUG: 3549
    Reviewed-on: http://review.gluster.com/429
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 795c8996c18f5e8ef5986581644374d0c5068772
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 30 12:53:16 2011 +0530

    distribute rebalance: preserve proper mode in destination
    
    * don't set 'sticky' and 'sgid' bits to 0 without checking if the
      source had those bits prior to rebalance.
    
    Change-Id: Ia826cb3cfb55312cdbf00d3421f2bd06b3103ce6
    BUG: 3656
    Reviewed-on: http://review.gluster.com/541
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 36ef90d6de0e97812bebb303a7fa5215ae4c6ebe
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 30 12:22:34 2011 +0530

    rebalance process: propagate proper errors to user
    
    * cluster/distribute: while rebalance, differentiate between valid
      errors, validation check failures (may not be migrate failure),
      and success.
    
    * mgmt/glusterd: differentiate the errors based on errno. If a valid
      error has happened, mark the rebalance status as failure, and
      stop the rebalnace crawl.
    
    Change-Id: I2d7bd7b73d2b79bfaf892ad4364bc89830a0d5bb
    BUG: 3656
    Reviewed-on: http://review.gluster.com/540
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ba20df9f1a218177e7c7dcc15a11143183d28243
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Sep 29 16:44:40 2011 +0530

    locks: dump client pid and time of blocking/granting.
    
    Change-Id: Icaa919f3009fb70f6af9b95fceaf800f3beca447
    BUG: 3662
    Reviewed-on: http://review.gluster.com/532
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b9c48822413fad5caaafa92c039dae6494476d76
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 29 08:12:22 2011 +0530

    cluster/afr: Don't unlock sh_frame on failure in algo
    
    Change-Id: I0ef541c1f387c397c345e3f2bc9a57f1eff282a1
    BUG: 3647
    Reviewed-on: http://review.gluster.com/527
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b1bf3edb6cf153277f37d1a899e7c6b9e6cb6c24
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Mon Sep 26 11:08:48 2011 +0530

    gnfs/server: allow 255-char file names
    
    * Posix requires 255 character filenames(NAME_MAX), so
    buffer to store a filename should be 256(+1 for
    terminating '\0' character).
    
    BUG: 3572
    Change-Id: I9d3dbb49d96b3da946cbab97f927209d71ece620
    Reviewed-on: http://review.gluster.com/531
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Krishna Srinivas <krishna@gluster.com>

commit d82f740d34f3a0b353408caf6509bef709f877a8
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 30 10:51:54 2011 +0530

    glusterd rebalance: allow 'status' and 'stop' from all the peers
    
    * the check to see which command is issued to do the source node
      check had an error.
    
    Change-Id: I5cebe6e263c416d859af4f413d47c7b643815f6f
    BUG: 3655
    Reviewed-on: http://review.gluster.com/537
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 5cfca9f388cd153bcbcb963ba91867acf3bfac25
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 30 07:07:59 2011 +0530

    cluster/afr: set fd ctx on opendir
    
    Change-Id: Ica845035781f47de990e9dcfefdeb37bed99d515
    BUG: 3637
    Reviewed-on: http://review.gluster.com/536
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit abb4cbeea35c40d69f18aba599f58d7e2dc5fdaf
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Thu Sep 8 11:07:10 2011 -0400

    Second round of warning suppression.
    
    Used a #pragma to kill ~170 in rpcgen code.  Added GF_UNUSED to deal with
    a few more from macros elsewhere.  The remainder are function return values
    (mostly context and dict calls) that really should be checked.  Those would
    be harder to fix without real understanding of the code where they occur,
    so they remain as reminders.
    
    (Patchset 2: deal with older gcc that doesn't handle #pragma GCC diagnostic)
    
    (Patchset 3: fix include paths in generated files)
    
    (Patchset 4: keep up with trunk, squash 9 new warnings)
    
    (Patchset 5: six more, all in AFR)
    
    Change-Id: I29760c8c81be4d7e6489312c5d0e92cc24814b7b
    BUG: 2550
    Reviewed-on: http://review.gluster.com/378
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b43596fb4cdb84ae8b5665537914fe72517b8722
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 29 19:37:18 2011 +0530

    mgmt/glusterd: skip shd graph generation for non-replicate vols
    
    Change-Id: I1bb83342bc0fa883ede527527ec8fd6ee470f781
    BUG: 3666
    Reviewed-on: http://review.gluster.com/535
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit ce8a569e9f18cfff2f2befe259c2022d9b37538f
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Sep 14 09:50:45 2011 +0530

    performance/io-cache,quick-read: increase cache-size limit
    
    Does the following:
    1. Increases cache-size limit from 6GB to 32GB.
    2. Prevents 'volume set'from failing when cache-size is set over the
    limit. Just issues a warning.
    3. Performs check on cache-size by comparing with total system memory
    available in init () and reconfigure () methods.
    
    Change-Id: I7dd4d8c53051b89a293696abf1ee8dc237e39a20
    BUG: 3495
    Reviewed-on: http://review.gluster.com/409
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f3a6752cc455676d6e1f946b513636d991825da8
Author: Rajesh Amaravathi <rajesh@gluster.com>
Date:   Tue Sep 27 16:25:58 2011 +0530

    glusterd: allow non-related directories with same prefix
    
    Earlier, using two directories with names like /test and /test1
    failed volume creation. This patch sees that the next character is
    checked to be '/' to conclude that they are recursive.
    Eg: /test and /test2 succeed, while /test and /test/alpha does not.
    
    Change-Id: Idee1e15b7e0a0d0965d1aea910b52f1da286d64b
    BUG: 3645
    Reviewed-on: http://review.gluster.com/511
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 6d1e6a5b7c447d612684de1a75b6701b1f628fb6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 29 18:04:01 2011 +0530

    glusterd: prevent rebalance being called in volume status execution
    
    Change-Id: I70e7d38a5cb3f6b0033ab9cabd7dfed0c68b77b8
    BUG: 3668
    Reviewed-on: http://review.gluster.com/534
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit a8270c537c257da13c4b48c1524ecb77ee67308f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 29 11:04:35 2011 +0530

    protocol/server: check for the fd being NULL and unwind
    
    Change-Id: I400e515431cf739fe0b2f90840359496a2b529d2
    BUG: 3158
    Reviewed-on: http://review.gluster.com/528
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit fb648cf39c8715e5a25752defdfc95ec0ba04217
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 27 14:44:01 2011 +0530

    cluster/afr: Handle files without gfid in self-heal
    
    Change-Id: Ibcaaa9c928195939ff1e31b28b592e524e63a423
    BUG: 3557
    Reviewed-on: http://review.gluster.com/519
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 09cfa5dffa79abd833354a26783db9edcfb69105
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 27 14:42:28 2011 +0530

    libglusterfs: wipe other variabes in loc
    
    Change-Id: I0553bb7f64d69f5684c3d21f3809da4e9e3529c1
    BUG: 3557
    Reviewed-on: http://review.gluster.com/515
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit c7985fe0d384846fb8974ab75eda7995bb354d79
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 27 15:52:31 2011 +0530

    glusterd : 'volume stop' to check if other ops are in progress
    
    * handles the case of 'rebalance' in progress
    * inturn it will also handle the case of decommissioning in progress
    * also now checks if a replace-brick is in progress
    
    Change-Id: I0266483089515d16fe8167afe06a07696328a8e3
    BUG: 3358
    Reviewed-on: http://review.gluster.com/518
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit dd400b5c5c49f1479db668b185a81fd434f7b219
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 27 23:10:58 2011 +0530

    glusterd rebalance: minor enhancements
    
    * honor 'stop' command as early as possible
    * don't send a setxattr() call if file doesn't have dht linkfile
    
    Change-Id: I159641d03cd15e5818b811ad113d298f7f0112db
    BUG: 3584
    Reviewed-on: http://review.gluster.com/520
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 8b539b2a3d91df2be314665bda15bdedd898d347
Author: krishna <krishna@gluster.com>
Date:   Wed Aug 10 13:00:16 2011 +0530

    by default make option rpc-auth.addr.namelookup off.
    
    Change-Id: I11c1d55bebfc86c634cf446c50585f6c56c02665
    BUG: 3345
    Reviewed-on: http://review.gluster.com/204
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 45172a5415abc6b2f17eea74d51805ac85cc0072
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 5 14:33:43 2011 +0530

    cli : new volume statedump command
    
    Changes:
            1. Add a new 'volume statedump' command, that performs statedumps of
            all the bricks in the volume and saves them in a specified location.
            2. Add new server option 'server.statedump-path'.
            3. Remove multiple function definitions in glusterd.h
    
    Statedump Information:
    
    The 'volume statedump' command performs statedumps on all the bricks in
    a given volume. The syntax of the command is,
            gluster volume statedump <VOLNAME> [type]......
    
    Types include,
            * all
            * mem
            * iobuf
            * callpool
            * priv
            * fd
            * inode
    Defaults to 'all' when no type is specified.
    
    The statedump files are created by default in /tmp directory of the
    server on which the bricks are present.
    This path can be changed by setting the 'server.statedump-path' option.
    
    The statedump files will be named as,
            <brick-name>.<pid of brick process>.dump
    
    Change-Id: I01c0e1a8aad490da818e086d89f292bd2ed06fd4
    BUG: 1964
    Reviewed-on: http://review.gluster.com/321
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 16b7e3bf201686ca03f8c35c20295e05abe52df8
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Sep 26 14:38:58 2011 +0530

    build: Solaris build fixes
    
    Change-Id: Ic47d07a199ecbc42a141e391bbc75096e270e404
    BUG: 3446
    Reviewed-on: http://review.gluster.com/503
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 370ecfbf3e9a778282100d85747f506cdeb2b40a
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue Sep 27 14:18:38 2011 +0530

    glusterd: Should not cleanup peerinfo too soon.
    
    friend_remove_cbk cleans up peerinfo and the unrefs the associated rpc_clnt
    obj. When the cbk is run inside call_bail or saved_frames_unwind, we might end
    up destroying the rpc_clnt and associated saved_frames_pool while we are still
    using saved_frames to iterate through the frames.
    
    Change-Id: Idf7768478a6d07a87c7faeac5b70e13bcacd2641
    BUG: 3511
    Reviewed-on: http://review.gluster.com/510
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2e00396e04f261af45c33b55b9b73157a2e8fc72
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Sep 27 12:37:22 2011 +0530

    storage/posix : prevent unmount of underlying fs
    
    posix xlator now performs opendir () on the brick directory during init ().
    This will prevent the underlying filesystem mounted to that directory from being
    unmounted.
    
    Change-Id: I02c190ab8a91abc4ab06959b36f50e0a3fa527ae
    BUG: 3578
    Reviewed-on: http://review.gluster.com/509
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9dc9fb48f1790a76c499b105687cee82b2840865
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 26 10:33:56 2011 +0530

    glusterd: support for resetting single option
    
    Allows resetting of only single options using 'volume reset' command.
    New syntax of volume reset is: 'volume reset [option] [force]'.
    Giving "all" as options or not specifying an option, causes all options
    to be reset.
    
    Change-Id: Ib9e220f326adeb1be1a774737a0b12c910012cea
    BUG: 2980
    Reviewed-on: http://review.gluster.com/450
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit ea71efe027e9f741032b6bf9dd995bcaa2fa7947
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 26 17:42:40 2011 +0530

    cluster/distribute: fixed a spurious inode ref
    
    While bringing in support to open-fd migration, dht_local_init()
    itself started doing 'loc_copy()'. I had left one case in dht_lookup()
    where there is a extra loc_copy() on existing copied 'local->loc',
    which would cause 2 inode_refs on a given inode, and only one
    inode_unref() happens in dht_local_wipe().
    
    Change-Id: Idd0375bdf9a6408db1e97e80389249ef8d802adb
    BUG: 3590
    Reviewed-on: http://review.gluster.com/504
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 0286dd866a89c035073294c348a43beca3109c38
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 26 11:19:24 2011 +0530

    glusterd: more checks before starting rebalance
    
    Checks if specified volume is of a distribute type and has more than one
    brick before attempting to start rebalance.
    
    Change-Id: I9a3405019e7af4a7d7e162b0dc054bf9a99364e7
    BUG: 3561
    Reviewed-on: http://review.gluster.com/501
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 68ff38bd2f77c62cd0c5729b047003694a7d63af
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 26 20:43:17 2011 +0530

    glusted: while doing add-brick, handle distribute volume separately
    
    so the logic of different type of counts etc won't come into action,
    which would fail the add-brick operation.
    
    Change-Id: I5c8769d6d1c2433ffb084e5dce9c1e01678cff40
    BUG: 3630
    Reviewed-on: http://review.gluster.com/505
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit b894944857a7ce61a3bd31566d6169ed8d19ce8b
Author: Anand Avati <avati@gluster.com>
Date:   Sun Sep 25 18:34:14 2011 +0530

    rpc: fix wrong wiping of state machine's state
    
    The macro __socket_proto_read() is used to read one sub-header in a fragment
    after another. It also has to 'get out' of the state machine's
    switch/case construct in two situations -
    
    a) finished reading the full header
    
    b) after a partial read, (and return in the same state at next pollin)
    
    The 'reset' of the state should happen only after a full read of the header
    and not if there was a partial read of the header.
    
    Change-Id: I3650a83e1fae0f317cfd1b549835c72e39dc5253

commit 76580479033087f6dde080c27618baf19b18b658
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 15 12:57:44 2011 +0530

    glusterd: cleanup of volinfo '*_count' definitions
    
    earlier, sub_count was having different meaning depending on the
    volume type.
    
    now, for replica and stripe count, one can directly access the
    'replica_count' or 'stripe_count' to get the corresponding
    value from the volume info. 'sub_count' is preserved as is for backward
    compatibility. there is a new variable 'dist_leaf_count' to get
    info about how many bricks are present in one distribute sub volume.
    
    Change-Id: I5ea1c8f9ae08f584cca63b91ba69035c7e4350ca
    BUG: 3158
    Reviewed-on: http://review.gluster.com/435
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 1b096c3ff0a4c25ff22a32d9594d2e289a3d67ea
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 23 16:19:20 2011 +0530

    glusterd-volgen: prevent a crash when volume type is stripe-replicate
    
    when volgen tries to check for decommissioned nodes, a check for
    stripe replicate volume was missed
    
    Change-Id: Ie3aa97da2ec0d94fcf65f96bb4006b3fb54f59dc
    BUG: 3616
    Reviewed-on: http://review.gluster.com/494
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 1fdcbb61872b0a849490d1f0de4fdb545e2865aa
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Sep 21 11:53:45 2011 +0530

    rpc: No timeouts for lock fops.
    
    As of today, all fops bail out after 30 mins by default. This is not desirable
    with lock fops since it could be 'rightfully blocked' for a really long time.
    But the client would assume that the lock fop has 'expired' after 30 mins and
    clean up its references to the locks.  Later when the locks xlator decides to
    grant it, we are left with an orphan (stale) lock .
    
    This fix exempts lock fops from timeouts. Only on network disruptions both
    client and server decide to 'clean up' the locks held.
    
    Change-Id: If1d74ba21113650b976728e9b764c551a0a49e59
    BUG: 3617
    Reviewed-on: http://review.gluster.com/478
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 95876fa0ee03b0ee4cd31fa9874b4de596ae70a4
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 21 14:16:46 2011 +0530

    statedump: dump important details of oldgraph also
    
    * with this, it helps to find out most of the leaks in the process
    
    Change-Id: I70b476e4d63d74843d6664cfe407164f2b79b781
    BUG: 3567
    Reviewed-on: http://review.gluster.com/491
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2b21ea3c625fab19e88c21f4c104dca321eef262
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Sep 23 11:49:29 2011 +0530

    libglusterfs: Adding missing event strings for events.
    
    Change-Id: Idf55abfa77712d32b27798fedcfddb65599b562b
    Reviewed-on: http://review.gluster.com/493
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4765dd1a1c51c67ab86687fbd871c89156680c34
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Sep 16 10:40:32 2011 +0530

    glusterd: Implemented cmd to trigger self-heal on a replicate volume.
    
    This cmd is used in the context of proactive self-heal for replicated
    volumes. User invokes the following cmd when (s)he suspects that self-heal
    needs to be done on a particular volume,
            gluster volume heal <VOLNAME>.
    
    Change-Id: I3954353b53488c28b70406e261808239b44997f3
    BUG: 3602
    Reviewed-on: http://review.gluster.com/454
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 53b5da6dfab2e6b11ab2e40119e92ff7d4527b2c
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Sep 22 12:53:55 2011 +0530

    posix-getxattr: Honor xattr name if specified
    
    Currently, getxattr works like listxattr, and does not honor a call
    with a name (key) being specified. The fix handles such scenarios when
    a name is passed. If the name param is NULL, then it behaves like a listxattr.
    
    Changing key size to 4096, as 1024 might not be sufficient length for keys.
    
    Change-Id: I317b2e6372e97048e3166d91145c19c9e92e647e
    BUG: 3599
    Reviewed-on: http://review.gluster.com/486
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit eede6ce87fc19878873e8320c172d1acb2deaa33
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 22 10:26:02 2011 +0200

    geo-rep: disallow some special characters in url syntax
    
    - space is disallowed to make rsync target unambigous for gsyncd wrapper
    - *, ?, [ is disallowed so that we can tell away globs from urls
    
    Nothing too bad would happen without these restrictions, but this way
    gluster errs out early instead of producing some mystical error
    further down on the way.
    
    Change-Id: Idd4e68f7d91598a7a8e30ccbc6d395da570cdf2e
    BUG: 3610
    Reviewed-on: http://review.gluster.com/490
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 21eabe9bae81b3cc732fcf773fb5c1995f19d0d7
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 22 10:12:24 2011 +0200

    geo-rep: add support to glob patterns with "geo-rep config"
    
    Change-Id: I0d54cea72e4363eab85ade774cc918081d8036e9
    BUG: 3610
    Reviewed-on: http://review.gluster.com/489
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b27b9d36de798bb18eaa95524f3900f9e17ce3e5
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Sep 20 16:20:18 2011 +0200

    geo-rep: implement IP address based access control
    
    - gsyncd gets allow-network tunable which is expected to
      hold a comma-separated list of IP network addresses
    - for IP addess matching, bring in ipaddr module from Google
      (http://code.google.com/p/ipaddr-py/, rev. trunk@225)
    
    This will let users control master's access to slave's volumes
    until we implement unprivileged geo-rep (delayed due to some
    technical issues). It's also needed for the completeness of
    our hardening efforts, as plain file slaves won't be able
    to work with an unprivileged gsyncd.
    
    Change-Id: I58431cba6592f8672e93ea89a5eef478905b00b9
    BUG: 2825
    Reviewed-on: http://review.gluster.com/488
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d7c9d2bfbd20727f90b0118c982ff9612aacacf2
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Sep 19 15:47:46 2011 +0200

    geo-rep: gsyncd: make sure path operations do not act outside the volume
    
    Change-Id: I2da62b34aa833b9a28728fa1db23951f28b7e538
    BUG: 2825
    Reviewed-on: http://review.gluster.com/462
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7e04913aa6f4ddb45e95099ef648564bf90da0b3
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Sep 13 13:12:38 2011 +0200

    gsyncd: control rsync target
    
    - require/perform rsync invocation with unprotected args
      (so that target is revealed to gateway program)
    - make use of some procfs wizardry to find gsyncd sibling
      and match rsync target against its working directory
    
    Change-Id: Iae1e39b0e61f22563c0f2a2e0605567e0d1902df
    BUG: 2825
    Reviewed-on: http://review.gluster.com/461
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2ab00369e7ef99d287dad5301d2f334dcfd67a70
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Sep 11 19:45:57 2011 +0200

    gsyncd: implement restricted mode and utility dispatch
    
    With this change, the suggested way of setting up a geo-sync
    slave is to use an ssh key with gsyncd as a forced command
    (see sshd(8)), or set gsyncd as shell. This prevents the master
    in executing arbitrary commands on slave (a major security hole).
    
    Detailed list the changes:
    - All gsyncd invocations that are not done by glusterd are
      considered unsafe and then we operate in so-called "restricted mode"
      (see below)
    - if we are invoked on purpose (ie. it's not the case that sshd forced
      us to run as frontend of a remote-invoked command), we execute gsyncd.py
    - if invoked by sshd as frontend command, we check the remote command
      line and call the required utility if it's among the allowed ones
      (rsyncd and gsyncd)
    - with rsync, we check if invocation is server mode and some other
      sanity measures
    - with gsyncd, in restricted mode we enforce the usage of the glusterd
      provided config file, and in python, we enforce operation in
      server mode and some other sanity checks
    
    Impact on using geo-rep the old way: remote file slave now also
    requires a running glusterd (to pick up config from).
    
    Missing: we not implemented check of the rsync target path.
    The issue of master being able to modify arbitrary locations
    is planned to be mitigated by using geo-rep with an unprivileged
    user.
    
    Change-Id: I9b5825bfe282a9ca777429aadd554d78708f1638
    BUG: 2825
    Reviewed-on: http://review.gluster.com/460
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 1098aaa51d2e3dca9e6c48ee1e9cb43bc87936f4
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Sep 2 19:03:33 2011 +0200

    geo-rep: rewrite gsyncd wrapper in C
    
    This rewrite does not change functionality;
    it's purpose is to prepare followup modifications which will let
    all slave side helper programs being dispatched to through
    gsyncd. The string processing that's required for that task would
    be too much cumbersome in shell.
    
    Change-Id: Ia7858aba5efeb5dcff16a918ea1c02253f0e49ab
    BUG: 2825
    Reviewed-on: http://review.gluster.com/459
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3672c989f369c5b57aff8d0d01fc221804ada6eb
Author: shishir <shishirng@gluster.com>
Date:   Mon Sep 19 18:23:04 2011 +0530

    Peer probe: Handle probe of friend with multiple hostname
    
    Currently, when a peer is probed with a different hostname already belonging
    to a cluster, a duplicate entry is created with uuid to set to 0.
    This leaves the peerinfo in a inconsistent state, and when a detach of
    this peer is issued, the correct entry gets removed.
    
    The fix is to identify a peer with a hostname not matching to the probed
    hostname and remove the incorrect entry.
    
    Change-Id: I2f6c02f505f4426871623a4a8b45a12996095098
    BUG: 3200
    Reviewed-on: http://review.gluster.com/456
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2e61c86ba89d546c7cab522b53d6b9c7f164cd8c
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Sep 22 12:48:41 2011 +0530

    NFS : Posix compliance fixes.
    
    Change-Id: I4f1d8883a3eedee20557e306815674a6dc062bfe
    BUG: 1337
    Reviewed-on: http://review.gluster.com/487
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b8f2f460f9a5f977ef6debc2e59cae75324c95ca
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 19 13:01:26 2011 +0530

    statedump: add more memory accounting related stats
    
    * iobuf: add variable to keep count of total number of allocations
    * iobuf: include 'purged' and 'filled' arenas also in dump
    * mempool: more details added (with a name to tell why mem-pool
      is created)
    * memory-accounting: print number of allocs in each type
    
    this would give us much better understanding of the memory
    allocation pattern
    
    Change-Id: I117ac0c1da943a4cc91543a01963ba7940db2b5f
    BUG: 3567
    Reviewed-on: http://review.gluster.com/376
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5619b2dc4189e9de4a2327dc63ccb647f863f2b1
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Sep 21 12:06:14 2011 +0530

    glusterd: fix 'volume status' showing incorrect online status
    
    glusterd now checks if a brick process is running to set online status,
    instead of using brickinfo->signed_in. The earlier method used to show
    incorrect online status as brickinfo->signed_in was not updated when
    brick process was killed with SIGKILL
    
    Change-Id: Id5589ea8abbcffebe5c794e5a4adf4f0e6e489f0
    BUG: 3573
    Reviewed-on: http://review.gluster.com/476
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit aa7815c29a849346a75389f6ad15d8190f5a6710
Author: Rahul C S <rahulcssjce@gmail.com>
Date:   Tue Sep 20 17:44:07 2011 +0530

    cluster/distribute: validate buf before accessing.
    
    The macro to check & reset rebalance flags was accessing the iatt
    structure even in case of failures leading to null dereference.
    
    Change-Id: I518f4cc9086cecbe6cf791c8a351287fe3613650
    BUG: 3594
    Reviewed-on: http://review.gluster.com/472
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 8fc81caf43d491a49134e6491b813843e490bb99
Author: krishna <krishna@gluster.com>
Date:   Wed Sep 14 16:09:16 2011 +0530

    nfs: enhance NFS log messages.
    
    Change-Id: I6c2eaa2795756f515b5fb2ea5098d3dcb4ef77c4
    BUG: 3527
    Reviewed-on: http://review.gluster.com/433
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit abe47d434308e2ac5926fc8e292cced3688b7ca4
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 21 17:11:49 2011 +0530

    Rebalance: Mount rebalance client with assert-on-child-down set to on
    
    This will prevent rebalance to be started when a brick is down, or
    stop rebalance if a brick goes down during a rebalance op.
    
    On restarting the rebalance once all the bricks are up, rebalance proceeds
    as usual.
    
    Change-Id: I196ae658c3a3856cce5314eca194e62d42171b9d
    BUG: 3574
    Reviewed-on: http://review.gluster.com/481
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b274b8792c6bf6d95cad078fadad0ffe4c2bf43a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 20 13:23:08 2011 +0530

    glusterfs protocol: handshake to log the version of the peer
    
    * As RPC program's name is just used for logging, we now have
      'PACKAGE_VERSION' part of the string, which gets logged in client
      side.
    * From client, we send the PACKAGE_VERSION in handshake dictionary,
      which gets logged on serverside handshake.
    
    The change doesn't break any compatibility between client or server
    as it would only enhance the logging part of handshake.
    
    Change-Id: Ie7f498af2f5d3f97be37c8d982061cb6021883ce
    BUG: 3589
    Reviewed-on: http://review.gluster.com/467
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 4a8981eb99c09d76872b8aa167863b49f74b52f2
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Tue Sep 20 13:06:11 2011 +0530

    build : rpm spec file changes
    
    Thanks to
    Scott Zahn <Scott@zahna.com>     - Fixed spec file to add the correct
                                       ldconfig path addition for i386 and
                                       x86_64.(BUG:2279)
    Persson <Persson@katamail.com>   - Fixed  without_georeplication macro
                                       (BUG:3541)
    JoeJulian <Joe@julianfamily.org> - Minor rpm cleanups.(BUG:3546)
    
    Patch  create the library references for both 64bit and 32bit rpms
    
    Change-Id: Ia281fa0d3d8b32ff19b74f379cda7ca9315a4beb
    BUG: 2279
    Reviewed-on: http://review.gluster.com/466
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 03591027b06c556baa95c6fa4569be0bff4adcd8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 20 18:30:42 2011 +0530

    cluster/afr: Make local->child_up immutable
    
    Afr transaction performs lock, pre-op, op, post-op and unlock steps in that
    order. The child_up[] is overloaded with the information of where all
    the first two steps succeeded. This works perfectly fine for
    Transaction, but the locking/unlocking part of the code is re-used by
    data self-heal. In that each loop_frame does lock, rchecksum,
    read-from-source and write-to-sinks, unlock steps.
    
    Rchecksum fop assumes that the fop needs to happen on one source + all
    sinks and sets the call_count to that number. But if the lock step fails
    on any of the sinks it will mark the child_up of that child to 0, which
    will result in call_count mismatch and the frame will hang thinking that
    some more cbks need to come. When this happens loop_frame will never go
    to unlock step leading to hangs on that file.
    
    Change-Id: I3dd0449cc6193a980bacf637d935881f4b22210a
    BUG: 3597
    Reviewed-on: http://review.gluster.com/474
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 82d1a445b92526629d699f947a2d2bd029c8db75
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 21 12:20:34 2011 +0530

    glusterd rebalance: set the proper status as per command given
    
    for both 'migrate-data start' or 'migrate-data start force' commands
    the defrag status should start with 'migrate-data-started' state.
    
    Change-Id: Ic645bc764c4d24ab438187fb139c4a1c3ade8949
    BUG: 3593
    Reviewed-on: http://review.gluster.com/477
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 4c0efe75411112d6e386fe10a138ec2d9218b8b8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 21 08:12:32 2011 +0530

    mgmt/glusterd: Create volfile in correct path
    
    Change-Id: Ie52e4b1a338282f2697e2ce374dd566d2c5cf5d1
    BUG: 3586
    Reviewed-on: http://review.gluster.com/475
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b30f66e20d830daec057075d67f181e904984a27
Author: Venky Shankar <venky@gluster.com>
Date:   Tue Sep 13 22:11:33 2011 +0530

    geo-rep: gsyncd: add --ignore-deletes option
    
    When this option is set, a file deleted on master will not trigger
    a delete operation on the slave. Hence, the slave will remain as a
    superset of the master and can be used to recover the master in case
    of crash and/or accidental deletes.
    
    This options is not enabled by default.
    
    Change-Id: I9244d9dfa4f38f19436036f36bec0d9c3a1f7993
    BUG: 3552
    Reviewed-on: http://review.gluster.com/426
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit e8b81f72d7a45ce443e72c45ae68952911deac50
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 29 16:54:50 2011 +0530

    storage/posix: Filter custom getxattrs in lookup
    
    Change-Id: If948ff1b355ea4fd92036bcc43e7b32325aeb3e4
    BUG: 3470
    Reviewed-on: http://review.gluster.com/325
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cb2c6982bd6d588a91fa2827f95f0d9cf3ff2560
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 14 09:02:01 2011 +0530

    cluster/distribute: minor fixes in open file migration
    
    * incorporated Avati's comments on the first patch.
    * send proper stat information while unwinding
    
    Change-Id: I36982cec610753c241c372272620ab2bd581fd9f
    BUG: 3071
    Reviewed-on: http://review.gluster.com/408
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b5b0bb056391659802099908f4bccde5afdb9e34
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 20 11:03:32 2011 +0530

    features/locks: free the string allocated by inode_path
    
    Change-Id: I1b7d4059610713b92c4bb78676c3b48335e3a0fe
    BUG: 3468
    Reviewed-on: http://review.gluster.com/465
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8d4d8088c73f2ffc60b8e5c23a33e6b996fb5053
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Sep 6 17:18:20 2011 +0530

    glusterd: run 'volume top read-perf/write-perf' in different thread
    
    Runs the 'volume top read-perf/write-perf' operations in a different
    thread without blocking glusterd. Prvents glusterd from being
    unresponsive when large values of 'bs' and 'count' are given.
    
    Also increase cli timeout for top/profile commands , from 120s to 300s
    to allow large i/o top read-perf and write-perf to return result.
    
    Change-Id: I4b7de1d735f33643d836772db7f25133f112b75a
    BUG: 2720
    Reviewed-on: http://review.gluster.com/375
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit e0178776546f06646c11bcb1ea345f82436d73aa
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Sep 19 22:01:13 2011 +0530

    rpc:memcpy data of right size to auth params
    
    Change-Id: I6999e0a1463ee3475f7607990337326b3f008538
    BUG: 3587
    Reviewed-on: http://review.gluster.com/464
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit e163bc5b3ab062e3cb22b0386dbe056ab4a54952
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Aug 31 16:03:28 2011 +0200

    s@GFS_PREFIX"/sbin@SBIN_DIR@
    
    $sbindir is the install path for gluster* binaries,
    so this is what should be used in their invocation
    
    Change-Id: Ie748b4cbf59c3ee77f721ff6e0ab7151742ce0ab
    BUG: 2825
    Reviewed-on: http://review.gluster.com/458
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b23d329608163ee2aa1aa89b907a5a6e50291464
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Sep 12 17:29:47 2011 +0530

    glusterd: provide a option to start processes with valgrind
    
    By enabling the brick-with-valgrind option in glusterd,
    one can automatically start all bricks with valgrind monitoring
    them.
    
    Change-Id: Ib0a97a83c4461c0878454e96bc84462f6cad6bc8
    BUG: 3461
    Reviewed-on: http://review.gluster.com/311
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8ad4d3f53000724389db6003ca6d6d777b880017
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Sep 19 16:43:50 2011 +0530

    glusterd/top: volume top succeeds on partial brickpath
    
    Rewrite of glusterd_volume_brickinfo_get in glusterd-utils.c
    An additional argument to glusterd_volume_brick_info_get_by_brick
    and glusterd_volume_brickinfo_get enables matching brick path in
    two ways: Complete or partial(ancestor and descendent paths matched).
    
    Change-Id: Ia87833a6f0c139599c3e40b59d60c64281b4084b
    BUG: 3271
    Reviewed-on: http://review.gluster.com/162
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 608f2d698569abc82cc671e81477e89e9c553bda
Author: Kaushal M <kaushal@gluster.com>
Date:   Mon Sep 19 15:13:43 2011 +0530

    cli: enable order checking stripe-replicate volumes
    
    This is a followup patch to  e378778686fca24934e76c41e6496b12162a5420
    Enables brick order checking for volumes of type stripe replicate.
    
    Change-Id: Ib9b090a3514d05bb7602c423de7d3123f107a3b5
    BUG: 2441
    Reviewed-on: http://review.gluster.com/455
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 39fee9a8f8264df61f77563acb048a441265afcf
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Sep 19 14:25:47 2011 +0530

    glusterd: make sort portable
    
    fixed for fd leaking. reopening of file was not needed
    
    BUG: 3491
    Change-Id: I1351bdcaa41a5901574f5e779c33bf6f80a938f9
    Reviewed-on: http://review.gluster.com/453
    Reviewed-by: Csaba Henk <csaba@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 909f80181c9a6985c49964de4854f5d5460dbf09
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Sep 19 13:22:54 2011 +0530

    protocol/client: minor log enhancements
    
    minor changes to the log enhancements of bug 3473.
    
    Change-Id: Id38d29db5a744e0ab7342d10ead6d16866228062
    BUG: 3473
    Reviewed-on: http://review.gluster.com/452
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit d70f640ea121643fadef2f19a33d18d81c9f5bb5
Author: Sachidananda Urs <sac@gluster.com>
Date:   Mon Sep 19 12:32:33 2011 +0530

    Fix typo in log message.
    
    Change-Id: Ia51ffe03c8b94ddfe21c6609bc0d54b5bd29eca7
    BUG: 3158
    Reviewed-on: http://review.gluster.com/392
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 02db3a0e457654b35c1a147403f1e99f691dcd52
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Sep 10 15:22:37 2011 +0530

    features/marker: Use appropriate loc struct to do removexattr on newpath after rename.
    
    Change-Id: I060e62c1fbb288179063a6d64d73bad1a6572661
    BUG: 3493
    Reviewed-on: http://review.gluster.com/390
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9895baf2719ac9911bc20ca54d0ff84f761baaed
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Fri Sep 16 14:03:40 2011 +0530

    cli: check wordcount to validate volume set help
    
    Change-Id: I93650af9fb29cffc48733d9bba5fd2fb580c44a1
    BUG: 3543
    Reviewed-on: http://review.gluster.com/436
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 0cb13b43c612dffe6aa8ba9367c5f808e725efff
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Sep 12 11:11:56 2011 +0530

    glusterd: make sort portable
    
    The result of sorting the volume info file has
    been programmatically redirected, instead of using
    the -o option.
    
    Change-Id: Id789fab8dc92b254571a4fc7239e4872f3ac055f
    BUG: 3491
    Reviewed-on: http://review.gluster.com/395
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e378778686fca24934e76c41e6496b12162a5420
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Aug 3 18:12:21 2011 +0530

    cli : check for bad brick order while creating replicate volume
    
    gluster cli now checks the brick order when creating
    a replicate or distributed-replicate volume.
    If a non-optimal order is found the user is given a
    warning and asked if the volume creation can proceed.
    
    Change-Id: I38c4cb65bffb40ccf95319cf3f4f3423a4cdebe9
    BUG: 2407
    Reviewed-on: http://review.gluster.com/151
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 46a7adafe94b14778328d77a7f743fbce17341e3
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Aug 16 13:17:38 2011 +0530

    glusterfsd: enable max fetch attempts
    
    Enables usage of 'volfile-max-fetch-attempts' option of glusterfsd.
    Also, adds an option to 'mount.glusterfs' for setting the max fetch attempts.
    For a server with multiple ips, each call to gf_resolve_ip6() returns a
    different ip. Since gf_resolve_ip6() is called for each fetch attempt,
    this change also enables rrdns support for gluster.
    
    Change-Id: I3edadbf0ff43ff414b30eb50dd9ca4a6fd6b1089
    BUG: 2441
    Reviewed-on: http://review.gluster.com/239
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 5de8c537936c547d8eafa3913e63a84646134f36
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 16 15:17:24 2011 +0530

    performance/quick-read: fix memory corruption.
    
      - macro QR_STACK_UNWIND destroys the stub present in local and hence no need
        of explicitly calling call_stub_destroy on it.
    
    Change-Id: Ib81c9a0d382765e783722b14fdbd7877086b1bec
    BUG: 3562
    Reviewed-on: http://review.gluster.com/439
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 003a578d9b324e769e231451a53688b48550e0f0
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 15 02:29:54 2011 +0200

    libglusterfs: run: fix closing of redirection fd in child
    
    When run was doing a program invocation like "echo foo > foof",
    the file descriptor to foof was closed before stdout could be
    reopened to it.
    
    To fix this, we change the order of actions: first do redirections,
    then do the fd cleanup. This also simplifies code (as there are less
    fds which are exempt of the cleanup).
    
    Change-Id: I5f74e41f2999e59916a40c8a89d7fb730d808c27
    BUG: 2562
    Reported-by: Rajesh Amaravathi <rajesh@gluster.com>
    Reviewed-on: http://review.gluster.com/428
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: Rajesh Amaravathi <rajesh@gluster.com>
    Reviewed-by: Rajesh Amaravathi <rajesh@gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 35bbb34a3f4a74f0d2288aacd984c71c7ebdfa3c
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Fri Sep 2 15:10:30 2011 +0530

    protocol/client: log enhancements
    
    * print paths wherever it is possible to log, to help debugging.
    * bring uniformity in log level.
    
    Change-Id: I2fa85b629de5dd0f0057ed96cba08ecb0ff1a798
    BUG: 3473
    Reviewed-on: http://review.gluster.com/328
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 9eec7900639684e5a2fd80b273437fefe6b5b930
Author: krishna <krishna@gluster.com>
Date:   Wed Sep 14 16:13:27 2011 +0530

    rpc: Use correct variable for volume-specific insecure ports check
    
    Change-Id: Ica59a3154c4e7d980d3477dd3879c7cebe92ad87
    BUG: 3515
    Reviewed-on: http://review.gluster.com/418
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 16a4d4352c762f6035e1a39f619d358ba7688502
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Sep 16 15:03:32 2011 +0530

    cli: if the create volume command does not contain bricks, exit gracefully
    
    Change-Id: I41f896d5a9c514994874b6e4e956d38fed742d4b
    BUG: 3571
    Reviewed-on: http://review.gluster.com/438
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 4ee093305a0237368118e425723792a028b02a94
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Sep 15 17:09:00 2011 +0530

    glusterd: profile cmd incorrectly reports all bricks down.
    
    If there are no bricks of a volume running 'local' to glusterd
    where the 'profile info' command is issued, glusterd incorrectly
    reports that all bricks of the volume are down.
    
    Change-Id: Idd703c991f0bcf59b76b9ef8f4ad8cd71960a55b
    BUG: 3553
    Reviewed-on: http://review.gluster.com/430
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 77cce4c7df9a61b599a27522696720e747714ff2
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 15 18:14:53 2011 +0200

    rpc: fix up mountbroker xdr defs and regenerate headers
    
    Change-Id: I8a88d2b9228c3614ee7cbaf48782a419e6aee0f6
    BUG: 3482
    Reported-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-on: http://review.gluster.com/432
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 45f03a58a0fbfc1d5e647c764b10e37d0a9ebb26
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 8 14:06:32 2011 +0530

    Proactive self heal process implementation
    
    Change-Id: I96db0d94566ceabf1649f890318363f738c06553
    BUG: 2458
    Reviewed-on: http://review.gluster.com/403
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3bea46c1f232a4480e57ac482f92f7673af7034f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 7 21:26:41 2011 +0530

    dict: add reset function which empties the dict
    
    Change-Id: I267c81a129197534fb318671eafb76e144a15c8c
    BUG: 2458
    Reviewed-on: http://review.gluster.com/402
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 78dee45ef829296dbcb4cf28e06feb8e25458c91
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 6 13:56:03 2011 +0530

    debug/io-stats: Allow multiple children in graph
    
    Change-Id: Ie4fb75d8000ff95daa8bf9f6757926822de28a65
    BUG: 2458
    Reviewed-on: http://review.gluster.com/401
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 4a7d4dcd70bfc480ea20ae10d44257e56e86789c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 13 15:15:10 2011 +0530

     features/quota: explicitly create xattrs in marker_create_cbk
    
     - the earlier approach of creating quota related xattrs through
       side-effect of updating size and contribution values won't work,
       since when no contribution xattr is present, the updation process
       treats contribution value as zero and hence will be equal to size
       of freshly created files
    
    Change-Id: If9b2063b1ac3a4cf50d3fe2c81e907bc8eccb677
    BUG: 3531
    Reviewed-on: http://review.gluster.com/385
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@gluster.com>

commit 9a16332d518c6318b761b230a0e1bb8ce357228e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 9 17:14:41 2011 +0530

    features/quota: implement mknod fop.
    
    Change-Id: If8f2a0bb635160ee78f35787ee9f8a4db87ae8ac
    BUG: 3531
    Reviewed-on: http://review.gluster.com/384
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@gluster.com>

commit b57e956caaf4536218b3b55ae78b4597858bdfde
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 14 15:59:21 2011 +0530

    glusterfsd: log the package version just after log init
    
    helps getting output of 'glusterfs --version' from the users while
    debugging any issues/bugs.
    
    Change-Id: I4f15aca143c1e403c70409378afc9ed7a678b286
    BUG: 2346
    Reviewed-on: http://review.gluster.com/415
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7a153f17b1892ca8747d5b570d80795b4006790a
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 14 13:51:40 2011 +0530

    libglusterfs/common-utils: resolve_ip6() to take AI_ADDRCONFIG
    
    AI_ADDRCONFIG flag is needed for 'getaddrinfo()' call as hint so
    that while resolving a hostname, ip list will be taken from proper
    configured address family
    
    Change-Id: Iad6067ad64444d3930d5be593ca819a8de5fc0c1
    BUG: 3548
    Reviewed-on: http://review.gluster.com/414
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d705b28fd1bb066632854da493031118776d00df
Author: Venky Shankar <venky@gluster.com>
Date:   Tue Sep 13 11:36:55 2011 +0530

    GlusterFS Hadoop specific DSL for mountbroker
    
    Change-Id: Ie379992bdea0974c8c5e1a4d7bc3e87cefe0d256
    BUG: 3539
    Reviewed-on: http://review.gluster.com/404
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b039cb193eddc51c6f31bf9a230281faada475fe
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 13 16:54:24 2011 +0530

    glusterd rebalance: fix minor issues
    
    there were bugs introduced due to parallelizing rebalance op.
    
    * argument to dict_set_str () should be static as for the life of dict
    * uuid_utoa() output should not be considered as static
    
    * overloading 'volinfo->defrag' in other nodes is a overkill, just KISS
    
    Change-Id: I43d00c8e22beb2dd5c5f9824552f7337543b2255
    BUG: 2112
    Reviewed-on: http://review.gluster.com/407
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 25daa42911d2ff697880ee29c591cac5f2abebed
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 9 09:42:51 2011 +0530

    support for de-commissioning a node using 'remove-brick'
    
    to achieve this, we now create volume-file with
    'decommissioned-nodes' option in distribute volume, then just
    perform the rebalance set of operations (with 'force' flag set).
    
    now onwards, the 'remove-brick' (with 'start' option) operation tries
    to migrate data from removed bricks to existing bricks.
    
    'remove-brick' also supports similar options as of replace-brick.
    
    * (no options) -> works as 'force', will have the current behavior
             of remove-brick, ie., no data-migration, volume changes.
    
    * start  (starts remove-brick with data-migration/draining process,
              which takes care of migrating data and once complete, will
              commit the changes to volume file)
    * pause  (stop data migration, but keep the volume file intact with
              extra options whatever is set)
    * abort  (stop data-migration, and fall back to old configuration)
    * commit (if volume is stopped, commits the changes to volumefile)
    * force  (stops the data-migration and commits the changes to
              volume file)
    
    Change-Id: I3952bcfbe604a0952e68b6accace7014d5e401d3
    BUG: 1952
    Reviewed-on: http://review.gluster.com/118
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 17e57f27c714c94dd5d9fa91650f83d069f2f4e4
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Sep 12 15:51:42 2011 +0530

    mgmt/glusterd: check the availability of fuse for few glusterd operations
    
    Change-Id: I410cc6a86c32637566e5498f69f46cb40322e7fb
    BUG: 2715
    Reviewed-on: http://review.gluster.com/364
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 8778c0bf72cc28a56becf0fd989bf66df51fd8a3
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Aug 31 18:04:19 2011 +0530

    mgmt/glusterd: fail glusterd if gsyncd does not behave as expected
    
    Change-Id: Ic54220328f15c579dcf441de2aad8620751a97ef
    BUG: 2744
    Reviewed-on: http://review.gluster.com/331
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>

commit 58c5e9feae1fdf618bb120f4c8ea318cc628dd06
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 13 12:11:52 2011 +0530

    socket: provide proper arguments to getaddrinfo
    
    -----
    from 'man getaddrinfo' :
    
    If hints.ai_flags includes the AI_ADDRCONFIG flag, then IPv4 addresses
    are returned in the list pointed to by res only if the local system has
    at least one IPv4 address  configured, and IPv6 addresses are only
    returned if the local system has at least one IPv6 address configured.
    -----
    
    Change-Id: Ie30344daf1bb9d41ac58741b38e83af35cd8b5e9
    BUG: 2456
    Reviewed-on: http://review.gluster.com/405
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a07bb18c8adeb8597f62095c5d1361c5bad01f09
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 7 12:53:09 2011 +0530

    distribute rebalance: handle the open file migration
    
    Complexity involved: To migrate a file with open fd, we have to
    notify the other client process which has the open fd, and make
    sure the write()s happening on that fd is properly synced to the
    migrated file. Once the migration is complete, the client
    process which has open-fd should get notified and it should
    start performing all the operations on the new subvolume,
    instead of earlier cached volume.
    
    How to solve the notification part:
    
    We can overload the 'postbuf' attribute in the _cbk() function to
    understand if a file is 'under-migration' or 'migration-complete'
    state. (This will be something similar to deciding whether a file
    is DHT-linkfile by its 'mode').
    
    Overall change includes below mentioned major changes:
    
    1. dht_linkfile is decided by only 2 factors (mode(01000),
       xattr(trusted.glusterfs.dht.linkto)), instead of earlier
       3 factors (size==0)
    
    2. in linkfile self-heal part (in 'dht_lookup_everywhere_cbk()'),
       don't delete a linkfile if there is a open-fd on it. It means,
       there may be a migration in progress.
    
    3. if a file's revalidate fails with ENOENT, it may be due to file
       migration, and hence need a lookup_everywhere()
    
    4. There will be 2 phases of file-migration.
    
    -> Phase 1: Migration in progress
       * The source data file will have SGID and STICKY bit set in its mode.
       * The source data file will have a 'linkto' xattr pointing the
         destination.
       * Destination file will have mode set to '01000', and 'linkto' xattr
         set to itself.
    
    -> Phase 2: File migration Complete
       * The source data file will have mode '01000', and will be 'truncated'
         to size 0.
       * The destination file will have inherited mode from the source. (without
         sgid and sticky bit) and its 'linkto' attribute will be removed.
    
    4. Changes in distribute to work smoothly with a file which is in migration /
       got migrated.
    
    The 'fops' are divided into 3 categories, inode-read, inode-write and others.
    inode-read fops need to handle only 'phase 2' notification, where as, the
    inode-write fops need to handle both 'phase 1' and phase2. The inode-write
    operations will be done on source file, and if any of 'file-migration' procedures
    are detected in _cbk(), then the operations should be performed on the destination
    too.
    
    when a phase-2 is detected, then the inode-ctx itself should be changed to represent
    a new layout.
    
    With these changes, the open file migration will work smoothly with multiple clients.
    
    Change-Id: I512408463814e650f34c62ed009bf2101d016fd6
    BUG: 3071
    Reviewed-on: http://review.gluster.com/209
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 09eeaf4e68c225b8e5ccc0a9b4f10f8c4748e205
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Aug 24 23:01:31 2011 +0200

    geo-rep: partial support for unprivileged gsyncd via mountbroker
    
    gsyncd:
      - mounting code is split to a direct and a mountbroker based backend
      - option gluster-command gone
      - new options: gluster-params, gluster-cli-options, mountbroker
      - mountbroker mount backend is used if either a mountbroker label
        is given through the mountbroker option, or if gsyncd is
        unprivileged; in this case the username is used as label
      - have gluster cli invocations log to stderr so that we don't
        hit a permission issue with the logfiles
    glusterd:
      - do gsyncd pre-config with new options
      - add option geo-replication-log-group, so if that specified
        geo-rep logfile directories are given to that group (and
        thus members of the given group can do logging there)
    
    This is just WIP as geo-rep relies on trusted extended attributes
    and those are not accessible for unprivileged users. Even if we
    solved this issue, glusterd security settings are too coarse,
    so that if we made it possible for an unprivileged gsyncd
    to operate, we would open up too far.
    
    Change-Id: Icd520b58cbadccea3fad7c0f437b99de1e22db14
    BUG: 2825
    Reviewed-on: http://review.gluster.com/399
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 37ac355cbbd36497f914905615bffb3e35805f0a
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 30 17:50:22 2011 +0200

    glusterd / cli: mount-broker service
    
    Mountbroker is configured in glusterd volfile through a DSL
    which is restriced enough to be able to appear in the role
    of the value of a volfile knob.
    
    Basically the DSL describes set-theorical requirements
    against the option set which is sent by the cli (in the
    hope of getting a mount with these options).
    
    If the requirements meet and the volume id and the uid
    who is to "own" the mount can be unambigously deduced from
    the given request, glusterd does the mount with the given
    parameters.
    
    The use case of geo-replication is sugared by means of volume
    options which then generate a complete mount-broker option set.
    
    Demo:
    
    - add the following option to your glusterd volfile:
    
        option mountbroker-root /tmp/mbr
        option mountbroker.fool EQL(volfile-id=pop*|user-map-root=*|volfile-server=localhost)&MEET(user-map-root=john|user-map-root=jane)
    
    - before starting glusterd, create /tmp/mbr owned by root with mode 0755
    
    - with cli, do
    
       $ gluster system:: mount fool volfile-id=pop33 user-map-root=jane volfile-server=localhost
    
    - on succesful completion (volume pop33 exists and is started, jane is a valid username),
      the mount path will be echoed to you
    
    - you can get rid of the mount by
    
       $ gluster system:: umount <mount-path>
    
    Change-Id: I629cf64add0a45500d05becc3316f67cdb5b42ff
    BUG: 3482
    Reviewed-on: http://review.gluster.com/128
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 78170472e6c7f0bce95ab035cc4ed86ec662e80d
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 30 16:45:50 2011 +0300

    add --user-map-root option
    
    This makes client fake that given user is a superuser,
    by changing FUSE requests coming with uid of user so that uid
    is set to 0.
    
    User can be given in numeric form, in which case it's treated
    as an uid directly, or else it's tried to be resolved to an
    uid with getpwnam(3).
    
    Implies --acl.
    
    Change-Id: I2d5a3d3e178be7ffdf22b46a56f33a7eeaaa7fe1
    BUG: 3242
    Reviewed-on: http://review.gluster.com/127
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 32b96d66890a16fd23c8ae065297c7a98097d340
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 23 12:16:07 2011 +0200

    cli: add --log-{file,level} options
    
    Apart from diagnostic purposes, it's needed when cli is ran by
    unprivileged user who most likely has no write access to the
    canonical log file.
    
    Change-Id: Ib9d1a31711966ff1efe2592fbc0a911820cf8ee3
    BUG: 3242
    Reviewed-on: http://review.gluster.com/95
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 3d67836dba4f5a94f33e9ac13b7ebbf01344ac37
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 23 12:14:48 2011 +0200

    cli: fix option parsing bug which implied that only a single option can be used
    
    Change-Id: I89467d00030f4714568ef63650ecef0aef1bf753
    BUG: 3242
    Reviewed-on: http://review.gluster.com/94
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d58382182ee53fcc83ec04f211c000a5a4db9a0b
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jul 15 11:44:56 2011 +0200

    cli: reimplement "--version" without excess bloat
    
    Change-Id: I787d241e72b6a6c43db96c220d68fe369bb700a4
    BUG: 3242
    Reviewed-on: http://review.gluster.com/93
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 74bf2c1fc5d7377472d8c6ba8e27a333fc618899
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jul 15 11:34:35 2011 +0200

    Revert "cli: Only admin should run gluster CLI"
    
    This reverts commit 8d64ca70b4c2467d4ed8c76a9eae385abdebd7a7.
    
    Change-Id: Id2c6b491c7dd133510380f576ad59655a01d6121
    BUG: 3242
    Reviewed-on: http://review.gluster.com/92
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 36059b73949a1eee32a3b2aa16b09263628ff050
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jul 15 11:34:25 2011 +0200

    Revert "cli: gluster --version implementation"
    
    This reverts commit e93b270e8d09fc9d36a39b22987d3a172197e73b.
    
    Conflicts:
    
    	cli/src/cli.c
    
    Change-Id: Ibc0f6f752f713b15afc8b5458be5045ecb21235e
    BUG: 3242
    Reviewed-on: http://review.gluster.com/91
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit e139eeeb627368112aa1341d2f0ef6770dd7078e
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Aug 10 20:04:20 2011 +0300

    gsyncd: python3 compat fixes
    
    Also add __codecheck script which can verify if source is OK at the
    syntactical level with a given Python interpreter.
    
    Change-Id: Ieff34bcd3efd1cdc0e8f9a510c05488f35897bbe
    BUG: 1570
    Reviewed-on: http://review.gluster.com/320
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit f3081a22740c70485c50d3837fa93da5fd843f26
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Aug 15 03:17:18 2011 +0300

    glusterd: fix cleaning up of runner object
    
    in lack of that, if geo-rep component is not installed, glusterd got a zombie child
    
    Change-Id: Ic4a2a4ffc943de68dd02db76a32b1618821ddf56
    BUG: 2744
    Reviewed-on: http://review.gluster.com/317
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 417de9db670650edd96e82a6e43087bea49deeee
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Sep 5 20:14:21 2011 +0530

    rpc: Need to keep ref when handling cbk in call_bail.
    
    Change-Id: Ic944599cfa2696a0ae77105185d49fb510ce6fec
    BUG: 3511
    Reviewed-on: http://review.gluster.com/361
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5d03ebd31f2984614ecdc8f117bd4599ade497d1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Sep 12 11:45:37 2011 +0530

    glusterd: free the allocated string to avoid memory leak
    
    Change-Id: I520abf3c57a15be8bb7dd1e92ad0b049ef5c8970
    BUG: 3341
    Reviewed-on: http://review.gluster.com/394
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 225dd7da8959c78331d16ba2c2a955b1432bc873
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Aug 31 13:02:21 2011 +0530

    protocol/client: avoid code duplication in fd based operations
    
    Change-Id: I012f78bac8ba82333628c59ef51d5e5f43d05ac7
    BUG: 3158
    Reviewed-on: http://review.gluster.com/329
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a2ef31b01537d8edd5ecf3738967704b0a19b137
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Aug 22 22:37:43 2011 +0530

    features/marker: unref the local incase of errors before unwinding
    
    Change-Id: I4dcad7ddf84bf98b4b7f4a0e407a418426674280
    BUG: 2784
    Reviewed-on: http://review.gluster.com/299
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 02b30e294b46cf54edf005db5ce5b0c2dc75919f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Sep 9 13:17:10 2011 +0530

    mgmt/glusterd: volume set help-xml format change
    
    Change-Id: I503364c855d52605e301f4d3c205af6c9fc0e1df
    BUG: 3366
    Reviewed-on: http://review.gluster.com/380
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 5efdbef0d74359122dbf76539e0975bea691456a
Author: Junaid <junaid@gluster.com>
Date:   Fri Sep 9 14:35:57 2011 +0530

    features/marker-quota: Prefix the function names with mq (marker-quota).
    
    This is to fix to bug marker translator and quota translator cannot co-exist in same process.
    
    Change-Id: I9f132b663f03641f4f2c7e168df8400adbc5570f
    BUG: 3020
    Reviewed-on: http://review.gluster.com/381
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit a0695e0524cc61d05156b66ebe3542870712daae
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 7 13:50:19 2011 +0530

    cluster/afr: perform self-heal with least priority
    
    Change-Id: Id8a1dffa3c3200234ad154d1749278a2d7c7021b
    BUG: 3502
    Reviewed-on: http://review.gluster.com/336
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 85a2f0ec5021d53f34fe1630028f413835abd31e
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 7 12:46:30 2011 +0530

    glusterd rebalance: make co-operate with all other 'op'
    
    that way, we can share the rebalance state with other peers
    and can prevent confusion/conflicts when multiple rebalances
    are done by different peers.
    
    Change-Id: I24159e69332644718df7314f6f1da7fce9ff740e
    BUG: 2112
    Reviewed-on: http://review.gluster.com/343
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 77eb7bdfd02f2ba61847fb9c35e9e19e3da4fcc4
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 8 00:34:32 2011 +0530

    cli: 'gluster create volume' - improve option parsing
    
    now 'replica' 'stripe' and 'transport' options can be given in any order
    
    Change-Id: Ied992ae55e86028bd4f2d662ebd246db138d4548
    BUG: 3521
    Reviewed-on: http://review.gluster.com/370
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0a2de8337e7111d9cb860329d83b5aae3ecacd2f
Author: Junaid <junaid@gluster.com>
Date:   Wed Sep 7 17:36:09 2011 +0530

    features/marker-quota: Perform xattr related operations with root permissions in rename fop.
    
    Change-Id: Id9ac1ecdd9753377c9eb24464f51dcbdc0cd2821
    BUG: 3194
    Reviewed-on: http://review.gluster.com/367
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f655fa043fc65ecad1d633a52a40a4c20ff18c97
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 2 15:59:40 2011 +0530

    performance/io-threads: treat -ve pid as request for fop with least priority
    
    Change-Id: Ib6730a708f008054fbd379889a0f6dd3b051b6ad
    BUG: 3502
    Reviewed-on: http://review.gluster.com/335
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 550148f3bb3505335909cde9e937c2362a1e67e3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 2 08:50:48 2011 +0530

    cluster/afr: Make data selfheal trigger to be configurable.
    
    By default, lookup triggers data self-heal but that is not the preferred way
    of operating replicated volumes. We would like the data self heals to be
    triggered in open instead.
    Number of back-ground self-heals allowed is 16 and lookups block until
    self-heal is completed. We want to prevent blocking in fops. We can not make
    lookups independent of self-heal frames because when there are gfid conflicts
    the decision of which file is correct is determined in self-heal phase.
    So in afr, lookup self-heal is going to guarantee name space consistency
    and open/fd fops will take responsibility for data consistency, these
    are non blocking. The user needs to set the option cluster.data-self-heal
    "open" for this behavior.
    
    Change-Id: If9463cdb9ebac114708558ec13bbca0270acd659
    BUG: 3503
    Reviewed-on: http://review.gluster.com/334
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 4d2afaae2f3c42b710acf8c7ebdb4b50d502b813
Author: Anand Avati <avati@gluster.com>
Date:   Wed Aug 31 22:57:34 2011 +0530

    posix-acl: configurable super user ID
    
    In configurations with a uid mapper, super user ID could be mapped
    to a non-zero value. Hence making it configurable in access control
    would be necessary for proper super-user semantics.
    
    Change-Id: I51e8e0395680e9b96a99657a0af547659bd9affe
    BUG: 2815
    Reviewed-on: http://review.gluster.com/332
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit c83856797fd55fa59c885ba5efd3ac912fcb9a96
Author: Anand Avati <avati@gluster.com>
Date:   Tue Aug 16 12:56:21 2011 +0530

    cluster/afr: eager locking of FD writes
    
    This patch is a change in the way write transactions hold a lock
    which optimizes the case of sequential writes from a single writer.
    
    Lock phase of a transaction has two sub-phases. First is an attempt
    to acquire locks in parallel by broadcasting non-blocking lock
    requests. If lock aquistion fails on any server, then the held locks
    are unlocked and revert to a blocking locked mode sequentially on
    one server after another.
    
    The change in this patch is to make the initial broadcasting lock
    request attempt to acquire lock on the entire file. If this fails,
    we revert back to the sequential "regional" blocking lock as before.
    
    In the case where such an "eager" lock is granted in the non-blocking
    phase, it gives rise to an opportunity for optimization. i.e, if
    the next write transaction on the same FD arrives before the unlock
    phase of the first transaction, it "takes over" the full file lock.
    Similarly if yet another transaction arrives before the unlock phase
    of the "optimized" transaction, that in turn "takes over" the lock
    as well. The actual unlock now happens at the end of the last
    "optimzed" transaction.
    
    Any operation which arrives before the unlock phase of the previous
    transaction is a potential candidate to become an "optimized"
    transaction. In cases where the previous transaction had aquired
    lock as a "regional" blocking lock, and the next transaction comes
    in before its unlock phase, then it would not be an "optimized"
    transaction.
    
    Implied assumption
    ------------------
    
    Since two or more transactions can now operate within the same
    large lock, there is a possibility that overlapping transactions
    can arrive at oppoosite orders on the servers. However in the
    larger picture this is not possible as write-behind already
    ensures that no two overlapping writes on an inode are in transit
    at the same time. Overlapping writes across clients are not a
    problem as they compete at locks anyways.
    
    Theoretical benefits and potential harms
    ----------------------------------------
    
    In case of a single writer: The benefits are large for sequential
    writes. In the best case the entire file write can happen with just
    one lock and unlock per server, provided writes are coming in fast
    enough and getting pipelined by write-behind soon enough (which is
    usually the case). If the writes are not coming in fast enough, then
    the optimization "kicks in" for only those subsets of writes which
    are close enough to get "piggybacked". For random writes the benefits
    are the same as well. In any case the overall performance is better
    than or equal to the performance without this optimization for a single
    writer.
    
    In case of multiple writers: When multiple writers are not writing
    concurrently, there is no negative performance impact. When multiple
    writers are writing concurrently to the same region, there is no
    negative impact either, as they were previously getting arbitrated
    at the locks translator too. In the case of multiple writers writing
    to different regions concurrently, there will be an increased number
    of "failovers" from failed parallel non-blocking to sequential blocking
    regional locks. This above "worst case" has a simple workaround that
    as soon as we detect > 1 open-fd-count in lookup xattr, we can disable
    this optimization on those fds.
    
    Beneficial side-effects
    -----------------------
    
    There is another similar optimization in AFR for changelogs which goes
    by the name of "changelog-piggybacking". That works in a similar way where
    pending flags get 'taken over' or 'piggybacked' by the next transaction
    if its 'pre-op' phase kicks in before the 'post-op' phase of the
    previous transaction. It has been observed that this changelog-piggybacking
    optimization gives a saving of about ~55% savings of xattr calls hitting
    the wire, measured across various types of network interfaces. The side
    effect of this eager-lock optimization is that it gives an almost 100%
    saving of xattr calls by making the optimistic-changelog work much more
    efficiently as it gives a wider overlap of the xattr phases of two
    consecutive transactions.
    
    Change-Id: I41c02eb3b64c14c68ef66a344610ec3f024cd59d
    BUG: 3409
    Reviewed-on: http://review.gluster.com/240
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 73ae561db9054c67ce120eb87fa955943bdc06bd
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Tue Sep 6 17:29:31 2011 +0530

    storage/posix: posix getxattr log enhancement
    
    Now the key is logged with getxattr failure.
    
    Change-Id: I96a9234cf138ae0922dc403e2fddcd4df0d89df8
    BUG: 3283
    Reviewed-on: http://review.gluster.com/373
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d7b1463bf35a9c5ac30456d143cb4b67a03a93a6
Author: Rajesh Amaravathi <rajesh.amaravathi@gmail.com>
Date:   Mon Aug 29 10:30:56 2011 +0530

    mount/nfs: Gluster nfs crashes with subdirectory mount
    
    Glusterfs used to crash trying to dereference a NULL
    pointer. Also, in mnt3_resolve_export_subdir, volume
    name was prefixed to sub directory exported, resulting in
    mount fail of sub directory. Fixed both issues.
    
    Change-Id: I746f0c244b4cbf03033d73ac3e40518762d76385
    BUG: 3481
    Reviewed-on: http://review.gluster.com/323
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 51138e1cbf602e16011768040440cf829367c40c
Author: Pavan T C <tcp@gluster.com>
Date:   Wed Sep 7 18:05:57 2011 +0530

    Save the mode flags set by the application when ACLs are in use
    
    While inheriting the ACLs from a directory that has default ACLs, make sure
    that the mode flags set by the application are saved. It is required to
    inherit only the Read, Write and Execute permissions while leaving the others
    viz. setuid, setgid and sticky bit untouched hence honouring the requests made
    by the application during create operations (mknod, mkdir et al).
    
    For a description of the problem, root cause and evaluation, refer:
    http://bugs.gluster.com/show_bug.cgi?id=3522
    
    Change-Id: I994077fb321a35d8254f0cc5a7de99a17ec40c47
    BUG: 3522
    Reviewed-on: http://review.gluster.com/368
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 7d4560cbcdcae0d74cf486c544d5eb58775da51f
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Aug 10 05:02:43 2011 +0300

    gsyncd: do the homework, document _everything_
    
    Change-Id: I559e6a0709b8064cfd54c693e289c741f9c4c4ab
    BUG: 1570
    Reviewed-on: http://review.gluster.com/319
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit d39a7fad09a6b4abcb23d132fd7dfdf0d440e928
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sat Sep 3 14:51:45 2011 +0530

    nfs3: Resolve entry vs. hash conflict at same dir depth
    
    Intro Note
    ==========
    The current code in hard fh resolution takes the first-match approach, i.e.
    which ever dirent either matches the hash or matches the gfid first
    is the one chosen as the result for the next step of fh resolution. In
    the latter case, i.e., dirent matches the gfid, we the next step is to
    conclude the fh resolution by returning the entry whose gfid matched.
    In the former, i.e., the hash matches the dirent, we choose the hash-matching
    dirent as the next directory to descend into, for searching the file to be
    operated upon.
    
    Problem
    =======
    When performing hard fh resolution, there can be a situation where:
    
    o the hash of the primary entry,i.e. the entry we're looking for and the hash
    of another sibling directory, match. Note the use of "sibling", meaning both
    the primary entry and the hash matching one are in the same directory, i.e.,
    their filehandle.hashcount will be same.
    
    o the sibling directory is encountered first during the dir search.
    
    Because of the current code described in "Intro", we'll end up descending into
    the sibling directory even though the correct behaviour is to ignore this and
    wait till we encounter the primary entry in the same parent directory.
    
    Once we end up descending into this sibling directory, the directory depth
    validation check fails. The check fails because it notices that the resolution
    is attempting to open a directory that is deeper in the fs tree than the file
    we're looking for. When this check fails, we return an ESTALE. So basically, a
    false-positive results in an estale to Specsfs.
    
    This is not a theoretical situation. Me and Avati saw this on specsfs test
    where sfs created terabytes-sized file system for its tests. The number of
    files was so huge in a single directory that the hashes of two entries ended up
    colliding.
    
    Change-Id: I4a6df11d326a67a507b1cd716c2c8e00b5a858a4
    BUG: 3510
    Reviewed-on: http://review.gluster.com/357
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shehjar Tikoo <shehjart@gluster.com>

commit 694ef54978f382507a5127ce66da7770929ba2c2
Author: Jeff Darcy <jdarcy@redhat.com>
Date:   Wed Sep 7 20:03:24 2011 -0400

    Eliminate many "var set but not used" warnings with newer gcc.
    
    This fixes ~200 such warnings, but leaves three categories untouched.
    
    (1) Rpcgen code.
    
    (2) Macros which set variables in the outer (calling function) scope.
    
    (3) Variables which are set via function calls which may have side effects.
    
    Change-Id: I6554555f78ed26134251504b038da7e94adacbcd
    BUG: 2550
    Reviewed-on: http://review.gluster.com/371
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 81530d227deb52af38c7df770aef2200b9de539f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 7 20:46:20 2011 +0530

    glusterd: send the 'stripe-count' value to peer during handshake
    
    without which, if a peer is added after volume of type 'stripe-replica'
    is created, it won't be reflected in the newly added peer.
    
    Change-Id: I77ee6aa3f33994bd4c6dbfefd853cc7e7491c1db
    BUG: 3523
    Reviewed-on: http://review.gluster.com/369
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 34be428d5640a0ad4c47a05ee3e716189b4a54ed
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 25 17:51:18 2011 +0530

    glusterd: fail the 'peer probe' if the first connect attempt fails
    
    so 'gluster peer probe' command doesn't hang till timeout (120s),
    instead it will send the proper error msg to client.
    
    Change-Id: I398fa16d526f869f1d27eeb57aeb7ee4451fbecd
    BUG: 1852
    Reviewed-on: http://review.gluster.com/342
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit f0f3b040dfa062021d3a193e5a19c380eb5e908d
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 29 17:53:24 2011 +0530

    modify to the way we used XDR definitions files (.x files)
    
    Earlier:
    step 1: copy the existing <xdr>.x files to /tmp
    step 2: generate '.[ch]' files using 'rpcgen <xdr>.x'
    step 3: check diff with the to the existing files, add only your part
            of changes back to the original file. (ignore other changes).
    step 4: there is another file to write wrapper functions to convert
            structures to/from XDR buffers, update it with your new structure.
    step 5: use these wrapper functions in the newly written procedures.
    step 6: commit :-|
    
    Now:
    step 1: update (mostly adding only) the <xdr>.x file
    step 2: run '<path-to-src>/extras/generate-xdr-files.sh <xdr>.x' command
    step 3: implement rpc procedure to handle the request/response.
    step 4: commit :-)
    
    Change-Id: I219f9159fc980438c86e847c6b030be96e595ea2
    BUG: 3488
    Reviewed-on: http://review.gluster.com/341
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit f78c8253d7fb75762effcf64683cbce10783a55b
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Aug 28 12:53:12 2011 +0530

    glusterfs protocol: bring in variable sized iobuf support
    
    is a step towards reducing glusterfs memory footprint. should also
    help a bit in overall performance.
    
    Change-Id: I074d5813602b2c960d59562e792b3dc6e43d2f42
    BUG: 3475
    Reviewed-on: http://review.gluster.com/322
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 10d49cf0878e96301ea366276e27e91b5527483e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Sep 3 14:13:06 2011 +0530

    cluster/afr: Prevent double big lock when data self-heal loops are not spawned
    
    The steps in normal data self heal:
    1) take big lock by self-heal frame. Get the xattrs/stat to decide
    source, sink information.
    2) spawn loop frames which perform self-heal by taking small locks on
    the file. Every time a new lock is taken and the old lock is released.
    3) Before releasing the final small lock a big lock is taken by the
    self-heal frame, and unlock on small-lock. Erasing of the pending xattrs
    happen then the big unlock happen and that is the end of the data self-heal.
    
    When a data self-heal is needed for a file and the fop
    that triggers the self-heal is open with O_TRUNC. Fuse sends open then
    an explicit truncate for this. Open triggers the self-heal but by the
    time it tries to spawn the loops the file size is truncated to 0, so
    no loops are formed.
    These are the steps:
    1) Take big lock by self-heal frame. Get the xattrs/stat to decide
    source, sink information.
    2) loop frames are not spawned. The big lock is not released.
    3) One more big lock is taken by the same self-heal frame, Erasing of
    the pending xattrs etc happen, now it does two big unlocks, but after
    the first unlock, the information on which the locks were performed is
    forgotten, so the next unlock becomes a no-op. So there is a stale big
    lock on that file preventing further writes.
    
    As a fix, if the loops are not spawned, use the previous big lock to
    perform the rest of the operations needed in completing the data
    self-heal. No need to have one more big lock.
    
    Change-Id: Id03171269594e447b2b6d1331e362d83bd1e3430
    BUG: 3506
    Reviewed-on: http://review.gluster.com/339
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit f1fec244b043fc74999692b181d321827daf8677
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 31 10:06:45 2011 +0530

    cluster/afr: Bring down the self-heal window size to 1
    
    This is brought in an effort to be nice to the system resources when
    self-heal is in progress.
    
    Change-Id: I123f1eb4d8000613a35c0117f0aa27f926f3a921
    BUG: 3503
    Reviewed-on: http://review.gluster.com/333
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 992e580df4a38bb96b0114a3b033d0dc0b8425b7
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 23 10:25:35 2011 +0530

    mgmt/glusterd: code re-structuring
    
    created new files per operations, (or group of operations)
    
    Change-Id: Iccb2a6a0cd9661bf940118344b2f7f723e23ab8b
    BUG: 3158
    Reviewed-on: http://review.gluster.com/281
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 0504c5c24a8d8329321b9d5cdbc873c0fda32935
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Aug 3 11:30:20 2011 +0530

    glusterd: Removed local cli lock
    
    This change contains,
    - removal of the local cli lock used to serialize
    cli ops to a glusterd.
    - glusterd's state-machine can handle competing 'lockers' with
    guaranteed progress.
    - flush cluster lock on 'owner' disconnecting and as 'owner',
    send unlock to all on first peer disconnect.
    
    Change-Id: I25961436b0790b4196f2b3438b105c37279399ad
    BUG: 3320
    Reviewed-on: http://review.gluster.com/123
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit e795fcf2895496ad5412bfd4ac50a358567ecabb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Aug 25 14:46:52 2011 +0530

    performance/io-threads: Introduce new priority and priority-thread-limits
    
    Change-Id: I7b4e7c467b833bc5896808e6e1d1b1a0322c4fdb
    BUG: 3483
    Reviewed-on: http://review.gluster.com/318
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cd567c063ec25b280d3fb5686a69b068c2d6d6df
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Aug 10 16:58:38 2011 +0530

    mem-pool: Make mem-pool ptr avialable in ptr
    
    The header of the ptr returned from mem-pool will now store the
    mem-pool ptr it belongs to. mem_put will now take only the pointer
    to be freed.
    
    Also, changing MALLOC call to GF_CALLOC in mem_get when we run out
    of entries in mem-pool. This also will have the header information
    saved.
    
    Change-Id: I3de182663a7f5b49c9e9425e9531775b70bdff67
    BUG: 3390
    Reviewed-on: http://review.gluster.com/205
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 9c68f3b53ffd27ea03e90da883c43e84bf94dd15
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Aug 24 12:57:18 2011 +0530

    rdd: changes in rdd.c and whitespace cleanup
    
    Change-Id: Ic117c6a3f9234a0181db1a106ef8a6574248f010
    Reviewed-on: http://review.gluster.com/313
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b617b89372f9f6cb5031dfb8513029a7fa490f73
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jul 15 02:45:18 2011 +0200

    gsyncd: refine command invocation
    
    Use subprocess module instead of os.spawn* / ad-hoc fork/exec.
    With this, we do now:
    
    - close uneeded files in children
    - watch childrens' stderr:
      - have a thread which collects childrens' stderr into a ring buffer
        (so that stderr pipe doesn't get stuffed)
      - on command failure show stderr
    - distinguish between rsync exit values, tolerate only partial errors
    - if connection is broken to slave, show ssh/slave gsycd's stderr
    
    Change-Id: Ia92f57b5bdfa47f8c44375c50cf279006a0bf69b
    BUG: 2946
    Reviewed-on: http://review.gluster.com/85
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: Kaushik BV <kaushikbv@gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit f9b09cd2be47c044c1396e70724a427ef46f8b81
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Jul 25 11:53:55 2011 +0300

    glusterd: do preparative gsyncd invocations with proper logging
    
    Change-Id: I28de4cce140faf1b35ecdc5cbd408f21c9926341
    BUG: 3231
    Reviewed-on: http://review.gluster.com/96
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit f16a44f94f76e6c677cee37090d059e8bb5443f5
Author: Kaushal M <kaushal@gluster.com>
Date:   Fri Aug 19 15:07:36 2011 +0530

    cli: "profile info" output improvements
    
    Some changes to profile info output.
    
    Change-Id: I94a4bec1ca1c0670b3d9643f8321683b59c665aa
    BUG: 3028
    Reviewed-on: http://review.gluster.com/260
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 9848ac8bf7a6854e9d4dee2dcb53621c67b33d6e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Aug 24 12:49:48 2011 +0530

    features/locks: avoid using reqlock to prevent race
    
    Change-Id: Id8613f9641f748f996062342878070ba8fb27339
    BUG: 2473
    Reviewed-on: http://review.gluster.com/312
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pranith Kumar Karampuri <pranithk@gluster.com>

commit 7f459fc826346c33a58412fb45a6781c5fd1cc0d
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 7 02:02:50 2011 +0200

    glusterd / geo-rep: in status, display slave URLs in simpler normalized form
    
    Ie. instead of writing out the fully expanded canonical URL like
    
      ssh://root@192.168.3.4:gluster://127.0.0.1:bar
    
    we just display
    
      ssh://root@starship::bar
    
    Change-Id: I2bd70650cbc9973d925f652bccb163d391e406c9
    BUG: 2536
    Reviewed-on: http://review.gluster.com/79
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit b827cdb230b8253c53d646793dd8f21df8202d41
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Aug 23 13:47:41 2011 +0530

    xlator: fix for the volume set help crash
    
    Change-Id: I1649ed61b13b935d714ca024e6883f3903c5edeb
    BUG: 3460
    Reviewed-on: http://review.gluster.com/310
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 6e02c879ad847b760a05f9afd3fddc9f152bda23
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 23 12:32:36 2011 +0530

    performance/stat-prefetch: fix memory leak
    
    Change-Id: I84580e297ba93a9a093c2e3432ea52e3c0db4a1a
    BUG: 3467
    Reviewed-on: http://review.gluster.com/307
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit dd996d529d155143e3ad49dc3b30461d9eb3ff43
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 23 11:44:05 2011 +0530

    cluster/distribute: unwind the proper dict in getxattr_cbk
    
    without which, quota would get confused about the total size
    
    Change-Id: I0fb822ee67e3c1585f783ae35292fe71c47ee249
    BUG: 3421
    Reviewed-on: http://review.gluster.com/304
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 601f5725a0a2e4855d9a4a952709e5c0cadbd846
Author: Junaid <junaid@gluster.com>
Date:   Mon Aug 22 17:32:08 2011 +0530

    features/marker-quota: Fix invalid reads in readdir_cbk.
    
    Change-Id: Icc1e9dc039f1f2d7ee94c689779a715a69d373fa
    BUG: 3389
    Reviewed-on: http://review.gluster.com/296
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d9ead57226faf82f3f1375a29e06d348625ba905
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 22 14:55:09 2011 +0530

    mgmt/glusterd: Initialize local variable in volgen
    
    Change-Id: I84b4f7c9c2787334ce67e5c3e0534953b691c8e0
    BUG: 3460
    Reviewed-on: http://review.gluster.com/295
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>

commit 4f9396545ba9c91d4bebfc81148c0082237141f4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 22 13:54:15 2011 +0530

    cluster/afr: Perform flush on all the children involved in self-heal
    
    Change-Id: I66362a3087a635fb7b759d7836a1f6564a6a7fc9
    BUG: 3456
    Reviewed-on: http://review.gluster.com/294
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b9ae4b19da2898fa610d1bfd4b9e5829acabb121
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 22 12:14:22 2011 +0530

    cluster/afr: Change definition of stale child
    
    The code is checking for priv->child_up[i], which can change while the fop
    is in progress. Since pending[child][id-of-transaction] alone is enough
    to tell if the child became stale or not, use just that.
    
    Change-Id: I494bf02cca66f4fd41526195fafce86a202c6bd1
    BUG: 3455
    Reviewed-on: http://review.gluster.com/293
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b249ff7505392ae5cac1421a6a44310800d26feb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 22 11:59:11 2011 +0530

    cluster/afr: Paused fop should not continue with fop
    
    Change-Id: Idce22a6266c354e327d5d717715d2e62533eec58
    BUG: 3448
    Reviewed-on: http://review.gluster.com/292
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b6e3e9c480be4226925b51c5e9ee0c368aa94a6d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sun Aug 21 18:53:04 2011 +0530

    features/marker: changes in marker to avoid race conditions and corruptions
    
    Change-Id: I38ddfab200d59dd4c8e9f9dd964a98f3d7aa7ab7
    BUG: 3389
    Reviewed-on: http://review.gluster.com/289
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 08e8c966869b091fb4df8bfc8cadc37cb40719a5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Aug 21 18:21:21 2011 +0530

    protocol/client: Changes to be benign to replace-brick
    
    Change-Id: Ic227781760a5f6dbf8aad69a19f90e45d4aaec13
    BUG: 3415
    Reviewed-on: http://review.gluster.com/288
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit af32ab6bc031347289201f33f496b6b713f7a3f6
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Aug 21 17:46:57 2011 +0530

    debug/io-stats: Handle loglevel in init
    
    Change-Id: I5aa6ee7509a8f730ca64e2f7bada56d502785a6c
    BUG: 3415
    Reviewed-on: http://review.gluster.com/287
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 5ace31ac2160b216a396c0d8c992fa19dbad6f47
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Thu Aug 18 18:20:24 2011 +0530

    glusterd: replace-brick status was not 'shared' with peer.
    
    Change-Id: Ia2d89fd919b077232a37debc2aebe1bc72150856
    BUG: 3432
    Reviewed-on: http://review.gluster.com/285
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 45acdcbbdc2de50c59a8c3e21884a02902e6571f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Aug 21 16:58:15 2011 +0530

    cluster/afr: fop should not continue if it is paused, until resumes
    
    Change-Id: Ie026ebed98cf5ff75ae1a13437d29f67d0e0254a
    BUG: 3448
    Reviewed-on: http://review.gluster.com/286
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit aa07e855859d6a175fccb309ec3158e6ca894b0c
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Aug 21 16:34:19 2011 +0530

    debug/io-stats: Handle log-level properly.
    
    Change-Id: I8e5b8841705b161068bdb2ccd2ac119d6b250c88
    BUG: 3415
    Reviewed-on: http://review.gluster.com/284
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 22b5de922b7d4ce57db48b3ad518e98a9c91f4ee
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sun Aug 21 15:56:33 2011 +0530

    cluster/afr: set frame local
    
    Change-Id: I861b3c4494735b0ba6e038cdc39c50b9866747a8
    BUG: 3448
    Reviewed-on: http://review.gluster.com/283
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 350ae611cad29a0ad95d3e209a858d693579c1b2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Aug 20 19:26:05 2011 +0530

    rpc/xdr: Fix for Solaris build failure
    
    Change-Id: I4704dfad655a79afb87ab275ba09413f785a97a4
    BUG: 3446
    Reviewed-on: http://review.gluster.com/280
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>

commit 1af420c700fbc49b65cf7faceb3270e81cd991ce
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Aug 20 15:48:27 2011 +0530

    cluster/afr: Perform self-heal without locking the whole file
    
    Change-Id: I206571c77f2d7b3c9f9d7bb82a936366fd99ce5c
    BUG: 3182
    Reviewed-on: http://review.gluster.com/141
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 2ebacdfdd3c39bf2d3139cb7d811356758a2350a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Aug 20 18:26:08 2011 +0530

    mgmt/glusterd: Correct generation of nfs options in volfile
    
    Change-Id: If3db4f81215271072030d7119081de5d8b1b3d78
    BUG: 3414
    Reviewed-on: http://review.gluster.com/279
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit fdb7636bd719e560d9d8c0895a3b80bf3973b9d0
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 20 16:11:02 2011 +0530

    while validating options, make sure memory accounting is init()ed.
    
    Change-Id: Ifad5827c6b022de7d84e081ce77effda0c245a13
    BUG: 3415
    Reviewed-on: http://review.gluster.com/277
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 80694bb5ff2f61cfd6e2bb7908add6c853490407
Author: krishna <krishna@gluster.com>
Date:   Sat Aug 20 14:32:35 2011 +0530

    if nfs.port is not configured init the transport.socket.listen-port to GF_NFS3_PORT
    
    Change-Id: I6c0db600ba2010b0a0272f58b16c4955b4b570f2
    BUG: 3308
    Reviewed-on: http://review.gluster.com/273
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 64b12d90f39dd474a1a403594cf3f4598f21cd25
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Aug 20 15:52:27 2011 +0530

    xlators/nfs: Fix a typo in option description
    
    Change-Id: I626893fd16094742869d4abfa488b66924c2796e
    BUG: 3445
    Reviewed-on: http://review.gluster.com/276
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 7fe3d3fe2b0bec8085b15fb4d9db8fdead826d57
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Aug 20 15:18:09 2011 +0530

    libglusterfs: Fix a crash in gluster volume set help
    
    Change-Id: I585e8e685f5c23b6fa632ef708adf2e349ba6704
    BUG: 3415
    Reviewed-on: http://review.gluster.com/274
    Reviewed-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 7c6cf654700fb05502591e84b2000bb5230283e2
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Aug 19 13:51:14 2011 +0200

    cli: remove bogus assertion
    
    Since 86c818a9 (cli: taking my revenge ...) we cannot assert
    an exact match for the op/subop keywords in the followup parser
    functions. That is,
    
     # gluster vol stat foo
    
    is a valid invocation.
    
    Change-Id: I3f7f410f64f440744141f458886e4bba8ceeca17
    BUG: 3439
    Reviewed-on: http://review.gluster.com/268
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d9c6513289ca33204cdc110112ff8e45cbc8970a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Aug 19 15:56:49 2011 +0530

    cluster/afr: Update fresh_children in lookup if no other ops in progress
    
    If write/truncate fails we should remove the child that failed the fop
    from the fresh children. The previous code assumes that the children
    that succeeded the fop are fresh children, which is wrong. Fixed that
    in this patch.
    
    Change-Id: I1e6e21e20faea00516a0fdd2e95f2d7e9cf9076d
    BUG: 3411
    Reviewed-on: http://review.gluster.com/263
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 5e89fda5180e66b1757bc620dfdb5701ce4d43f1
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 19 22:49:41 2011 +0530

    options handling: remove missing options check in reconfigure
    
    last minute change broke things. undo'ing damage.
    
    Change-Id: I330cf819b03e09f80d609d580d8b4c3497a98bbf
    BUG: 3415
    Reviewed-on: http://review.gluster.com/271
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit c4dd6f5771e9a530c90cb6e23d6f43a7224fb654
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 19 15:19:44 2011 +0530

    smoke-test.sh: script used by gerrit as part of pre-commit test
    
    Change-Id: Idc3be3e22cca5fc623b27c2f500f59785cbd332b
    BUG: 3234
    Reviewed-on: http://review.gluster.com/262
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit dd2c197c1d5d5942a65c860997ec1d5793ef249f
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 19 14:56:13 2011 +0530

    option validation: further fixes
    
    fixes in option handling changes
    
    Change-Id: I0a44cdb088e3f08cd43d583a580736d0903fa88c
    BUG: 3415
    Reviewed-on: http://review.gluster.com/261
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 0143a2ef653d0f7a337c8220f127655dadbca942
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Aug 18 23:19:22 2011 +0530

    mgmt/glusterd, cli: Introduce gluster volume status <volname>
    
    Change-Id: Iea835b9e448e736016da2e44e3c9bfff93f2fa78
    BUG: 3439
    Reviewed-on: http://review.gluster.com/259
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d2849bd349081b332540713cfeaa561f57356b2a
Author: Anand Avati <avati@gluster.com>
Date:   Thu Aug 11 16:08:36 2011 +0530

    xlator options: revamp xlator option validation/reconfigure code
    
    - move option handling to options.c (new file)
    - remove duplication of option validation code
    - remove duplication of gf_log / sprintf
    - get rid of xlator_t->validate_options
    - get rid of option validation in rpc-transport
    - get rid of validate_options() in every xlator
    - use xlator_volume_option_get to clean up many functions
    - introduce primitives to init/reconfigure option types
    
    Change-Id: I51798af72c8dc0a2b9e017424036eb3667dfc7ff
    BUG: 3415
    Reviewed-on: http://review.gluster.com/235
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 6073fc29bf79fad0b0a3ae423d637ded39a00a3a
Author: krishna <krishna@gluster.com>
Date:   Wed Aug 17 12:22:49 2011 +0530

    do rpcsvc_init() after we fill nfs_state structure and add to nfsx->options keys for allowing insecure client ports.
    
    Change-Id: Iae755d1460f2c7296fc7980b5257afcf778e7767
    BUG: 3296
    Reviewed-on: http://review.gluster.com/247
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit d41eda762e4e98d95d3c80dd849a11e6aec11b56
Author: Anand Avati <avati@gluster.com>
Date:   Thu Aug 18 11:27:06 2011 +0530

    rpc-clnt: fix merge error of http://review.gluster.com/248
    
    cherrypicked patch did not have the logic to reset port number to
    reconnect to glusterd.
    
    Change-Id: I78c903d5a28626f83b5024bd323e77b5f159e374
    BUG: 3409
    Reviewed-on: http://review.gluster.com/254
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit c0180cc22f5f52f5776c74a6d1ae90100dbb5087
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Aug 10 17:57:04 2011 +0530

    glusterd: fix for volume stop causing inconsistent volume status
    
    This fixes problem caused by race between glusterd and glusterfsd
    occuring when they try to unlink pidfile during volume stop, which led
    to the volume being stopped, but the status of the volume remained in
    started state.
    
    Change-Id: Ia99bb1a1fc6c78db138211538dfd10c577e82917
    BUG: 3147
    Reviewed-on: http://review.gluster.com/206
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit cef6d3596fcbda71c19e66c5a6de502847aece9e
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 12 00:46:50 2011 +0530

    rpc-clnt: perform XDR encoding in unlocked region
    
    Change-Id: Ia11c3ced4bec5959a5f0d8fcd4c6070b2ead220a
    BUG: 3409
    Reviewed-on: http://review.gluster.com/248
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 2902b6f325d4bbb6cd947cee0301bf75d9634196
Author: Venky Shankar <venky@gluster.com>
Date:   Wed Aug 17 15:19:05 2011 +0530

    allocate extra bytes (for \0) when calling realloc
    
    We use strcat to concat pathinfo strings. strcat appends a \0 at
    the end. Therefore allocate extra bytes for the same to avoid
    asserts being hit during gf_free call
    
    Change-Id: I582f5858e7375a5bacfc5c702c612ee09c3bb355
    BUG: 3413
    Reviewed-on: http://review.gluster.com/249
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 7d15ee5ee37384e40600306e3efbc037ff6f9e9b
Author: Anand Avati <avati@gluster.com>
Date:   Wed Aug 17 04:18:48 2011 -0700

    Revert "Make sure glusterd and glusterfsd use the same address family"
    
    This reverts commit 1dade36a6dfc6cae5559d5139f6b733e1b6fded1
    
    This commit breaks glusterd. The insertion of --xlator-option=<transport family> in between --brick-port and <port> fails command line validation during glusterfsd start.
    
    Change-Id: I40186ca89d1d16cf798404747771353b1f1a3e1d
    Reviewed-on: http://review.gluster.com/251
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 61a9ed994d817ffe9aab4b5adb31ffcb6ca6820c
Author: Anand Avati <avati@gluster.com>
Date:   Wed Aug 17 04:16:59 2011 -0700

    Revert "Remove white spaces"
    
    This reverts commit 6ab425e4f3d34b1467f694ada9a36eacfac9bf3c
    
    Dependency revert for http://review.gluster.com/229
    
    Change-Id: I7c4fcc45a6c25aedf4f06cbdeedc1fecbe424f45
    Reviewed-on: http://review.gluster.com/250
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b1b952d62d452641cd17ab5bf1a386cc4a05b17b
Author: krishna <krishna@gluster.com>
Date:   Wed Aug 17 12:48:46 2011 +0530

    do not init nfs->override_portnum to GF_NFS3_PORT
    
    Change-Id: I7dc26b64a177ce5d30352cf7c531f38517c0368a
    BUG: 3308
    Reviewed-on: http://review.gluster.com/155
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shehjar Tikoo <shehjart@gluster.com>

commit 12895212d64e2f209190f389a92be7f5e67ec84e
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Wed Aug 17 06:19:05 2011 +0200

    Remove white spaces
    
    Change-Id: I646c0c8e70268de6a20bb23dc3834ac6f5d2bbf2
    BUG: 3422
    Reviewed-on: http://review.gluster.com/245
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 02f45250af3fcb58a309e4089b64e2b147b1b265
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 16:20:14 2011 +0200

    Make sure glusterd and glusterfsd use the same address family
    
    NB: This was heavily tested on 3.2.2, but code has changed a lot
    in the area. This patch itself is untested.
    
    Change-Id: Ie472f04b0804276c2d8a9efc5c96106c33029498
    BUG: 3422
    Reviewed-on: http://review.gluster.com/229
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 023969d911b90420bd1733bae57d04e24dee5eda
Author: Venky Shankar <venky@gluster.com>
Date:   Tue Aug 16 11:32:35 2011 +0530

    adjust allocated length to memory overrun fix
    
    size of the allocated length is incorrectly calculated which could
    cause memory overrun while filling the buffer
    
    Change-Id: I4fbdbd1fff937ca15bae9f634ef5757dda52caa8
    BUG: 3413
    Reviewed-on: http://review.gluster.com/236
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit a0071bdf2a0f73fd17ac769298ed65b245f0607c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Aug 13 21:52:35 2011 +0530

    cluster/afr: read_child should be >= 0
    
    Change-Id: I447fb6a93cdd77de322cd5ded30673411c4cf79e
    BUG: 3251
    Reviewed-on: http://review.gluster.com/233
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit e618c1b59debbb9184874a06cbc64b8ac846a0d3
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 09:12:27 2011 +0200

    - Use linkat(2) instead of link(2) so that linking to symlink work on
    non Linux systems
    - Also use mkfifo to create FIFO on NetBSD: it does not wotk with mknod
    
    Change-Id: I19ffd22b4d79009ef5f9d4a50fc6dd556c3c3ff4
    BUG: 2923
    Reviewed-on: http://review.gluster.com/226
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 53da3edbe5b43a994cc916b6571563491a8a414b
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 12:00:49 2011 +0200

    POSIXly correct: \n replacement is GNU sed specific
    
    Change-Id: I5e4ca551b60477d454964e568209ad06f21cc64e
    Reviewed-on: http://review.gluster.com/227
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit abe7843ca6faa03a9b6e1ece3fb85d4c5b02580a
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 09:17:44 2011 +0200

    Allow georeplication for NetBSD
    
    Change-Id: Id8d62f4f83255c67a5aa615aed23ba44c182290e
    BUG: 2923
    Reviewed-on: http://review.gluster.com/220
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit c5d7fa2bf4c766200971cfbb877d4a25b3cb32b0
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 06:46:15 2011 +0200

    Build fix for NetBSD
    
    Change-Id: Icb0163d61bfbd3bad520c06a655f80ec05fc3fb2
    BUG: 2923
    Reviewed-on: http://review.gluster.com/214
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 22105b3c741a26f525e0b31bb3d880c1eaa05c30
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 06:48:07 2011 +0200

    Build fix
    
    Change-Id: I10dca7aee73df31f8b279591852d6ac19eab8ccc
    BUG: 2923
    Reviewed-on: http://review.gluster.com/228
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 139e03445e590911dbf00f30b0cfc005ee8a106b
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 06:34:54 2011 +0200

    For systems where O_DIRECTORY does not exist, we defined it as 0,
    therefore ((flags & O_DIRECTORY) == O_DIRECTORY) is always true even
    if the flag is not set.
    
    Change-Id: Ie7837d521ea20b36ed70cf93c1763c226ff0e9f0
    BUG: 2923
    Reviewed-on: http://review.gluster.com/213
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 8a24e3179fc822e3ec59eaac8f6a2050b8dd9b40
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 09:23:15 2011 +0200

    Do not distribute UFS1 extended attribute backing store
    
    Change-Id: Ie05751aa8d96a2f7996843a914e1a66df2777eba
    BUG: 2923
    Reviewed-on: http://review.gluster.com/222
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 5b6be1cdb500b375d673d9b2f2dfe7cfbda5d2b8
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 10:26:47 2011 +0200

    One more missing change :-/
    
    Change-Id: I6eeaee73e7c9124a1959acb2fe47d5cad3a3baac
    Reviewed-on: http://review.gluster.com/225
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 9fa3aeadfe162483e01f285c7fd4d5f0fb712c18
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 09:51:28 2011 +0200

    Use bourne shell, fix error in previous commit
    
    Change-Id: Id2a304d5090eb2564c5d56ea260fa53b9b17d0d5
    Reviewed-on: http://review.gluster.com/223
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cc756d0075ff9829700cfc74d1bf3e2080523f65
Author: Emmanuel Dreyfus <manu@netbsd.org>
Date:   Fri Aug 12 06:43:07 2011 +0200

    sed -i is available from GNU sed, but is  not portable. Output to a new
    file and move it to the original one on success instead.
    
    Change-Id: Ib23dd9becd035054e6490dcb4d64b3f9eff89bf4
    Reviewed-on: http://review.gluster.com/212
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b4d166be42acd65d083a6e839f96989746b0ef46
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 11 14:59:19 2011 +0530

    RO: fix read-only xlator support broken due to worm xlator fix
    
    Change-Id: I7234909eecdc6af1b8482465f19d0490fcba94ad
    BUG: 3166
    Reviewed-on: http://review.gluster.com/210
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 86999525240983dcbd3fe66eb40a0947730c695c
Author: shishir <shishirng@gluster.com>
Date:   Tue Jul 19 16:02:12 2011 +0530

    WORM: Write Once Read Many times xlator support
    
    This xlator will allow files to be opened for write in append mode
    only. Mount with --worm(glusterfs) or -o worm (mount) option to
    enable worm xlator
    
    Change-Id: I1be02fcf2aee2182ea2c66b514357918136fabeb
    BUG: 3166
    Reviewed-on: http://review.gluster.com/23
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 5ce1b5c357d490f68ae89bfd3ce31326a81a1183
Author: Anand Avati <avati@gluster.com>
Date:   Wed Aug 10 23:11:36 2011 +0530

    posix-acl: disable permission checks for fd based ops
    
    If write calls are coming in through an fd with O_RDWR or O_WRONLY
    flag then a permission check is unnecessary. However writes from
    NFS ideally need a "stateless" check in each call and this results
    in a permission failure due to the read-only mode (disregarding the
    FD's writeability).
    
    For now it is acceptable to disable write checks as almost always
    the NFS client would already be doing such basic access control.
    Also because the previous access-control translator (prior to
    posix ACL introduction) too was permitting writes and reads
    unconditionally.
    
    In fact the Linux KNFS server too assumes the NFS client would have
    done the permission check.
    
    Change-Id: I33e5de8911a87881f9341b8b92574780c2dfbeba
    BUG: 3388
    Reviewed-on: http://review.gluster.com/208
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b58dc65f2ac305056a25a2177cee9a03cd1bdca2
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 9 12:30:19 2011 +0530

    Change Copyright current year
    
    Change-Id: I2d10f2be44f518f496427f257988f1858e888084
    BUG: 3348
    Reviewed-on: http://review.gluster.com/200
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 2153b8400bc05f1a9e10c7b650dd96a4617121f1
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 9 11:37:38 2011 +0530

    fix build issues in Mac OS X (10.6)
    
    Change-Id: Ifc6f156441f6545d579c3fac2fffca36fb395951
    BUG: 3354
    Reviewed-on: http://review.gluster.com/196
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit eddb2069f3b0e122cbd034328d87e08e737f4c4e
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 8 16:54:12 2011 +0530

    fuse-resolve: prevent linking of inodes of different inode-table
    
    This can happen in deep_resolve_cbk, which happens after a graph
    switch. Root cause was because the graph change happened while
    a FOP was in transit and by the time the call came back, the active
    translator of fuse is now changed.
    
    Fix is to make sure the resolve operation happens on a given
    inode table, instead of taking the latest graph of fuse for
    each operation
    
    Change-Id: Idd6e2d5c2d5fc5d571f7a1fbc174e210babf8a2b
    BUG: 3355
    Reviewed-on: http://review.gluster.com/195
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 1b5a860f159916f0b289069ef3223e6fd754d36b
Author: krishna <krishna@gluster.com>
Date:   Thu Aug 4 15:51:28 2011 +0530

    pass xlator pointer to rpcsvc_init() so that it can init svc->mydata to xlator
    
    Change-Id: Icfd95cc67400c16a951d6a9f922fbdc07f40c5b6
    BUG: 3314
    Reviewed-on: http://review.gluster.com/180
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 09ed778309cd4d4cdbc19ad7cbdcea3da7408a66
Author: krishna <krishna@gluster.com>
Date:   Fri Aug 5 15:25:16 2011 +0530

    NFS server: allow clients to connect from insecure (>1024) ports and support for both rpc-auth-allow-insecure and rpc-auth.ports.insecure
    
    Change-Id: I4e3fbfe37d6d3e8443d5b7b79faf6e364fdb87be
    BUG: 3296
    Reviewed-on: http://review.gluster.com/178
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d62c0abf597a2e77e3fb0cfa0d4598aedea64d33
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 8 10:47:53 2011 +0530

    Changes to EXCEPTIONS and included EXCEPTIONS in packaging
    
    Change-Id: I6c5c1536016489bf6b981356942901f69862393a
    Reviewed-on: http://review.gluster.com/188
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 0cf100b58c34b40eb7f35fa6913996539e0e3aa9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Aug 6 14:00:03 2011 +0530

    LICENSE: s/GNU Affero General Public/GNU General Public/
    
    Change-Id: I3914467611e573cccee0d22df93920cf1b2eb79f
    BUG: 3348
    Reviewed-on: http://review.gluster.com/182
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 4e116e2af014754e88170986820312e755617476
Author: Anand Avati <avati@gluster.com>
Date:   Sat Aug 6 18:00:49 2011 +0530

    cluster/dht: clear local->cached_subvol when switching to do_fresh_lookup
    
    The presence of local->cached_subvol makes dht_lookup_everywhere_done behave
    as though it was a lookup on a file where linkfile needs to be recreated. In
    a fresh lookup, local->cached_subvol should be NULL.
    
    Change-Id: Ie6bd6ad536def03d970526d51e20c6daeb00922b
    BUG: 3317
    Reviewed-on: http://review.gluster.com/187
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit bed8d32a52b2a58b905e91828c3155cba2544058
Author: Sachidananda Urs <sac@gluster.com>
Date:   Thu Aug 4 16:59:52 2011 +0530

    Replace mktemp(3) with mkstemp(3).
    
    Man page states:
    Some implementations follow 4.3BSD and replace XXXXXX by the current process ID
    and a single letter, so that at most 26 different names can be returned.  Since
    on the one hand the names are easy to guess, and on the other hand there is a
    race between testing whether the name exists and opening the file, every use of
    mktemp() is a security risk. The race is avoided by mkstemp(3).
    
    Change-Id: Ida95403b55024ecd07ef811a0835e01a9a7f092b
    BUG: 3331
    Reviewed-on: http://review.gluster.com/163
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit b510ec361482a57c32b81aebb9d61a50676727f9
Author: Junaid <junaid@gluster.com>
Date:   Thu Aug 4 15:47:15 2011 +0530

    features/marker-quota: Performance improvement.
    
    With this patch new transactions will not be triggered if an updation is
    already in progress on that inode.
    
    Change-Id: I587385498c4b2af8bd9624ca41c60742c5ef2485
    BUG: 2988
    Reviewed-on: http://review.gluster.com/76
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra G <raghavendra@gluster.com>

commit 22c6a64f851e844091b4060f20ee3c24b28c80f7
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 5 14:52:01 2011 +0530

    save even more trees
    
    make the build even more quiet.
    make anush even more happy by saving even more trees.
    
    Change-Id: I301aba34e4470805114989650a13f9fe35f42d35
    BUG: 3255
    Reviewed-on: http://review.gluster.com/176
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit b22ffeec89bbefd2d7b9fa62a25ede5545f1cbe6
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 5 14:04:43 2011 +0530

    save more trees
    
    make the build more silent
    
    Change-Id: Ied4c87c40af4b1f1034af4a13c1153d82883751b
    BUG: 3255
    Reviewed-on: http://review.gluster.com/171
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 4b640273b05dec6923c13d14d4d40e136e2df99f
Author: Louis Zuckerman <me@louiszuckerman.com>
Date:   Fri Jul 29 18:03:41 2011 -0400

    Provides an upstart job for glusterd on Ubuntu, solving Bug 3282
    
    Mounting from localhost in fstab fails at boot on ubuntu when glusterd is started by debian initscript.
    
    A new directory, extras/Ubuntu, contains the new upstart job (glusterd.conf) and a brief README.Ubuntu file.
    This makes the upstart job available to package maintainers like the SysV initscripts are in extras/init.d.
    
    This has been tested on Ubuntu 10.10 Maverick.
    
    Change-Id: I6ccd06054e920cd6dc45dba4eb8ab89aa30f8b47
    BUG: 3282
    Reviewed-on: http://review.gluster.com/126
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 3780881e1bc4387f55e065508fb8fad371fc2b51
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 1 16:20:12 2011 +0530

    storage/posix: handle dictionary being NULL in a function
    
    also print a warning message if dictionary is NULL, while sending a
    mkdir request in distribute self-heal.
    
    Change-Id: Ib9cac6ed1635203802f089986f8acb1ce416265d
    BUG: 3215
    Reviewed-on: http://review.gluster.com/136
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 3778cb5f668149d893ff6ae09d73878afc957133
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jul 14 01:41:48 2011 +0000

    features/marker: log failures due to file not being present during quota updation transaction in DEBUG.
    
    Change-Id: I6733586ba56ed4fdc2abbef63c38b8c491f89819
    BUG: 3143
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/32
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Mohammed Junaid <junaid@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 03aa9ecde933269282ca1043a16378e0d1e5cb49
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 1 17:11:59 2011 +0530

    glusterd rebalance: handle a race condition while starting a rebalance
    
    due to the race, there was a possibility of having two (or more) threads doing
    glusterd_defrag_start(), which would cause different thread to access same
    pointer, and at some point making it NULL, causing other threads to crash with
    SEGV.
    
    Change-Id: Id05b99dd6f33329027b8a07f1c8da5a65fd6dae9
    BUG: 3295
    Reviewed-on: http://review.gluster.com/138
    Reviewed-by: Anand Avati <avati@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 5bd8f537da3fe570e481713a1c2c4ee6e88ac38e
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Aug 2 15:30:06 2011 +0530

    DHT rename: Recreate linkfile after unlink
    
    This is done, so that there is no gfid mismatch. Unlink the older
    linkfile if it exists, and recreate it with the correct gfid.
    
    Also removed unused rename related code.
    
    Change-Id: Ice0cdff51db786dafb1a019f7642c7d000e8c5f3
    BUG: 2522
    Reviewed-on: http://review.gluster.com/142
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit a08927b04e2d55edcb12be77128949798ed8f142
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 3 14:09:17 2011 +0530

    mgmt/glusterd: Ignore case in friend find by hostname
    
    Change-Id: I8dabf07ebb30ec500d847c11d5c72c2d87d10239
    BUG: 3309
    Reviewed-on: http://review.gluster.com/145
    Reviewed-by: Vijay Bellur <vijay@gluster.com>
    Tested-by: Gluster Build System <jenkins@build.gluster.com>

commit 8da4623f2274faa9e9d88f7d30babb9ea80fb141
Author: Sachidananda Urs <sac@gluster.com>
Date:   Fri Jul 29 16:26:03 2011 +0530

    Remove redundant function `cli_path_strip_trailing_slashes'.
    
    Use cli_canonicalize_path instead, to remove trailing/duplicate slashes.
    
    Change-Id: Ie76267a4fa9ee9986cb36039afad4dfff830d5f8
    BUG: 3183
    Reviewed-on: http://review.gluster.com/124
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit df0a72d9c118c2a1146f2787eee6d5f0a58853f0
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Jul 29 16:36:27 2011 +0530

    Variable IOBUF: Use variable iobuf for cli/glusterd/glusterfsd(mgmt)
    
    By using variable iobufs, xfer data size is no more limited to
    128K (default). This helps in scaling.
    
    Change-Id: Iab453db9223d887306d150cd6fe0b1eae9c422cc
    BUG: 2472
    Reviewed-on: http://review.gluster.com/13
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 76acac485b9f06f36d145b4c31fa6f4da3c70f52
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Jul 29 16:30:36 2011 +0530

    IOBUF: Bring in variable iobuf support
    
    Rebasing Raghavendra's patch to master
    
    Change-Id: Ie7a0c9a7b8e73cfe48c4573a5153460d5126208e
    BUG: 2472
    Reviewed-on: http://review.gluster.com/12
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 9867f3954138e795123b4b308e256e641c55f3ec
Author: Anand Avati <avati@gluster.com>
Date:   Mon Aug 1 11:24:35 2011 +0530

    glusterfsd: initialize sigset_t in sigwaiter
    
    Thanks to kkeithle@redhat.com for pointing out.
    
    Change-Id: I8167ffffddbdbc3dc09f7474bd834dbf4a49db9b
    BUG: 3280
    Reviewed-on: http://review.gluster.com/129
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit a13fbaca0512cae3853a2372d0d8237eb24dd225
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Jul 13 00:52:14 2011 +0200

    gsyncd: do some basic sanitization on logs
    
    - exceptions raised by us will be logged as single-line error messages
      (full stack strace is shown only at DEBUG loglevel)
    - common/well understood exceptions are mapped to "user-parsable" error logs
    
    Change-Id: I75f1fb848483372364b2093878d9cfed576c9739
    BUG: 2778
    Reviewed-on: http://review.gluster.com/125
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 6c7a89321af50925fb53da378d996881a1907f31
Author: krishna <krishna@gluster.com>
Date:   Wed Jul 27 18:16:59 2011 +0530

    RPC unify code change
    
    Change-Id: Ibe18a2a63fd023ac57652c4dfc8ac8a69d983b83
    BUG: 3112
    Signed-off-by: krishna <krishna@gluster.com>
    Reviewed-on: http://review.gluster.com/116
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 8b9cb1701f6365f7b4f5ed166f37020781f59467
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 12 03:38:01 2011 +0200

    geo-rep: minor fixes
    
    Change-Id: I5c5211858bdb2bd28324818362d95edd97f94207
    BUG: 2778
    Reviewed-on: http://review.gluster.com/81
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit 8efbc829490420ebe75b42a1e0f268b950aaba91
Author: Rajesh <rajesh@gluster.com>
Date:   Fri Jul 29 13:18:20 2011 +0530

    cli: Improve message in gluster top
    
    Removed "volume top successful" message.
    If top fails,"volume top unsuccessful" is displayed.
    If errstr is set, it is displayed.
    "No entries in list" messages deleted.
    
    Change-Id: I8ed35ea7db365b7af6b10833672fcab0e4e8751d
    BUG: 2722
    Reviewed-on: http://review.gluster.com/121
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 9759d7e6d8f11ef6111fd6d313ced098efa2e38b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jul 19 15:09:13 2011 +0530

    performance/io-cache: hold lock on ioc_inode whereever a page is being accessed/modified
    
    Change-Id: Ifc435c2e289b2a8ceeed2a091e555953af179936
    BUG: 2939
    Reviewed-on: http://review.gluster.com/21
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit dbc567ec9f97a540e6cab8006ba285ab62fc372c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Jul 15 01:54:31 2011 +0000

    performance/quick-read: Handle unwinding of frame corresponding to read fop properly, while validating cache.
    
      - there was a possibility of double unwind in case of errors.
      - use a new frame to do open in fd-based fops.
        In case of errors, qr_resume_pending_ops will be called to resume all the
        fops waiting on open. Hence if we use frame corresponding to fop (without
        creating a new one), there is a possibility of frame being freed by the
        time open would've returned to quick-read.
    
    Change-Id: Ie4cc19907f9d6362860bdb984779c8f4cf822332
    BUG: 3168
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-on: http://review.gluster.com/34
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cfec0be455f388f4106e3df55b00c691631c40ea
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 26 16:35:10 2011 +0530

    IO-threads: Support for loading io-threads xlator on client side
    
    New set option performance.client-io-threads added to enable/disable it.
    Default behavior is io-threads is off on client side
    Loaded only on fuse volume below io-stats.
    
    Change-Id: I13aea9a564d5270901c3c356fa6bede836c6a66d
    BUG: 3122
    Reviewed-on: http://review.gluster.com/105
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit bc16882a04baaac214f1b41598827038e8872363
Author: Junaid <junaid@gluster.com>
Date:   Mon Jul 25 14:59:25 2011 +0530

    features/marker-quota: Perform removexattr with frame uid and gid set to root.
    
    Change-Id: Iabd8ff835c76d828e4af50ce4941d2ff86797eee
    BUG: 3194
    Reviewed-on: http://review.gluster.com/98
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Raghavendra G <raghavendra@gluster.com>

commit bed25e47ee047d2f3af1120ee66f17147171bd6e
Author: Junaid <junaid@gluster.com>
Date:   Tue Jul 19 11:26:43 2011 +0530

    mgmt/glusterd: Read the contents of vol-info file into a dynamically alloced
    string.
    
    Change-Id: I06173a4cf22e12bc543f8ff2d151078333b500e1
    BUG: 3154
    Reviewed-on: http://review.gluster.com/8
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pavan T C <tcp@gluster.com>

commit f3c0281d9b4654888a5525b443f1e6090d874725
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 22 15:23:32 2011 +0530

    glusterfsd-mgmt: initialize ctx->mgmt before calling rpc_clnt_start()
    
    this is required because if 'CONNECT' event comes before the clnt_start()
    function ends, we may loose the event if it is not initialized.
    
    Thanks to Jeff Darcy <jdarcy@redhat.com> for pointing it out
    
    Change-Id: Iebbd651b7563265800f41922367ca133fbbf4fc3
    BUG: 3207
    Reviewed-on: http://review.gluster.com/77
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit ff5fddcf54805464c1033ee4665835784e260831
Author: shishir <shishirng@gluster.com>
Date:   Wed Jul 27 15:03:40 2011 +0530

    Stripe_readdirp: Fix race in wind/unwind which led to crash
    
    Scenario - The race window exists when before we wind to a stat call
    in readdirp_cbk, whereas stats have returned to cbk. We would free up
    local, which leads to a crash.
    
    Fix - We assume all entries to be regular files, and set the wind_count
    as a multiple of entries * subvol (stat calls). When we encounter a non
    regular file, we decrement the windcount accordingly (subvol times). If
    the last entry happens to be a non-regular file, and all stat calls have
    wound back, we unwind from here itself.
    
    Change-Id: Ia8e225ef557cbe1fedb9b72de9bd9fa61f371a24
    BUG: 3257
    Reviewed-on: http://review.gluster.com/115
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 2a6de14e22445fc3017c9aa25b9c56bc4259d373
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 12 22:18:58 2011 +0200

    gsyncd: exit in slave when RePCe session came to an end
    
    Change-Id: I4317e60fce3280c45dbcc4a5f233a4344aba9500
    BUG: 2778
    Reviewed-on: http://review.gluster.com/83
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit cf4501899ca75a6641a31cf7116d439dfb6dd4de
Author: shishir <shishirng@gluster.com>
Date:   Tue Jul 26 12:56:54 2011 +0530

    NFS: Implement nfs_forget call
    
    Make sure the inode_ctx is deleted
    nfs_release is not needed, as __nfs3_fdcache_remove_entry cleans up
    the ctx
    
    Change-Id: I690efa1eb1d4cd39cee258bb29692cc58ab9c380
    BUG: 3250
    Reviewed-on: http://review.gluster.com/103
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shehjar Tikoo <shehjart@gluster.com>

commit fa979753d9fe27c6338a0d384d0f183ea716003d
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 12 21:59:24 2011 +0200

    gsyncd: log exit properly
    
    Change-Id: Iedd8c0ce9dec2d8dcb01e0e5b409cb53185b1716
    BUG: 2778
    Reviewed-on: http://review.gluster.com/82
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit 06af690050b5b0ca4da34d4c89fda3d3deffe908
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Jul 11 14:57:18 2011 +0200

    geo-rep: compactify logging
    
    Change-Id: I19f6cf539289062b39e3c0f73fa88f4ff9488349
    BUG: 2778
    Reviewed-on: http://review.gluster.com/80
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Kaushik BV <kaushikbv@gluster.com>

commit 55219903e32e750cfdf58260e7c3a2c4f2bfe16e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jul 25 15:31:21 2011 +0530

    libglusterfs: Bring in os_daemon_* routines to replace modified FreeBSD code
    
    Change-Id: I41f4635b1b75adb6d22e2e325b99941f8d7a0b42
    BUG: 3206
    Reviewed-on: http://review.gluster.com/100
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 98b32b5798c7d782cae4c16b608f600ab51fffce
Author: Junaid <junaid@gluster.com>
Date:   Thu Jul 21 23:51:45 2011 +0530

    features/marker-quota: Fix some random memory leaks.
    
    Change-Id: I1b01adf1d0ecf494f960d125f2bdcc9c10137115
    BUG: 3169
    Reviewed-on: http://review.gluster.com/75
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Tested-by: Raghavendra G <raghavendra@gluster.com>
    Reviewed-by: Raghavendra G <raghavendra@gluster.com>

commit 58e3c67007d52b5c2383badf32d5809edfc0c6cb
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 26 17:23:27 2011 +0300

    save the trees
    
    Change-Id: I394621c76a95ed596aedcd45030d80a79de30acf
    BUG: 3255
    Reviewed-on: http://review.gluster.com/108
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 58ccea44011065f57968114c9a8e89307ec05276
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 27 14:36:56 2011 +0530

    rpc: in client connection init(), return the proper error code
    
    without the proper error code, rpc won't know if transport is successfully
    loaded or not.
    
    Change-Id: Idc3ad56d2f47cf1e81ba39f90a7f7b47305d7d9a
    BUG: 3260
    Reviewed-on: http://review.gluster.com/112
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit baf66413aa1d7ea65d092f2301d2ec749b6a217e
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Jul 6 14:10:25 2011 +0530

    glusterd: handle replace-brick in paused state.
    
    This change ensures that glusterd retains 'state' information
    of an ongoing replace brick operation even if it went down midway.
    
    Change-Id: I697c2f27a96b3200c7865bd1d3a1de9692ce0da1
    BUG: 3252
    Reviewed-on: http://review.gluster.com/6
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit 48665f87f55d07eb790c882e5b10217416140319
Author: Gaurav <gaurav@gluster.com>
Date:   Tue Jul 26 11:34:10 2011 +0530

    Glusterd: Remove dependency on AI_ADDRCONFIG for AF_UNSPEC
    
    Change-Id: I0a22b2cc5a0ea1a57633fddabad54aca7b3d4e86
    BUG: 2456
    Reviewed-on: http://review.gluster.com/102
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Csaba Henk <csaba@gluster.com>
    Reviewed-by: Vijay Bellur <vijay@gluster.com>

commit b922437795a68b32cd6fb337dfd66a4ead13b4ee
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jul 14 16:17:57 2011 +0530

    cluster/distribute: while fixing layout, consider ENOSPC errors
    
    in case of layout 'creation', layout->err == ENOSPC should be ignored
    where as, while layout 'fixing' we should consider what was already
    present in the layout.
    
    Change-Id: Ifb613b41065813c9f1202e65e94b4b0282766d11
    BUG: 2258
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Reviewed-on: http://review.gluster.com/15
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit 73eca3be5c5ccc71bbad934338c1ef58ed37c483
Author: Rajesh <rajesh@gluster.com>
Date:   Tue Jul 19 15:57:30 2011 +0530

    rpc-transport/socket: avoid logging socket read fails
    
    An option, transport.socket.read-fail-log was added in glusterd.
    This can also be added to any translator which uses socket.c.
    A gf_boolean_t flag(read_fail_log) is added in socket_private_t.
    Using this, logging of socket read failures can be controlled.
    The options is set to 'off' in glusterd.vol by default.
    
    Change-Id: I85cf4afc1f534f5f51018449d5d84baef18fce23
    BUG: 3156
    Reviewed-on: http://review.gluster.com/22
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit d35e17152720a074c15f54f5c3b8a400e456b19e
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 22 03:45:34 2011 +0530

    cluster/dht: dht_rename() - handle GFID situations
    
    In the pre-GFID era, the linkfile of the destination file could be reused
    the linkfile for the renamed file when dst_cached == src_cached.
    This patch handles this situation and reverts the previous (wrong) fix.
    
    Change-Id: Iba57b5eb91cf8b1fb40e74f6399cdf99b8b00410
    BUG: 2464
    Reviewed-on: http://review.gluster.com/90
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Amar Tumballi <amar@gluster.com>

commit 65cc08d80d5db6a6854249cc04bece0a9554adfb
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 09:21:55 2011 +0000

    glusterd: Add bind-insecure xlator-option for glusterd
    
    This is required if the number of connections from the glusterd
    increases.
    
    Change-Id: Iff78773f593a8bfae13ec9eec52c5a67ea936ef2
    BUG: 3142
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Reviewed-on: http://review.gluster.com/11
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Pavan T C <tcp@gluster.com>

commit b06ba047f48e92323d8dc8af7ed485d35fbbccf2
Author: Vishwanath S Bhat <vishwanath@gluster.com>
Date:   Thu Jul 21 15:19:14 2011 +0530

    glusterd - Removed hardcoding of transport type in replace-brick.
    
    Replace-brick didn't support transport types other than tcp.
    Test case: replace-brick should work with tcp and rdma.
    
    Change-Id: If33f108b70247d81791d25a1a05247f49847b4d7
    BUG: 3092
    Reviewed-on: http://review.gluster.com/72
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Krishnan Parthasarathi <kp@gluster.com>

commit 2c068a98e4b0bf54e7553ed7411fa8c7fe3173ba
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 23 06:03:18 2011 +0200

    gerrit: add a dry-run mode to rfc script
    
    With DRY_RUN=1, rfc.sh will not perform the git push just display
    the push command. This can be useful if one wants to give a final
    review for the submitted change list (check for typos, misplaced bug
    id-s) or if one is offline.
    
    Change-Id: I90e2016ba78e2a0ecf37044b3db0277a25914f77
    BUG: 3234
    Reviewed-on: http://review.gluster.com/87
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 434da60ba4ce9a2b47ea47a7790ce48a342de00a
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Jul 23 05:50:53 2011 +0200

    gerrit: some fixes for the rfc script
    
    In rebase_changes():
    
    - Using "--all" for git fetch is bogus: the scope of this quantification is not
      over the tracked refs of the upsteam repo (which we do want, but that kind
      of universal quantification is already implied by the notion of "tracking"),
      but over the set of all the registered remotes, which is an annoying side effect.
    
    - $EDITOR is weaker than the git configuration settings. For the purpose of the
      script, we need to override any kind of setting, and that can be done
      via $GIT_EDITOR.
    
    Cf. git-fetch(1), git-commit(1).
    
    Change-Id: Ia91ee5c4d42dce9248f26f7697528e3c97355871
    BUG: 3234
    Reviewed-on: http://review.gluster.com/86
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 2d29b67a63779ac7b115d214bb037c12b122cf2f
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Jul 19 09:05:54 2011 +0530

    glusterfsd: check for process mode before performing mount
    
    create_fuse_mount() now checks if it is a client process before performing
    mount. If not a client process, it returns an error.
    
    Added changes suggested
    
    Change-Id: If8548ad60d345bb8cd09686ceed0d83522799761
    BUG: 2469
    Reviewed-on: http://review.gluster.com/5
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 37b4b7ccad5a479ed2ce96598e902a12fd457bd5
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jul 20 12:21:12 2011 +0530

    debug/io-stats: allow log-level to be set to INFO
    
    Change-Id: Ieba6591b0641dcb7dad724c1d8199dc5e91b6bfd
    BUG: 3198
    Reviewed-on: http://review.gluster.com/43
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit c6053cac7794dfd9bf693e91cd76c2a45d7859eb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jul 20 12:35:14 2011 +0530

    debug/io-stats: print the time at which maximum fds were open in gluster top
    
    Change-Id: I257bc29945d5acf8fb316f396fb011a2ab652d7a
    BUG: 3076
    Reviewed-on: http://review.gluster.com/54
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Shishir Gowda <shishirng@gluster.com>

commit a7e38564ec859afc15274a0d9a16d6e04ed3f6e2
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 20 14:53:04 2011 +0530

    Top/Profile: Report error when all bricks are down on volume
    
    Profile - If all bricks are down, report errror.
    Top - If all bricks or the specified brick is down, report error.
    
    Change-Id: I39d4acd631b481233ab2e9f66c8f4160caef5762
    BUG: 2600
    Reviewed-on: http://review.gluster.com/63
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit 46afd33ebe184604443a695ebf8eaea8c2098443
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 19 21:08:14 2011 +0530

    glusterd rebalance: use lstat() instead of stat()
    
    so the symlinks pointing to directories are not considered
    as directories themself and the control flows outside
    gluster's scope
    
    Change-Id: Iae910ce6c68886d34ae6e5efe46062481b40cd25
    BUG: 3191
    Reviewed-on: http://review.gluster.com/30
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Anand Avati <avati@gluster.com>

commit e74bf1ae7d974ae3681818a0a6240adee5983323
Author: Kaushal M <kaushal@gluster.com>
Date:   Tue Jul 19 14:36:13 2011 +0530

    cli: modifications to "profile info" output
    
    Units are now shown for the latencies and duration
    Changed some text to be more meaningful
    
    Change-Id: I1891d6ac541421606dda30ed10f9b40b21e2fa52
    BUG: 3028
    Reviewed-on: http://review.gluster.com/18
    Tested-by: Gluster Build System <jenkins@build.gluster.com>
    Reviewed-by: Vikas Gorur <vikas.gluster@gmail.com>

commit 9e7f02aa79e889e4b91604ef84b5f948dc3787f9
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 18 17:13:54 2011 +0530

    news: note the move to gerrit
    
    Review changes incorporated
    
    Change-Id: I3d19a68ea22873a5fdd1a3cacea1ba37bf8dbd0f
    BUG: 1

commit fbe8cc85a10bf57689d836457cfb59c5c51554c7
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jul 18 16:06:59 2011 +0530

    s/Patchwork/Gerrit/
    
    Change-Id: I3d2e0c081cce5c69a6a168ddd0d850cdba84f53e

commit 15d2e7dd88f640c7e30989d37e735e37070119d8
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jul 18 15:47:05 2011 +0530

    fixed URL in README
    
    Change-Id: I2ce02b67ee844119f854a0a2e83b5ebeb036801a
    BUG: 1

commit 1357fa6fa07bc34248643d2b9a329bddc873b15a
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jul 18 14:54:25 2011 +0530

    Fixed URL in README
    
    Change-Id: I134e8d57b188025a115fcfc363009bb3893676a1
    BUG: 1

commit 0773f5a34e3b5c503674bceaa1902454fc841879
Author: Sachidananda <sac@gluster.com>
Date:   Sun Jul 17 08:10:29 2011 +0000

    Strip extra `/' from filenames.
    
    While peforming replace-brick, delete-brick, remove-brick... and related
    operations resolve extra slashes as single path separator. i.e treat /foo//bar//
    as /foo/bar.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3183 (When creating volumes brick paths are not handled properly.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3183

commit 613a6369d63e3ec87735a5427e4e87894f884749
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 11 03:13:34 2011 +0000

    mgmt/glusterd: allow add brick in pure replicate setup
    
    Currently in pure replicate if the replica count is 4 and there are
    4 bricks, then suppose 3 bricks are removed then add brick works only
    if 3 bricks are provided. Providing lesser bricks fails.
    This patch fixes that scenario.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1574 ([glusterfs-3.1.0qa18]: add-brick to a replicate volume fails if a brick is removed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1574

commit 273f898364463cd10165fc82c8c5250a0962c452
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 16 12:54:00 2011 +0000

    Canonicalize path names while creating volumes.
    
    When a volume is created resolve symbolic links, delete duplicate slashes in the
    path name.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3183 (When creating volumes brick paths are not handled properly.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3183

commit 260edb905171ebed3692eaeca404d13202cd5fd0
Author: Pranith K <pranithk@gluster.com>
Date:   Sat Jul 16 08:20:11 2011 +0000

    PUMP: set pump lk_owner,pid to frame->root
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3182 (Afr self-heal should happen with out big lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3182

commit b43038ee84839fa6b0e6aee037f7d952d8f52b6d
Author: Pranith K <pranithk@gluster.com>
Date:   Sat Jul 16 08:19:47 2011 +0000

    cluster/afr: Don't depend on fuse lk_owner for inodelks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3182 (Afr self-heal should happen with out big lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3182

commit 97807e75956a2d240282bc64fab1b71762de0546
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 06:31:47 2011 +0000

    storage/posix: Remove the interim fix that handles the gfid race
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2745 (failure to detect split brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2745

commit 61f68b31f24311d09f4d2a02968ff52fd7b5a73f
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 06:31:33 2011 +0000

    storage/posix: Succeed lookup even if there is no gfid on the file
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2745 (failure to detect split brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2745

commit 5dff9a2938c199285662bb5b33d7e3aeda0e3fb6
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 06:31:08 2011 +0000

    cluster/afr: Fix conflict files and gfid self-heal
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2745 (failure to detect split brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2745

commit 84c3d7a83a8c84ca11514202a1bc365026fd1c87
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 06:30:40 2011 +0000

    cluster/afr: Detect conflict/gfid self-heals
    
    Added some helper functions that can be reused
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2745 (failure to detect split brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2745

commit 10e50f9df6de9efccd66dc8b37c73c52569e3559
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 06:30:20 2011 +0000

    cluster/afr: make expunge/impunge re-usable
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2745 (failure to detect split brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2745

commit b0a3a3fda3f0993cd8c0e1b135bb569b6543e7c0
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 08:07:46 2011 +0000

    cluster/afr: Choose next call child from fresh-children for inode-read-fops
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2840 (files not getting self-healed when the first child goes down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2840

commit bfc0e16e43815ab6d6e67f4bd26694ebd72b3360
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jul 14 08:07:04 2011 +0000

    cluster/afr: Add fresh children along with read-child to inode context
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2840 (files not getting self-healed when the first child goes down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2840

commit 64b2a56ad0f8ddae9ece8696f7d50a3129c145a3
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Jun 27 03:10:23 2011 +0000

    cluster/afr: Move afr local alloc functions from header files to sources
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2840 (files not getting self-healed when the first child goes down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2840

commit bf8e3a864eafe7eef5795cd134f6c0d5812a4f17
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Jul 15 01:22:51 2011 +0000

    io-threads: Initialize mutex and cond
    
    Thanks to Emmanuel Dreyfus for sending out the fix.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3170 (Uninitialized mutex and cond in io-threads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3170

commit 1742383787355241d5aaa4b2bdd92d089ef2d508
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 15 01:05:16 2011 +0000

    posix: perform readdir filling in locked region
    
    When two application threads share an open dir fd (DIR *) and issue
    readdirs, storage/posix will receive separate readdir fops in separate
    threads in parallel. This has two-fold issues
    
    1. In the following pair of operations -
    
       entry = readdir(dir)
           and
       strcpy (gf_dirent->name, entry->d_name)
    
       @entry is a static buffer in libc which can get reused by another thread
       to get filled with a longer name. This can cause the second operation
       to overflow the buffer as the allocation was for the smaller name.
    
    2. In the following pair of operations -
    
       seekdir (dir, offset)
          and
       entry = readdir(dir)
    
       If two threads are executing these sequence in parallel in separate
       threads, then one of them will end up reading wrong/unexpected entries.
    
    It would be sufficient to fix 1. by using readdir_r but that still keeps
    the second race open. Hence the patch moves all the set of operations to a
    locked region which solves both races.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3171 (Crash in server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3171

commit f50e5eb7777ee31701f5d757ffa8de2c238b5e50
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Jun 20 07:59:27 2011 +0000

    Glusterd: IPV6 support for glusterfs.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2456 (IPv6 support for glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2456

commit ded0a9a2a0a9024def7a4b199ac3bbfa5d66485a
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 13 02:08:05 2011 +0000

    cluster/stripe: send the xattr keys with create/mknod itself.
    
    so stripe is more acl friendly
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3160 ([818f8c87d56bc46d0d0903275699351b66f17e57] Posix compliance test hangs during link tests in distributed-stripe.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3160

commit 5d7657c4b48a73305cf35986323121e7dfe92bef
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 12 05:20:10 2011 +0000

    storage/posix: make sure we are starting on a genuine backend
    
    also do the check in 'glusterd' to let the user know of the
    problems (if any) during the volume create/start time itself.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3065 (make sure the export directories are not re-used as part of another volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3065

commit 7f4f7765597a7f0daa5bca7c3bcb2479d7ed15bc
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 1 04:42:14 2011 +0000

    glusterd-rebalance: utilize distribute's internal rebalance feature
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3070 (After 'rebalance', the gfid of the file gets changed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3070

commit 8d18bc22d1cfc8a481bc8d20da5843c65b567226
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 1 04:41:54 2011 +0000

    distribute: bring in feature to do rebalance from inside
    
    do the 'rebalance' on a file with 'setxattr()' with
    'distribute.migrate-data' key. the valid 'value' is "force" or
    anything else.
    
    current implementation of 'rebalance' is same as 'glusterd-rebalance',
    and hence comes with limitation of not rebalancing hardlinks, non-regular
    files, and files with open-fds.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3070 (After 'rebalance', the gfid of the file gets changed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3070

commit 3f76fe277ec0a826bf3052134ad877ee65ce9e79
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 1 04:40:05 2011 +0000

    cluster/distribute: bring in directory-spread-count option
    
    global spread count option is given through volume file
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2257 (enhance distribute to control the spread count (ie, control the hashing range))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2257

commit 6cf06cfd4bf72b16ac7665323629d354b78b6b05
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 1 04:39:41 2011 +0000

    cluster/distribute: handle layout overlaps while giving a new fix
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit 05a1422bbd82a28ccf7fa7c17b357f8350508e6e
Author: Junaid <junaid@gluster.com>
Date:   Sun Jun 26 09:35:21 2011 +0000

    Revert "features/marker-quota: hold lock on dirty inode's parent while healing a dirty inode."
    
    This reverts commit cd2518b4ab627471db74d7f4a473416f318754db.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 9dd6f5a66b3d1ba703e55e06a26f1121ef96c1d4
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Jul 13 04:33:43 2011 +0000

    mgmt/Glusterd: Fix build warning
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit b5938787afbf3c24ee4fc995e72577f1369ceb7a
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Jul 13 04:33:42 2011 +0000

    io-stats: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 5c6fb46c64f2c8e51da2090dd554abfdbfd2b53e
Author: Kaushal M <kaushal@gluster.com>
Date:   Wed Jul 13 04:11:53 2011 +0000

    Changed error message displayed and logged, on rebalance failure
    
    Signed-off-by: Kaushal M <kaushal@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3106 (Rebalance start failure message is not appropriate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3106

commit c4da48f0dc9858e70555bf92374cb9e6a6f088b9
Author: Pavan <tcp@gluster.com>
Date:   Wed Jul 13 03:34:18 2011 +0000

    nfsrpc: Re-order NFS auth array contents
    
    Some NFS client implementations can default to AUTH_NULL given a certain order
    of auth_array in MOUNT reply. We re-order it here to make sure that such
    clients (Example - 2.6.26), do not have such security loop holes.
    
    Signed-off-by: Pavan T C <tcp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3144 (permissions given in fuse mount don't have effect in nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3144
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3144 (permissions given in fuse mount don't have effect in nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3144

commit c77014be787a1d8ff23923b53b39054da35785de
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 13 03:34:02 2011 +0000

    posix-acl: perform access checks on read/write/truncate for NFS calls
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit e27c4da87295a210e77ca13ff23a24078abc25c0
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:33:47 2011 +0000

    access-control: Handle F_OK in perm check, and O_APPEND, O_TRUNC in open
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit 4223545bdc67383e622d34ee878d3461ad4f63b0
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:33:26 2011 +0000

    DHT access: For nfs calls, op_ret is always 0, and mode is op_errno
    
    Return the values received from the subvol
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit e103ab41f3fd917e9a6df3d6113e2c4c3603b29b
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:32:53 2011 +0000

    NFS access control list: Decode the NFS requests into mode format
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 3057 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit 9388760b9aad1ae2512eb108a4ca6b5c8638ea07
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:32:41 2011 +0000

    access-control: NFS access control expects a return of valid mode
    
    The permission check is same as that of posix. We break the requests
    into single checks, aggregate all the valid modes and return in reply.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 3057 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit 9f2adc333dad1beb17b81bd55f5e32366320a4dc
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:32:02 2011 +0000

    access-control: Save group permissions returned from backend
    
    The backend permissions returned in stat for group is already masked
    value. Use the xattr value
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 3102 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3102
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3102 (Read calls go ahead even when the group has no permissions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3102

commit 843ffc77e0f1ba6cc1b2332f0a57e2fa339c9f4c
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 13 03:31:47 2011 +0000

    access-control: Return mode part of NFS access control request
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 3057 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit e89725cd62430addf09d9c1afbfb07d8c86b9ef0
Author: Rahul <rahul@gluster.com>
Date:   Tue Jul 12 13:47:51 2011 +0000

    Check type for a value greater than Distribute and not for stripe
    
    Signed-off-by: Rahul <rahul@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3161 ([818f8c87d56bc46d0d0903275699351b66f17e57] Volume type incorrect.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3161

commit 7c4ad6d3321cc440590a6132b7dc8d0d0a58ce3b
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 13 00:37:25 2011 +0000

    storage/posix: set all keys present in 'params' dict while creating an entry
    
    so, there is no need to do a 'setxattr()' after entry creation, which could now
    fail due to ACL on server side.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3164 (set xattr keys while entry creation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3164

commit 8b57a5c2fb16f2c85c0f74edbe7b841a6dc4a265
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:39 2011 +0000

    protocol/client: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit e312fb0ffaaf4e5bcf69dcebaabcbd3898ba8765
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:38 2011 +0000

    write-behind: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 2f457d1a6441903327b0da5e01f9cad186b13ef5
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:37 2011 +0000

    quick-read: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit aa9f9c3113009f136642e9bdedfcef6d04d85b44
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:36 2011 +0000

    io-threads: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 14426adfe61fde6c6e6367a6025f314046ed8aa5
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:35 2011 +0000

    io-cache: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit a3009537811b4343c86f13555717eef5e0ea2641
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:34 2011 +0000

    quota: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 61f4b2b5f10bc1f36c86dac5a9a9d640975dee11
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:32 2011 +0000

    stripe: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 6b40f3eba97c8aad653f0602754127f7ae5a9707
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:31 2011 +0000

    dht: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit e87432be87c37c36467a85e3d2c55970f8439915
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:30 2011 +0000

    afr: changes in volume_options to assist volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit 1d0cb953bb117689fb8381d65932ead486d13b05
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jul 12 05:33:29 2011 +0000

    mgmt/Glusterd: Implementation volume set help/help-xml
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2041 (volume set help option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2041

commit f9e0638b7597f4b1a4245f63c94d3d6bd3158136
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Jul 4 06:32:32 2011 +0000

    nfs: Change NFS3 access op to use access fop
    
    This change is needed so that we have a uniform dependence on
    posix-acl for permission checks as well as ACL checks.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3057 (acl permissions don't work on nfs mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3057

commit 43d6d33d35618eb684975d6f0d1263e25ae6466c
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jul 7 03:03:40 2011 +0000

    features/locks: Do not block UNLOCKs
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit e30c38b783c728182eb9cc478fabc7a7830c8efc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jul 6 08:35:14 2011 +0000

    mnt/fuse: generate uuids in fuse_lookup, not in fuse_lookup_resume.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3041 ([glusterfs-3.1.5qa2]: stat gives EINVAL)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3041

commit 67f6fc6156cb14875600cd7e44d937587196e3b3
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jul 4 02:27:06 2011 +0000

    glusterd: check replica_count for 0 before using it for volume creation in stripe replicate volume
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3123 ([a7cdaf3de307c96cb55219a0743962ee1e1fc955]: glusterd crashed when started)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3123

commit 4c55f76d6a4d13ec1ed3cffd31ff4acc3d3122f0
Author: Venky Shankar <venky@gluster.com>
Date:   Fri Jul 1 00:18:53 2011 +0000

    afr/stripe: collect pathinfo xattrs from all childs
    
    Signed-off-by: Venky Shankar <venky@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3046 (getxattr for afr should returns realpath from all childs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3046

commit 1a82b4539b69390dfb1a158c420385c7ad5d999f
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Jun 17 07:20:08 2011 +0000

    cluster/afr: Handle lookups when self-heal is off
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2586 (read child is set without checking the xattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2586

commit 9866f23b9b0ceb8be876600be9832987b8646540
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 8 02:56:03 2011 +0000

    mount.glusterfs: fix to handle the error cases better
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3085 (backupvolfile-server option doesn't work)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3085

commit 44f57f49309116de175a9c91c84fb7b8999a05ad
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 8 02:55:40 2011 +0000

    cluster/stripe: quick-read friendly behavior in lookup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3140 (contents of files are invalid after apply patch 7573)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3140

commit fcce7c289a0c27345404ab17e2cce6e8f5ad7fc9
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 8 02:55:20 2011 +0000

    cluster/stripe: cleanup and memory leak fixes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3140 (contents of files are invalid after apply patch 7573)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3140

commit fa1feca4172776ba4ae011ffa679a02055951e37
Author: Krishnan P <kp@gluster.com>
Date:   Tue Jul 12 02:31:05 2011 +0000

    server: Reassociating 'old' conn can lead to chaos.
    
    Since we moved to a single socket connection b/w client and server,
    inherting connection state is unnecessary and can sometimes be
    dangerous when clients reconnect even before the server detects
    a socket error on the old connection.
    
    Dirty detail: This reassociation results in 'ref count' not decreasing
    in tandem with the connection disconnects. This results in a resource
    leak.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3104 (Self-heal does not work in dis-rep!)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3104

commit 42e0b1731d925fd5a0bfaa107a2e01ba47fae125
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 12 05:29:25 2011 +0000

    cluster/distribute: send proper 'params' dictionary during linkfile creation
    
    when the code path enters the 'subvol_filled()' case, local->params is set,
    which contains the 'gfid-req' value, but the linkfile creation was not
    checking for its existance.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3159 (mknod (linkfile creation) with no 'gfid-req' key)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3159

commit 2c688714a2a081fc1be30febcd839caf8e201456
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 12 05:16:46 2011 +0000

    storage/posix: move the helper functions to separate file
    
    helper functions were more than 800 lines
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3158 (Keep code more readable and clean)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3158

commit 79f4135994e5051c711595c791d5831bdad24738
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 12 05:16:32 2011 +0000

    storage/posix: call 'gfid_heal()' instead of 'gfid_set()' in lookup()
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2994 ([glusterfs-3.2.1qa2]: untar and rm in parallel hangs untar)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2994

commit 818f8c87d56bc46d0d0903275699351b66f17e57
Author: Sachidananda <sac@gluster.com>
Date:   Mon Jul 11 05:37:39 2011 +0000

    Fail volume creation on existing directories of a read-only file system.
    
    Thanks to kp@ for the fix.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2609 (Error message not properly provided when trying to create a volume from a read-only source)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2609

commit 03df277c7880541570107bbaa7f91e5cf7ad5a69
Author: Krishnan P <kp@gluster.com>
Date:   Tue Jul 12 01:51:17 2011 +0000

    pump, afr: dict related memory fixes.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2489 (GlusterFS crashing with replace-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2489

commit 1f5119627b278b98518afb68a7eb88752932976c
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jul 12 02:11:59 2011 +0000

    cluster/dht: fix race between two directory renames
    
    let the race get arbitrated at the dst_hashed subvolume.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2522 ([glusterfs-3.1.3qa8]: rm -rf shows invalid argument)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2522

commit b894a5c79f93707149181a51bfab67fdbffcc43b
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jul 12 02:11:42 2011 +0000

    storage/posix: detect race in posix_rename()
    
    detect a race in rename between two clients by checking for
    reassigned gfid or presence of dir when not expecting.
    
    checks not necessary for rename of files.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2522 ([glusterfs-3.1.3qa8]: rm -rf shows invalid argument)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2522

commit a9080b7c706be4ac917866d73e70e36fd933b54d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jul 7 01:33:05 2011 +0000

    client-handshake: skip CHILD_DOWN notifications when client is querying port using different volume names in the presence of rdma.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3091 (rebalance fails with "transport endpoint not connected" in 3.2.1 rdma set-up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3091

commit e9c29f722776a91993403428cafdb2b7e1056bd8
Author: Junaid <junaid@gluster.com>
Date:   Thu Jun 23 03:20:09 2011 +0000

    debug/io-stats: Added sys-log-level option.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3044 (provide option to set syslog loglevel through CLI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3044

commit 089ae1b7299f2d30a7b56da0c700f42d7a0341d7
Author: Junaid <junaid@gluster.com>
Date:   Thu Jun 23 03:19:15 2011 +0000

    mgmt/glusterd: Make glusterd aware of sys-log-level options.
    
    There are two options:
      * brick-sys-log-level
      * client-sys-log-level
    Which set the log-level on brick and client respectively. Uset
    
      gluster volume set <volname> <brick|client>-sys-log-level value
    
    to set the option.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3044 (provide option to set syslog loglevel through CLI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3044

commit ae5f7c2c1d88cee0029c555f2416fe7c998cc1c2
Author: Junaid <junaid@gluster.com>
Date:   Wed Jun 29 03:13:56 2011 +0000

    libglusterfs/logging: Added functions to set sys-log-level.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3044 (provide option to set syslog loglevel through CLI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3044

commit e9d960391794db917bd3e984c8dc3fd7e3cec706
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jun 1 08:00:03 2011 +0000

    quota: update limit stored in inode-ctx when limit is removed on a directory.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2971 (quota remove command doesn't remove quota on directories.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2971

commit cf395e9af76de16162328fbcf0aef4e8c72adfb8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jun 22 02:35:58 2011 +0000

    fuse: fix inode-leaks in fuse_lookup_and_resume codepath.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2525 ([glusterfs-3.1.3qa8]: inode leak in rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2525

commit b320532ca74643108df399663e3c002af3e0e219
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jul 6 02:18:49 2011 +0000

    fd: put the fd back to fd_mem_pool of inode table instead of freeing in case of failure
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3103 (memleak in inode table creation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3103

commit 500813986241a8b5f6ff0658f4471a8f58e6c48e
Author: Vishwanath <vishwanath@gluster.com>
Date:   Fri Jul 1 07:39:21 2011 +0000

    remove hardcoding of transport type to "tcp" while generating vol files in replace-brick
    
    Please ingore previous patch for this. Please consider this one.
    
    Signed-off-by: Vishwanath S Bhat <vishwanath@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>

commit a36225a984240629a906608c85a9ac7e432aacfe
Author: Rahul <rahul@gluster.com>
Date:   Fri Jul 1 05:53:10 2011 +0000

    Fixes missing ".." entry in the mount point
    
    Signed-off-by: Rahul <rahul@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3097 ([b7aeaa619b82509fbe8d187bbc1618cb319d6877] ".." entry in mount point missing.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3097

commit bf4a7bed6420377aac26693f450a450bc54d005c
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 27 07:59:52 2011 +0000

    libglusterfs/syncop: add more functions
    
    do proper 'ref's and implement 'write()' and 'ftruncate()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3081 (synchronous operations should be enhanced)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3081

commit a879613637f54a7a2016549b308b359b7577b5ad
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jul 5 23:08:40 2011 +0000

    cli: Exit if glusterd is not operational in non-prompt modes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3120 (Provide connection timeout between cli and glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3120

commit 8f14d85777c93277403bcac727c0447dcba3cdc0
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:19:39 2011 +0000

    mount.glusterfs: support -o acl parameter
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 57b3b7e62487eef4c534e3fe65f954cf5d6d0ce4
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:19:29 2011 +0000

    glusterfs: add --acl command line option to load ACLs on the client side
    
    also set the turn off filtering of ACL keys in FUSE xattr FOPs.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 4b643cfa8847be71bb381b5a8a1a420837722e51
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:19:15 2011 +0000

    access-control: superseded by posix-acl translator
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 04ed499a8eef1c77c491227941d187778fb5c2e4
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:18:10 2011 +0000

    posix-acl: implementation of POSIX ACL as a translator
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 6433214452c5d8d3ae63c5f4f578862be348ca63
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:18:04 2011 +0000

    storage/posix: set ACL keys during new entry/inode creations
    
    honor "system.posix_acl_access" and "system.posix_acl_default" keys in
    params dict to setxattr into the backend while creating new entry/inodes
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 54aaf46e5b6e95fe9df257728b76f67bdb5dd17c
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 8 03:23:08 2011 +0000

    fuse: introduce "noacl" option to disable ACL checks
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 8af1177029b7103ba84bc59eb58d7c5c8635e6cd
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:17:11 2011 +0000

    fuse: fill frame->root->groups with aux gids of the process
    
    Pick the groups in /proc/<pid>/status from the line starting
    with "Groups: " by parsing the list of integers which follow
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 14d65cb9e0c6f5a6176014701c86760a392d3a44
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:17:04 2011 +0000

    dht: set linkto xattr with linkfile create (mknod)
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit 1a70453c6501e149cd415f5f11048cf44e526d6c
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 1 17:16:50 2011 +0000

    byte-order: htole*/letoh* and htobe*/betoh* for forced endian conversions
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2815 (Server-enforced ACLs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2815

commit a40c52707762258eddb35a63ee1f78bc4e0a52dd
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jul 6 03:10:05 2011 +0000

    dht disk usage: Correct free blk calculation
    
    Use f_bavial instead of f_bfree for %free calculation
    This fixes mismatch of df output wrt backend and glusterfs
    
    where: f_bfree = /* # free blocks */
           f_bavail; /* free blocks avail to non-superuser */
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3084 (Correcting percent calculation of disk space)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3084

commit a7cdaf3de307c96cb55219a0743962ee1e1fc955
Author: Junaid <junaid@gluster.com>
Date:   Fri Jul 1 05:17:42 2011 +0000

    features/marker-quota: call stack destroy when hardlink count is not greater 1.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit ac683df2322123472ba52dbeecb9cd5512ecc58c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Jul 1 00:12:35 2011 +0000

    mnt/fuse: Do a pthread_cond_broadcast for both CHILD_UP and CHILD_DOWN events.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3091 (rebalance fails with "transport endpoint not connected" in 3.2.1 rdma set-up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3091

commit a21c3bb99e5ad59e8e9ec0a050ce8617ce3fe167
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Jun 30 06:59:12 2011 +0000

    inode table: avoid memleak by freeing the allocated structures incase of failure
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3103 (memleak in inode table creation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3103

commit 64316c419f013464641b84900acc0ff4eeeaf2ae
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jun 30 03:20:31 2011 +0000

    rpc-transport/rdma: call ibv_fork_init to make rdma work with fork.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3091 (rebalance fails with "transport endpoint not connected" in 3.2.1 rdma set-up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3091

commit ea6763a5b956c29f4c1862ed355398631ff4a9cc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jun 30 03:20:50 2011 +0000

    mount/fuse: wait till CHILD_UP event is recieved to do the first lookup.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3091 (rebalance fails with "transport endpoint not connected" in 3.2.1 rdma set-up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3091

commit 935d7744674ec961dd967133721de1429460c91f
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jun 23 01:12:48 2011 +0000

    cluster/afr: fix the range of the lock taken in [f]truncate
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3077 (afr [f]truncate locks wrong region in transaction)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3077

commit 91086a2a7dcbfa30cdb5c188e9268ae4379bd28e
Author: Junaid <junaid@gluster.com>
Date:   Tue Jun 28 03:01:12 2011 +0000

    mgmt/glusterd: return 0 when glusterd_op_get_ctx fails on other glusterd's.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3078 (Quota: list comamnd fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3078

commit 41650a8c03ad86bcebe8c595ab9e7f13ec899a4f
Author: Junaid <junaid@gluster.com>
Date:   Thu Jun 30 00:46:20 2011 +0000

    features/marker-quota: Change the log-level of gf_log to debug in quota_inodelk_cbk().
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 7388f9f5910c0c69039a1476d902b48dda98b394
Author: Junaid <junaid@gluster.com>
Date:   Wed Jun 29 20:41:27 2011 +0000

    mgmt/glusterd: 'Quota' use quota-crawl.log to store logs of maintainence mount.
    
    Allow to set limits even when quota is disabled.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2620 (CLI improvements in quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2620

commit 7cd21dec47426e32be9f4548f4ec716b0575867e
Author: Junaid <junaid@gluster.com>
Date:   Wed Jun 29 20:41:17 2011 +0000

    cli: 'Quota' use quota-list.log to store logs of maintainance mount.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2620 (CLI improvements in quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2620

commit b7aeaa619b82509fbe8d187bbc1618cb319d6877
Author: Junaid <junaid@gluster.com>
Date:   Mon Jun 20 07:11:47 2011 +0000

    features/marker-quota: Skip contribution creation on root.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 83d1f9642e7310f085caaeb0c5b72a88c445d31b
Author: Vishwanath <vishwanath@gluster.com>
Date:   Thu Jun 23 05:41:39 2011 +0000

    spelling corrections in glusterfs code
    
    Signed-off-by: Vishwanath S Bhat <vishwanath@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2903 (Last spelling errors in source code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2903

commit a846faead3d416d9af75106694e85a776f7d07a8
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 22 23:23:06 2011 +0000

    distribute: handle 'fix.layout' key in setxattr() instead of getxattr()
    
    as 'fix.layout' command does changes to directory layout, its not a
    'read/get' type of operation, and hence as per the symantics, it suits
    setxattr() better
    
    also fix a memory leak in getxattr(), where 'local' was allocated twice
    in few cases
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3075 (the 'fix.layout' command should happen through 'setxattr', not getxattr().)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3075

commit 308668c055b542724d226a3b7a835e7ea06082ed
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 23 08:07:23 2011 +0000

    libglusterfs: added syncop_* functions
    
    * implemented open,close,readv,writev,listxattr,create,unlink
    
    * also fixed a dictionary ref issue with lookup_cbk
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3081 (synchronous operations should be enhanced)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3081

commit f948a24e51e447642c35bff881057f306768a5e0
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 23 01:51:47 2011 +0000

    bring in strict check on export directory being re-used for different volume
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3065 (make sure the export directories are not re-used as part of another volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3065

commit 89452c4db44966bb80601c73c3b835d002af9fd5
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 23:42:53 2011 +0000

    gluster volume info: fix the output of 'stripe-replicated' volumes
    
    also fix the glusterd-store to preserve the required information
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3040 (need a way to create volumes with 'stripe+replicate' setup..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3040

commit c9854677fcd5a0a68e885cc18b6d9d6d92218f23
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 21 04:56:41 2011 +0000

    gluster volume create: option for stripe + replicate volume
    
    So RAID01 like option is a possibility
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3040 (need a way to create volumes with 'stripe+replicate' setup..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3040

commit 0d87bfca5c9a95977215599d5800e751ec8f2205
Author: Sachidananda <sac@gluster.com>
Date:   Wed Jun 22 05:57:06 2011 +0000

    Fix typos in manpages.
    
    Thanks to: Patrick Matth?i <pmatthaei@debian.org> for patches.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2902 (Errors in manpages)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2902

commit d7642fb9bc13bb9c2da35bd8e80c311d5fc5096c
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Jun 22 04:24:58 2011 +0000

    Stripe selfheal: Prevent spurious STACK_DESTROY call
    
    The stack is destroyed in the cbk
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3056 ([4597929cc527f8abaf9ef9e1d5499ea416e5c7ff] Crash in client at client3_1_mknod_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3056

commit 9123fd82ab1946ed6f2c3d025043da1183d84d31
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jun 22 02:51:50 2011 +0000

    fuse: consider a lookup as revalidate even if the inode is present in new graph.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3041 ([glusterfs-3.1.5qa2]: stat gives EINVAL)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3041

commit 305b40239fda0b01537f05f94c3184e9523594c4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jun 21 05:07:04 2011 +0000

    performance/quick-read: Perform error handling only when GF_CALLOC fails
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3011 (Uninterruptible processes writing(reading ? ) to/from glusterfs share)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3011

commit f63dabd5d68a0904967705937380fed1eb9c99cf
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jun 21 03:22:09 2011 +0000

    Stripe lookup: aggregate xattrs
    
    stripe default setxattr works on first child. If the first cbk is
    not the first child, then we were loosing the xattrs.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3066 (aggregate xattrs in stripe lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3066

commit 1d85e0dc80c19645f924c8fcbbb32c53ef09e701
Author: Junaid <junaid@gluster.com>
Date:   Tue Jun 21 00:51:25 2011 +0000

    mgmt/glusterd: Enable quota only when volume is started.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2620 (CLI improvements in quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2620

commit 71a13f09978dc3858b9dd2771f605582e0c2e0dd
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Jun 20 08:32:59 2011 +0000

    NFS : Pass valid argument in mnt3svc_dump.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2692 (NFS server crashes on showmount -a)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2692

commit 8c24158f2bda14e9debcc2f4ccde53aa9629c2b7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Jun 20 01:46:07 2011 +0000

    performance/quick-read: reset open_in_transit to zero in case of an error.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3011 (Uninterruptible processes writing(reading ? ) to/from glusterfs share)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3011

commit 608b22609793549eb8e8e2b2899af2d1ff5c193c
Author: Krishnan P <kp@gluster.com>
Date:   Mon Jun 20 01:01:20 2011 +0000

    pump: mark pending before notify to children to avoid race in single CPU.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3050 ('replace-brick' hangs on vm's)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3050

commit 96ae0db506f43ceed0d3346d0351b1bb73b0b19c
Author: Junaid <junaid@gluster.com>
Date:   Sun Jun 19 23:41:25 2011 +0000

    features/quota: Print a log when reconfigure fails.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2775 (crash in reconfigure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2775

commit 1748b0c7925fa2165cbf11c4aab90e07bff7d4cb
Author: Krishnan P <kp@gluster.com>
Date:   Mon Jun 20 00:56:10 2011 +0000

    afr: bg self-heal must be off if self-heal-count=0.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3036 (self-heal problem in replace-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3036

commit b64dd21f05016065e0b825db62da87981554df88
Author: Sachidananda <sac@gluster.com>
Date:   Sun Jun 19 12:51:45 2011 +0000

    Fix the command line log to display correct error message.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3054 (Typo in cli message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3054

commit d4df768b6efff0da2931396b8b9b28c5174e4d7a
Author: Sachidananda <sac@gluster.com>
Date:   Sun Jun 19 11:07:31 2011 +0000

    Print error message to report missing mount point.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3053 (No proper error is shown when the mount point is not present)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3053

commit 58cf35b353f5a9fedfddd6da2f5811c58f1be3cc
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Apr 7 01:42:33 2011 +0000

    CLI : Display possible options in proper format.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2598 (Volume access option suceeds with any string value)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2598

commit 2f07f751bf69a196df85d3e715c0ad1a7a26419c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed May 11 02:42:21 2011 +0000

    extras: Add quota-related debugging scripts.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit e2685adcb71b30621e34905584910390e0b248e1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri May 27 01:17:12 2011 +0000

    print the owner and the transport for the blocked locks in server statedump
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2949 (self-heal hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2949

commit 4c81f6268d254f452b861bcd63608982c3ddb560
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jun 18 03:53:46 2011 +0000

    stack: make process state dump more debug friendly
    
    store points of stack wind and unwind (function names) for each
    frame and dump them in process state dump
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 50001216d26a16736691ab06758049c22e664936
Author: Junaid <junaid@gluster.com>
Date:   Wed Jun 15 02:41:36 2011 +0000

    cli: Print the error message sent by glusterd when quota list cmd fails.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2856 ([glusterfs-3.2]: Misleading 'quota remove' output.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2856

commit 4e1ec35ef4f7bbf70c3e08e7c246946551f19e93
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 07:48:22 2011 +0000

    core: fill 'ia_ino' from 'ia_gfid' in 'storage/posix' to preserve same ino number
    
    take the least significant 64bit from gfid and assign it to 'ia_ino',
    hence for a given file (or directory), the 'ia_ino' number is always
    same, and we need not worry about the 'itransform' in 'cluster/*'
    translators.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3042 (inode number should be constant on storage)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3042

commit f04898973f15cfa13fcf39a903786983885352bc
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Jun 10 00:34:10 2011 +0000

    cluster/afr: Give proper device id for mknod
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2840 (files not getting self-healed when the first child goes down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2840

commit 17d3a0fc214c347d9e0a6cc4855302a41a09b535
Author: Junaid <junaid@gluster.com>
Date:   Thu Jun 16 21:57:40 2011 +0000

    mgmt/glusterd: chdir into mount in second child process while crawling the fs in quota enable.
    
    Because the management mount is waiting for glusterd's response and glusterd is
    doing waitpid on the child which is trying to do chdir into mount, thus causing
    a deadlock situation.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2560 (Lazy umount should be done for the maintainance mode mountpoint)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2560

commit 0101eb0b6444dc22860d8fdc82170aefa87ff0b3
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 06:43:12 2011 +0000

    logging: fill proper domain names at places where it is missing
    
    also changed some error messages where it was not explicit
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 25e8700721a71128c9f6143dc2effcdbcee692fc
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 05:30:05 2011 +0000

    gluster rebalance: handle the migration of files with 'holes'.
    
    treat a block (512bytes) of '0' as hole too (something like 'rsync')
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit e3a061d6fa5f436fe37493b7257860014ae75950
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 07:39:43 2011 +0000

    gluster rebalance: bring in a 'force' option
    
    * also correct the free space available logic to check the size
      without the file in migration (this considers the sparse files too)
    
    * 'force' option will bypass the free-space check logic, hence will
      cleanup all the linkfile
    
    * 'force' option is valid only with 'migrate-data' option
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit 442f64a83bd2c5da085bc6dc50533df2d483be3b
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 16 04:36:46 2011 +0000

    build: fixes to work on solaris
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3002 (build issues on solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3002

commit 41263d553f25e4f59d2751e7e3b2a23b264370f8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:56:01 2011 +0000

    features/marker-quota: use contribution value to reduce parent's size, if the value to be subtracted is not passed as argument to reduce_parent_size.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit cd2518b4ab627471db74d7f4a473416f318754db
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:55:51 2011 +0000

    features/marker-quota: hold lock on dirty inode's parent while healing a dirty inode.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 1040e5149c90e5452c4e86bec5763c392840d160
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Jun 14 23:55:40 2011 +0000

    features/marker-quota: hold parent inodelk during creation of xattrs on directory.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 5c1c571ad6582142772351e4c106a5b1182a77bc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:55:30 2011 +0000

    features/marker-quota: check for refcount being zero holding lock in quota_local_unref.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit d773462f7c6d1c3c81fa691fc5911641c5bf4394
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:55:21 2011 +0000

    features/marker-quota: wipe parent_loc in marker_local_unref.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 1bdf3cdb86209af56c415151863d6cf67290944a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:55:09 2011 +0000

    marker-quota/rename: use contribution values from backend instead of in-memory while reducing parent sizes during rename
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 7e598e4baa1952d407c1edab329e01634fe719c4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:55:00 2011 +0000

    features/marker-quota: use mutexes while accessing contribution values.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit acbf2d5dd4782c4236373237d73980163936d17c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:54:47 2011 +0000

    features/marker: fixes in dirty inode self-heal codepath.
    
    - fix fd-leak of fd opened on the directory.
      - don't add (instead just assign) next offset at which readdir has to be sent
        to local->d_off.
      - assign to local->d_off before winding lookup call to get child contribution.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit c4c0f7cd9b951bf0f201fa6a52eaebfd4b86c45b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:54:36 2011 +0000

    libglusterfs/call-stub: Allow unwinding of frames for rename during call_resume_unwind.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 8dac046fb727995aca517cceadcc5c59efc8c3f2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:54:27 2011 +0000

    features/marker-quota: performance optimization.
    
    - abort updation process if delta is zero.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit a87555181d47522e985325c67b7d17c49dbd38de
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 23:54:16 2011 +0000

    features/marker-quota: fixes in rename path.
    
    - remove xattrs from newpath after rename is complete.
      - hold inodelk on both parents (if they are different) before doing rename and
        gather contribution values of oldpath and newpath to their parents while still
        holding the locks. Use these contribution values to reduce parent sizes.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 01d67311c83ae272f3ee3632c1e8f13ccebaca81
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jun 9 00:00:10 2011 +0000

    features/quota: after validation on a path, reset variable just_validated to zero before checking the size of parent.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2741 (Quota: new files not getting created even if space is available)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2741

commit 9d2b83aaecd66c161863379be3ec22d45ffbe4fb
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Jun 15 06:17:44 2011 +0000

    PUMP: perform opendir on pump xlator instead of its child
    
    When replace-brick is performed, there is a high probability for the
    directories on the source brick to not have any pending entry xattrs.
    So for proper self-heal we need the force merge to kick in.
    If the opendir is performed on pump xlator directory is examined and
    if the entries on its children do not match then force merge is
    triggered, so missing entries will be created on the sink.
    Pending xattrs are set from source to sink on the files present on
    source in this process. So when the lookup happens the self-heal
    is triggered.
    
         Before this fix, the code is working because the self-heal source is
    decided based on what file is biggest in size which is a wrong and
    removed.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2586 (read child is set without checking the xattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2586

commit 1b70ee9a2e469d2d970abf8e07c1c522c8bdc1df
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jun 10 06:56:49 2011 +0000

    cluster/distribute: remove the unused variable from 'conf'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3013 (error in the log file upon taking the statedump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3013

commit e1aa1e0e20e32e30284c5ffc1add92aebaaaf87e
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 9 00:15:59 2011 +0000

    rdma: fix the excessive logs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit a7a2b8218958579006778b1200a0e40125291e0f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 8 23:37:46 2011 +0000

    build warning fixes
    
    mainly fixes all the sockaddr related 'strict aliasing' warnings
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2550 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2550

commit e719518e561033af0ffd07d0c8ad7d777715fe89
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 8 23:37:22 2011 +0000

    fixing some build issues in Mac OS X
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2966 (MacOSX compile failure: duplicate symbol _k)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2966

commit dad63fa8ac00397e337f328b0bb7b641e2680932
Author: Sachidananda <sac@gluster.com>
Date:   Thu Jun 16 07:56:33 2011 +0000

    Update man pages to include newer options.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2444 (keep man pages upto date with new codebase.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2444

commit 1d4378e0e78309682c13d0fc0c97c3c3bb6674b7
Author: Krishnan P <kp@gluster.com>
Date:   Thu Jun 16 01:28:28 2011 +0000

    pump: cleanup xattrs on both commit and abort path.
    
    This change makes glusterd to send a setxattr command
    for replace-brick commit operation similar to abort.
    
    Earlier we could commit even before the 'migration'
    of data was complete, with this change we fail that
    operation.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3033 (Changes to replace-brick and syntask interface.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3033

commit 4e6f6408b0e177dcdc0b19561bbaab6b7e26c23a
Author: Krishnan P <kp@gluster.com>
Date:   Thu Jun 16 01:27:42 2011 +0000

    glusterd: do_operation_abort and then kill dst_brick.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3033 (Changes to replace-brick and syntask interface.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3033

commit 87508c1edc7b8f4a88b2506ac642e878b1f2ac16
Author: Krishnan P <kp@gluster.com>
Date:   Thu Jun 16 01:26:55 2011 +0000

    afr: holding stack var via dict_set_static_bin corrupts.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3033 (Changes to replace-brick and syntask interface.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3033

commit 84fe7114833aed4efc31a1beaf7fcff0124c0ab4
Author: Krishnan P <kp@gluster.com>
Date:   Thu Jun 16 01:26:00 2011 +0000

    syncop: Modified to accept one 'non-frame' arg.
    
    Earlier syncops used to accept one argument which
    was a call frame to carry out the fops synchronously.
    Now we have two args passed to synctask function, one
    call frame and another void pointer.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3033 (Changes to replace-brick and syntask interface.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3033

commit 3f2c74a941f34b29dd92e4754d01ebea9db42218
Author: Sachidananda <sac@gluster.com>
Date:   Thu Jun 16 01:21:25 2011 +0000

    Delete/correct deprecated options in sample vol files.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3031 (Fix share/{doc,man} directory)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3031

commit 8791651c43337c081d684c04c4018c2c3eb56ac5
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jun 15 23:52:48 2011 +0000

    features/locks: check for inodelk lists and blocked inodelks instead of entrylk in inodelk.c
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3032 (entrylks are checked instead of inodelks while checking the blocked inodelks conflict)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3032

commit 4566fb78c16948f91e7d5b1934d8722b51508053
Author: Sachidananda <sac@gluster.com>
Date:   Wed Jun 15 06:54:22 2011 +0000

    Bring `examples' directory upto date.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3031 (Fix share/{doc,man} directory)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3031

commit 4ba661f5989db0148c7c1f4631645f932a99fe56
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Jun 14 12:31:07 2011 +0000

    features/locks:update the refcount while releasing a lock
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3025 (open lock and close leads to memleak)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3025

commit 9e59ce6d30f4ffd3dc7fb88c29fbd0ea79b9de28
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:42:10 2011 +0000

    performance-translators: print path to file while dumping fdctx.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 90117ca1c28b54845d617cdba0887d6453f875a4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:41:56 2011 +0000

    performance/read-ahead: dump pages in read-ahead cache.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit aae8ad0cf080ff3e4f704f3bcccef39a07cabb05
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:41:36 2011 +0000

    performance/stat-prefetch: dump cache and list of ops waiting for lookup completion.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit e8f67179ca60eb81a4b1fa92e37bd0eb6213d659
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:41:24 2011 +0000

    rbthashtable: implement traverser procedure.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 72d56ff2a8bd0eacfa8036f7583fc0dd4de460d0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:41:11 2011 +0000

    libglusterfs/inode.c: Add version of inode_path which can be called holding inode->lock.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 837f172e8775c908cb90c14a956ed010d468a0ad
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:40:58 2011 +0000

    performance/quick-read: dump inode and fdctx during statedump.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit dd4a0d45a91104117c0ad5de85deaabe6df88677
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 14 01:40:45 2011 +0000

    performance/io-cache: print cache information during state dump.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 1f14a1fccd5a8eed92936d9910d4b9a45ca1b56c
Author: Junaid <junaid@gluster.com>
Date:   Tue Jun 14 03:28:59 2011 +0000

    cli: 'QUOTA' Display the limit-set and size of the directory in KB, MB, etc
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2829 (Display the quota limit as it is configured)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2829

commit 6ae674eef777fda74191e2186d95778b9d5671f3
Author: Junaid <junaid@gluster.com>
Date:   Tue Jun 14 03:28:40 2011 +0000

    libglusterfs/common-utils: Added gf_uint64_2human_readable function.
    
    This function converts the given number to its corresponding representation in
    KB, MB, etc.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2829 (Display the quota limit as it is configured)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2829

commit a383d5b22aae9837f5609f304ee0488bcf8bafba
Author: Junaid <junaid@gluster.com>
Date:   Tue Jun 14 03:44:30 2011 +0000

    mgmt/glusterd: Set the generic options in the graph before merging it with the parent graph while building nfs-server volfile.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 3003 (Modification of one of the options of volume is reflected in all the volumes in the nfs-server-volfile)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=3003

commit 4a95dd213c039834c958bc1e3845037aa87fcde2
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Mar 21 05:35:06 2011 +0000

    Prevent spurious getxattr for gfid-req in posix_lookup
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2570 (getxattr failed msgs seen in log when log-level is DEBUG)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2570

commit 2a2060359a6991e310e6532376273bccb9cfbadc
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Apr 12 05:19:22 2011 +0000

    DHT: check for mis-matching user xattrs
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2717 (Detect user_xattr mismatches for dir's)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2717

commit b81ab76a2b3163b9326c5c024c7dc5f51e6ae868
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 1 04:51:08 2011 +0000

    gluster rebalance: fix the mount command string
    
    error creeped in while bringing in 'runner' options
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit c31eb96811e6e99f79466fdf9c1dbb0c6fb00f7f
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Mon Mar 21 04:32:26 2011 +0000

    removed unused old sample files
    
    Signed-off-by: Lakshmipathi.G <lakshmipathi@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2552 (remove  old sample vol.files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2552

commit 1b8376013d2358a50bd7487e1abaa377d51ec4e6
Author: Junaid <junaid@gluster.com>
Date:   Mon May 30 09:18:23 2011 +0000

    cli: Display a warning upon disabling quota.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2912 (Display warning upon disable quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2912

commit f87ec977c2c6bf8c562c11ad72069648beb6d8cd
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Jun 10 05:11:51 2011 +0000

    DHT selheal dir: Recreate dirs with correct gfid.
    
    When selfheal of dir is triggered, make sure the dirs are recreated
    with the correct gfid, to prevent mismatch of gfids in the backend.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2994 ([glusterfs-3.2.1qa2]: untar and rm in parallel hangs untar)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2994

commit 89e277a5deb2cd5191106119e91bf285a5b74e51
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jun 10 04:37:14 2011 +0000

    cluster/afr: propagate proper errno returned by lock fops
    
    If locks could not be held on any of the servers, then propagate the
    errno returned by the lock FOPs instead of hardcoding EAGAIN/EINVAL.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2993 ([glusterfs-3.2.0qa2]: hang while doing the selfheal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2993

commit 42c85439fe470a8cb4eb82944cb5ed094b740f8e
Author: Anand Avati <avati@gluster.com>
Date:   Thu Jun 9 02:32:01 2011 +0000

    cluster/dht: use GFID returned from hashed subvolume
    
    .. to perform lookups on remaining subvolumes. This way, if there is a
    race between two clients to 'fix' GFIDs with gfid-req, then the hashed
    subvolume will arbitrate and return the winner in stbuf->ia_gfid. This
    patch uses the returned gfid as the new gfid-req thereby preventing
    mismatching GFIDs on other servers due to further races.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2522 ([glusterfs-3.1.3qa8]: rm -rf shows invalid argument)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2522

commit 29397bda249d8d3f93dd6ee5c449b3590dbaf15e
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Tue Jun 7 03:47:11 2011 +0000

    build : use pid file to kill nfs process
    
    Signed-off-by: Lakshmipathi.G <lakshmipathi@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2969 (add --pidfile option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2969

commit 2b53a40350afa4dd9e0d77502700cdee0299766c
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 8 09:29:21 2011 +0000

    rpc-transport/rdma: don't return '0' in case of un-initiated rdma_connect()
    
    needed to handle the re-configuration of the port in client protocol. If
    there is a successful 'connect()' after the query port, the remote-port
    value gets reset to '0'. In this case, if the connect() return 0 for
    already connected socket, the query_portmap will keep happening in a loop.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit d9db06e6ca108cada080de93d3cc25ba2b14becb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jun 8 09:29:06 2011 +0000

    nfs:command to change the transport type of nfs server for volumes of transport tcp, rdma
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit 19f375da5b43f940131623b2f33675aa2b3f5c8a
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 8 09:28:49 2011 +0000

    fix multiple transport portmap issues in client handshake
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit fe4eb7c3ac96218fe151633c5ccd34b7c0bea783
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 8 09:28:23 2011 +0000

    glusterd-volgen: fix rdma volume file path in case of 'tcp, rdma' transport.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit aa9a6bc1bfd87aa70018dc6acc90fb94cba811c6
Author: Gaurav <gaurav@gluster.com>
Date:   Wed Jun 8 05:59:03 2011 +0000

    NFS : Don't set setattr_valid for exclusive create call.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit a9fd99f0d0206d4951aa50630b7921a50523bf23
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Jun 2 04:39:27 2011 +0000

    cluster/stripe: check if key is a valid ptr. before dereferncing
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2978 (Geo-replication fails on stripe(Master) setup.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2978

commit ddb2505383441b0bf41e31c13f90420f5d14d1dc
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Mon Jun 6 04:11:19 2011 +0000

    rpmbuild : restart glusterd after installing geo-replication rpm
    
    Signed-off-by: Lakshmipathi.G <lakshmipathi@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2901 (Cannot start geo-replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2901

commit d11c17b8dae415f0f5c9af2cd4ec3423419ff996
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Jun 3 01:05:32 2011 +0000

    protocol/server: logging changes
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2982 ([glusterfs-3.2.1qa2]: logging changes is server protocol)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2982

commit 2c421f21040e1f9273cb9850c95756d3a4ca91af
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 2 02:59:07 2011 +0000

    performance/io-cache: fix the check of min and max file size.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2974 (volume set for 'cache-min-file-size' succeeds even if 'min-file size' is greater than 'max-file-size')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2974

commit 7959e867632baad702d1d5c8dc4fc4854d17e3e1
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Jun 6 04:22:47 2011 +0000

    glusterd: replace brick status grows with dir tree.
    
    replace-brick status message's size can grow long with
    deep directory trees.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2489 (GlusterFS crashing with replace-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2489

commit 125fc0ca98332cd20917daab0a170342b7f5e156
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Mon Jun 6 04:22:46 2011 +0000

    syncop: Increase stack size for deep call stack.
    
    pump performs a depth-first traversal of directories using the
    syncop stack and this necessitates a larger stack when handling
    deeper directory trees.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2489 (GlusterFS crashing with replace-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2489

commit e45c3e22a13332253fcc89ea528a4d77aa9ecc0f
Author: Junaid <junaid@gluster.com>
Date:   Mon Jun 6 22:36:43 2011 +0000

    mgmt/glusterd: Updated the error messages sent on cli quota command failure.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2856 ([glusterfs-3.2]: Misleading 'quota remove' output.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2856

commit 99588612db403dffdb6380ceaaec1a8b10a3be5d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jun 6 03:10:39 2011 +0000

    cluster/afr: Log errors in afr self-heal with GF_LOG_ERROR
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2986 (Failed operations should should be logged `E' or `W')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2986

commit c997393c8a546e28648d56d2e86651f4bb4b38d8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jun 6 03:10:38 2011 +0000

    protocol/client: Change log level of error to GF_LOG_ERROR
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2986 (Failed operations should should be logged `E' or `W')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2986

commit 1c034335054090c7dd967ea21a234c1dd8e78c9c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jun 1 00:31:07 2011 +0000

    cli: fix the build warning message
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2944 (warnings in cli_out)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2944

commit 197d850ff62ddcb266e3a9fab30ce753bf123540
Author: Gaurav <gaurav@gluster.com>
Date:   Tue May 31 23:40:27 2011 +0000

    NFS : Handle buffer overflow in nfs3_create_exclusive.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2972 (Buffer overflow in nfs3_create_exclusive.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2972

commit 37b562b1605f900927494ec501dff4190eb26097
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri May 27 04:28:15 2011 +0000

    glusterd: add upgrade/downgrade xlator options
    
    If started with upgrade-option, the current behavior is to recreate
    brick volfiles, as from 3.2 marker xlator is default.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2904 (glusterd should have upgrade/downgrade xlator options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2904

commit f4c4007263255c49b00eaf62542ec2386ca60302
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 31 01:01:01 2011 +0000

    gluster rebalance: prevent data migration from higher disk space to lower
    
    this is done using the 'statfs()' on inode feature.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit 0d2d861849a3b066eac676ebed4e16accdfe8598
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 14 05:11:33 2011 +0000

    DHT:first_up_subvol should be the one up the longest
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2684 (Dir missing from mount point)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2684

commit dd476eb4678df02ff22f9aa7db7453f857721c42
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon May 30 03:42:50 2011 +0000

    stripe: changes to print stripe information in statedump
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2958 (stripe information is not printed in statedump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2958

commit 8b53f87878d0eae5bab521d3d429ca19ea903d9a
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Mon May 30 04:45:19 2011 +0000

    build : with rpm install invoke glusterd upgrade option to modify vol files and start
    
    Signed-off-by: Lakshmipathi.G <lakshmipathi@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2904 (glusterd should have upgrade/downgrade xlator options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2904

commit 5f1c41d9088272617fd1afeccd679abdb5f36a3f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 25 05:14:25 2011 +0000

    cli: bring in format checking option for 'cli_out()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2944 (warnings in cli_out)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2944

commit d150340907efe888cdabfd4e49552fa8c75f2445
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 25 05:14:04 2011 +0000

    cli: fix format string build warnings
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2944 (warnings in cli_out)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2944

commit d720547e9e5960481930f532fe208f7c6db4cd93
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue May 31 06:40:27 2011 +0000

    client_bind: When allow-insecure xlator option is set, donot bind.
    
    There is no need to bind a client, as connect will assign a port.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2868 (Add xlator-option to support insecure-bind for clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2868

commit 756c7aea3fef2a77b13ed731ab202c5426db3768
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 31 06:39:41 2011 +0000

    glusterfsd: prevent giving '-s' option without '--volfile-id' option
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2934 (for glusterfs binary, -s option without --volfile-id will fail without any notice to user)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2934

commit 753f17aca63057e4c4a70c1f3cbf7729f890cb69
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri May 27 00:41:55 2011 +0000

    dht-rename: Unlink older link files before creating new one
    
    If a older link file exists, unlink it and then create the linkfile.
    This will prevent mis-match of gfid's.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2464 ([7b07d444a77526f27f860210930bf1d4c7fbea9b]: rm -rf gives Invalid argumenrt error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2464

commit c5a7947e6a7422360816e45fc3c12cf9c0152802
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue May 31 06:08:12 2011 +0000

    pump: init last_event array to be used in afr_notify
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2870 (Inconsistent xattr values when creating bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2870

commit 1b0c33f8960fb1fae03012b479d6cac9ce4d8941
Author: Sachidananda <sac@gluster.com>
Date:   Mon May 23 12:23:11 2011 +0000

    Fix typo in log message related to io-threads.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2926 (Typo in log message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2926

commit 793aba82fa9585985b4285a92f9bce5b28f5c8db
Author: Gaurav <gaurav@gluster.com>
Date:   Mon May 30 05:00:50 2011 +0000

    RPC : Valid typecasting for ipv4 and ipv6 in rpcsvc_get_listener_port.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2956 (Invalid typecating for ipv4 and ipv6 in rpcsvc_get_listener_port.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2956

commit d7497c4f1b361b1d1c42c157cbcf7ce8bc16fd44
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu May 26 07:45:49 2011 +0000

    statfs(): honor the 'inode' on which the statfs() call is made
    
    fuse-bridge : fill the 'loc' properly with correct 'inode'.
    dht : if directory, send statfs() to all subvol, else send it to only
          cached subvol.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit 411aa2902d304495a4a374a09b767e588b330e88
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed May 25 04:26:00 2011 +0000

    performance/stat-prefetch: return ESTALE if inode's gfid is not the same as cached gfid for a path.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2927 (Mismatched link/target gfid and ESTALE/ENOENT)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2927

commit fcd35ea786dea454b11837f818be959082c8e731
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon May 30 07:55:00 2011 +0000

    features/locks: Unwind with SUCCESS on non-blocking entrylk success
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2949 (self-heal hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2949

commit f1a6ff00a1a4d5bb1124d853c60f68c55d42ad4d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon May 30 07:54:59 2011 +0000

    cluster/afr: Send Non-blocking lock in non-blocking entrylk
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2949 (self-heal hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2949

commit b8957c72e34d9f3174722059618d148b4a4ff38e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 27 01:13:39 2011 +0000

    cluster/afr: Send the first child up/down after all its children notify
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2870 (Inconsistent xattr values when creating bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2870

commit 865c74963525bba325c6262a14e37764d1bc0a8a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri May 27 01:13:40 2011 +0000

    cluster/dht: notify should succeed when waiting for all subvols first event
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2870 (Inconsistent xattr values when creating bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2870

commit 493274b4051beca13f7153bc583cb60661a546c0
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:32 2011 +0000

    glusterfsd-mgmt: include signal.h
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit b0c07f4db5f1ed2eeb58709d1021e11ca8fd5600
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:31 2011 +0000

    rpc: NetBSD portability fixes
    
    NetBSD's <dirent.h> does a #defiine d_ino d_fileno. Since glusterfs
    declares structs with d_ino members, we must include <dirent.h> early
    so that d_ino get preprocessed into d_fileno conssitently.
    
    Also define proper xdr types for NetBSD.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 7eb3ba062cd0d8ad2d4692c99185af2afde0ee05
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:30 2011 +0000

    fuse: NetBSD portability fixes
    
    Make sure NetBSD pulls proper FUSE header
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 24d94224ea8c9b67dd7bb9a2ee929f63717d51d7
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:29 2011 +0000

    quick-read: Fix dirname(3) usage
    
    glibc dirname() modify the string it is given and returns it.
    glusterfs takes this behavior for granted, and assume that if it
    gives a malloc'ed string to dirname(), then it can free()) the
    return value.
    
    Here is what SUSv2 says:
    http://opengroup.org/onlinepubs/007908799/xsh/dirname.html
    "The dirname() function may modify the string pointed to by path,
    and may return a pointer to static storage"
    
    At least NetBSD returns a static storage. glusterfs will return it to
    a calling function that has the responsability to free it, causing
    a SIGSEGV.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit fa19eabd89c0efc52830ad5f6ac63285175acce7
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:28 2011 +0000

    stat-prefetch: fix dirname(3) usage
    
    glibc dirname() modify the string it is given and returns it.
    glusterfs takes this behavior for granted, and assume that if it
    gives a malloc'ed string to dirname(), then it can free()) the
    return value.
    
    Here is what SUSv2 says:
    http://opengroup.org/onlinepubs/007908799/xsh/dirname.html
    "The dirname() function may modify the string pointed to by path,
    and may return a pointer to static storage"
    
    At least NetBSD returns a static storage. glusterfs will return it to
    a calling function that has the responsability to free it, causing
    a SIGSEGV.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 80b84f4b852c2794c46af4de1e8ab48673163dc3
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:27 2011 +0000

    fuse: NetBSD portability fixes
    
    - NetBSD uses libperfuse(3).
    - Add @GF_FUSE_LDADD@ to fuse.so library dependecies so that -lperfuse is
      added at configure time for NetBSD.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit beb2b28ff105bad260c4fda891c174a6bff0abd4
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:26 2011 +0000

    rpc: TCP_KEEPALIVE undeclared in NetBSD
    
    Works around "error: 'TCP_KEEPALIVE' undeclared" on NetBSD
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 291588c6d912e137ef4d8c19d0447e43c7d87bc4
Author: Anand Avati <avati@gluster.com>
Date:   Mon May 30 04:18:00 2011 +0000

    fuse: NetBSD portability fixes
    
    On NetBSD use libperfuse(3), rename umount2(2) as unmount(2), and skip
    inexistant /etc/mtab management.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit f2e0b36ea6d31a09f4013b2e6f6ffccc4aca9c0b
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:24 2011 +0000

    errno: NetBSD does not have EDOOFUS
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    [avati@gluster.com: check for EDOOFUS instead of !NetBSD]
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 7f1c2eb4d473b9323b3a31b33473f7fe06cee449
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:23 2011 +0000

    rpc: use AI_ADDRCONFIG selectively
    
    NetBSD does not have AI_ADDRCONFIG. This patch has a side effect: glusterfsd
    listens on IPv6 adresses only by default. Option transport.socket.bind-address
    in volume server-tcp must be used to listen on an IPv4 address.
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit 9737ef5bbaaf2b4c02ea1710dccbd5464173b2e3
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 16:56:22 2011 +0000

    mount.glusterfs: The == operator is a non-standard bash extension. = should be used instead
    
    Thanks to: Emmanuel Dreyfus <manu@netbsd.org>
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2923 (NetBSD port)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2923

commit dd55755e0ccc94f721e8ada7e50c976c9cb68c4b
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 13 00:27:02 2011 +0000

    rpc-clnt: consider the (re-)configured port for only one connect() call
    
    this way, if remote_port is set due to queryport, that can fall back
    to default port (or 'option remote-port' value) when it disconnects.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2709 (issues with port (re-)configuration in client protocol)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2709

commit dbd9dfdba36bee1a249c0e29edbfe0ded59e8c2d
Author: Junaid <junaid@gluster.com>
Date:   Tue May 17 06:29:22 2011 +0000

    cluster/stripe: Fix a typo in strncmp.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2760 (Quota: stripe volume not showing the quota size properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2760

commit f2d0baecfffe96231b52304ad0560c0697150fff
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun May 15 04:59:53 2011 +0000

    mgmt/glusterd: Display a warning message to CLI in case of a corrupt geo-rep session
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2828 (gluster geo-rep stop should not show unsuccessful when the status is corrupt)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2828

commit e1f79413774939bd23563b1d85b0c64a989301bc
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri May 27 00:29:10 2011 +0000

    pump: Detect 'empty' brick and finish migration.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2909 (replace brick of empty brick never says migration completed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2909

commit fdf3bd3e548c380820219b135e16e9731e31c7c6
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun May 29 08:11:22 2011 +0000

    mgmt/glusterd: Set option listen-backlog to 128
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2941 (glusterd breaks when starting ~100 volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2941

commit b4fc412a46d8a71cf02d847b0e359b6668e218f2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun May 29 08:10:48 2011 +0000

    rpc: Introduce option for listen()'s backlog
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2941 (glusterd breaks when starting ~100 volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2941

commit 4c1c8feee4afd6cabeabc17c85bbc7634adb683f
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu May 26 05:45:07 2011 +0000

    TOP: exit status should be non-zero for success
    
    The fault was incorrect loop. An extra iteration was being performed,
    and dict_get failed due to non-existant data leading to status being
    set to non-zero
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2882 (Make volume top command exit status as zero on success)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2882

commit 7dc5a648caee92ce6d62bbe7b4dc1406662c3858
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu May 26 04:17:15 2011 +0000

    mgmt/glusterd: Start nfs after all bricks are started on glusterd re-start
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2941 (glusterd breaks when starting ~100 volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2941

commit 235938a9137cf261de20df365f4feae7a33ce5d9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 25 07:30:15 2011 +0000

    performance/io-cache: fix annoying logs during reconfigure
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2945 (disturbing logs in io-cache reconfigure())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2945

commit 4e9c47c4b5ae3209c2853cf034aa00777c76d55e
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 20 15:32:27 2011 +0000

    cluster/dht: detect linkfiles mismatching gfids and delete+recreate
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2522 ([glusterfs-3.1.3qa8]: rm -rf shows invalid argument)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2522

commit 9072b817b0803f999081c6244b18a9ae8fb0234c
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu May 26 03:32:27 2011 +0000

    reimplement invocation of external programs with run API
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2562 (invoke external commands precisely with fork + exec)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2562

commit 302ad26982d1eb7762e743e14dda627ffb317379
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu May 26 03:32:26 2011 +0000

    libglusterfs: add 'run' sub-lib for safe and convenient invocation of external programs
    
    Summary:
    
    - arguments first collected, then the invocation happens with fork + exec
    - flexible specification of arguments (besides si{mp,ng}le argument
      addition, support for adding multiple of them at a time / specifying one with
      printf style formatting) [ ==> goodbye printf percentage soup when composing
      commands ]
    - single point of error check
    - simple command runs are done in just one line
    - support for redirection, popen(3) like functionality
    
    API is documented in details in libglusterfs/src/run.h
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2562 (invoke external commands precisely with fork + exec)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2562

commit 3435813379c276c3c020cb4e3942554be0040ecc
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu May 26 03:32:25 2011 +0000

    libglusterfs: clean up memory types
    
    Unify them in one header, weed out overlap.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2562 (invoke external commands precisely with fork + exec)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2562

commit 6ff690a54ea7d26089be29470e499292971dd30e
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu May 26 03:32:24 2011 +0000

    Revert "temporary workaround for mtab update race thingy"
    
    This reverts commit 59b9ab45a01d52e197ab6f76fd71e64910396d57.
    
    [c5d781e0 made this temporary workaround unnecessary]
    
    Conflicts:
    
    	xlators/features/marker/utils/syncdaemon/resource.py
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2690 (race between mtab updates of mount and umount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2690

commit 19b08a3b627cb8a7f74fc608bfcaddc4e063aa6f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Apr 13 02:24:49 2011 +0000

    replicate: print favorite child as an int instead of unsigned int
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2668 ([glusterfs-3.2.9qa7]: createbench error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2668

commit 2cd8411a0278f98ed820aad3e482de079d0540c0
Author: Venky Shankar <venky@gluster.com>
Date:   Mon Apr 25 03:10:01 2011 +0000

    cli log level command and per translator log level
    
    Signed-off-by: Venky Shankar <venky@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2714 (implement cli log level command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2714

commit 03c58c782d99440a5947289d0ff216bca8ef7c57
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed May 18 23:21:02 2011 +0000

    debug/error-gen: include error-gen-mem-types.h in distribution tarball.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2915 (error-gen-mem-types.h is not included in distribution tarball generated by doing 'make dist')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2915

commit c5d781e05599e9e7ad736d42c9c1033992c76ded
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun May 15 04:52:33 2011 +0000

    upon daemonizing, wait on mtab update to terminate in parent
    
    This fixes the race in between the mtab update attempts of mount and umount
    when we do a lazy umount right after mounting, in order to hide the given fs
    instance; yet this way we still avoid the deadlock of the fs and mount which
    we can hit if we wait unconditionally for the mtab update to terminate (cf.
    bz #511).
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2690 (race between mtab updates of mount and umount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2690

commit 357df32e16dd21e7aedb699c7bd99cac9b95a040
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon May 2 03:47:39 2011 +0000

    Introduce client-allow-insecure xlator-option.
    
    Allows glusterfs clients to bind to any port and does not restrict it
    to 1024.
    
    This is a xlator-option only, and is not supported in volume set cmd.
    The reason is, few clients may choose this, and few may not. Hence
    only supported as a xlator-option during mount time.
    
    For this to work with glusterfs, server.allow-insecure should be set
    to on
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2868 (Add xlator-option to support insecure-bind for clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2868

commit afad4e2d64c6bb01ff5dceb29b20ebcc02c1747b
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 20 23:46:05 2011 +0000

    cluster/stripe: make sure gfid is checked with valid data
    
    earlier logic of determining if different subvolumes have different
    gfid for same file had a flaw. It could have checked with a empty
    gfid field in case a reply comes from other subvolumes before first
    subvolume
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2773 ([glusterfs-3.2.0qa12]: stripe lookup says gfid different)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2773

commit ef3d2a48f480d29c2087a5562c73681530f2c727
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Apr 18 00:58:49 2011 +0000

    gnfs-loganalyse: Track fh & entry operations given filename
    
    Introduces support for outputting only those NFS operations
    that operate on a given filename and all the filehandles that
    are seen in the log file for that filename.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 913 (NFS-specific log analyzer tool)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=913

commit 4ba7635f4d3f199dbb082b45cfe7b49f7e243587
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon May 2 05:36:17 2011 +0000

    glusterd: send the duplicate brick info to the cli
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2803 ([glusterfs-3.2.0qa14]: volume create succeeds even though there is a volume with an export directory in the path of current volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2803

commit 276c0cecadbe763e98c5cfd18b3ad32822964789
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon May 2 05:08:39 2011 +0000

    Validate stripe-block-size option
    
    Minimum size is 512 bytes and should be a multiple of 512 bytes.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2861 (Stripe block-size has no check for valid option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2861

commit 0f020affb2cbbcf7c3a25f9f10fe8f14bf012b8e
Author: Sachidananda <sac@gluster.com>
Date:   Mon May 2 03:32:31 2011 +0000

    Move `self-heal completed' message to log level INFO.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2867 (Move self-heal completed message to INFO level)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2867

commit e08383ca1236924e292dc4ce0b8ff2208f4f5170
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun May 8 23:41:23 2011 +0000

    features/marker: whitespace cleanup
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 86c818a98a18a3b6c33a494202922f1cd275ac7b
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed May 11 02:39:14 2011 +0000

    cli: taking my revenge for forcing "geo-replication" into commandline
    
    Accept unambigous initial fragments of keywords, eg.
    
      gluster vol geo stat
    
    is recognized. Compared to readline integration:
    
    - no external dependency
    - works in shell too
    - works for inner keywords of operations
      (as in above example, or "vol crea <vol> repl 3 ...")
    - you save pressing tabs :)
    
    If not desired in customer builds, can be disabled by an #ifdef
    (not integrated into build system as of now); however, I think
    folks in house could like it.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2757 (refactory gsync/gsyncd/syncdaemon/whatever to geo-replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2757

commit 0652f9f92123e8bb3c0fee02c9fb3bbe23d9f7c6
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 12:25:36 2011 +0000

    syncdaemon: fix listing xattrs when there is none and failure handling
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2859 (gsyncd crashes if master vol root has no xattrs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2859

commit 6f2ed82bfcfe494ef273bff55cf69480a7472cc5
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 06:24:45 2011 +0000

    syncdaemon: some refactor on monitor
    
    - detect faulty state early
    - keep the feedback fd in gsyncd module
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2537 (gsync autorestart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2537

commit 9ffd9c51f3833e04a60373648ba3c69c2ed7a68a
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 06:24:43 2011 +0000

    marker: fill out the volume-mark properly in case of marking corruption
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2858 (volume-mark corruption swallowed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2858

commit a8addec412a7d6816e06dbbef2e14022edc6ec39
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 06:24:42 2011 +0000

    syncdaemon: add --normalize-url option
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2828 (gluster geo-rep stop should not show unsuccessful when the status is corrupt)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2828

commit fa445b44c66eeebc09a3df74d5e924037a3d89c6
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 06:24:41 2011 +0000

    glusterd / geo-rep: set session owner to the uuid of the master vol instead of that of glusterd
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 97fdc05ab86ca2af992c42b09ed40413be2ef0d8
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 29 06:24:40 2011 +0000

    glusterd / cli / rpc: move geo-replication reply parameters into dict
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 6dd0282fbfa14eb5a6ae3df1083ef1eea443ea20
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 27 04:46:24 2011 +0000

    posix: glusterfs.test should be removed xattr immediately after use.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2609 (Error message not properly provided when trying to create a volume from a read-only source)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2609

commit a7ca559bdebfcef9a38dfedb8e4757d42431bf94
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Wed Apr 27 04:46:23 2011 +0000

    Detect read-only filesystem and fail the brick creation operation.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2609 (Error message not properly provided when trying to create a volume from a read-only source)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2609

commit 57b53ca592c8d2d01767c7943cb071eb24e6835f
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon May 2 01:38:09 2011 +0000

    set: Fix incorrect nfs.rpc-auth strings in nfs_option_handler
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2866 (volume set for nfs rpc-auth.addr* option succeeds, but vol file not updated)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2866

commit 68a7f34104854101dcc2c54a797f5aced90908e5
Author: Anand Avati <avati@gluster.com>
Date:   Wed May 4 06:02:02 2011 -0700

    configure.ac: set default version to 3git

commit 44fca3bae2092c50bad31427eaf5b2aec9672e09
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 15 01:27:25 2011 +0000

    add 'logrotate' config file to the package
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2053 (We need to support the standard *nix 'logrotate' for server and client log files.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2053

commit 581ee51454d70ace694acfdd6a5b8abb12050dc9
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon May 2 03:47:19 2011 +0000

    gf_auth also needs to handle server.allow-insecure
    
    When server.allow-insecure option is set, the connection from client
    can be from any port. gf_auth also needs to check for this option
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2868 (Add xlator-option to support insecure-bind for clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2868

commit e3571d4aab9b727715f0e51d12e6e0596f0111ce
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue May 3 05:04:57 2011 +0000

    glusterd: Checked brick path length in 'staging'.
    
    Added checks for brick path length in 'staging' of add/replace
    brick and create_volume subcommands.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2847 (volume creation fails if brick path is long)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2847

commit f5708f4d0696529faf1fb0ad108123a76c816d78
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Tue May 3 02:05:38 2011 +0000

    glusterd: Cleaned up 'store' if vol create fails.
    
    glusterd's internal 'store' needs to be cleaned up if
    volume creation operation fails.
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2847 (volume creation fails if brick path is long)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2847

commit 53af855f2aad8c19f2bbc7561534b473ae8c7dc4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed May 4 04:14:02 2011 +0000

    cluster/afr: set loc gfids for fresh lookup
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 0336456447f636f6fcf8e53bbfb6295d40434fdf
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Apr 21 03:58:48 2011 +0000

    NFS : Use proper exit point in nfs_init_state.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2695 (Mac host showmount -a not working.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2695

commit 6b02f2ac6a3889af0b0e1cdb4402352379b37539
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 21 03:43:20 2011 +0000

    cluster/distribute: corrected layout mismatch handling logic
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2281 (I/O operations exit when add-brick is done)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2281

commit 27deebbf6c67f5076cae241e98043aa8b8b57ff8
Author: Gaurav <gaurav@gluster.com>
Date:   Wed Apr 27 03:20:11 2011 +0000

    NFS : Maintain common state for MOUNT1 and MOUNT3.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2695 (Mac host showmount -a not working.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2695

commit 7e8da0f5a8bfdd2d1db084fb508b417194754bff
Author: Sachidananda <sac@gluster.com>
Date:   Mon May 2 02:56:40 2011 +0000

    Move the log `self-heal pending' message to INFO level.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2867 (Move self-heal completed message to INFO level)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2867

commit ea5eec6b7e736c1ce149b32e8fcd1180c1c2db9f
Author: Sachidananda <sac@gluster.com>
Date:   Mon May 2 02:47:53 2011 +0000

    Move self-heal completed log message to INFO level.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2867 (Move self-heal completed message to INFO level)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2867

commit cadd9a1b75fb1f78d2fb7c578212ee0225cfeb83
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon May 2 03:11:54 2011 +0000

    loc_t: add 'gfid' and 'pargfid' fields
    
    these fields are used mainly in case of selfheal path, where
    'inode->gfid'||'parent->gfid' is not yet set.
    
    These fields in 'loc' will have lower precedence than 'inode->gfid'
    in client protocol.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit fd7e3b6052881319d4671771aae44933bbf858d4
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Apr 9 01:54:19 2011 +0000

    enable memory accounting for error-gen xlator
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 1f06da6875d8ecff5efa2b6db387ef6084bb68a1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 24 22:45:31 2011 +0000

    performance/write-behind: initialize lock in wb-file before wb-file is set in fd-ctx.
    
    - Consider a combination of fuse->quick-read->read-ahead->wb->client.
        quick-read can do open-behind (open is returned as success even
        before it is issued to backend) and hence the fd can already be
        in the list of open fds of the inode. A flush call on some other
        fd opened on the same inode, will result in ra_flush issuing flush
        calls to all the fds opened on the same inode. This can result in
        wb_flush trying to hold a lock on non-initialized lock there by causing
        memory corruption.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2679 (Crash in GlusterFS 3.0.5 in GSP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2679

commit 77f485dc30e5cd81d63cb7a92dc77b3ace69d40d
Author: Anand Avati <avati@gluster.com>
Date:   Thu Apr 28 01:08:32 2011 +0000

    marker: fix NULL deref in logging
    
    Fix bad gf_log argument
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2852 (Glusterfsd crashes on AMI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2852

commit 28cea0ebbd4ce4cd64e1da4e43512230a0050ee9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 22 11:55:58 2011 +0000

    mgmt/glusterd: Fix ret value in importing of options/gsync slaves
    
    In case the volume options or gsync slaves are absent the import should
    succeed.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2832 (peer probe hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2832

commit 625f779dba824d40626473cd85aaacdefbfae1ce
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 21 17:38:10 2011 +0000

    cli: fix up parsing of geo-replication status
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 775323c1b2fa9a557d3ea74d57e843575f7b1278
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 21 16:43:49 2011 +0000

    syncdaemon: have the monitor kill the worker if it does not connect in 60 sec
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2736 (gsyncd hangs if crash occurs in the non-main thread)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2736

commit de809504282731332c9bc0fc7f7da5be34f206ce
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 21 16:43:48 2011 +0000

    cli: adhere to timeouts properly
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 5e59de561e49e8f401cf0786635c05c31cc3dfb8
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Apr 21 06:55:46 2011 +0000

    mgmt/glusterd: fix up the buffer sizes to accomodate a correct estimate of sizes of the snprintf invocations, and errout if not feasible
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2561 (gsyncd command's must be preconfigured)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2561

commit 2017d5ed79a0843262695394bfff61968902e9ef
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Apr 21 06:55:45 2011 +0000

    cli: check if gsyncd is present in the configured place, enable geo-replication if present
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2744 (make geo-replication package friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2744

commit 49603aec03e98a2a38fad66627593b69b6269cbf
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Apr 21 06:55:44 2011 +0000

    cli: changes in struct cli_cmd to disable gluster command at run-time
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2744 (make geo-replication package friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2744

commit b5848ed21b9e718011a8f3f3870c4ed978ff17a5
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 21 08:56:09 2011 +0000

    syncdaemon: handle errors in glusterfs mount more carefully
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2826 (stale auxiliary mounts are left over)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2826

commit 92e982b9d2f37ae88b22406be9ee88bf14b57197
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 15 01:10:48 2011 +0000

    gluster volume create: fix help message with transport option 'tcp, rdma'
    
    used to create a volume which listens on both sockets and ibverbs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2742 (cli help for volume create is not upto date)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2742

commit 81c04158559f9f61ff0581544541cc18778cb1de
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 21 07:08:28 2011 +0000

    prevent few excessive logs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 2c12b90a84c544343e384e1d60d03b10be9fc45b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Apr 21 05:03:56 2011 +0000

    features/marker-quota: handle creation of regular files using mknod.
    
    - Add the disk-used to parents' size.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2649 (Quota: size field is not getting updated properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2649

commit 14f9c126c1237410bd9ef159e746afd7ff8c2753
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 21 05:22:23 2011 +0000

    glusterd / cli: make the needed changes to let a masterless geo-rep config request get thru
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 58465cdca9386fe2fa15049911223f7282e1b412
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Apr 21 04:16:44 2011 +0000

    features/marker-quota: handle overflow of counter used to set frame->root->lk_owner.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2804 (Occasional log messages seen indicating failure of inodelk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2804

commit 1f074563ecdaf92b2ecf12d7ea79b2b5d8f50c2d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Apr 21 04:10:17 2011 +0000

    features/marker-quota: Add the disk space used to parent sizes during creation of new-files or symlinks.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2649 (Quota: size field is not getting updated properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2649

commit c1b2279adcc3b3a311221f247c6ee563214cf32c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 18 14:23:17 2011 +0000

    do not allow create volume or add-brick if given path or any brick is a part of either
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2803 ([glusterfs-3.2.0qa14]: volume create succeeds even though there is a volume with an export directory in the path of current volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2803

commit 14b9fab371eb7a160fbf15ea4b979d0d98a0e5e0
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Apr 19 08:59:26 2011 +0000

    cli: change geo-replication syntax to support slave-only invocation
    
    (for sake of slave side configurability).
    
    Also pulled out sub-op, now we have
    
      volume geo-replication [<VOLNAME>] [<SLAVE-URL>] {start|stop|config|status} [options...]
    
    -- more convenient to use when working on a given session (ie. we just change the
    geo-rep subcommands), and aligns better with other volume commands, cf. eg.
    
      volume replace-brick <VOLNAME> <BRICK> <NEW-BRICK> {start|pause|abort|status|commit}
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 0dd8c38d17e51c4b8bd1471854315e27c25cc615
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Apr 19 07:19:17 2011 +0000

    geo-replication: revamp CONFIG command
    
    Drop the config_type RPC req field, use just a "subop" key in the param dict.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 29ac0febecbca0700bb4b1e2335b8dace5ff452c
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Apr 19 09:35:45 2011 +0000

    syncdaemon: fix double wait in monitor
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2816 ([glusterfs-3.2.0qa14]: gsyncd monitor crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2816

commit 19e4ef605fe95c08c48bcade95096082a54cdd2d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Apr 20 00:59:26 2011 +0000

    glusterd: log the error immedietly after the syscall failure
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 746aa1faa4d2f3a3186e8f660e6a140457580fb3
Author: Gaurav <gaurav@gluster.com>
Date:   Wed Apr 20 05:12:58 2011 +0000

    NFS : Check proper permissions in access control for setattr.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2818 (Permission problems with gluster NFS works with native FUSE)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2818

commit 2d8f4fae7c06c73cd828c247e462a2b1017f5679
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Apr 20 12:47:12 2011 +0000

    features/marker: reduce the size corresponding to destination file if it is already present from parent directories.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2697 (Quota: add-brick creates the size go awkward, though it was perfect earlier)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2697

commit 698d972d8256662dc23a012c4328dca37aaced56
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 19 04:56:58 2011 +0000

    features/marker-quota: initialize dentry_child_count to total number of children a directory has in a single go.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2809 ([e89f2a1f5daf1513c533a47b90aec8f90702d09f]: glusterfsd crashed in quota_dirty_inode_readdir)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2809

commit 450a7be2cede5a44c74f5f74224292af0c81a45f
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Apr 18 21:53:45 2011 +0000

    marker: fixes to bypass marker fops in case features are enabled
    
    mainly in unlink and rename
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2801 (glusterfsd process crash while running rebalance on simple volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2801

commit 3776483431bfcd867a07b83ebd7d303a5d3538b6
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:31 2011 +0000

    glusterd / geo-rep: harvesting further benefits of static gsyncd pre-config
    
    - log-file does not need to be a reserved option anymore as we
      wouldn't overwrite the user setting
    - reimplement glusterd_gsync_get_param_file(): all use cases
      have now pre-configured values, so instead of putting together
      the needed pathname by ourselves, we can just get it from
      gsyncd config
      - refactor it to a common backend with glusterd_get_canon_url()
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit ced2d41bfdf6ee3ee820fa6090e4bf3147ab0d84
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:30 2011 +0000

    glusterd / geo-rep: do all gsyncd pre-configuration in glusterd init
    
    This is made possible by gsyncd config templating, by which
    session specific settings can be expressed in a generic form.
    
    Benefits:
    - in glusterd we use only generic (rx pattern based) config settings
      so we don't violate users' freedom to make settigs for their sessions
    - don't have to invoke gsyncd in excess to prepare a session
    - we can pre-configure slave side too (relying on the templates and
      gsyncd service auto-discovery)
    - much leaner, much more expressive code
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 8d034b840e957d96a3c3e1f86a3ff28aabb8c896
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:29 2011 +0000

    syncdaemon: add session-owner option
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 369f66ea51506315545501ab3fd4fe87d011a0e5
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:28 2011 +0000

    syncdaemon: implement template substitutions for config values
    
    So, for example, a log file setting of
    
      /var/log/${mastervol}/${eSlave}.log
    
    will be substituted with the volume name of the master and the
    canonicalized-escaped name of the slave for each master-slave pair.
    
    As template expanders, beyond the various forms and derivatives
    of master and slave, the following are also available:
     - gsyncd tunables (set in command line or in config)
     - for regexp sections, regexp group captures can be accessed
       via "match<i>_<n>", where i=1,2 corresponds to the i-th peer-rx
       in the section title and n=1,... to the n-th capture.
    
    This will enable us to have a static configuration (not having to
    add new entries on each gsyncd start).
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 5a0d15682fb62d768ce088b5d9c9aad974a1460c
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:27 2011 +0000

    gsyncd service auto-discovery
    
    If glusterd is running, gsyncd will find it out and adopt related settings
    automagically (even if started from not by glusterd)
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 0a38334bd3b21df2448a869760292c499c59bb0c
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:26 2011 +0000

    cli: make it possible to set per-command timeouts for connection
    
    Also make getwd command impatient, having it to time out in 1 sec
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 184fba37889b87c27af90adf357b38fa95f1e78d
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:25 2011 +0000

    cli: implement "system:: getwd" command
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit cc6d5c66090f576383c26bd0bdefadbcad708435
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:25:24 2011 +0000

    cli: preliminary cleanup for system:: commands
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2785 (gsyncd logs on slave side go to /dev/null)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2785

commit 853293b6dd759a20418a4878821db57f933cc50d
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:21:24 2011 +0000

    mgmt/glusterd: geo-rep: restart-upon-reconfig: don't bail out if the gsync session we adjust does not exist
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2777 (geo-replication config setting should have effect on already running sessions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2777

commit d884d4ce74e3d2c582698c9b54b58b4529472a4e
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:21:23 2011 +0000

    syncdaemon: fix swallowing of exit value
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2736 (gsyncd hangs if crash occurs in the non-main thread)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2736

commit 8ac5926d11cb66c7ef226bb466604414593bab87
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:21:22 2011 +0000

    syncdaemon: pythonize accidentally copied ruby line in code
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2791 (trying to set up geo-replication with a gluster slave on the LAN screws up geo-rep irrecoverably)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2791

commit 7280a000aaea2d6c6294a82f64a626714cbe2702
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 18 17:21:21 2011 +0000

    syncdaemon: don't accept simple identifiers anymore as sugared urls
    
    - we want to enforce the separation of the volume name and the url namespaces
    - resolving simple ids as relative paths was lame anyway
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2786 (Having to prepend geo-replication master vol with colon spoils the UI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2786

commit c6a18b8db0719c0d86c412de6eb386419777d871
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 18 12:29:51 2011 +0000

    mgmt/glusterd: Fix compiler warning
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2797 ([glusterfs-3.2.0qa13]: peer probe fails with gsync running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2797

commit 7f61b4d1c31181a2c01285a45a99a3ded22349ee
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 18 10:42:03 2011 +0000

    mgmt/glusterd: Send the gsync sessions that are running to the new peer.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2797 ([glusterfs-3.2.0qa13]: peer probe fails with gsync running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2797

commit 94d32434fdb1d7fc333ab9bf4bf8d3a4eb0dff9e
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 18 08:49:54 2011 +0000

    mgmt/glusterd: do not allow replace-brick operations when geo-rep sessions are active on this volume.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2765 (geo-replication should have mercy on brick failure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2765

commit e89f2a1f5daf1513c533a47b90aec8f90702d09f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 18 08:30:54 2011 +0000

    features/marker-quota: reduce contributions to parents during unlink only if it is the last link.
    
    - since we are not having different contributions for different (parent, name)
        pairs, but only for different parents, links present in the same directory
        will have only one contribution representing all of them. Hence parents will
        not be updated for each link call and parents account for just file-size
        instead of (numlinks * filesize). However this patch will cause issues
        for links present accross directories, as only one of their contributions
        is subtracted when all of them removed (Here all the links are accounted
        in their parents, thereby total size accounted is [numlinks * filesize]).
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2689 (Quota: xattrs getting corrupted)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2689

commit bb4c33f65f3e7eaeb03f3ac249d6eedd123c5ba6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 18 08:30:35 2011 +0000

    features/marker-quota: remove contribution xattrs from oldloc in rename.
    
    - Though we are setting in memory contribution to zero, during updation
        process contribution is actually fetched from backend. If they are not
        deleted and if newpath did not exist before doing rename, contributions
        from oldloc->inode will be retained even for newloc->inode, there by
        preventing addition of file-size to parents in newpath.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2689 (Quota: xattrs getting corrupted)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2689

commit c034f263c0ced77b6b8f806b4533a612631a9c77
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 18 07:34:54 2011 +0000

    mgmt/glusterd: geo-rep config set/del restarts the geo-rep process so that it takes up the new configuration values
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2777 (geo-replication config setting should have effect on already running sessions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2777

commit 4d644dda668e5b55f3f9516e8552e689608b7ad7
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Apr 18 05:03:00 2011 +0000

    cli: Fix profile info alignment
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2794 (Alignment is not proper in profile volume info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2794

commit 2f9ce3f4fd23d1a9256e84830805a62f1ebe76fb
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 18 02:09:00 2011 +0000

    mgmt/glusterd: change the cli output of geo-rep start/stop to resemble the output of volume start/stop
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 67705d888c4e038f188da8a21ade8db447cd7009
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 7 04:45:40 2011 +0000

    DHT: Propogate error if dht_rmdir_opendir_cbk
    
    Earlier rmdir would succeed on all up subvols, but fuse would get an
    error if one of the subvol was down. In follow up lookup, self heal
    would be triggered, and since st_mode would be 0, the permissions
    would be bad. The behaviour now is to fail rmdir if subvol is down
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2591 (Directories changing to d--------- permission after trying to delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2591

commit 72b57e311fe8634d26b4c56a78016f9359208443
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Apr 17 11:21:51 2011 +0000

    cli: UI cleanup for geo-replication command
    
       * provide a unified output in case of failure of geo-replication session
       * provide a better formatting  of the output geo-replication status command
       * update the help option of geo-replication command
       * fix few typos
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2536 (gsync service introspection)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2536

commit 91b3d10880678cfa9c5ce03204eb62897a4564e8
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Apr 17 10:46:08 2011 +0000

    cli: removal of dead code due to the code movement of geo-rep start from cli to glusterd.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2676 ([glusterfs-3.2.0qa7]: glusterfs server crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2676

commit 3a621ae053a31db49f7adc506bd5ffbd24a0c64d
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Apr 17 10:46:07 2011 +0000

    mgmt/glusterd : change of syntax of geo-replication command
    
    master is referred as a volume name rather than a URL scheme.
    
    old syntax:
    
       > volume geo-replication start :vol-foo /bar/boo
    
    new syntax:
    
       > volume geo-replication start vol-foo /bar/boo
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2786 (Having to prepend geo-replication master vol with colon spoils the UI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2786

commit 4b813b3d14476a5cf6a3a54c32c2939a31fe9ba9
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Apr 17 10:46:06 2011 +0000

    mgmt/glusterd: unify the geo-replication status rpc messages.
    
    the intelligence of determining the type of status command is now at glusterd,
    rather then explicitly setting it while parsing at cli.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2536 (gsync service introspection)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2536

commit 666e43aca607c90d95379caa13b42a4ed976e8a7
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Apr 17 04:45:59 2011 +0000

    syncdaemon: minor cleanups on termination
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2736 (gsyncd hangs if crash occurs in the non-main thread)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2736

commit 856a7ee345713b66ccb6eba6fca276273807fe30
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 16 16:04:27 2011 +0000

    glusterd/volgen: make it possible for builders to set the op_errstr during graph validation
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2559 (provide two options in CLI for gluster volume gsync indexing <volname> <enable|disable>)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2559

commit 4ade518a232418ccccc6a7bc3c381022465b6c84
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 16 13:36:04 2011 +0000

    glusterd: some cleanups needed for 70adbe7b [refactor gsync_status() ...]
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2780 (geo-replication operations take too much time to complete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2780

commit c9d85b6268523f1872dde05f271e16afd0358939
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Apr 16 04:13:35 2011 +0000

    cli: check for connectivity before doing mount
    
    in quota limit list.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2732 (Quota: the local mount on server fails while using quota list command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2732

commit 87e4d4814458c57a3337e7c610f6ead76d0cb28f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Apr 16 09:31:24 2011 +0000

    marker/quota: use correct byte ordering when updating parent's size.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2649 (Quota: size field is not getting updated properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2649

commit 26dc794e6586ca911678fc80e831e18cd99973fa
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Apr 16 09:45:49 2011 +0000

    marker: avoid memleak by unrefing dict, fd and local
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2784 ([glusterfs-3.2.0qa13]: memleak in marker)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2784

commit 3e873600920a180960e6730a531ba7a5912f5543
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Apr 16 10:03:53 2011 +0000

    features/marker-quota: fixes in self-healing of dirty inode code path.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2649 (Quota: size field is not getting updated properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2649

commit e52a0cc23b16bf653ce544caaffa0e7ffb5fab4e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Apr 16 10:07:29 2011 +0000

    extras/quota-xattr-cleanup: don't follow symbolic links.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2664 (Quota: recreating the volume on same bricks shows similar info as for earlier one using "list")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2664

commit 70adbe7b71771b48e5bd8d79e38132afa04e4752
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 16 10:32:54 2011 +0000

    glusterd: refactor gsync_status() so that we can get at the pidfile
    
    This is useful for iterated polling of gsyncd's status, without having to
    incoke gsyncd to find out about the pidfile.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2780 (geo-replication operations take too much time to complete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2780

commit c78dafac7f82de8a7b72f42fcd58c01dbc4a88df
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 16 10:32:53 2011 +0000

    syncdaemon: load xattrs from libc on-demand
    
    This reduces startup time for invocations other than master / slave role
    (kind of which now proliferates glusterd)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2780 (geo-replication operations take too much time to complete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2780

commit 679c3986b9b72d19d6057d400ec8f1fba1569853
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Apr 16 06:05:31 2011 +0000

    quota: do not assign frame->local to NULL which leads to memleak
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2772 ([glusterfs-3.2.0qa12]: excessive quota local NULL errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2772

commit d5110f12ac0352991f22cbf4f80d855a8f35ba42
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Apr 16 05:23:58 2011 +0000

    quota: assign local to frame local to prevent memleak
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2772 ([glusterfs-3.2.0qa12]: excessive quota local NULL errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2772

commit a70c0034cc5c7e38390167ebfa9c8706be16fd6d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Apr 16 00:48:46 2011 +0000

    mgmt/glusterd: Fix percentage latency formula
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2783 (Fix percentage latency and precisions of profile info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2783

commit 426eed2dd4992f3fb6048dff49b0e2db38d2a87b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 15 22:58:12 2011 +0000

    mgmt/glusterd: Send the error msg to user if gsync start fails
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2781 (geo-replication start error message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2781

commit 1f5ad47e48cf4901b027a674179025c078c00953
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 15 22:05:21 2011 +0000

    features/quota: set 'frame->local' to local in fsync
    
    so fsync call can succeed
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2772 ([glusterfs-3.2.0qa12]: excessive quota local NULL errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2772

commit f727e847133e479a37e86a7feb5826496a7313f7
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 09:10:03 2011 +0000

    syncdaemon: yet another try to exit properly
    
    The final cleanup sequence + call to _exit, which was just done in the main
    thread, now is called for in each thread when the thread crashes. Seems we
    aren't left there hanging this way.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2736 (gsyncd hangs if crash occurs in the non-main thread)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2736

commit 43d95c00ee49cb4852d199f11e2647a5930b07c8
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 09:10:02 2011 +0000

    syncdaemon: when getting a single config option, don't display the option name, just the value
    
    This intends to ease scripting (you can just pass on the value to xargs etc.)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 5c9c2555911d8d7131e3c0d918f6ee9c0b3b612f
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Fri Apr 15 09:15:23 2011 +0000

    mgmt/glusterd: does not allow disabling of indexing (xtime marking), if a gsync session is active.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2559 (provide two options in CLI for gluster volume gsync indexing <volname> <enable|disable>)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2559

commit 2479f442ca8f9e2dd23988e1f2dc20238443a769
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 15 07:00:42 2011 +0000

    mgmt/glusterd: handle error condition in quota fs crawl
    
    Quota enable starts a crawl on the maintenance mount point, but if the chdir to
    the mount point fails it will start the crawl on '/'. So the child should exit
    with EXIT_FAILURE when the chdir fails.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2770 (Handle error cases in quota fs crawl)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2770

commit 49b796949c9a3cc9d5a541503e03589fb7bcbde2
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 15 07:56:47 2011 +0000

    TOP: validate bs/count pair for write/read-perf measurement
    
    If either one the above args are supplied, the other arg should be
    supplied too.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2771 (bs or count tag missing with volume top write-perf/read-perf command blocks glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2771

commit baaa7286ed6b70121efa6a83a8adb3a2f1ec45da
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 15 07:05:38 2011 +0000

    cluster/stripe: aggregate xattrs holding quota-size in lookup and getxattr calls.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2760 (Quota: stripe volume not showing the quota size properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2760

commit 2ca0f2d3ab4c80ed4d002bcb2ca1425d1db42c78
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 15 07:05:24 2011 +0000

    features/quota: use disk usage instead of file-sizes.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2760 (Quota: stripe volume not showing the quota size properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2760

commit cdcbfcd3900ad450023c8b3d06174dfb81644788
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 15 07:05:10 2011 +0000

    features/marker-quota: Use the actual disk-space consumed instead of ia_size returned in iatt for calculation of sizes.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2760 (Quota: stripe volume not showing the quota size properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2760

commit da66edbe927152ba12c9a702fd157a45a3f3cb42
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 15 14:02:39 2011 +0000

    mgmt/glusterd: fix double free.
    
    - the limit-usage string should be stored as static, since remove-limits will
        be modifying it and probably freeing it.
      - this static string should also be explicitly freed in glusterd_quota_disable
        since dict_del won't free it.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2776 (gluster quota remove crashed glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2776

commit cfe11cd627f8322ad2701dad6c021d3570bbbf1d
Author: Krishnan Parthasarathi <kp@gluster.com>
Date:   Fri Apr 15 01:00:56 2011 +0000

    top: Modified integer bounds check for count/bs
    
    Signed-off-by: Krishnan Parthasarathi <kp@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2721 (Incorrect validation message in gluster top CLI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2721

commit 7a56f1b9a18e4863917e4b6aaeacba2e28073ab6
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Fri Apr 15 05:08:47 2011 +0000

    rpm : create new package for geo-replication and preserve symlinks
    
    Signed-off-by: Lakshmipathi.G <lakshmipathi@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2744 (make geo-replication package friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2744

commit b5d944f911f1638a8063235443410de36df6f2fd
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 15 02:55:46 2011 +0000

    mgmt/glusterd: Memory leak and message cleanup
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2764 (Cleanup memory leaks seen in quota and gsync code paths)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2764

commit b565cf8bfc75e6f6c85a47bc8a06737cd6e79fae
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 15 02:49:51 2011 +0000

    DHT: Make assert-no-child-down a boolean option
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2765 (geo-replication should have mercy on brick failure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2765

commit dc75b9889d0dca8cde08860e96be1c88059644c6
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 02:26:24 2011 +0000

    syncdaemon: name tempdirs used by gsyncd more characteristically to ease debugging
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 78ca8b9fb8790f5741d5bf01aa870d7b77b9c57f
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 01:48:36 2011 +0000

    glusterd / geo-replication: have gsync's glusterfs client use assert-no-child-down for dht volume
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2765 (geo-replication should have mercy on brick failure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2765

commit 8699c929fb9e07303a6a779e8d4713c4a837b33d
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 01:09:01 2011 +0000

    glusterd / geo-replication: set location of ssh keyfile for gsyncd
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2756 (support for providing custom ssh private key)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2756

commit 0c77e6f156e57717f9cd3feb35d589e36dcb831f
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 14 16:35:02 2011 +0000

    glusterd/volgen: partially revert 50ab0ad4
    
    Moving the adjustment of marker's timestamp file to generation
    phase was not correct, as generation should be side effect free.
    Moved it back to the point where volfiles are written.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2529 (Starting Gsync  causes ENOTCONN to glusterfs client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2529

commit 0dfe24fc9fc8bf92044fa59e27f61169dfdcd5bc
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Apr 15 00:58:00 2011 +0000

    use "geo-replication" all over as the official name of this feature
    
    Use GEOREP macro if you want to refer to the feature in code.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2757 (refactory gsync/gsyncd/syncdaemon/whatever to geo-replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2757

commit e1be6195464836dd910e3b62f518c897dd06740d
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 14 16:35:00 2011 +0000

    glusterd/volgen: refactor some things
    
    - use macros for exported volume tunables
    - introduce glusterd_volinfo_get_boolean as retrieval of boolean
      optuions was a recurring pattern and became somewhat cumbersome
    
    Also fixed illegal access to volinfo dict.
    @pranith: use always the glusterd_volinfo_get* API for that purpose
    so that defaults are taken to consideration.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2757 (refactory gsync/gsyncd/syncdaemon/whatever to geo-replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2757

commit 066074291fad64a78923bbca06d25b5a6a5307d7
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 14 16:34:59 2011 +0000

    syncdaemon: split gluster_command to make it possible to set options for glusterfs
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit f689a077d3f0a8c75d7ef083d92ef0faeb2ba5a0
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Apr 14 16:34:58 2011 +0000

    syncdaemon: work around python feature of allowing double leading slashes in canonicalized paths
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 4175e092e3521c1f095d6307ea9b05c7c49b02c6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 14 11:53:12 2011 +0000

    mgmt/glusterd: restart gsyncd on glusterd restart
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2761 (Restart gsyncd processes on glusterd restart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2761

commit 4055c85a23043afdf3ad708d28aedc55805b1043
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 14 07:04:20 2011 +0000

    features/marker: fix the excessive logs in marker
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2754 ([glusterfs-3.2.0qa11]: excessive logging in marker)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2754

commit 9b0374043ebe59fa638b8af330ea1d403503c143
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 13 00:29:16 2011 +0000

    cli: add log file for cli instead of '/dev/null'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2737 (there is no log file for gluster cli)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2737

commit 4d6e05f0aac70fbdec6b9530ed7b5d6ce4de0f03
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 14 04:31:22 2011 +0000

    mgmt/glusterd: Prevent dict unserialize for buf with 0 length
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2753 (perf-test failed with "buf is null!" message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2753

commit d6cbfe3b4be0af43a14df76e2305488158cff3e1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Apr 14 05:10:34 2011 +0000

    quota: resume the stub when its not NULL
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2758 ([glusterfs-3.2.0qa11]: symlink hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2758

commit 1d1452e070f990cc91fea87408ea4905abde2fb7
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 14 04:21:48 2011 +0000

    DHT: Add xlator-option assert_no_child_down
    
    If this is set, when CHILD_DOWN event is received, call exit
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2536 (gsync service introspection)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2536

commit 6c16974a0ed485c72f84922fcf67b76ac8f64358
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 14 03:45:20 2011 +0000

    cluster/afr: Avoid null dereference
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2750 ([glusterfs-3.2.0qa11]: nfs server crashed in afr_sh_entry_expunge_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2750

commit 1c5706c43d17beb2dd8eb78c5b740bafd5b05506
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Apr 13 10:23:03 2011 +0000

    marker: pass cookie properly while filtering quota xattrs.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 8c833f1ecab9af3762f4e332126399e61fae090c
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Apr 13 23:30:22 2011 +0000

    mgmt/glusterd: fail the volume stop opeeration if Gsync sessions are active.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2751 (Volme stop must not be proceeded if gsync sessions are active for the volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2751

commit 93cb168fb362c7aea3c10371574a5c5566bb0222
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Apr 13 22:14:37 2011 +0000

    mgmt/glusterd: Implementation of volume gsync status [master [slave]]
    
    Changes made in the path of gsync start/stop as well, where we
    maintain a list of  active gsync sessions, hence gsync stop could be
    executed at all nodes.
    A new dict in glusterd_volinfo_t added to maintain an active list
    of gsync slaves running on each master.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2536 (gsync service introspection)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2536

commit 77cd50a12887b13db4c49be6a979a5ecb8239570
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Apr 13 10:37:31 2011 +0000

    quota/(f)truncate: pass correct delta for updating parent sizes after successful completion.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2741 (Quota: new files not getting created even if space is available)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2741

commit 55594008c2d719c7097998b3d8aa9771bcc9d3ff
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 13 01:13:56 2011 +0000

    mgmt/glusterd: check for 'peerinfo->mgmt' before accessing it
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2728 ([glusterfs-3.2.0qa11]: glusterd crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2728

commit 1875dd6c05a5964b46ce38f1bd3c0679ad5d17bf
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 14 00:05:39 2011 +0000

    glusterd: Respond to cli with empty iobref is serialize fails.
    
    This usually happens if the size exceeds 128k. Earlier the cli used
    to hang if the response exceeded 128k size.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2725 (volume top displays "error" for path max)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2725

commit b3c2bbab35695a2358a4031aa05e31eb5e19c28b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 14 01:08:22 2011 +0000

    mgmt/glusterd: Handle the features/quota for quota
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2540 (quota enablement yields bogus client volfile)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2540

commit efd0f26ba8116da1148c75c950f2490dbe42ebc5
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Apr 13 05:13:19 2011 +0000

    glusterd: report the user if disable quota is given on already disabled quota
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2620 (CLI improvements in quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2620

commit 9c46226f7a98e843b1c95ecdcf44830e05d5e1f5
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 13 07:36:14 2011 +0000

    PUMP: initialize loc at declaration
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2726 ([glusterfs-3.2.0qa11]: glusterfs server crashed due to stack overflow)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2726

commit 41df71222e0d3975b8160d82a630d70ac15786be
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Apr 13 07:36:13 2011 +0000

    mgmt/glusterd: server graph should have io-threads below pump
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2726 ([glusterfs-3.2.0qa11]: glusterfs server crashed due to stack overflow)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2726

commit 6608d60aa6ba733fbdc612e27499524b28adadbf
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:10 2011 +0000

    cli: simplfy gsysnc configuration command
    
    New syntax is
    
     volume gsync config <master> <slave> [[!]opt [val]]
    
    In details:
    
    - instead of "volume gsyncd configure M S config-get-all" :
                 "volume gsyncd config M S"
    - instead of "volume gsyncd configure M S config-get O" :
                 "volume gsyncd config M S O"
    - instead of "volume gsyncd configure M S config-del O" :
                 "volume gsyncd config M S !O"
    - instead of "volume gsyncd configure M S config-set O V" :
                 "volume gsyncd config M S O V"
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2738 ("volume gsync configure <master> <slave> config-<subop> ..." is overly verbose)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2738

commit ebd99e25bf811ab14540f74dd50b445c217e7ee0
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Apr 13 01:46:09 2011 +0000

    cli: join value arguments of "gsync config-set" with spaces
    
    When a given gsync tunable is supposed to hold a command (which
    can take options), it's quite possible that it spaces in its value.
    Try to approximate this situation by joining the leftover arguments.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2713 ([glusterfs-3.2.0qa10]: config-set works only for one value)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2713

commit 72f88e50dbf1f492db7bcc70b074bc64e6b994cb
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:08 2011 +0000

    glusterd: sanitize gsyncd config option validation
    
    - rely on --config-check functionality of gsyncd to find out if option exists
    - maintain a list of those options with which we don't want the user to fiddle with
      (glusterd internals imply these so it' just the proper component for it)
    - fail if user does a set/del on these
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2659 (gsync config-del option is not working properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2659

commit ac27e6980869d52ea90b869de01538dec28620ae
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:07 2011 +0000

    syncdaemon: ensure -/_ invariance in tunables, in all components
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2659 (gsync config-del option is not working properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2659

commit b1cad2780c34f9dd664f67565ceac3b5a5cf3bcb
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:06 2011 +0000

    syncdaemon: refactor gsyncd.py cmdline interface to configuration
    
    - existence of given tunable is checked
    - add --config-check option to just do a check for existence of tunable
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2659 (gsync config-del option is not working properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2659

commit e5c38128fa76b3e11047d49448aab77d3a551804
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:05 2011 +0000

    syncdaemon: force termination for unhandled exception in any thread
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2736 (gsyncd hangs if crash occurs in the non-main thread)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2736

commit 13d1856a40122008dee35a96771f832945c220f8
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:04 2011 +0000

    syncdaemon: streamline user-visible messages (and control flow a bit, too)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2644 (no volume-mark, if the behaviour persists have to check if master gsyncd is running.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2644

commit ea2e55bae0203b00dc4872a3333dce84cf7bef7d
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:03 2011 +0000

    syncdaemon: fix parsing of the volume-mark structure
    
    The parsing error implied that all xtimes were considered to be valid,
    regardless of the volume mark.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2535 (gsync cascading)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2535

commit 9a81400a4accc68bfe55a0bee69ca7e2ed5894f3
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:02 2011 +0000

    syncdaemon: return exit code properly
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 64161529ebe151e36c7fc86b419543b4ac02a681
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:01 2011 +0000

    syncdaemon: fix pidfile deletion on failed pidfile acquisition
    
    (not triggered in glusterd instrumentation of gsyncd as glusterd does pidfile
    probing by itself)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit c0139158ae8992513e93932d8670b5db8605ead2
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 13 01:46:00 2011 +0000

    syncdaemon: minor fixes
    
    - whitespace fix
    - remove superfluous imports
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 7cf0dbcd300f554985ebde4759511c048927c53a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 12 01:21:57 2011 +0000

    mgmt/glusterd: Remove excessive INFO logs
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 4e928f1d9a9cbbf18d3df3481f1d985f12a9c5ba
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 12 22:40:14 2011 +0000

    mgmt/glusterd: log stats commands to cmd log
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2735 (log stats commands (top/profile) to cmd log)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2735

commit bc16a1e999648ba58f863d26281c152fb477174a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 12 07:17:44 2011 +0000

    mgmt/glusterd: volume reset force implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2729 (Implement force option for volume reset)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2729

commit fb3e469e29578393a0d5f964991d26b5449bffb0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 12 09:00:02 2011 +0000

    features/quota: update quota-limit stored in directory contexts after reconfigure.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit bdb3e709e3eec1863181339bf1a5b66b702ac1bb
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 10:01:28 2011 +0000

    features/marker: Filter the quota xattr's on getxattr with NULL name argument.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 4b6a08fba53d895c84676d8c3ae6a5ef45fa2286
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 12:03:06 2011 +0000

    features/marker: Call update txn when the directory size and its contribution are not same.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit ba365f725a91bcd3dcfae1d8311f9f148ce69055
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 12 10:30:24 2011 +0000

    remove excessive logs due to log enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d7cba3b0bb4867e02a5999f830e5315cd7022520
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 12 04:00:35 2011 +0000

    script: fix the typo while doing replace brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1436 (script for running basic gluster commands)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit b71aa0cdb7113dfa7e94720da48cc46c476cde4a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 4 14:50:11 2011 +0000

    declare favorite child as int instead of unsigned int
    
    In afr_private_t structure favorite child is declared as unsigned int.
    In init function of afr we set favorite child to -1, if that option is
    not found in volfile. But favorite child value will be set to a huge
    value instead of -1 since it is an unsigned int and in statedump file
    favorite child value is displayed as a huge value instead of -1.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2668 ([glusterfs-3.2.9qa7]: createbench error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2668

commit 2e4eeb06adc1e6a8a7ded02752ade780ac977200
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Apr 12 14:22:15 2011 +0000

    libglusterfs: Check for null dereference in statedump
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2731 (coredump when process state dump command is issued immediately after mounting fuse client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2731

commit 10ad4b52e03dbdc3674f49a5d9322f220ea65088
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 12 10:03:52 2011 +0000

    cli: Fix typo in top help string
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2719 (Incorrect help string for volume top)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2719

commit 5ca2445270b4b77f2399a9f6332083ff933234a1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 12 09:20:53 2011 +0000

    features/quota: check for proper return value in case failure of dict_get_bin
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2723 ([glusterfs-3.2.0qa11]: glusterfs client crashed in quota_validate_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2723

commit 470bef24d742165a6499128f0b7a8748bdc8be96
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 12 09:17:55 2011 +0000

    features/quota: add error checks for failure of quota_inode_loc_fill.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2727 ([glusterfs-3.2.0qa11]: nfs server crashed in quota_check_limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2727

commit cc734698b6edcbf54b244a23ff757ae6f2f669b5
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 12 09:07:57 2011 +0000

    quota: assign frame->local to local before checking op_ret
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2733 ([glusterfs-3.2.0qa11]: nfs server crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2733

commit 35998844040cf713f229e896524a1a6be249e31d
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 08:19:27 2011 +0000

    features/quota: Validate the quota options. and donot include into the client volfile.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2541 (insufficient option validation in quota translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2541

commit 1fd570380ba5def514ff42e81008a7ddd588348f
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 05:06:03 2011 +0000

    features/marker: Adding NULL checks.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 9c26fbc70ab797eea7967bc77857e73eca9aeffe
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 12 05:02:00 2011 +0000

    protocol/client: convert to errno before checking for EAGAIN
    
    in *lk_cbk() functions. Network error code may be different than
    what is actual errno code.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 6a2c2fa4f13f9ed96098c4fec40f747e171e6819
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 12 05:00:18 2011 +0000

    protocol/client: fix the fd_count decrement logic
    
    the error creeped in during some code cleanup and logging enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1761 (incorrect self-heal behaviour when files are deleted)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1761

commit 59b9ab45a01d52e197ab6f76fd71e64910396d57
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Apr 12 02:47:45 2011 +0000

    temporary workaround for mtab update race thingy
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2690 (race between mtab updates of mount and umount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2690

commit 1b18a7d64574ca08b937113fcb19b9d851abd43c
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 08:11:32 2011 +0000

    libglusterfs/dict: Donot perform NULL check on data in dict_foreach
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1816 (send volume options in friend add)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1816

commit 214ceccb0758e62724dc2548d140aff5885391a0
Author: Junaid <junaid@gluster.com>
Date:   Tue Apr 12 04:37:16 2011 +0000

    mgmt/glusterd: Mount a maintainance client only on the glusterd which received quota enable through cli.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 2a6598646824da9d6a957fb5b3e4c6bb40fb6835
Author: Venky Shankar <venky@gluster.com>
Date:   Mon Apr 11 05:48:36 2011 +0000

    build fixes
    
    Signed-off-by: Venky Shankar <venky@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2550 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2550

commit cfd85789c44ce3f88d6bf87d7b0a47dafb8c6d57
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Apr 12 00:26:25 2011 +0000

    mgmt/glusterd: Fix warning in glusterd build
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2718 (Fix warning in glusterd build)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2718

commit 9ccb1e7b152ea9d27356482d51bd1946d377b799
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Apr 11 03:19:25 2011 +0000

    libglusterfs/src: bring in VALIDATE_OR_GOTO to args
    
    so we can capture places which are calling these function with
    invalid arguments
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 902478bf9e2e1fee15ef979020d28d2095211e93
Author: Junaid <junaid@gluster.com>
Date:   Mon Apr 11 11:32:39 2011 +0000

    mgmt/glusterd: Quota client lazy umount.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2560 (Lazy umount should be done for the maintainance mode mountpoint)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2560

commit dff1a8bd5bcd392826561c93058f8a52606a2832
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 11 08:38:40 2011 +0000

    mgmt/Glusterd: Do not disable marker on gsync stop.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2559 (provide two options in CLI for gluster volume gsync indexing <volname> <enable|disable>)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2559

commit f0ef00478f1f2722d349606924d0d3479eb5da80
Author: Junaid <junaid@gluster.com>
Date:   Mon Apr 11 07:13:40 2011 +0000

    features/quota: Adding the option "timeout" to quota.
    
    This option tells the quota translator when to perform the next aggregation.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 3a709be6850e50915c9e188cc308d7bfa5f781e5
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 11 05:42:20 2011 +0000

    syncdaemon: do not use os.getlogin() for getting the name of the current user
    
    This function relies on the terminal (cf. getlogin(3)), which is not available if we run as daemon
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2712 (username resolution in gsyncd fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2712

commit 78bd9a86c3e87c9e79f62990773767f81cab896d
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Apr 11 02:25:18 2011 +0000

    mgmt/Glusterd: logging of few commands in cmd_log_history
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2449 ([glusterfs-3.2.0-cisco1]: gsync commands are not logged in the cmd_log_history)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2449

commit 882085db173a031a4cc24b5dec7e369f1b512747
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Apr 11 05:00:31 2011 +0000

    marker: check the return value being less than zero instead of -1
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2711 ([glusterfs-3.2.0qa10]: glusterfs server crashed in marker_setxattr operations)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2711

commit 204db674a9c6a724f5fe887c02cd98386043f4fe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 11 01:13:58 2011 +0000

    features/quota: handle failed fops gracefully.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2701 ([6db2b422f05d0553d0a83af603ae4d176b41cbdf]: crash in quota_readlink_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2701

commit f5625e628f1959331eed85082cb6bfdc324db3c2
Author: Junaid <junaid@gluster.com>
Date:   Mon Apr 11 01:15:53 2011 +0000

    cli: Validating the cli quota options.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2612 (quota limit-set not in line with help)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2612

commit 974be663a9113d4aed684dce00f5288669d511e8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 22:38:03 2011 +0000

    features/quota: Add checks for any of the parents of file being NULL while checking limits.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2685 (nfs server crashed in quota_check_limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2685

commit 1992dc12443f376f9b2974f4e830b4b17e3574c0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 10:53:36 2011 +0000

    features/quota: use signed type to store delta.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit 67d77aa96dccefe68a44473bf45cf6796e741b7d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Apr 8 14:46:54 2011 +0000

    buf and statpost should be checked for NULL before accessing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2701 ([6db2b422f05d0553d0a83af603ae4d176b41cbdf]: crash in quota_readlink_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2701

commit 86a091ac0d46ce2b06b79ceafe728ee65fc6ebbf
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 11 04:09:17 2011 +0000

    syncdaemon: fix transaction code
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2659 (gsync config-del option is not working properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2659

commit 2f38fdac226b5b5bd02a78e9933ec46b05cac32d
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 11 04:09:16 2011 +0000

    syncdaemon: minor fixes
    
    - fix yet another instance of calling exit (instead of {sys.,os._}exit)
     - fix logging to stderr with "-" as logfile
     - whitespace fix
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit dd3cc7d398c3b4432097b7cc2716e2afec9a8e47
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Apr 11 04:09:15 2011 +0000

    syncdaemon: fix setting None as new master
    
    We checked for the event of a new master being adopted by:
    - checking for state change in list of masters
    - checking if our chosen master is a foreign one
    and if these held, then wrote out the actually available master to config
    
    However this was flaky: if
    (1) native master changed
    (2) there was already a foreign master adopted
    (3) actually the master was not available
    then we wrote out the None to config.
    
    This could occur if:
    - on syncd startup, native master just changes from None to the volume native
      [implies (1)]
    - foreign master adopted from earlier run via config [implies (2)]
    - actually foreign master was not available [implies (3)]
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2670 (strange behaviour with intermediate-master and slave)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2670

commit b003ee6e9e8316a59a1de204f727748e442ef0af
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Apr 10 05:30:45 2011 +0000

    protocol/server: prevent unnessary logs in INFO level
    
    'op_ret == 0' in readdir() is a valid return code.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit a6ec94de9346f2973d013237cc6584ff9aa89974
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 05:06:04 2011 +0000

    cluster/distribute: Account for the first lookup sent to check whether the path is a directory while aggregating quota-xattrs.
    
      - The total number of lookups sent for a directory is equal to
        (no of children + 1). Hence we should not aggregate the xattrs
        from the first lookup.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit 0a05984fd99577a1ea5bf8d2cdddd08d9a88ba75
Author: Junaid <junaid@gluster.com>
Date:   Sat Apr 9 05:34:23 2011 +0000

    cli: Cleanup the maintainence mount points used by quota.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2704 (Stale mount-points seen after execting quota list command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2704

commit 11c2526e045a5a9b168175d5fd658302a8dcb31b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 05:11:29 2011 +0000

    marker/quota: use correct byte order while storing xattr values in backend.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit ef19a8ba4c0628566c01ebd247869797a7ba5dde
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 10:55:08 2011 +0000

    features/quota: Fix race-condition while resuming stub.
    
    - call-stub is resumed in fops calling quota_check_limit and quota_check_limit
        when validate_count is zero, indicating no pending validates. During
        validates, validate_count was decremented in quota_validate_cbk, but check
        for validate_count being zero was done in quota_check_limit (which is
        called by quota_validate_cbk). Hence there is a time window b/w decrementing
        validate_count in quota_validate_cbk and checking whether
        validate_count is zero in quota_check_limit, during which if the
        control is passed to code in fop checking for validate_count being zero,
        same stub will be resumed twice - once in fop and once in quota_check_limit.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2686 ([glusterfs-3.2.0qa8]: nfs server crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2686

commit 3ea5bff8dfebbf325daccf81511c5d4534b2ca86
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Apr 7 17:06:25 2011 +0000

    DHT: send revalidate to all subvols and not just first subvol
    
    Reverting commit 23d9783a192669b638d42b8dd127ad69ea36f950.
    When first subvolume is down, mount point becomes inaccessible.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand Avati <avati@gluster.com>
    
    BUG: 2532 ([glusterfs-3.1.3qa8]: bringing first subvolume down makes mount point inaccessible)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2532

commit ee96f768b99362ec724c8918d24028def065536a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Apr 10 10:43:05 2011 +0000

    libglusterfs/xlator: set THIS properly whenever some operation is done iteratively on more than one xlator in the graph.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand Vishweshwaran Avati <avati@shell.gluster.com>
    
    BUG: 2683 ([glusterfs-3.2.0qa8]: glusterfs client crashed in reconfigure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2683

commit 6db2b422f05d0553d0a83af603ae4d176b41cbdf
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 8 02:50:03 2011 +0000

    mgmt/glusterd: Fix op_ctx issue with replace brick
    
    Replace brick recognizes command originator by the presence of op_ctx.
    Brick op uses the op_ctx to collect the brick response on all the
    machines in cluster. This patch satisfies both these assumptions to
    make glusterd functional in replace-brick.
    This is a hack for 3.2.0. Need to Fix the assumptions in later release.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2691 ([glusterfs-3.2.0qa9]: glusterd error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2691

commit 64cefcee88c6164f20668187929c76ec54a72d23
Author: Gaurav <gaurav@gluster.com>
Date:   Fri Apr 8 00:54:33 2011 +0000

    NFS : Exclusive create storing verifier.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit d6a7e92da11663cdb6068466f22e230ceb0dc31d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Apr 7 23:57:58 2011 +0000

    features/quota: Add checks for any of the parents of file being NULL while checking limits.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2685 (nfs server crashed in quota_check_limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2685

commit 25837b52939398bf3964d20301f0e641033c5c68
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 7 00:22:23 2011 +0000

    gluster rebalance: don't move a hardlinked file.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit 0d440ddb80c55320fe9deda15cecec8e31cab2c1
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 6 05:46:44 2011 +0000

    gluster rebalance: don't depend on the sticky bit for validating link file.
    
    do the getxattr() with 'trusted.distribute.linkinfo' key, which
    returns success only if the file has a link. With this we can preserve
    the exact same permission as old file.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2530 (Rebalance not working properly (file permission issues))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2530

commit 12de69e4204c0dced7cccc8450954ad2e20c1075
Author: Junaid <junaid@gluster.com>
Date:   Fri Apr 8 01:12:40 2011 +0000

    features/marker: Synchronise the read and write of marker_local_ref.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2663 (glusterfsd crash with bonnie++ when marker is enabled)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2663

commit ca381e5aeadb4e2fdced09c3e86b12498ce84c11
Author: Junaid <junaid@gluster.com>
Date:   Thu Apr 7 15:38:25 2011 +0000

    mgmt/glusterd: Quota cli message improvements.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2620 (CLI improvements in quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2620

commit 54558cfc3653d5b5201ec7fd45594cb610eefbca
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 7 21:11:15 2011 +0000

    mgmt/glusterd: serialize the dict only if its not NULL
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2691 ([glusterfs-3.2.0qa9]: glusterd error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2691

commit 56814fefa0a4cff5d08528aa9103e01350d0e53a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Apr 7 09:41:47 2011 +0000

    do not access the empty loc inode
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2611 ([glusterfs-3.1.0-qa5]: crash in quota_rename)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2611

commit 62e1096fb01f7a12c5bc5ff77e3cb427248b80ad
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 7 07:44:51 2011 +0000

    removed reference to GF_LOG_NORMAL
    
    instead used GF_LOG_INFO, which is more standard log level.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2669 (RuntimeError: cannot recognize log level "normal")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2669

commit 19b2e01f1c53c358c5673c3d216c0349b55481a6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Apr 7 07:10:42 2011 +0000

    do not change the arguments of a function
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2685 (nfs server crashed in quota_check_limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2685

commit 4bf80aa399f70aa976796154728d518362708792
Author: Junaid <junaid@gluster.com>
Date:   Thu Apr 7 06:53:27 2011 +0000

    features/marker: Perform quota updation on rmdir and unlink by holding inodelk on parent.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2664 (Quota: recreating the volume on same bricks shows similar info as for earlier one using "list")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2664

commit a99c9b5ffd92ac05d173ff2bad698a0f7947b327
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 7 06:40:47 2011 +0000

    debug/io-stats: Fix races and performance issues in profile
    
    Fix the race in update_latency and memset of interval stats.
    Update fop hits and latencies only when both the options are set.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2636 ("profile info" lists 'nan' in latency when heavy i/o is running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2636

commit db347c756609e5fb6792bfd69046c97fd6aacc0e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Apr 7 06:40:46 2011 +0000

    mgmt/glusterd: Fix gluster-profile performance issues
    
    Add count-fop-hits option to io-stats
    use count-fop-hits instead of dump-fd-stats for profile
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2636 ("profile info" lists 'nan' in latency when heavy i/o is running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2636

commit 476b672347641c3f0d6b346b13feaf530ecbbe93
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Apr 7 02:51:50 2011 +0000

    extras: scripts to cleanup xattrs stored by quota.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2664 (Quota: recreating the volume on same bricks shows similar info as for earlier one using "list")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2664

commit 7a32aa912ea4e49d3ef922ec6e0cb3d394109962
Author: Junaid <junaid@gluster.com>
Date:   Mon Apr 4 12:03:04 2011 +0000

    features/marker: Check for NULL before dereferencing pointers stored in local.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2607 (Fileop fails when quota is enabled)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2607

commit ee494c7519e5da09b66003de514db5e700c3001d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sun Apr 3 12:01:41 2011 +0000

    print the gfid of the inode for which dentry is not found
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2652 ([glusterfs-3.2.0qa6]: dbench keeps on running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2652

commit af4604ad4cf58f4b9b3fab26121c3ebd105428ca
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Apr 6 12:41:12 2011 +0000

    mgmt/glusterd: Reset context upon operation completion
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2650 (replace brick failed in distributed-replicated setup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2650

commit 50a0adf03e1401395b04c7bba3d5007658cae9e4
Author: Junaid <junaid@gluster.com>
Date:   Wed Apr 6 23:57:24 2011 +0000

    features/marker: Check if gsync is enabled in getxattr fop before performing gsync related operations.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2681 (marker returns dummy data for volume-mark attribute if xtime is switched off)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2681

commit 35dea20e40958ebbf018354e040570e654eb6bfc
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 5 14:24:59 2011 +0000

    check buf for NULL before accessing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2675 ([glusterfs-3.2.0qa7]: glusterfs client crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2675

commit 06c954a910fe8749b362490c62e5b49be5b0c385
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Mar 31 06:05:41 2011 +0000

    check dict before unrefing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2642 ([glusterfs-3.2.0qa5]: invalid reads in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2642

commit 8e8d4e0869623f352c7993293c6e132d795a34bf
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Apr 6 05:37:05 2011 +0000

    nfs: convert errno EDQUOT into appropriate nfs-errno.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2607 (Fileop fails when quota is enabled)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2607

commit 9bff4a73fedd388bb9c57a3e999361540ac333eb
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Apr 6 00:59:04 2011 +0000

    protocol/client: Avoid logging when EAGAIN is received for *lk requests
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 1887 (logging mess)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1887

commit 7bfaed649bf8a479afd051ea3c5adc7a4717b2fa
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Apr 5 10:22:57 2011 +0000

    change occurrences of marker_gsync to marker-gsync
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 282109ed02a1ad220027bc69398941ba2b115cd2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Apr 5 09:02:53 2011 +0000

    features/marker, cli: use appropriate conversion specifiers.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2649 (Quota: size field is not getting updated properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2649

commit 322ed6812d9a5b3c975b5c949ff5adfd16d40eb4
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 5 04:00:26 2011 +0000

    protocol/client: make sure to send only genuine events up to parent
    
    that way parent notify logic is fine.
    
    also, remove 'xlator_notify()' call in code, instead use 'default_notify()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2584 (Inode number changes on a directory when one of subvolumes is down in replicate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2584

commit b8ae8d95a814d9329c34e6bf3d705c0fc07115b7
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Mar 31 05:42:47 2011 +0000

    NFS : Store verifier for exlusive mode craete.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit e4c5ad45612e845eb476b29d51ec12b963660855
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 30 00:03:59 2011 +0000

    cluster/dht: send back the proper inode number in the cbk functions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2584 (Inode number changes on a directory when one of subvolumes is down in replicate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2584

commit 8a4e51fcc1d8fd69038c513712729bf9dba5c4e2
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 30 00:03:43 2011 +0000

    cluster/dht: log level fixes in lookup* functions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 99af7219c54b2264ede898fa619125c629519174
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 30 00:03:20 2011 +0000

    log gfid mismatches for the same file in cluster xlator lookup
    
    This can help in pin pointing some of the issues resulted in gfid
    mismatch for the same file, which is harder to find through basic
    debugging/logging of current codebase.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    
    BUG: 2346 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit a1a0e929534cb56e3a938229c7f87bfd0f1c17ec
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 24 07:28:00 2011 +0000

    cluster/afr: log enhancements - part 1
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@shell.gluster.com>
    
    BUG: 2346 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit ba044581fa8781886fbd4f4675f388c79f599b2c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 1 03:00:04 2011 +0000

    features/quota: use a double pointer to uint64_t as an argument to dict_get_bin while getting size.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit ff9e63c0975e786a69e5ecede78b178f20baceb7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Apr 1 02:56:18 2011 +0000

    features/quota: add NULL check before doing strcasecmp
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2646 (glusterfs-client crashes during getxattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2646

commit f338193a707ae5b6b5ab6f820bea32612c4311bb
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Apr 3 15:44:17 2011 +0000

    syncdaemon: refine intermal configuration of gsyncd
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2561 (gsyncd command's must be preconfigured)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2561

commit 01b3dff29adee2041b0ef1b374eda8c88fb07678
Author: Csaba Henk <csaba@lowlife.hu>
Date:   Sat Apr 2 19:40:49 2011 +0000

    syncdaemon: add monitor mode to support autorestart
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2537 (gsync autorestart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2537

commit e77c35248e8ce796bc5b108c10013089a0c65bde
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 2 19:40:48 2011 +0000

    syncdaemon: provide transactional semantics to config file writing
    
    So updating the config file from multiple contexts won't mess it up.
    This prepares the next commit where we'll set options internaly (which lacks
    the serial nature of user actions).
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2537 (gsync autorestart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2537

commit cfb9c834f96dc57c47dac8d27da4266d0dab1f3f
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Apr 2 19:40:47 2011 +0000

    syncdaemon: give some refactoring to cascading code
    
    - expiry check of foreign volinfo moved back to GLUSTERServer,
      so that under the hood we can removexattr the expired ones;
      a nice side-effect is that we can use the same dict layout
      for foreign and native volinfo (ie., foreign needs no
      timeout field)
    - get_volinfo() is renamed to get_sys_volinfo() and most of the logic
      is stripped off of it (what remained there is the check
      against foreign master ambiguity)
    - volinfo transition logic is cut out to an almost purely functional
      static method (only impurity is the exeption raised upon
      forbidden volinfo change)
    - ping renamed to keep-alive, as something called "ping" is
      not supposed to have payload (yeah, keep-alive is a bit fishy
      on this front too, but could not come up with better...)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2535 (gsync cascading)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2535

commit f007eb1a0701cd3e13e6ba67208cd1db9325a370
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 31 11:59:52 2011 +0000

    syncdaemon; adding corresponding pcloses to gsyncd invocation via popen
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit 913da6c337cfe342d60f3773057a14d645248421
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 31 05:58:58 2011 +0000

    syncdaemon: fix up fallback xtime value for slave
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2535 (gsync cascading)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2535

commit c0e6146f53d3e91764e9ff602ccba9a637b2db7d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Apr 1 03:44:02 2011 +0000

    debug/io-stats: Fix bugs in re-configure options
    
    If the options are not present in vol file reset the option values.
    If there is an invalid option log an error and continue,
    no need to exit
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2638 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2638

commit cd4fd271c6636ecc100171403b324a65a9e77fe2
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Apr 1 03:24:12 2011 +0000

    Replace strdup call to gf_strdup as GF_FREE is being called
    
    Also, fix validation of bs and count to <= 0.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2645 (volume top write-perf results in memory corruption)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2645

commit 5c709704ab5767b55f4eef7cddea52e18e2a6d42
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 29 07:07:05 2011 +0000

    cluster/afr: log enhancement - part 3
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d983f04c961304dc57d14c305751b0d1113c3a5d
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 29 07:06:45 2011 +0000

    cluster/afr: log enhancement - part 2
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit fa6ba86900abc9b023adf4ce642aba5eb0a35500
Author: Anand Avati <avati@gluster.com>
Date:   Mon Mar 28 09:30:38 2011 +0000

    nfs: capture attrs of create request in cs->stbuf for later use
    
    when attrs coming in as part of create request contain modes other
    than mode, they were getting discarded previously and a setattr
    was getting performed on a 0-filled iatt structure. This would
    result in EPERM at the access control translator as non-root users
    cannot chown a file to uid 0.
    
    Not seen with Linux NFS client as it (very likely) relies upon
    auth-unix to set the ownership of the file or sends an explicit
    setattr after the create.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit 9c09f44f716df2c45e25b6a9a6465592fde19ea3
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 31 11:59:51 2011 +0000

    syncdaemon: fix gsyncd invocation for config-set
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2555 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2555

commit 0f67ad828895960ab96f9e237eae8acbc6c63988
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 31 08:13:31 2011 +0000

    syncdaemon: minor cleanups in cascading code
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2535 (gsync cascading)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2535

commit 05daec675f1716554864e34e0a3c9c71423b6594
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Thu Mar 31 22:11:00 2011 -0700

    Revert "Process dir/link from other subvol if error in dht_readdir"
    
    This reverts commit cd3d977b10e24c4b46e55f9831113aba3a241583.

commit 498dbbc506ec9c694e18c3ae9a0d3d346abe338d
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 31 04:57:22 2011 +0000

    TOP: Improve output format
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2614 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2614

commit c68b1e28ae9b7528aa844764e719c7267976be83
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 31 04:57:05 2011 +0000

    TOP: Validate command options
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2628 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2628

commit 58974b02b6ebb65ee1f7baf23b0fe6c3e7fcf8cd
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Mar 31 04:56:10 2011 +0000

    TOP: handle list-cnt behaviour uniformly.
    
    Valid range is 0-100. if list-cnt is 0 or there are no files in the list,
    handle it uniformly.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2622 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2622

commit 3b5195cfa4976e1d83646b70b0f08f583a7a1094
Author: Junaid <junaid@gluster.com>
Date:   Thu Mar 31 04:28:43 2011 +0000

    features/quota: Use appropriate inodes while logging and create contexts in inode for files.
    
    - It also fixes limit checks if limit set in the directory.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2604 (Quota: crossing the set limit)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2604

commit 1c148f85c5abf561faeb68c699a13c8bd683de5e
Author: Junaid <junaid@gluster.com>
Date:   Thu Mar 31 04:28:26 2011 +0000

    features/marker: Fix memory corruption.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2629 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2629

commit 99779326d09f7ac98bb75bb1432d53c7c320a5c9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 31 04:27:22 2011 +0000

    mgmt/glusterd: Delete volume profile options on profile stop
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2638 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2638

commit a728fc84b67f8ba37cf63a8e3ef67cf8b0bb1f32
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 31 03:31:01 2011 +0000

    mgmt/glusterd: Improve profile output messages
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2616 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2616

commit 43700ed04c1bac15f5df3702410c83fb63607476
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Mar 31 03:31:00 2011 +0000

    cli: Improve profile output messages
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2616 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2616

commit 215a8352e2219c7ead29693ccab3452054a89041
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 31 03:29:35 2011 +0000

    syncdaemon: fix "--debug" option of gsyncd.py
    
    also be explicit about logging to a stream (ie. don't rely on the feature of accessing
    stdin through /dev/stdin)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2637 (gsyncd --debug broken)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2637

commit e0f03d7430f6b79e9ed0fa68234753e33368e3e6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 30 23:47:59 2011 +0000

    mgmt/glusterd: Fix space in error message
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2623 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2623

commit 5f6e7aecdb4dba8b181e90be99eb21ad40129315
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Mar 30 23:43:41 2011 +0000

    mgmt/glusterd: Mark the brick stopped when kill -SIGTERM is done
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2621 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2621

commit 0cccbefebfd2e95dbbf7f078f5e45267c60d48ed
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 29 07:06:26 2011 +0000

    cluster/afr: white-space cleanup - part 2
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit f7fb326c250997f274e4e928faec9aeca4ce12c9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Mar 15 01:57:15 2011 +0000

    nfs-rpc: Append replies to end of connection's txlist
    
    ..instead of prepending.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2491 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2491

commit c294df619656798b107933a42a0f5613c1df0830
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Mar 15 01:57:14 2011 +0000

    core: Add list_append_init
    
    To append to end of list, as compared to list_splice_init which prepends.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2491 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2491

commit a54e0358b1d66c04448b22c1a01e076b5a527008
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Mar 15 01:57:13 2011 +0000

    nfs-rpc: Exit txbuf transmission loop on EAGAIN
    
    ..instead of looping till the buffer is completely transmitted.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2491 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2491

commit 325ee7aeab629a7435922d9e61d04fd3418ec6d7
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Wed Mar 30 07:54:41 2011 +0000

    return after stack winding instead of destroying the frame
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2624 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2624

commit ca67876f15347faccba9fdd3f3f2997c58ef3fa6
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Mar 30 06:03:06 2011 +0000

    mgmt/Glusterd: prevent memory overflow
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2632 (possible memory overflow in one of the code paths in volume gsync stop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2632

commit f8c798350a5efa537418d1453f3e547574e68b55
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Mar 30 06:03:05 2011 +0000

    mgmt/Glusterd: add pid extension to the pid file of the gsyncd
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2538 (pidfile naming)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2538

commit d1c0e5b0dc64bb431c384b7584ea362143d8ef46
Author: Anand Avati <avati@gluster.com>
Date:   Wed Mar 30 01:18:46 2011 +0000

    nfs: more fixes to capture sattr for further usage
    
    in
    
    - mkdir
    - mknod
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit d1700d209431e19a2ecca43f644935533d705af1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 29 14:08:04 2011 +0000

    assign local to frame->local before checking for error conditions
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2617 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2617

commit 3ce486929518da2673b6cef5ef1047849f587729
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 29 13:37:26 2011 +0000

    access the proper loc structure when inode ctx get fails in quota
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2611 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2611

commit b40d510cf534b6fa1acb827ed7c26bcdebc5fd36
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 30 00:28:29 2011 +0000

    io-stats list: init counter to 0 for counting members
    
    By setting init the counter cnt to -1, we were loosing 1 entry when
    displaying the list on the cli.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2606 (gluster volume top open lists only 99 entries)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2606

commit d088ffe14da46247052e34c5cfaced46f5079b24
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Mar 29 14:15:32 2011 +0000

    debug/io-stats: fix memory corruption.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2619 (Memory corruption in io-stats)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2619

commit 4597929cc527f8abaf9ef9e1d5499ea416e5c7ff
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Mar 29 09:10:07 2011 +0000

    Gsyncd: Cascading of gsync daemons
    
    This patch allows the slave of a gsyncd to be started as the master of another slave gsyncd.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2535 (gsync cascading)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2535

commit 4c246c02f4ab569fca92255b7efb819243711d6b
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Mar 28 07:21:51 2011 +0000

    mgmt/glusterd: Fix double free on quota limit-usage.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2595 (Quota: re-setting the space-limit crashes the glusterd on the same node)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2595

commit b6ffe3ed1d44fddaed2a5eb2586b0584bfc17d5a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Mar 28 04:32:32 2011 +0000

    mgmt/glusterd: Add rpc-auth-allow-insecure option
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit 94a2118801138db92dda0cf74691fea95d7f9d12
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Mar 28 04:30:28 2011 +0000

    NFS : Volume access option accepts only valid values.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2598 (Volume access option suceeds with any string value)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2598

commit 61b669c8366bc43e62324bbd0ce381cdbe633b93
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Mar 28 04:04:55 2011 +0000

    features/marker: check for op_ret before doing any operations in lookup callback
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2497 (client crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2497

commit b65f54c9aa1e3405b731769e56460592ba69ed60
Author: Pavan T C <tcp@gluster.com>
Date:   Mon Mar 28 03:50:29 2011 +0000

    Loosen restrictions on hostnames
    
    Signed-off-by: Pavan T C <tcp@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2249 (Problems with hostname validation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2249

commit b691214fd9114e2b4c7d419ef06aedd28614127a
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 24 07:27:26 2011 +0000

    cluster/afr: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 408a2b029824a3915ce094aed520061e80c078c8
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sun Mar 27 14:03:10 2011 +0000

    check the local for NULL before accessing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2592 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2592

commit 2406e21dd2d63b4ab69d8179d69dae17f0e4a0d9
Author: Pranith K <pranithk@gluster.com>
Date:   Sun Mar 27 08:51:29 2011 +0000

    mgmt/glusterd: Add the new volume only after all ops succeed
    
    - Print errors to the user when any of the op fails in create volume
    - Add the volume to the list only after all the ops succeed
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1888 (volfile generation error ignored)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1888

commit 48b0c02ba2b9c828b29ce236c838ab0e56ddab08
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 21:43:44 2011 +0000

    protocol/server: change allow_insecure option in reconfigure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit 8b32b9ab363639888938c631882c8cfd6b00a3f5
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 21:43:31 2011 +0000

    mgmt/glusterd: Provide volume option to allow insecure ports for server
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit f6e0e614fbd07a57de44f0d16c304d01d1a5b269
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 21:43:17 2011 +0000

    mgmt/glusterd: Allow insecure ports by default
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit 8a15f00cd8ad19fa414d2ef63dc71147ae191d73
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 21:43:03 2011 +0000

    rpc: Don't warn on failure to bind to privileged port
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit 3f37921807fc84af6d9529ae18aa8575e2458fc5
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 21:42:49 2011 +0000

    rpc: Provide an option to allow insecure ports
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2582 (allow option to accept messages from insecure ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2582

commit a9a6d95ecb86f45b197bc36d8e6a504d65367c3a
Author: Junaid <junaid@gluster.com>
Date:   Fri Mar 25 01:49:07 2011 +0000

    cluster/dht: Fix double freeing in quota aggregate.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 0952bbb30564e8a2359039841290f9956c96e1b9
Author: Junaid <junaid@gluster.com>
Date:   Fri Mar 25 01:48:52 2011 +0000

    features/quota: Return dynamically allocated address of local.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit c55d855c74d860ff0dae942f95c290eba45f15f8
Author: Junaid <junaid@gluster.com>
Date:   Fri Mar 25 01:44:20 2011 +0000

    mgmt/glusterd: Fix double memory free.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 3f6be7a12972684500d4357a170a3de4f452a63b
Author: Junaid <junaid@gluster.com>
Date:   Fri Mar 25 01:39:12 2011 +0000

    features/marker: Handle fop's gracefully when none of the feaures are enabled.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2529 (Starting Gsync  causes ENOTCONN to glusterfs client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2529

commit 2339b9e87e8e48df9b64ba016949a2f40b50324e
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Mar 23 21:44:13 2011 +0000

    mgmt/glusterd: Avoid printing no-error message to user when op fails
    
    - Prints the peer hostname/uuid where the error happened in case the
    peer does not return an error string.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2585 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2585

commit 1180b2136f6cf014a08f072f8ecc4aac2b69580f
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 25 05:58:35 2011 +0000

    mgmt/glusterd: Fix import friend volumes
    
    - Sync transport type of the volume
    - Stop stale bricks
    - start new bricks if the volume is started
    - Restart/Stop nfs server based on the new information
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2549 (Quota[glusterfs-3.2.1qa3]: enable/disable crashes the glusterd on other node)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2549

commit fc06afc8cd1a646f71e0ed1713b05b8aa533c6d2
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Mar 23 05:25:26 2011 +0000

    mgmt/glusterd: fail create volume on create-volfiles failure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1888 (volfile generation error ignored)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1888

commit e488f48ebc3d545b9924b828e59f08a5d42571ba
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Mar 23 00:52:22 2011 +0000

    Gsyncd: fix a typo for the command-line arg of gluster process
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 89b45f610dfc455dd6c8fd84c1d3c9945ad62f4c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 22 05:01:56 2011 +0000

    send proper device id to posix while self healing device file entry
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2567 (self heal on device files changes the major and minor number)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2567

commit cd3d977b10e24c4b46e55f9831113aba3a241583
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 22 04:43:56 2011 +0000

    Process dir/link from other subvol if error in dht_readdir
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2137 (dhtafr - self heal after renaming directory)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2137

commit 0ed446b7c8c8bcda74a5d64cdb8f0ac2d11b2389
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 22 04:43:20 2011 +0000

    Implement stripe readdirp fops
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2159

commit c1f1345e6fc2a008ef03632cd64211bf20c244bb
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Mar 21 02:00:19 2011 +0000

    nfs3: Flush file I/O call states on open failure
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2566 (NFS read hangs when arequal-checksum script is run)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2566

commit f2a9ce7abacc8749589d0b931ca155d2c7578774
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Mar 17 19:08:49 2011 +0000

    nfs: Remove redundant and erroneous check for create mode EXCLUSIVE.
    
    nfs3.c/nfs3_create_common:
    
    The if condition checks for create mode being EXCLUSIVE. However, when
    create mode is EXCLUSIVE, this function never gets called (nfs3_create_exclusive is
    called). Also, instead of checking, it actually sets the value of createmode (= instead of ==).
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2553 (NFS file create with Mac client and UNCHECKED mode returns "Operation not permitted")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2553

commit bd132d8e410dbc24cbef751925cd937939f35747
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 23 03:53:28 2011 +0000

    Prevent deadlock in io-stats list management of top.
    
    Senario: thread t1 has lock on the queue, and waits on the element lock to remove
    it and unref it. Thread t2 has a lock on the element being removed from the queue,
    but waiting on the queue on the list to update it.
    
    The fix is to move list management to outside of the lock. Additonal to this change
    is adding locks to ios_stat_ref
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2578 (Mountpoint hung while running the dbench)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2578

commit 9bd4f25b6b0ea8103324b685fcc21525a29849a8
Author: Gaurav <gaurav@gluster.com>
Date:   Wed Mar 23 00:50:17 2011 +0000

    CLI : Validate options farmework.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2064 (NFS options are removed upon glusterd restart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2064

commit 6f6c817314a2a867be996c2ad6d9a1337617ded4
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 22 07:08:24 2011 +0000

    do not check loc and fd since they can be passed as NULL only
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit e4957b1ae771fa7a1e56cfd25f55deaa527dff4c
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 22 06:30:44 2011 +0000

    TOP: remove trailing '/' from brick path
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2573 (trailing '/' with brick name says "volume top unsuccessful" while running 'top' command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2573

commit 384f81cf412c0da9d13a547c0aeb2cd33e59774d
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 22 05:20:01 2011 +0000

    Moved stats cleanup to forget from unlink and rmdir
    
    Additionally, replace inode_ctx_get with inode_ctx_del in cleanup
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2575 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2575

commit 95f59725adbefd574cfd694dc101ee9c803f167a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 22 04:50:07 2011 +0000

    free priv structure if something fails in init for locks
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit a4233a41bf6a2f9ddbce15a530b1678c55ba24a5
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 11 05:02:15 2011 +0000

    cluster/afr: skip openfd flush when the file is already deleted
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2497 (client crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2497

commit e115072f4b654d407fcf435256334645ab471776
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Mar 22 04:36:39 2011 +0000

    features/marker: Donot fail init when both gsync and quota are not enabled.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2529 (Starting Gsync  causes ENOTCONN to glusterfs client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2529

commit 9c7bc4f5da67a630fe543bd8bdf5d1aaf2acef99
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Mar 17 19:01:02 2011 +0000

    libglusterfs/compat.h: Fix build warning in dirent_size().
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2550 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2550

commit c077bd932beff169a366c99c94ff45e432d1d793
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 22 03:01:03 2011 +0000

    remove the names from the log files
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2573 (trailing '/' with brick name says "volume top unsuccessful" while running 'top' command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2573

commit b230793b8b345ff25168567209cae10294b53f23
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Mar 21 07:26:30 2011 +0000

    cli: Fix memory leak in gluster profile
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2571 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2571

commit 6167c66758de454284560474f3b4a893d8a69965
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Mar 18 00:41:08 2011 +0000

    spelling errors fixed across the code base
    
    recieve -> receive
    maintainence -> maintenance
    verison -> version
    commited -> committed
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2262 (Spelling errors in source)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2262

commit c0d8f11be283637622b0ece82ba8392f0a67e87c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 17 08:00:49 2011 +0000

    man pages updated
    
    Thanks to Divya MN <divya@gluster.com> for all the effort
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2444 (keep man pages upto date with new codebase.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2444

commit 50ab0ad4ffb5ea844c6fe1f708df65b769c88db1
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Mar 21 07:16:17 2011 +0000

    mgmt/glusterd: Glusterfsd not restarted on changes to marker option.
    
    Bricks are not restarted when some marker options are changed and the Marker
    translator is included statically in the server volfile.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2529 (Starting Gsync  causes ENOTCONN to glusterfs client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2529

commit 1ef501b5c526a2dec6592cb8693996a81e5834c4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 21 01:54:42 2011 +0000

    cluster/distribute: aggregate quota-sizes in lookup and getxattr.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 7852c982ffd85ee38b42894f3c966d1634d550be
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 21 01:54:26 2011 +0000

    features/quota: Client side quota.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit d0e3c762318673a6081ab96abc525a568f82170b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 21 01:53:58 2011 +0000

    features/quota: removed quota.c and quota-mem-types.h files.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 941442ced02900128c6893caa6159bac2f1d9683
Author: Pranith K <pranithk@gluster.com>
Date:   Sun Mar 20 03:25:50 2011 +0000

    mgmt/glusterd: Dont reset the port on brick stop
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2564 (replace brick fails on master)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2564

commit 24d326a5180adaedf8d49a2d087afa0ec470a537
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Mar 18 05:37:24 2011 +0000

    Change NFS_PATH_MAX value to 4096
    
    This is tmp fix for crash seen on solaris gnfs server is received path is
    longer than PATH_MAX. On solaris default PATH_MAX is 1024, and linux default
    PATH_MAX is 4096.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2476 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2476

commit dece0547259a5d73fd6c2616802f83388b5ff4da
Author: Gaurav <gaurav@gluster.com>
Date:   Fri Mar 18 03:52:08 2011 +0000

    CLI : Fix memory free for key_fixed.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2554 (Invalid memory access in glusterd.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2554

commit bb5b31fb96dbc2092e2967924462c59863845749
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Mar 18 00:56:14 2011 +0000

    fuse: set 'graph->used' after graph change
    
    Because in the current way, we have chances of changing the graph
    to old one too. with this, we can control this.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2503 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2503

commit 26dcbc729395b00dae45cd62222aaccbd2ab7aff
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Mar 18 00:38:36 2011 +0000

    debug/io-stats: don't log the dangling volume message
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 131d82cacd4600654d3e931287d2556f50bd9db5
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Mar 18 00:38:13 2011 +0000

    libglusterfs: added graph id in logging
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 3d912aa905105098db1eea1e4c3e9c42aa0c7da7
Author: Rahul <rahul@gluster.com>
Date:   Thu Mar 17 01:55:43 2011 +0000

    Added checks for fix-layout & migrate-data usage.
    
    Signed-off-by: Rahul <rahul@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2547 (rebalance command usage and help mis-match)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2547

commit 6d8077eb9c7129f4bdb352132e565906568dfb66
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 17 11:44:25 2011 +0000

    Revert "syncdaemon: make /usr/libexec/gsyncd the default remote gsyncd (incomplete hacky quickfix)"
    
    This reverts commit 8c801cfd05eb533ae64ea9f06e49e632955cf0c0.
    
    The commit in question was just a temporary fix (which violated
    component boundaries).
    
    Since 9043b0f8 we don't rely on this fix.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit 223bfc4d19a2b7cccc62e05129e09591233edc44
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 17 00:46:38 2011 +0000

    syncdaemon: fix up exit value
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2380 (TypeError: 'str' object is not callable)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2380

commit 236600d7de4e900ad3905908853785dc2ac6629f
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 17 00:46:37 2011 +0000

    syncdaemon: don't try to set log level to None
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 0a1f00cdcb087e00c184c62c1a9f22803c257cf2
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:38:49 2011 +0000

    libglusterfs/src/*.c: log enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 0f39192ef6bc7b1c74cfaeb04ed21305996d67e9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:43:33 2011 +0000

    protocol/client: log enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 0349ec857004428f29b50f3604e5ab126dfb407e
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:43:27 2011 +0000

    protocol/server: log enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d3e9a97b6ef340f827cf55de5340a8bf5c732f3e
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Wed Mar 16 09:43:21 2011 +0000

    protocol/server: White space cleanup and NULL check validations.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 0d7628c6c2b0c1d1e1bdcc6dc3904d30d6ebf38e
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:43:13 2011 +0000

    protocol/auth directory updated with whitespace cleanup and proper logs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d643c1093a89398de6cbe333aeea5cf91a56b3ad
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:43:04 2011 +0000

    cluster/dht: log enhancements
    
    Signed-off-by: Shishir Gowda <shishirng@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 7df49c62422d33d19eaebeddd3fcdacccc9c7bce
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:42:29 2011 +0000

    cluster/dht: whitespace cleanup
    
    also fill tabs by spaces (untabify), and indent the code
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit a938b273338094599c79dad7f60883599450e4ac
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:42:19 2011 +0000

    features/locks: logging enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 56b86533b1e2eca1535a7b20955b72baf25cd2ae
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Mar 16 09:42:12 2011 +0000

    features/locks: White space related changes to adhere to coding guidelines.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 825a104afe892f91c77dfc3622b50116341c5bb2
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:42:06 2011 +0000

    features/access-control: logging enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d5bbe1e4d45a96f3a68c8e862ad051e675970911
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Mar 16 09:41:58 2011 +0000

    features/access-control: White space related changes to adhere to coding guidelines.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 4e6c54e75436c7e922981a2513a3a5c9fd293568
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:41:52 2011 +0000

    performance/stat-prefetch: logging enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit eb537b0e5f97a74b4562fa8cb0ce24b60732323c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:41:44 2011 +0000

    performance/stat-prefetch: whitespace related changes to adhere to coding guidelines.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit b75f0fd11c4eba196ad236a5618df2befd137df0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:41:31 2011 +0000

    performance/write-behind: logging enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit aad5b36d0f04b3c7bf1cec0af63b158fd37b2183
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:41:25 2011 +0000

    performance/write-behind: whitespace cleanup.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 3629c2880488ea9d4fa34f9e026bd9007b91bd4a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:41:16 2011 +0000

    performance/read-ahead: logging enhancements.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d0b82760dc06b16f323d65506337c8373ce6ceb1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:41:09 2011 +0000

    performance/read-ahead: white space related changes to adhere to coding guidelines.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit f6da369103a3a8962f3d6b7f9df6bd2f1f8cc8db
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:40:50 2011 +0000

    performance/quick-read: logging enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 4aeaa48108d924ea67d77fedfadb7d96a13712dd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:40:43 2011 +0000

    performance/quick-read: propagate errors during open back to actual fops.
    
    - If open fails and there are any other fops waiting on that open, those fops
        should also unwind with appropriate errors. Before this patch, irrespective
        of success/failure of open, fops waiting on it were stack_wound and since
        fd was invalid, they would fail with EBADFD errors. Due to this
        actual error would've got masked by EBADFD.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 094d42b9a8d1d5d68d29bfb9b0b735f5c94f8a36
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:40:35 2011 +0000

    performance/quick-read: whitespace related changes to adhere to coding guidelines.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 39b953c2749f1d9a9302276e6c829dc4681758a8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:40:22 2011 +0000

    performance/io-cache: logging enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 67609fd909f8fa0dc5fa812cc17c5441747ca4b8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 16 09:40:14 2011 +0000

    performance/io-cache: whitespace related changes to adhere to coding guidelines.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit e02171f1b86cfb3cd365c4c47edc83b8230985bd
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:40:06 2011 +0000

    rpc-transport: log enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 02d8dcbb5c7483ade3dd052d75e6430cb0253d1f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:39:57 2011 +0000

    rpc-transport: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit d4aae8327ac5581cd47dd0fcea796ddbb03be5ea
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:39:46 2011 +0000

    rpc/rpc-lib : log enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit abc2a6b0b91a82bb59327cd2a4ca72b8954e1425
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:39:21 2011 +0000

    glusterfsd: log enhancement
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit ca6528592eed88ff1598b25f1aaa1c99c14a2e32
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:39:15 2011 +0000

    glusterfsd: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 532edf1c4a8f0db7447d12657a100e8dd91a74e0
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:39:07 2011 +0000

    storage/posix: log enhancements
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 75bda6e41d9b244ab9d040a035582ea6bd4c8120
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:38:35 2011 +0000

    libglusterfs/src/*.c: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 858944850adf7ec04898a15db90e231655ac4965
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:38:56 2011 +0000

    storage/posix: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 924d2ed32d19a2a0014f803edd3d4511a0af99c2
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:38:28 2011 +0000

    libglusterfs: all header files updated
    
    * whitespace cleanup       (M-x whitespace-cleanup)
    * indentation fixes        (M-x indent-region)
    * replaced tab with spaces (M-x untabify)
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit ebe47d5dae42da18b289e7be44eb67a8157a56b1
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:38:21 2011 +0000

    libglusterfs: gf_log_nomem() and other minor updates
    
    log will be done when the memory allocation fails, hence in code,
    no explicit logs required for memory allocation failures.
    
    also, if there are logs before actually doing a log_init(), they will
    be logged in 'stderr'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit ce01662eefb575d1afe397486653920ec101f40f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 16 09:37:55 2011 +0000

    libglusterfs: logging/mem-pool section white-space cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit b44b06a9d0adb50b426e0ee195a9867e01240ada
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Wed Mar 16 13:11:45 2011 +0000

    mgmt/glusterd: Use PATH_MAX for pid_file.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2534 (Glusterd crashes on gsync stop.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2534

commit 9796d4bf3015042f1b2bef22a2be6c22fed4cf4d
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Wed Mar 16 12:59:54 2011 +0000

    features/marker: Invalid option "marker", use "gsync" instead.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 6ddc55874985008ee51982d755743f0d01161a44
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Wed Mar 16 05:58:09 2011 +0000

    mgmt/glusterd: Use dict_set_dynstr in place of dict_set_str.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 10eafa32914f2458f3bb30073724758a95a82310
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 16 03:35:46 2011 +0000

    TOP: glusterd/mgmt related changes
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2516 (Implement gluster volume top command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2516

commit 3d1fc9ebe2b0292108dd0737cf8f40d6fcb8cf51
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 16 03:35:16 2011 +0000

    TOP: cli, rpc/xdr related changes
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2516 (Implement gluster volume top command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2516

commit f208d7148fefd55b4073bda978816d71831ffefa
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Mar 16 03:34:53 2011 +0000

    TOP: io-stats related changes
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2516 (Implement gluster volume top command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2516

commit 4db0bc5977eb3e2d5bc0e3666bb6de5719d153a4
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Mar 15 22:25:55 2011 +0000

    features/marker: QUOTA related changes in marker translator.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit fa4e997970fb0e1d0abaae742a35701bcb576150
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Mar 14 22:22:04 2011 +0000

    storage/posix: Added GF_XATTROP_ADD_LONG_ARRAY flag to perform 64bit xattrop operations.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 031eee923d8fd79bc1cf78b7b24fe82e44186848
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Mar 15 05:35:45 2011 +0000

    mgmt/glusterd: QUOTA Glusterd related changes.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit c5d93456dcd17ddeb189c3e1390e58f95e30b851
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Mar 15 05:36:18 2011 +0000

    cli: QUOTA cli related changes.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 8221c3cae1ce5c2f7d897e5637591c5437aeea69
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Mar 15 05:36:33 2011 +0000

    rpc: QUOTA rpc related changes.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2473 (Support for volume and directory level quota)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2473

commit 7d61416a443b1786158c6236f182b6c11b3619f7
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Feb 15 03:08:17 2011 +0000

    features/marker: open the timestamp file with O_TRUNC to update the ctime
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2354 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2354

commit ab7dc7aafa61ae66db4ce7aa5e33e3ee408fd878
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Feb 15 03:09:02 2011 +0000

    Revert "features/marker: Use touch TimeStamp file instead of futimens, to avoid the dependency of newer libc"
    
    This reverts commit e045741f2bb75344a557cd618e1c7b1691238703.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2354 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2354

commit da57b8e7541ced2be0464f461e29dc7428bbcb14
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 14 05:36:16 2011 +0000

    used S_ISVTX instead of 01000 in code for sticky bit check
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2369 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2369

commit c886643f97373944030c118b7f78d0a8c06b2291
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Mar 14 04:20:51 2011 +0000

    cluster/afr: Fix wrong memory allocation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2517 (the size of allocated memory may be wrong)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2517

commit ac408b608130768fc9d67b836cef7c3f69f24de5
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Mon Mar 14 10:13:36 2011 -0700

    Revert "Eliminate syscall tight loop when handling EAGAIN in NFS."
    
    This reverts commit 689c1b5044e701e1b695a6e6c80647b9471ba454.

commit d66758b4930224ba8d050f728b701b3259bf9cc7
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Mon Mar 14 10:13:08 2011 -0700

    Revert "Make sure we are looking at the right errno in the fix for bug 2452."
    
    This reverts commit dae57d72a58ff61fe6eda800d386bf83574ef5c2.

commit 9043b0f8b927e687decc738cf736e603436e9e51
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Mar 14 05:01:31 2011 +0000

    mgmt/Glusterd: Make use of regexp pattern-matching sections to set a sane value for remote-gsyncd
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit eadce9083876fb71d1be8f77715866fc8af45ba4
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Fri Mar 11 07:57:52 2011 +0000

    Gsyncd: Explicitly mention the path for the gsyncd.py script
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2437 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2437

commit 086ef357b64d4b7e5340226ada639813b1efd101
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Mar 13 23:10:14 2011 +0000

    Gsyncd: Include a directory glusterfs in the libexecdir, so that it is not cumbersome with other scripts
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2477 (Cleanup up the installation of geo-replication scripts.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2477

commit 2108ee66f226a124fd2ec20692e9941ed15464a5
Author: Anand Avati <avati@gluster.com>
Date:   Thu Mar 10 03:21:21 2011 +0000

    afr-entry-self-heal: fixes to detected renames (gfid based)
    
    - perform expunge first (before impunge) to be able to delete renamed away files
    - perform readdirp instead of readdir to get gfid along with entry names
    - if gfid mismatch is found, expunge the entry
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2500 (Self Healing not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2500

commit 3145f70fc27d8259b885049bcf7a737f4b7de569
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Mar 13 23:33:13 2011 +0000

    mgmt/Glusterd: remove the checks performed for all ops in brick_op
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit 05dbcd0cb2415bb218221eccc1e7005645aa318b
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 21:49:04 2011 +0000

    mgmt/glusterd: remodel glusterd store
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1754 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1754

commit 5a8edf3fc4deb4713d390690b144342e24659f8c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Mar 12 01:08:34 2011 +0000

    rpc-transport/rdma: handle cases where peer is NULL in send_completion.
    
    - There can be valid cases where peer is NULL - For eg., race b/w pollin
        received on handshake socket and as a result transport getting disconnected
        and handling of a send/recv completion on the same qp for some previous
        read/write - in send/recv_completion_process. Hence we should be checking
        for a valid peer pointer before accessing it.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2514 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2514

commit 40a5e452bea79d1c7c78af480354e16ef970ca63
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Mar 11 01:48:57 2011 +0000

    nfs-rpc: Fix order of freeing request and connection objects
    
    ..to prevent segfaults due to double frees and dereferencing of freed
    up memory.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2504 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2504

commit 57d4551c05cdc17d2a9d687aca66802ce7af53f0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Mar 11 04:32:20 2011 +0000

    posix: Set op_errno to ENOMEM on failed iobuf_get
    
    This prevents a situation where op_ret for the read fop is
    -1 but the op_errno is still 0.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1977 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1977

commit 1c6e8fdf678d18e3b1a5472ebc076e7b3cb323e4
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Mar 11 02:21:10 2011 +0000

    posix: Handle offset greater than file size of EOF determination
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1977 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1977

commit 190ef2ee5006614615144ed46935d1f8267bd021
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Mar 1 03:59:48 2011 +0000

    syncdaemon: fortify handling of failed xtime queries
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 3e95176263e31135039bc65b9aa510801af20d4d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Mar 9 07:14:54 2011 +0000

    do not access the inode while doing statfs in trace
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2502 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2502

commit b42578dbff924a2c0f70f379e4bcf67950d4ce9a
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Mar 9 06:16:45 2011 +0000

    mgmt/glusterd: mem-factor added as an option
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2501 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2501

commit 4f1639f6bffa0b882ce826e55c65025ba2630656
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 8 02:06:22 2011 +0000

    Fix solaris build failure in latest git
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2440 (Fix solaris build issues seen on latest git)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2440

commit be00f14b935f775b4df45e2acf281b19a28f8f7e
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 8 01:07:26 2011 +0000

    gluster rebalance: set the proper permission of the file
    
    remove the sticky bit from the mode.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2369 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2369

commit a0aafa365dd355864d24232bd6d7f399ef38f9ef
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:20:39 2011 +0000

    cli: gluster profile CLI
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 496a04f3b2d46893635f93e5a33032969a826cd2
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:20:20 2011 +0000

    libglusterfs: Add sort routine
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 9c945fdebc195c030701257abf42c4959f97234e
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:20:00 2011 +0000

    glusterfsd: translator info event handling implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 34bf8de743aaff3e7c242833a10791aedc404ea3
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:19:39 2011 +0000

    mgmt/glusterd: gluster profile implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 970b22e377e20408df8646cdc61a968b55c145b1
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:19:20 2011 +0000

    rpc/xdr: Add gluster profile and brick op structures
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 332508e8e3b5cd2ffe1c68e496d294d4fef2dea4
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:18:44 2011 +0000

    debug/io-stats: Changes for handling gluster profile
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit d23585307a0e333c9b1ff627df4c7e30b3642201
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Mar 10 02:18:22 2011 +0000

    rpc: Changes for handling unix domain sockets avoid race
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1965 (need a cmd to get io-stat details)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1965

commit 45fd0d904d11f07f8b523af2d1357f081e3c5dc1
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:43:03 2011 +0000

    syncdaemon: don't follow symlinks on entries query
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 38d57757b33983052594e14582611ef05f753581
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:42:48 2011 +0000

    syncdaemon: fortify purge implementation to not do silly things like following symlinks
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2377 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2377

commit 19e65beb16d2dc337d144e25337561ff6e82826a
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:42:33 2011 +0000

    syncademon: fortify handling of failed entries queries
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 6cfb0fe84547db1ce8c21f0710cd0c74e88607c0
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:41:29 2011 +0000

    Revert "syncdaemon: Syncdaemon should not crash on ENOENT while performing setxattr()"
    
    This reverts commit d6407c59a4fd262749edd11ecb457b1e5be7a77a.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2342 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2342

commit 8717ef57a7b2554fe35da27f3cfd775083538313
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:41:10 2011 +0000

    Revert "syncdaemon: Handling of deleted symlinks (of directories). When a symlink of a directory of master is deleted. The corresponding delete in slave is handled as rmdir() of the symlink assuming the file to be directory"
    
    This reverts commit bee672e5f70b3c6712280130aeb61da0674add11.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2377 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2377

commit 0121c4c9574e09181f73f9ca7316bce2c5ec7ba9
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:40:52 2011 +0000

    Revert "syncdaemon: Create conf directory if not preset"
    
    This reverts commit 38ae1720be39b62a4f199aa5be4ac85948bc23f0.
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit fa04a42cc5b9f187ea169b26cc60ee25ac8a3c31
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:40:38 2011 +0000

    syncdaemon: improve loglevel handling
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit f2dd7abbf1af9832c891e6edadba696cefbccbe1
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:40:21 2011 +0000

    syncdaemon: ensure stdio is flushed before exit
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit 50492481a2b1e5a1425598fb44d802ec047f6c2f
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:40:05 2011 +0000

    syncdaemon: add support from dumping urls in canonical and escaped canonical form
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit cbdf22d79ada40e483583a4277aba2faaa769892
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:39:47 2011 +0000

    syncdaemon: add versioning to config file
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit f9a982f30922d812097a70b87628a590b2f51f15
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 10 00:39:27 2011 +0000

    syncdaemon: configinterface: add support for regexp based pattern-matching sections
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit cad088fe3a77bd3322de278c0337c1e29906f9cc
Author: shishir gowda <shishirng@gluster.com>
Date:   Sun Mar 6 22:14:32 2011 +0000

    build fixes in mac os x
    
    Looks good.
    
    ----- Original Message -----
    From: "Amar Tumballi" <amar@gluster.com>
    To: rfc@dev.gluster.com
    Sent: Thursday, March 3, 2011 6:30:52 PM
    Subject: [PATCH BUG:625] build fixes in mac os x
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 625 (Gluster Fails to build on OS X 10.6.2)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=625

commit 7ef59472f10a69c90d94b73e97bca385c6b4b29e
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Mar 7 07:23:51 2011 +0000

    mgmt/glusterd: preserve delete volume payload structure for backward compatibility
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2494 ([glusterfs-3.1.3qa4]: replace brick and delete volume fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2494

commit f3dc620caaa7068ff12323a0001075140624733c
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Mar 7 04:38:35 2011 +0000

    mgmt/glusterd: reset pending count before sending the op
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2493 ([glusterfs-3.1.3qa4]: glusterd not reaching default state on errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2493

commit 108de35b1775db82cccaf0bd1b62ccacfb1c61e8
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Mar 7 04:38:15 2011 +0000

    mgmt/glusterd: fix payload errors
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2492 ([glusterfs-3.1.3qa4]: gluster operations fail)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2492

commit 135aca330b0429776125bdd98be4ccd85dcfa715
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Mar 4 02:41:35 2011 +0000

    mgmt/glusterd: Handle race in peer connect and reverse probe
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2486 ([glusterfs-3.1.3qa2]: Core generated due to SegFault in glusterd_sm.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2486

commit 5b909c83de45e9457eef773cb24770b47d51a632
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Mar 4 02:22:37 2011 +0000

    Solaris xattr support for symlink and special files.
    
    Since glusterfs uses xattr for storing gfid, and xattr support for
    symlinks and special files does not exist in solaris. The work around
    is provided by creating hidden files under export directory on solaris
    hosts only. the hidden files ares maintained in .glusterfs_xattr_inode directory,
    and all xattr ops on symlink and special files are redirected to respective
    inodes.
    
    All dir entries with name starting as .glusterfs (GF_HIDDEN_PATH) will
    not be shown in readdir ops.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2213 (Symlink fails with ENODATA)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2213

commit 0066a093a258bfd1a9130134318c3df3571a091d
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 3 06:22:59 2011 +0000

    debug/trace: add logs for 'forget', 'release' and 'releasedir'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2332 (update 'debug/trace' to log gfid instead of 'ia_ino')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2332

commit 8f132b363d41e7fe94a8712ed297a5f810e8ed56
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 3 05:47:33 2011 +0000

    glusterd: check for the variable before dereferencing it
    
    check if 'peerinfo->mgmt' is set (ie, handshake is completed), before
    sending any request to that peer.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2486 ([glusterfs-3.1.3qa2]: Core generated due to SegFault in glusterd_sm.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2486

commit 568d4027033a5cb89d6aaee757d4c71e5369fe25
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Mar 3 03:43:06 2011 +0000

    glusterd: handle a crash in dump_version_cbk (in handshake)
    
    reset 'frame->local' to NULL before STACK_DESTROY(), which prevents
    freeing of valid 'peerctx' pointer.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2485 ([glusterfs-3.1.3qa2]: Core generated due to SegFault in glusterd_rpc_notify)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2485

commit dae57d72a58ff61fe6eda800d386bf83574ef5c2
Author: Pavan T C <tcp@gluster.com>
Date:   Fri Mar 4 01:44:22 2011 +0000

    Make sure we are looking at the right errno in the fix for bug 2452.
    
    Signed-off-by: Pavan T C <tcp@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2452 (Excessive CPU usage /very low throughput while using NFS mounts)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2452

commit 689c1b5044e701e1b695a6e6c80647b9471ba454
Author: Pavan T C <tcp@gluster.com>
Date:   Wed Feb 23 06:23:26 2011 +0000

    Eliminate syscall tight loop when handling EAGAIN in NFS.
    
    Signed-off-by: Pavan T C <tcp@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2452 (Excessive CPU usage /very low throughput while using NFS mounts)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2452

commit 826bf14de9eafe1cb67c45f25a9cfb236649801a
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Mar 3 02:04:51 2011 +0000

    NFS : Check for duplicate entries while filling up child_up array.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2483 (Showmount output is not consistent with exported volumes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2483

commit 77d82df9d5e0047b0f1779130c4031cf3ce8ae1b
Author: Rahul <rahul@gluster.com>
Date:   Tue Feb 22 04:13:14 2011 +0000

    Display correct usage of rebalance command when it is wrongly entered.
    
    Signed-off-by: Rahul <rahul@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1922 (Volume not present wrong message displayed on command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1922

commit 5166c40af2502d1a26d4c0947378321b9bc3857c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 1 06:55:03 2011 +0000

    gluster rebalance: send the proper 'procnum' to glusterd
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit 4175d3e8e2ca1afc0e9f3404ca04fe29d522c81f
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 1 03:37:12 2011 +0000

    gluster rebalance: give option to split the command
    
    the 'gluster volume rebalance <VOLNAME> start' is enhanced with two more options:
    
    * 'gluster volume rebalance <VOLNAME> fix-layout start' (for fixing layout only)
    * 'gluster volume rebalance <VOLNAME> migrate-data start' (for migrating data only)
    
    Also the old way of running rebalance in one shot will still work fine
    
    * 'gluster volume rebalance <VOLNAME> start'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2258 (enhance gluster volume rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2258

commit ae578f0c6518afd22cf13c21eebca203352774d3
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 1 03:36:45 2011 +0000

    gluster rebalance: get the proper/exact error msg to cli
    
    introduce a new field in XDR structure, and hence change the version
    of program.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1922 (Volume not present wrong message displayed on command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1922

commit d95f28de8482c816c2b718d3cf62b667e7a6953c
Author: Gaurav <gaurav@gluster.com>
Date:   Tue Mar 1 06:02:52 2011 +0000

    CLI : NFS disable option through volume set.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2094 (Need option to turn off NFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2094

commit 4d9de810f1cb4211fc59ab5b042771402c998331
Author: Gaurav <gaurav@gluster.com>
Date:   Tue Mar 1 06:02:39 2011 +0000

    CLI : NFS persistent local/global options.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2064 (NFS options are removed upon glusterd restart)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2064

commit 63632c7b95d204cb077d999e32690a2cdcba1327
Author: Anand Avati <avati@gluster.com>
Date:   Tue Mar 1 14:49:59 2011 +0000

    rpcsvc: safe mem_put of req in nfs_rpcsvc_submit_vectors
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2481 (Crash in NFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2481

commit f8ac2f645716847929f89ed218487f67db3e9f01
Author: Anand Avati <avati@gluster.com>
Date:   Tue Mar 1 14:40:27 2011 +0000

    rpcsvc: perform mem_put at the very end for safe unrefs
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2481 (Crash in NFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2481

commit 7e546e16925e50dc33db05c67b8b5cad1b3922ef
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Feb 24 00:08:46 2011 +0000

    Gsync : Do not expose volume gsync, when geo-replication is disabled
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit a3ab0ad1f1c0a5574ae294f5d72aac4df8f50124
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Feb 28 22:40:46 2011 +0000

    NFS : Send error reply on rpc decoding failure.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2436 (Not able to send error reply in nfs_rpcsvc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2436

commit 731f07378bc0dce305fd3625e9bd4846096a97e3
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Feb 28 22:40:30 2011 +0000

    RPC : Sending error reply on decodong failure.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2435 (Not able to send error reply in rpcsvc.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2435

commit 972836043ea378cafb9639f2db9f04652955eef1
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 1 02:10:15 2011 +0000

    glusterd: remove rpc code from internals of glusterd
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit bf73fd2d8d6805a9a3b947464c65a9847442bba3
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 25 08:38:44 2011 +0000

    glusterd: separate out cli specific programs and mgmt specific programs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit 36bd0291118dfee4df9d387eb94681d41a0abcbb
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 25 08:37:21 2011 +0000

    glusterd: dependency on 'priv->mgmt' completely removed
    
    using 'peerinfo->mgmt' instead.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit 66825f283a28c591af673a9fa752e5f5dd8302db
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 25 08:35:36 2011 +0000

    glusterd: keep mgmt program peerinfo specific
    
    With different version of glusterd in different machines, its not
    possible to support using just one mgmt program. Instead each
    peerinfo structure should have its own mgmt programs, so one glusterd
    can support multiple versions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit 204fc1205af14bdd98d9a86b9f7293c5b7f6747a
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Mar 1 03:16:29 2011 +0000

    v2 Prevent removal of trusted.gfid xattr
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2461 (remove xattr of trusted.gfid succeeds)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2461

commit b99e0e06788380e41d6c08ea308a6dd87a7afdfe
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Feb 23 03:38:36 2011 +0000

    mgmt/Glusterd: while resetting the volume options, the previous data structures w.r.t auth. must be deleted
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2374 ([glusterfs 3.1.2] gluster volume set auth.reject command failure on nfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2374

commit 156e1e26d76d4b62ad1fae15938a1350c9bc892a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 1 00:49:19 2011 +0000

    check for inode and path being NULL before copying them
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2463 ([7b07d444a77526f27f860210930bf1d4c7fbea9b]: ./autogen.sh crashes glusterfs in fuse_getattr or fuse_setattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2463

commit ba1cea55eedec2f7f9fbbc10e581da2c9bcd8038
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 06:07:40 2011 +0000

    Stop building uuid test program
    
    Building tst_uuid.c results in a compilation error with -DDEBUG
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2447 (Enable assert () and memory accounting with DEBUG)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2447

commit 46c69ec62db97c52c5e8e42e23cf440f742e033e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Feb 23 09:34:30 2011 +0000

    rpcsvc: Handle more than one payload vectors.
    
    - fops like write can recieve payload data in more than one vector. This can
        happen with write-behind being loaded on client side.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2454 (rdma data corruption)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2454

commit c46f85b026a1d0ad90f7be0efa4cd380962a1741
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Feb 23 02:12:50 2011 +0000

    if volume created is both of tcp and rdma type show it in volume info
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit 63f00588bbfd477c2f4579fd4392c14679dd7ac0
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Feb 24 06:16:36 2011 +0000

    mgmt/glusterd: prevent spurious cmd unlocks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2460 ([glusterfs-3.2.0-gsync1]: gluserd crashed trying to access freed request)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2460

commit 8a96aa607b4e3a6c782a0d912b6bf101f82f7c07
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 00:25:05 2011 +0000

    performance/io-cache: Whitespace cleanup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 8d6de6959ad49f413968b562a5963d665dc11488
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 00:24:47 2011 +0000

    libglusterfs/dict.c: Whitespace cleanup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 44020e349649f774021bf65931ee10cf6b6ddd47
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 00:24:27 2011 +0000

    cluster/afr: Re-factoring code for alignment
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit b7be90b2674b0c9f1c219479c08b45e424684146
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 00:24:00 2011 +0000

    cluster/afr: Whitespace cleanup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 3e2d1070754cbea8b0ef6c4239ffce9ffe5d856a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 28 00:23:36 2011 +0000

    libglusterfs/xlator.c: whitespace cleanup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit be002fbdba6c66ea6f04f51e45310faedcba5fd2
Author: Anand Avati <avati@gluster.com>
Date:   Fri Feb 25 13:23:56 2011 +0000

    dht: log filename on failed reavalidate
    
    The previous log message is pretty much useless without the path
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2346 (Log message enhancements in GlusterFS - phase 1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2346

commit 7b07d444a77526f27f860210930bf1d4c7fbea9b
Author: Lakshmipathi G <lakshmipathi@gluster.com>
Date:   Tue Feb 22 08:29:07 2011 +0000

    install gluster binaries under /opt/glusterfs/version with sym.link at /usr/bin
    
    Signed-off-by: Lakshmipathi G <lakshmipathi@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2279 (rpm spec file changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2279

commit 65ad0fb37b4df6ef842235c0ff3981c2611d56c5
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Feb 22 06:40:18 2011 +0000

    Solaris build fixes.
    
    Including compat.h for definitions of IXDR_PUT_U_../IXDR_GET_U..
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2440 (Fix solaris build issues seen on latest git)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2440

commit 4a95f8f3b39f58349ef0935b1746e543408b3080
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 18 03:10:29 2011 +0000

    man pages updated
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2444 (keep man pages upto date with new codebase.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2444

commit 991b61661d74de5b1349050308dbd131e0de607c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Feb 22 05:25:30 2011 +0000

    check the op_ret for less than zero in sp_create_cbk since posix can send negative values other than -1
    
    posix can send -ve values other than -1 in create:
    
    op_ret = setgid_override (this, real_path, &gid);
    
            if (op_ret < 0) {
                    goto out;
            }
    
    In stat-prefetch we check op_ret only for -1 which results in function
    proceeding and op_ret may become 0 due to other function calls in
    sp_create_cbk, hence crashes in fuse.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2409 (crash in stat prefetch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2409

commit 21e4db42468d5bb7ebd9fa6a91461edd11b2a6da
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Feb 22 05:25:11 2011 +0000

    storage/posix: set op_ret to -1 when setgid_override fails.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2409 (crash in stat prefetch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2409

commit 2a184da3ca83f03dec69fcf0f26ae84c231d2e37
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Feb 18 03:37:50 2011 +0000

    Solaris: disable cli support rebalance and replace brick
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2440 (Fix solaris build issues seen on latest git)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2440

commit 46279693027230d5454ad98c267d93d5139e19af
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Feb 22 05:00:37 2011 +0000

    send the CHILD_DOWN event also to fuse
    
    and start the fuse thread in CHILD_DOWN event too.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2005 (Mounting Gluster volume with RO bricks hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2005

commit d437dd91bf167675615d7c7c2f99abbed2d899a1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Feb 21 06:48:23 2011 +0000

    log the total replace brick command received
    
    Log the full replace brick command which says whether the command is
    start/pause/status/abort/commit.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1404 (need a dump of all the op/mgmt commands)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1404

commit 3af42dac5fbea3af8d65799fd50300838f2e1d33
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 18 03:34:23 2011 +0000

    glusterd/cli: option added to create volume with both transports
    
    to avail the option, enter the volume create command with arguments
    'transport tcp,rdma'
    
    and while mounting, on the mountpoints which works on rdma,
    
    do, mount -t glusterfs <IP>:/<VOLNAME>-rdma <MOUNT-POINT>
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2294 (Currently there is no way through cli to make a volume listen on both the transports (socket/rdma))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2294

commit 28bda239100b9eef9b378dac2052a19d7264a51c
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 18 05:18:20 2011 +0000

    debug/trace: updated the logs to print gfid instead of 'ino' values
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2332 (update 'debug/trace' to log gfid instead of 'ia_ino')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2332

commit e8aed37adf3f623abd1b05a6926615002987bf17
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Feb 19 01:52:22 2011 +0000

    glusterd: make it more RPC friendly
    
    make sure each procedure has a actor associated with it.
    that way proper versioning can be implemented in modules
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2333 (make glusterd more rpc friendly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2333

commit b2d94417764ca5462cbdcdd634ea45ba12c8877f
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jan 13 06:55:37 2011 +0000

    fuse-resolve: correction in resolve logic
    
    * bring in soft (gfid based) and hard (path based) resolving
    * 'fd' resolving to new graph is not yet done.
    * fuse-resolve works similar to server-resolve
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2281 (I/O operations exit when add-brick is done)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2281

commit 23d9783a192669b638d42b8dd127ad69ea36f950
Author: Anand Avati <avati@gluster.com>
Date:   Fri Feb 4 21:43:49 2011 +0000

    dht: do not send revalidates to all subvols
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2450 (scalability enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2450

commit a144f2ca40d43a6ee3a50802fe1e8d1eda7a53b7
Author: Anand Avati <avati@gluster.com>
Date:   Fri Feb 4 21:43:19 2011 +0000

    core: have framework for GF_EVENT_CHILD_MODIFIED notifcation event
    
    If anything changes anywhere in the graph, all xlators know that
    something has changed. Previously dht and afr would mask certain
    events from propagating up. Now they forward GF_EVENT_CHILD_MODIFIED
    event in those situations
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2450 (scalability enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2450

commit 595e0df48bf387a87eb62a76d437a7ea79a0bc8a
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Feb 21 04:02:24 2011 +0000

    mgmt/glusterd: In store-retrieve exit with error message instead of crashing.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2066 (glusterd crashed while trying to restore volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2066

commit b00b3d46c226d339a1cfde70ceab101cee2ac865
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Feb 21 08:45:41 2011 +0000

    rpc/rpc-clnt: don't use iobref passed from caller to hold iobufs required for building program and rpc headers.
    
    - clustering translators like replicate assume iobrefs will be used as
        read-only by lower layers and there by use the same iobref while
        winding calls to multiple children. Since iobrefs can hold only limited
        number of iobufs, this limits the number of children these translators
        can have without overflowing iobrefs.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2157 (glusterfsd crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2157

commit 6312b2fca35b907acf6d29591a608767a2d67781
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Feb 22 01:38:30 2011 +0000

    free the tokens obtained from the cli
    
    The cli command which is tokenized is not freed leading to a memory
    leak.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2113 (cli: memory corruption in add-brick and create volume parsing functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2113

commit ccee8039720f8253d460384aa6659edd8e75f3db
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Feb 18 00:06:26 2011 +0000

    Fix getcwd size arg to make it work in solaris.
    
    glusterfs/d -f path failed if the path was not absolute.
    If the BUF argument is NULL, then on solaris the size argument has to be passed.
    On linux, if the size argument passed is 0, then it dynmically allocates a buffer
     of the required size. The fix is to pass PATH_MAX as the size for consistency.
    
    Signed-off-by: Shishir Gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2443 (starting glusterfs/d -f with relative path crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2443

commit 65e5cc0f394e1d2faaab3dc5d097a3f01b03dd41
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Feb 17 07:31:18 2011 +0000

    Solaris build fixes
    
    Disable geosync build for non-linux platforms.
    And fix solaris related build failures.The symbol getxattr was not
     available on solaris. The build on linux passed as getxattr symbol was
    available in the library. The argument was not being used, hence
    removed it.
    Make 64 bit build default in CFLAGS option by passing -m64 option
    Signed-off-by: Shishir Gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2440 (Fix solaris build issues seen on latest git)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2440

commit 46f0277dfcca246b12700b2c6893abcc14480623
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jan 26 13:28:04 2011 +0000

    replicate: set read-child to the subvolume which replied first (fastest)
    
    In the old logic read-child was set to the last subvolume which replied.
    Now it is updated to the first subvolume. This way we can ensure that local
    servers are preferred for reads _most_ of the times.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1172 (ls -lh on NFS mount of 2-mirror replicate gives incorrect file size)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1172

commit d3c622abaa6788e3b62628d2847618713b896cdf
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jan 25 15:03:52 2011 +0000

    io-threads: use slow/normal/fast classification of fops
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2241 (GlusterFs Stat Actions Degrade During I/O)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2241

commit c3590820ad372fa77c70ebfa37aaa0c4b540dd7a
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jan 25 15:03:51 2011 +0000

    io-threads: implement bulk and priority queues
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2241 (GlusterFs Stat Actions Degrade During I/O)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2241

commit 8d69845dfdd31b798fb02b08a1eabbc88d31243c
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jan 25 15:03:50 2011 +0000

    io-threads: whitespace cleanup
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2241 (GlusterFs Stat Actions Degrade During I/O)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2241

commit ea0634bf88dd63294559c2e4542b73b772b7ec56
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Feb 18 01:27:31 2011 +0000

    Validate peer probe command's hostname/ip address.
    
    Note, if an ip octet range exceeds 255, though this fails as a valid
    ipv4 address, it is still a valid hostname.
    valid chars are: 'a'-'z', '0' - '9', '-', '.' with a max of 255 chars.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2194 (gluster peer probe on a ip octet value bigger than 255 has no validation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2194

commit 2795f3e03a299daf88e3172b068511d41c493247
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 21 12:11:59 2011 +0000

    libglusterfs: Enable assert() and memory accounting with DEBUG
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2447 (Enable assert () and memory accounting with DEBUG)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2447

commit c47961cc18f7bbc1b46e1cdf5662b8ec409065e5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Feb 3 01:56:28 2011 +0000

    performance/quick-read: disable caching for fds opened with GF_OPEN_NOWB flags.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2240 (Solaris client hangs on file read operations)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2240

commit bf767b85e3e92ec4bad52c6af141299d2afa4480
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 18 02:55:38 2011 +0000

    cluster/dht : implement a fsetxattr() command
    
    Thanks to Jeff Darcy <jdarcy(at)redhat.com> for the patch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2319 (DHT uses wrong subvolume for fsetxattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2319

commit 069d7765898ef6f8d1334b23bf8ed9aee017b47a
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 18 02:54:49 2011 +0000

    rpc/xdr: update .x files
    
    * now, 'rpcgen $filename-xdr.x' file will result in $filename-xdr.h
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2153 (glusterfs3.x does not match "generated" source)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2153

commit 52cf9e992749a7cd5b2411581eff4c052d055ea9
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Feb 8 02:22:52 2011 +0000

    cluster/afr: stop spawning self-heal loops when the self-heal fails
    
    With the current model of self-heal, any loop wont resume if a
    self-heal failure happens. I have added the fix to stop spawning the
    initial loops on self-heal failure.
    Fixed the invalid read shown in valgrind in diff-self-heal.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1174 (Replicate spawns read loops even after destination fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1174

commit e77eae0f04b90ad9722ce82d59fd552cae63c347
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Feb 17 19:18:12 2011 +0000

    libglusterfs/dict: memcpy() data_t in unserialize.
    
    This fixes a race in dht_getxattr() where the xattr dictionary
    returned by one of the subvolumes can get free'd before STACK_UNWIND,
    leading to applications seeing junk values.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2442 (getxattr() on a directory sometimes returns junk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2442

commit fc63f24904b14aaad338aa44107cbda7e547e6b1
Author: Sachidananda <sac@gluster.com>
Date:   Fri Feb 11 02:08:55 2011 +0000

    Check correct variable after function call.
    
    And some white space cleanups.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2410 (Wrong variable checked after a function call)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2410

commit de44838d514e1f83a81dcff9438adbbb268ef981
Author: Sachidananda <sac@gluster.com>
Date:   Thu Jan 27 00:29:21 2011 +0000

    Typo fixes in log and cli messages.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2321 (Typo in logs and cli messages)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2321

commit 26cedae57d5b7cb8d50ed077ce29c92e30d6e260
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Feb 16 01:48:03 2011 +0000

    glusterd-volgen: fix a issue of wrongly closing '0' fd.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2421 ([glusterfs-3.1.2gsync10]: epoll_create returning 0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2421

commit 3f0525e65e7eb1d48610f13152b676dd6d9208f5
Author: Anand Avati <avati@gluster.com>
Date:   Wed Feb 16 01:41:44 2011 +0000

    volgen: avoid fclose() on cosed FILE *
    
    It can so happen that a previously freed up FILE * structure has 0'ed
    out memory and a second fclose() on it can result in close(0). This
    results in bad bad things happening.
    
    Signed-off-by: Anand Avati <avati@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2421 ([glusterfs-3.1.2gsync10]: epoll_create returning 0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2421

commit 43b68bb25c9ee16c10342ef643a6ecb82a345e16
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Feb 15 18:01:54 2011 +0000

    syncdaemon: fix RePCe version query
    
    RepceClient.repce_version fetched its own RePCe version, instead of
    querying peer, so lame.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2381 (RePCe versioning)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2381

commit 8ce08eb78165c9107925f23ac3057ee2cc01ff2f
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Feb 15 11:34:51 2011 +0000

    syncdaemon: Checking for the existence of gsyncd by trying to aquire a lock on the pidfile.
    
    If the locking succeeds then gsyncd is not running and if it fails then it means
    that gsyncd is running.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 1569424d1425a2f81c428d3968cd103ab2cad49e
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Feb 15 10:52:32 2011 +0000

    syncdaemon: change pidfile handling approach
    
    Signal handling of the python interpreter is a bit messy, so we cannot
    rely on executing a final clause upon termination. Switch over fcntl
    lock based pidfile handling which can provide reliable info about status
    of the process. (Due to aforementioned reason, pidfile as such is not
    guaranteed to be cleaned up, but lock acquisition is a reliable measure.)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit a68b4ad416970ec0ca710f650f54b87c3b92428e
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Feb 15 08:58:05 2011 +0000

    syncdaemon: Check for ctx context in the glusterd_op_stage_gsyc_set().
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 647d599f86f5577a94800607ff95b3e3636c4782
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Feb 15 03:08:44 2011 +0000

    syncdaemon: set the default value of timeout to 120sec
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 5a6720f1ee4ad6d96dae23742315c8ef35555a3b
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Feb 14 19:27:34 2011 +0000

    syncdaemon: Moved the gsync start code to cli.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 98cfaa15d8c51728ea4d3555667328b94ef497c1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Feb 14 16:43:36 2011 +0000

    Changes to include geo-sync in spec
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 30504941ea36ed40bbb628e8144ec2413e6fe765
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 14 16:42:05 2011 +0000

    syncdaemon: fix some pidfile issues
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 8c801cfd05eb533ae64ea9f06e49e632955cf0c0
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 14 16:42:04 2011 +0000

    syncdaemon: make /usr/libexec/gsyncd the default remote gsyncd (incomplete hacky quickfix)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2427 (set a proper default for remote syncdaemon)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2427

commit 248a1b7d387832dd97f43eb74b8b9d168292f3a0
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 14 16:42:03 2011 +0000

    syncdaemon: use "ping" message instead of "__version__" to wait for remote to come up
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2424 (Starting gsyncd with --debug : AttributeError: type object 'FILEServer' has no attribute '__version__')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2424

commit 741ce91b89cf221f8be94168e1d04916cc2f3204
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Feb 14 13:33:00 2011 +0000

    cluster/dht: Send removexattr() to all subvolumes.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2426 (removexattr is not sent to all subvolumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2426

commit d6f065b350a72a34b9a435a89d9b7cb59081bb44
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Feb 14 01:01:19 2011 +0000

    syncdaemon: config-get-all option add to gsync cli.
    
    Signed-off-by: Mohammed Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 0cc73c92734acc86cb559fc2d3b3ee8c834e5f63
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 14 11:19:25 2011 +0000

    syncdaemon: fix KeyError
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 653a46850d765ca00a76452c76950ed60ab967d3
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 14 10:57:59 2011 +0000

    syncdaemon: make configparser code work with all supported python versions
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 1b04647157079d35851e206b8e9572960b2de214
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Sun Feb 13 03:46:56 2011 +0000

    syncdaemon: Using /usr/local/libexec/python/syncdaemon as the default directory where the python scripts are installed.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 76cbd26728a491fef0c7e2d657a931910ba3f8d1
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Feb 13 02:01:30 2011 +0000

    syncdaemon: conf file to be read properly
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 38ae1720be39b62a4f199aa5be4ac85948bc23f0
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Feb 13 01:58:09 2011 +0000

    syncdaemon: Create conf directory if not preset
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit f0831feae02a0c248b674c9cf9e9cc282e0e4854
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Feb 11 07:19:05 2011 +0000

    fix a typo in xdr_gf1_cli_gsync_set_req function
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2418 ([glusterfs-3.1.2qa7]: crash in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2418

commit 206b11705f36d4cc74d80465e77ecc9d74c69405
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Feb 11 07:06:52 2011 +0000

    initialize the cli_req structure before sending it to xdr
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2418 ([glusterfs-3.1.2qa7]: crash in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2418

commit bee672e5f70b3c6712280130aeb61da0674add11
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Feb 9 08:15:59 2011 +0000

    syncdaemon: Handling of deleted symlinks (of directories). When a symlink of a directory of master is deleted. The corresponding delete in slave is handled as rmdir() of the symlink assuming the file to be directory
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2377 (gsyncd.py RepceClient: call (symlink) failed on peer with instance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2377

commit 7b16a08989e804e857589c8a34881140150dc11c
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Fri Feb 11 01:06:55 2011 +0000

    syncdaemon: configinterface.py file moved under xlators/features/marker/utils/syncdaemon/ directory.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit d6407c59a4fd262749edd11ecb457b1e5be7a77a
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Feb 9 02:12:59 2011 +0000

    syncdaemon: Syncdaemon should not crash on ENOENT while performing setxattr()
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2342 ([glusterfs-3.1.2geosyncqa4]: crash in gsyncd script)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2342

commit 6248ead2ab0481a40d91b824fb249e4bc4f943ba
Author: Gaurav <gaurav@gluster.com>
Date:   Wed Feb 9 00:39:55 2011 +0000

    NFS : Fail Nfs init if volume-id not found.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2124 (NFS crashes when volume-id option is not given with dynamic-volume option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2124

commit 2e81c881f036d90323fd07d7df07d881723d7a28
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Thu Feb 10 05:29:34 2011 +0000

    gsync: cli support for gsyncd.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 08ca1d3c7801d22f1de452f098b0a5df251ca5e7
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Feb 9 06:11:02 2011 +0000

    removed some of the stale scripts
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2393 ('gluster-volgen' and 'gluster-defrag' scripts are stale, but present in AMI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2393

commit 07402f590e12b097e8267e924e0ae69d9b8964fb
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 20:42:24 2011 +0000

    syncdaemon: config revamp #3: implement command line get/set/del interface to configuration
    
    The INI style config file has following type of sections:
    
    - [global]
    - [peers <local>]
    - [peers <local> <remote>]
    
    Option dispatch to sections is derived from command line (ie., [global]
    if no arg given, [peers <local>] with <local> being the only arg,
    [peers <local> <remote>] if <local> and <remote> args are provided).
    So this all happens under the hood, gsyncd users need not to specify
    sections.
    
    New command line options:
    
    - query options:
      --config-get-all
      --config-get OPT
    - modify options:
      --config-set OPT VAL
      --config-del OPT
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit ebd7e1771c69a056f0456ff2dccac4319806f63b
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 20:42:23 2011 +0000

    syncdaemon: config revamp #2: implement canonicalized urls, use them in config file sections
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit d6363c595ace12a1bf9060dcd76a9e88e58d3db0
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 20:42:22 2011 +0000

    syncdaemon: config revamp #1: drop simplecfg, switch to stdlib's ConfigParser
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 71888401e2b959db316a9a296580d1e1c0c3a882
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Feb 8 06:33:38 2011 +0000

    syncdaemon: Removing the simplecfg.py entry from the Makefile.am, since it is removed.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit e045741f2bb75344a557cd618e1c7b1691238703
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Feb 8 04:05:21 2011 +0000

    features/marker: Use touch TimeStamp file instead of futimens, to avoid the dependency of newer libc
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2354 (handling futimens with older glibc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2354

commit ff7a493428e011f961d541e59e52ddb53c331d9c
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 20:28:48 2011 +0000

    syncdaemon: refine RePCe version check to tolerate difference in minor
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2381 (RePCe versioning)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2381

commit b6fcde94b37ba6d669ef24e4537846f33ac8ef41
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Jan 28 03:34:05 2011 +0000

    volgen: specify a mode argument for open(2)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 44773417bcaafeb6b7a8c44b5dc22bc7969e3102
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Feb 3 21:23:15 2011 +0000

    cluster/dht: Perform self-heal as root
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2370 (cluster/afr: Perform self-heal as root)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2370

commit 9f2e9fc465361e7821627a8c3a22863bb25b0810
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Feb 3 21:22:44 2011 +0000

    cluster/afr: Perform self-heal as root
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2370 (cluster/afr: Perform self-heal as root)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2370

commit 9cfa22f828f69c9f1f48b5e8994a4dff48d283a6
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Feb 7 05:42:18 2011 +0000

    protocol/client: decrement reopen fd count in cases of re-open errors
    
    In post-client-handshake client tries to re-open files, dirs, but if those
    files/dirs are already deleted when the brick is down the reopens
    won't even get triggered. In those cases the re-open fd count needs to
    be decremented to make sure the child up is triggered.
    I have also made similar changes in all the error cases of re-open/re-open-dir
    cbks. Lock recovery is already handling all these errors.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1761 (incorrect self-heal behaviour when files are deleted)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1761

commit 3a467b62babad8d44605db34601927025227f90e
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Feb 4 01:12:31 2011 +0000

    cluster/dht: restore attrs of dirs in self-heal
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2371 (dht: Set owners of directories after performing self-heal as root)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2371

commit ffbbb6a17075714865820a2f9722edcd70a4436f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Jan 31 03:29:13 2011 +0000

    rpc/rpc-clnt: don't access rpcreq after putting the struct back into mem-pool.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2335 (Segmentation fault in saved_frames_unwind)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2335

commit 3bad56d0d39e132b43d0122a570ba1b59a9a7caa
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 4 01:29:08 2011 +0000

    gluster rebalance: fix the permission issue of rebalanced files
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2369 (Rebalanced files written as root:root on any brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2369

commit 31efe81b13d6761cf153e71f7ac150751b2d4090
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 01:32:57 2011 +0000

    syncdaemon: add "setattr" server method, needed to synchronize metadata of links/dirs
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2318 (gsyncd.py :chmod on directory not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2318

commit d376253d1e91b9fc29f6a23253021647e139c2c1
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 01:32:56 2011 +0000

    syncdaemon: fix broken symlink handling in "purge" call
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2340 ([glusterfs-3.1.2geosyncqa4]: crash in gsyncd script while posix compliance test was running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2340

commit 4b96f79fa19191344ddeeafd40df8b6d18ef7cc9
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 01:32:55 2011 +0000

    syncdaemon: version the rpc
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2381 (RePCe versioning)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2381

commit 67f842aa406a05fd701f9dbdcd373516fa529087
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 01:32:54 2011 +0000

    syncdaemon: improve program termination
    
    - get rid of annoying "TypeError: 'str' object is not callable" message with python 2.4
    - don't leave program hanging dead when failure is hit
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2380 (TypeError: 'str' object is not callable)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2380

commit 681928ddc750c28b12ec5097aff0dc694a5275d6
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Feb 7 01:32:53 2011 +0000

    syncdaemon: display slave role in log output
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2379 (master and slave log should be easier to distinguish)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2379

commit e266833e72749368019b7dcae32dc206d180acdd
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Fri Feb 4 11:22:55 2011 -0800

    Revert "distribute: Return ESTALE when dir selfheal finds no fix"
    
    This reverts commit a4c948aca6058049523e31acf33ce5770f8693ad.

commit ed743d89affe8be2d9d7da87479a498af40e12b0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Feb 4 03:14:37 2011 +0000

    mount3: Do not return error when mount list is empty
    
    An exports list can be empty when no subvolumes have come up.
    No point returning error and confusing the user.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2345 (Taking distribute brick down returns 10006 error on mount command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2345

commit 44e68cbf833cc176d589780d47ffdbe5b4c3ab7c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Feb 4 02:04:08 2011 +0000

    nfs: Set volume started after root lookup succeeds
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2345 (Taking distribute brick down returns 10006 error on mount command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2345

commit a139e43f484d1b434c9120f9fb99bf5ff33fb51d
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Fri Feb 4 02:12:19 2011 +0000

    marker: Updating the xtime marks on both the paths in rename fop.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2372 (marker: time stamp not updated with rename)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2372

commit 5f8e2cab86eab7f5ee5b4bb9b649376e476c740c
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Jan 31 04:25:38 2011 +0000

    Logging : Use of uuid_utoa and uuid_utoa_r.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2308 (Threadsafe uuid to string conversion function)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2308

commit f3648c88ebc6d58a10854d564d3fc2c82290ce13
Author: Gaurav <gaurav@gluster.com>
Date:   Mon Jan 31 04:25:23 2011 +0000

    Logging : New uuid to string conversion functions.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2308 (Threadsafe uuid to string conversion function)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2308

commit ba40a3ece0a0b5b381e7d05c74d09cdd1818b817
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Feb 3 23:16:03 2011 +0000

    libxlator: New policy for aggregation of xtime:
    
    -Try to salvage errors like ENOENT/ENOTCONN/ENODATA,
                   -Propogate back any other error from any brick
                   -EINVAL if some assertion of the aggregation logic is broken
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2341 ([glusterfs-3.1.2gsyncqa4]: crash in gsyncd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2341

commit 7f59d855bb160a14a517e82b71e4f387b50cbf63
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Feb 3 23:15:17 2011 +0000

    libxlator: memdup the data that is required for aggregation of attributes
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2339 ([glusterfs-3.1.2geosyncqa4]: crash in gsyncd script)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2339

commit df9122f70deb6dbd0d950219ad1876e0a1ccd940
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Feb 2 01:46:15 2011 +0000

    cluster/afr: fix races in self-heal
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1188 (3.0.5 client crash - afr_set_split_brain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1188

commit cbd61752ffefab6b42d29057e0f5b5e59191d51d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jan 27 02:50:38 2011 +0000

    performance/io-cache: disable caching if indicated by NFS.
    
    - wbflags - which contain flags to disable caching - passed by NFS were not
        stored in local by ioc_open, there by causing failure of io-cache to
        honour these flags.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2289 ([3.1.2qa3] EIO while reading & writing from a file concurrently)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2289

commit 066b1809876ba156d925edcb8fb470ee90319d3c
Author: Sachidananda <sac@gluster.com>
Date:   Tue Jan 25 05:32:01 2011 +0000

    Move hostname, ip address validating functions to libglusterfs.
    
    hostname and ip address validation functions are duplicated in several
    source files. Move them to libglusterfs.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2249 (Problems with hostname validation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2249

commit 7691550a5bd281e9d21771b37066d44434e92934
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jan 24 22:55:07 2011 +0000

    use rpc_clnt_{new,start} (), instead of rpc_clnt_init();
    
    to prevent a race between getting a CONNECT/DISCONNECT event before
    registering a notify function
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2314 (notify function registration in CLI)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2314

commit efda1b98f5ef5449687cf9ded8d0b2c82d948885
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jan 19 02:08:48 2011 +0000

    free GF_CALLOCed memory by GF_FREE instead of FREE
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 89f556574552abe80d9afe155eb366634375846c
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jan 17 10:51:17 2011 +0000

    glusterfsd-mgmt: handle the RPC_DISCONNECT event properly
    
    This patch solves the issue of hanging mount point in case of wrong server name
    is given during mount command
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1453 (mount command didn't give error message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1453

commit 0e651882a9aadcb35ea764ea65c05c3661175e00
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jan 17 00:44:39 2011 +0000

    remove op_errstr from glusterd_handle_rpc_msg as op_errstr is not used in that function
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1598 ([glusterfs-3.1.0qa22]: crash in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1598

commit bd8f7b95972abdbaba0b4ec067b6cb7968ad7e56
Author: Gaurav <gaurav@gluster.com>
Date:   Thu Jan 13 07:29:08 2011 +0000

    cli: Show 'commit' option in replace-brick.
    
    Signed-off-by: Gaurav <gaurav@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2273 (replace-brick help does not show commit option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2273

commit 85300e25f2d47e33b169d14fa9eb0b7cfe39011b
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jan 27 05:23:35 2011 +0000

    adding syncdaemon
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 7d883898c5225df3f7c38e67274b74ff8ac396c0
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Jan 27 05:23:34 2011 +0000

    mgmt/glusterd: restart bricks when syncdaemon is enabled
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 66808736b7af00a868e98464282b1118fc80a612
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jan 27 05:23:33 2011 +0000

    volgen: add marker to brick volfiles
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 482d77b85d84bf5c2b48e4717f8d186967e42e63
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jan 27 05:23:32 2011 +0000

    implement "--client-pid" option which can forcibly set the pid value in messages to a predefined value
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit a2a92b99fc031544ff8a87861d34b2bbbdd2753c
Author: Junaid <junaid@gluster.com>
Date:   Thu Jan 27 05:23:31 2011 +0000

    adding marker translator
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 73bce15b61755509de23d32646135254d369a2f6
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Jan 27 05:23:30 2011 +0000

    adding libxlator, to ensure proper client side aggregation of marks by clustering translators
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2310 (georeplication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2310

commit 11dd59b788334fe2de1653ae85395986ba531606
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jan 24 20:35:44 2011 +0000

    rpc: handle proper 'ref', 'unref' of transport from rpc-clnt
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2250 ([glusterfs-3.1.2qa2]: SegFault in rpc-clnt.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2250

commit 40cdb88962cff1d32cd46cb089ad8bcd9be3d62d
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Jan 24 01:49:23 2011 +0000

    features/access-control: skip access-tests if the call is from fuse
    
    Fuse cant send aux gids. So access-control checks treat
    non-primary-group membership of user as "other". So skip
    access-control checks if the call is from fuse. We added a hack to
    treat all calls with pid set to 1 as calls from nfs. So for calls with pid
    not 1 we skip the access-control checks on all fops.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2296 (svn / subversion fails on gluster volume (replicated and non-replicated))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2296

commit 945ac04532d5efeeef324be485dcf2bade41708e
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Jan 19 01:49:05 2011 +0000

    mgmt/glusterd: error out if remove-brick comes for final bricks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2298 (removing the last pair of bricks from a volume results in inconsistency)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2298

commit 26e1bfc68a6b4dff95d5fb244076116896add68d
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Jan 13 01:25:09 2011 +0000

    cli: return error when cmd execution fails
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2287 (Gluster CLI returns wrong return code.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2287

commit 5fd43d28ff12ac1c4e4d60e77a38659013b1ab3a
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Mon Jan 3 00:37:22 2011 +0000

    protocol/server: Distinguishing the locks based on the type of fop like inodelk and entrylk.
    
    Currently, the protocol server considers entrylk to be held only on directories
    and inodelk on files and thus when a client unmounts itself while holding locks,
    it fails to free entrylk locks held on files and inodelk locks held on directories.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2221 (Failed to free Inodlk locks on directories when the client holding the locks was unmounted before releasing the locks held.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2221

commit df6d34d0042421bb87f30bcf5e03d4ba0de7501c
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Dec 17 02:53:15 2010 +0000

    glusterd: de-register nfs rpcs when it is stopped
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1783 (kill glusterd and stop the cluster and start again - check nfs process)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1783

commit f2a067c4fe92f7aefc5f64ea1e5b000c16af0946
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jan 13 03:38:51 2011 +0000

    nfs3: Handle root resolution failures
    
    ..to prevent a second reply to the client which results in accessing
    a call state structure that gets freed on the first reply.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2286 ([glusterfs 3.1.2qa3]: Crash due to corruption in gf_dirent_free)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2286

commit 5368b898fad7264405275adc2092859e3c87c14e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jan 11 23:31:40 2011 +0000

    performance/quick-read: Fix unwinding of same frame twice when qr_loc_fill fails.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2274 (crash in fd_unref)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2274

commit 29b664f062795614417b9348f40503360f9f9c56
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Jan 11 04:47:00 2011 +0000

    mgmt/Glusterd: make nfs.mem-factor settable through CLI
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2277 (Regression in Gluster NFS re-read performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2277

commit 89cbbee063243d84dc64b15b2e2f403be1ca226b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jan 11 01:40:16 2011 +0000

    nfs: Introduce tunable for memory consumption
    
    NFS has used a common define called the mem-factor to determine
    how much memory is allocated for the following items:
    
    o inode table
    o local structures used by nfs for storing fop state
    o local structures used by nfs3 for storing nfs op state
    
    These are all allocated through the mem-pool. The factor is multiplied by
    a multiple that is specific to each data structure. For eg.
    
    define GF_NFS_CONCURRENT_OPS_MULT     15
    define GF_NFS_INODE_LRU_MULT          6000
    
    The first value is used for allocating a mem-pool for storing
    state for each fop or nfs op that is currently being handled. Knowing that linux
    allows at most 128 in-flight requests, this multiple combined with the default
    mem-factor of 15 gives us 225 slots in the mem-pool for the local structures.
    
    Similarly, 6000*15 gives us a space of 90k inodes in the lru.
    
    That means, increasing the common mem-factor will allow increasing the perf
    under some conditions. This patch introduces the mem-factor as a configurable
    option.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2277 (Regression in Gluster NFS re-read performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2277

commit e344d58762e12aa1edd1d4b133e1c1f77229b370
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Jan 11 01:24:02 2011 +0000

    exit if the key or the value is null while retrieving the peer information in glusterd_restore
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2271 ([glusterfs-3.1.2qa3]: entry->hostname in glusterd_friend_find_by_hostname is 0x0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2271

commit f5934192a32a76baa12b7a22035187e63b7fdc1d
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jan 7 06:11:34 2011 +0000

    Add corresponding va_end.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2247 (Add corresponding va_end)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2247

commit 985f87517b7d00afd626f2cc85ca2ab02d33e613
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Jan 7 00:45:48 2011 +0000

    cluster/replicate: update st_nlink count of stat sent to application after completion of entry-self-heal.
    
    - certain applications like 'find' use st_nlink count to optimize searches.
        Hence an incorrect hard link count can result in non-healing of some of
        the newly created subdirectories.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2187 (Self heal errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2187

commit 38d0824031f445620fa0d704043cd5dedadea721
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jan 5 07:02:14 2011 +0000

    nfs3: Ignore requests for volumes without a single CHILD-UP
    
    NFS ignores the requests for subvolumes on which child-up has never been
    received.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2200 (cp dies with "Invalid argument" after failover)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2200

commit de6936a022e34a22eca39e189da368c03b46481f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Jan 4 03:15:35 2011 +0000

    check the value of op_ret pointer not the address
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 2e81e4b828d53068e291100f4024d628d9a59443
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jan 7 03:49:24 2011 +0000

    storage/posix: in opendir, allocate proper size for fd ctx pointer
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2280 (wrong size allocated for posix_fd in posix.c:posix_opendir())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2280

commit 879dc2f04f2bd35362bee214618f78ec4d688949
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jan 4 14:00:28 2011 +0000

    logging: reintroduce build warning for mismatching format strings and parameters
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit cfc387b0af174dfe303cdb3ef3ccfba979ef75ac
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jan 4 13:59:52 2011 +0000

    logging: fix format warnings
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit cbba1c3f55a7f73791310085b5d9bc65008f0b9b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Dec 29 05:42:02 2010 +0000

    nfs3: Force root lookup before starting fh resolution
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2200 (cp dies with "Invalid argument" after failover)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2200

commit 165efc45ab5518033612a58c1ac51243eb6bcef8
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Dec 28 01:14:19 2010 +0000

    nfs/server: unrefing inodes on error in nfs_loc_copy ().
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2252 (unreffing of inodes not done when memory allocation fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2252

commit 010394ee5e237606023f455955e005e111b9fa5b
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Dec 28 01:13:45 2010 +0000

    xlator.c: Unrefing inode's on error in loc_copy.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2252 (unreffing of inodes not done when memory allocation fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2252

commit 03c791e2d699574dae077d05a171a768bfb28ec3
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Dec 23 04:28:26 2010 +0000

    nfs: Support subdirectory exports
    
    Enable exporting directories as separate exports. Even though the directories
    wont show up in showmount output, they'll still be mount'able.
    
    The new option:
    
            nfs.export-dirs <on|off>
    
    is enabled by default so that users dont have to wait till this option
    is incorporated into the gluster command line.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit f0eeffe7b658164fb060a9805aa6cc422aba213b
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Dec 23 04:08:43 2010 +0000

    afr_lookup_done: Propogate the same inode number as sent in first lookup
    
    If only one subvolume was up, we used to unwind, without updating the ino
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2144 (errors removing directories when one subvolume is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2144

commit 818a4d128048721d70be2d6c8eafd2f41034b260
Author: Anand Avati <avati@gluster.com>
Date:   Wed Dec 29 12:23:08 2010 +0000

    stripe: fix memory leak
    
    destroy the frame copied and clean the local structure in stripe to avoid memory leak
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2253 (Memory leak in glusterfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2253

commit 98a1f381ba15dfc9c19ea3f9d778e8efb9e6be8e
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 8 03:43:20 2010 +0000

    quiesce: bring in feature to re-transmit the frames
    
    there was a corner case of 'fops' failing if they were in transit
    during a disconnection, if the failure is due to 'ENOTCONN'
    re-transmit the frame.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1500 (Mount point should not be in-accessible between reconnect to server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1500

commit 0cc2b35734224f44dda2fbd853506e04d889eb07
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 22 04:56:37 2010 +0000

    change the log level from warning to debug while getting pending matrix
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1080 (clang errors in the file afr-self-heal-common.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1080

commit 2bf223a5d31cc82ffa7a06371fde6615ced3b68f
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Dec 22 04:35:10 2010 +0000

    send_fuse_iov: check args to prevent possible NULL dereferencing
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2223 (Crash in send_fuse_err)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2223

commit 2e317d2d35a50a6440865de5445008fd814cd298
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Dec 20 03:59:02 2010 +0000

    rdma : prevent confusing logs when both 'poll_in' and 'poll_err' are received.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 48f3faaa492b7a6f93e1f3d79cb66b34fd080468
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Dec 20 00:24:33 2010 +0000

    nfs3: Access cbk must account for auxgids on group access checks
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2045 (Write permission denied for non-primary group membership)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2045

commit d0fff8965875ed7e7cee223bd2c7b12df10cb6d7
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Dec 20 00:24:32 2010 +0000

    nfs: Do not touch iatt on failed fops
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2169 (NFS crash in nfs-fops due to failed fop from subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2169

commit 953f89d82f2c444719ba3150c9890c072a2e7fb3
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Dec 16 01:24:33 2010 +0000

    glusterd,cli: print single error message on failure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1922 (Volume not present wrong message displayed on command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1922

commit e7512cbb171856a925b7db938da423b493339b00
Author: Harshavardhana <harsha@gluster.com>
Date:   Wed Dec 15 19:46:49 2010 +0000

    Add volume key to select data-self-heal-algorithm
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2218 (Replicate self-heal causes servers to go 100% cpu and unresponsive.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2218

commit e89a57733381b5fc70128eefc3184c03004b994a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 15 06:00:28 2010 +0000

    log the total rebalance command recieved into the logfile
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2231 (log the total rebalance command recieved, in the logfile to avoid confusion)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2231

commit 8ba141e5e5d6616f05f69bb958b4a879198c1de5
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Dec 15 00:37:22 2010 +0000

    libglusterfs: data_copy needs to init the lock
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2226 (data_copy needs to init the data lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2226

commit 70f29baa5d45f765903d1547c57640e578836e7f
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Dec 13 05:53:54 2010 +0000

    Make STRIPE_STACK_UNWIND and STRIPE_STACK_DESTROY default calls in stripe
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2134 (inode leaks on stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2134

commit b4218f679113b3b0a6e08a0dd9482ec99ee77a38
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Dec 13 13:40:34 2010 +0000

    Implement STRIPE_STACK_UNWIND and STRIPE_STACK_DESTROY
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2134 (inode leaks on stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2134

commit ef27058512773a76853e3c6c715465f87da2b13a
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Dec 13 05:31:28 2010 +0000

    Remove check for path in stripe_local_wipe
    
    The check for path is done in loc_wipe. During loc_copy, inode ref is taken
    before path set succeeds or fails.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2134 (inode leaks on stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2134

commit f190be2ea2793b6a9be51fef1043224b477986dd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 23:03:37 2010 +0000

    performance/io-threads: implement rchecksum fop.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2220 (Implement rchecksum fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2220

commit 4e2b53708e0ca3f740815dbe7741f276069235ab
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Dec 14 01:03:38 2010 +0000

    setsockopt should be called with solaris specific arguments for solaris server
    
    ----- Original Message -----
    From: "Raghavendra Bhat" <raghavendrabhat@gluster.com>
    To: glusterfs@dev.gluster.com
    Sent: Tuesday, December 14, 2010 11:56:43 AM
    Subject: [PATCH BUG:2205 v4] setsockopt should be called with solaris	specific arguments for solaris server
    Looks fine to me.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2205 ([glusterfs-3.1.2qa1]: error while setting the keepalive time interval)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2205

commit 1637eabfd3e953a609cd5c82f58a7daa9d88b243
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Dec 13 06:06:20 2010 +0000

    cli: remove duplication of cmd help
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2089 (Documentation bug in replace-brick options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2089

commit b754e531b48113596fddcd7d0b433ebcbf016c27
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 03:34:21 2010 +0000

    mgmt: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 361c804e9d70bd5a1c38eae1944635ca127c9ed9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 03:34:05 2010 +0000

    nfs: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit f9b61e81eb6ffbfcd25e43191797570b07412ef4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 03:33:52 2010 +0000

    features/quota: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 5ef77ec5a06d2fddb37c313fbee316da06002b82
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 03:33:38 2010 +0000

    cluster/distribute: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 3fd60a81d3a536cfd005e7fe3171d397d1019067
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 03:33:21 2010 +0000

    cluster/replicate: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 04fe9457923ff74e9fc396ed13c6a5eef4810493
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:14:25 2010 +0000

    libglusterfs: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 5f708e77242b0658f1619cca16e3e679163fb570
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:14:12 2010 +0000

    performance/quick-read: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit cc0c857ceba2bec066cb4167f4c84dfea925546b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:13:59 2010 +0000

    performance/io-cache: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 11b1c0735d7709d37ef775ff036e473a1b60801d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:13:41 2010 +0000

    performance/io-threads: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 9b87966e12fa53f59e383f701e9e391916a7860a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:13:28 2010 +0000

    performance/write-behind: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit 26caaeae10414f9888a438ad8559692a7f74f918
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:13:15 2010 +0000

    protocol: fix warnings due to format string mismatches during invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit aaad9c6f6ebe4bff3307e532cd802fafaed4a67f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Dec 13 00:12:54 2010 +0000

    rpc: fix format string mismatches in invocation of gf_log.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2211 ((re)introduce warnings for format string/parameter mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2211

commit df5f71b401decfb32006d7564db1a13bcd5e8be2
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Dec 10 12:24:16 2010 +0000

    client-reopen-cbk: fix a gf_log() crash due to wrong argument list
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit c40ce6beac9c3d9d006bcbd91bdac5e96055a00e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 9 01:03:57 2010 +0000

    rpc-transport/rdma: QP configuration changes.
    
    - set send and recv count to 4K.
      - set max_send_sge of QP to 2 since for msgs of type RDMA_NOMSG, there
        can be two vectors - rpc header and message from program.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2197 (applications running on large number of clients simultaneously result in ibv_post_send errors on server.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2197

commit ef8feeb8608728c738543b854f7f0795e80780e2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 9 01:03:39 2010 +0000

    rpc-transport/rdma: add informative debug messages when posting of send requests fail.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2197 (applications running on large number of clients simultaneously result in ibv_post_send errors on server.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2197

commit 625fb341b14acc704c588344ab5390c05b387179
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 8 23:20:14 2010 +0000

    set the return value to -1 intitially which may be returned as success in validate_or_goto
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 9d4ba49cd3f8055d4305d85c6149311e36d78bdd
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 8 23:14:04 2010 +0000

    check the return value after setting the fd context in afr
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 48d6fe293a487727d4686f64ef410a3df569f6a8
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Dec 8 22:55:24 2010 +0000

    check the return value properly after calling inode_path
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2203 ([glusterfs 3.1.1]: Core generated with Segmentation fault in afr-open.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2203

commit 40e1d364161b45299fcefd50879d532a01f4d2b5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Dec 10 04:48:49 2010 +0000

    rpcsvc: while handling transport-cleanup event look for listener with transport trans->listener instead of trans.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2208 (transport cleanup event is not sent to programs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2208

commit 9f480be0333863a2cb30088504d233fd6eb46ebf
Author: Anand Avati <avati@gluster.com>
Date:   Thu Dec 9 02:06:52 2010 +0000

    protocol: avoid repetitive disconnect logs
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 353fb2e97bfc3a44cc5301fa8dfb015406565048
Author: Anand Avati <avati@gluster.com>
Date:   Wed Dec 8 09:58:27 2010 +0000

    replicate: propagate CHILD_DOWN upwards properly
    
    During initialization if one subvolume returns CHILD_DOWN, then
    do not consider the other subvolume as down if we still haven't
    heard from it yet
    
    This causes DHT (on top) to prematurely (and wrongly) send
    CHILD_UP/DOWN upwards
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2200 (cp dies with "Invalid argument" after failover)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2200

commit 147b20c4a485ddb4b31b1811be4bf90610c91f7f
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 7 05:36:54 2010 +0000

    nfs: cleanup inode_ref/inode_unref to fix inode leaks and extra unrefs
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2195 (Crash in __inode_retire on NFS failover)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2195

commit 64cdcbe39bcb8d52d0c6aa88ce5cd5f3d6062a9e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Dec 7 06:53:49 2010 +0000

    mgmt/glusterd: Use a static buffer to perform ioctl with SIOCGIFCONF
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2163 (Can't create volume using 3.1.1qa11 on OpenSolaris 2009.6)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2163

commit e3232db35a20e5cfd68ab3fb0b7d0931c4cfb67d
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 7 00:19:30 2010 +0000

    gfid: disable setting/getting of gfid from higher level translators
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2196 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2196

commit f783ecfbfd8c873d97644b8b6b0d95e3f878b992
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 7 00:02:10 2010 +0000

    rpc-clnt: show disconnect messages in log file by default
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit fceef36419503f332ffd1fccdcb03da86cf9cdb3
Author: Anand Avati <avati@gluster.com>
Date:   Mon Dec 6 23:28:19 2010 +0000

    inode: fix crash in logging during cyclic loop detection
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2196 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2196

commit caa77054005ea9ca9b806006103cd3f7eed10c7d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Dec 6 07:55:56 2010 +0000

    check whether the file is a symlink while doing utimes
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 881 (GlusterFS daemon hangs on replication of symlink (3.0.4))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=881

commit 574d938adcfe74f912fb2de8f77fc7a9d18c689b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 2 00:34:09 2010 +0000

    mount.glusterfs: use option --direct-io-mode instead of --disable-direct-io-mode
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2173 (enabling/disabling direct-io mode is not possible when glusterfs is mounted using mount command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2173

commit ae6e73f4d2a9fba6ccef42d49d70d8bbd7cba84a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Nov 26 00:45:50 2010 +0000

    nfs: Start nfs process even if portmap registration fails
    
    It helps to have the process be listed in ps ax|grep output
    so that user can get the path to the log from the listed
    command line and check what the problem is.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2093 (volumes cannot start when one node in a replicated setup is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2093

commit 773c9688bc8d3190eab3797190bd06d7acf275aa
Author: Anand Avati <avati@gluster.com>
Date:   Mon Nov 29 06:24:15 2010 +0000

    fuse-bridge: construct fa->rdev properly
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2145 ([3.1.1qa9] mknod does not work properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2145

commit 69a62d2a6d8ad127787aad2215c2130a03f58090
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Mon Nov 29 09:01:41 2010 -0800

    rpm: glusterfs.spec.in fixes for upgrade via rpm -Uvh

commit c0be54cfcd4491ca212226ed5687740813a4aeb6
Author: Anand Avati <avati@gluster.com>
Date:   Thu Nov 25 23:35:18 2010 +0000

    stat-prefetch: changes to incorporate gfid
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2136 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2136

commit 47548f09f005998598edd8183804cd93c35a12f3
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Nov 24 12:42:56 2010 +0000

    mgmt/glusterd: Enable stat-prefetch for fuse
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2136 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2136

commit b605865986f19cf5e376a16b963f68f28d4aea44
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 25 04:11:11 2010 +0000

    nfs3: Prevent second lookup on a fresh entry lookup
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 50e5c72fd63c44119b272435e715a712d848476a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 25 04:11:10 2010 +0000

    nfsrpc: Add new macro nfs_rpcsvc_request_procnum
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 6623055696e1b28267305ac45087497f4c6a884a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 25 04:11:09 2010 +0000

    nfs: Export subvolumes on per-subvolume CHILD-UP
    
    ..so that nfs clients can mount an UP subvolume even if other subvolumes
    havent come up yet.
    
    This was a problem because nfs was waiting for all children to receive
    CHILD-UP before exporting any subvolume.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2093 (volumes cannot start when one node in a replicated setup is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2093

commit 26a8202550593232f941cd2251cfbeb304991808
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 25 00:17:08 2010 +0000

    nfs3: Fresh inode lookup on failed revalidation
    
    Brings in changes that were earlier introduced in commit:
    f5afcc47f9f00472d6c2b3f48127e02332cd457a
    
    but reverted because the patch was buggy and caused a seg-fault
    due to extra inode_unrefs.
    
    It fixes that extra inode_unref and cleans up the revalidation logic.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit ac5e34ec840889bc3eaf07d2f7091432ff698fe2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 25 00:17:07 2010 +0000

    nfs: Undo selective changes in inode revalidation
    
    Those changes were brought in by commit 161850285ff06e90f2c990989bab9513dd4a4289:
    "nfs: re-implement logic to perform fresh lookups when lookup revalidates fail"
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 9e67fd90e0df32b9a450632566855339b133d3a6
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 25 02:26:26 2010 +0000

    mgmt/glusterd: Move .cmd_log_history to log directory
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2154 (Move .cmd_log_history to log directory)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2154

commit c56b9967a33b8bb106d37df0cf6979b340dbf950
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 24 07:35:26 2010 +0000

    rpc-transport: don't merge payload iobuf and iobuf which holds program header into single iobref.
    
    - io-cache holds a reference on iobref passed from transport layer. Hence,
       two iobufs are accounted instead of one in calculated used cache size.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2135 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2135

commit b7ca86e7614c61f8bf0b1e4bea47b4bc0a7fe080
Author: Sachidananda <sac@gluster.com>
Date:   Thu Nov 25 01:05:08 2010 +0000

    rpc-coverage.sh: Make error messages explicit.
    
    Make failure explicit, with `set -e' script exits silently and we have
    no way to know where it failed unless run by set -x.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit f7436a82bc0d02639efaa8e4fdf922a9849d0713
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 25 02:04:43 2010 +0000

    mgmt/glusterd: Temporary fix for a crash seen in replace-brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2084 ([3.1.1qa5] : replace-brick fails to migrate data when migration from same hostname)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2084

commit 5725f33e314c2fca6a4b9c2b102fc66361145301
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 25 02:11:45 2010 +0000

    cli: Enhance message shown upon successful volume creation
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2034 (Why not start a volume after it has been created?)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2034

commit 43a039789cbbdb50d67c960c7a6f4d0ac1858e48
Author: Anand Avati <avati@gluster.com>
Date:   Wed Nov 24 07:24:33 2010 +0000

    resolver: include par_idx access within the conditional section
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 9f8edf2b2576a235526087f4fbc5769940f019ad
Author: Anand Avati <avati@gluster.com>
Date:   Wed Nov 24 07:15:19 2010 +0000

    iatt: fix bug in ia_makedev
    
    the wrong binary operator was resulting in lookup/stat showing wrong
    major/minor numbers for device files
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2145 ([3.1.1qa9] mknod does not work properly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2145

commit ab5c5610bb37e5f4fbcc4722abf21de3dc2c9679
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Nov 20 05:52:24 2010 +0000

    volgen: put back an amended form of check erased in 96f44835 ("do not error out if brick count is less than sub count...")
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2054 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2054

commit cef1669d5fdf43e1df38189759345170b90a1455
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Nov 16 19:35:12 2010 +0000

    volgen: clean up 0fbf226c (... add nfs.enable-ino32 as an option ...)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1972 (xcs get doesn't work with gNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1972

commit 8b1aac46732c871c6b97c1f2bbb7fcc5b79d52bd
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Nov 23 07:13:27 2010 +0000

    display the error to the user if volume stop is given on a volume which does not exist
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2140 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2140

commit 0ccd9f4f2ddf83d35cfa9bbc872ca84f6fb9c8a9
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 23 10:35:56 2010 +0000

    inode: catch loop formation during inode_link() and fail linking
    
    - explores all parent branches
    - performs loop formation check only if the operation is resulting in relinking
      of an inode already existing in the table
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 7f68e386132af9e02bf37a3b4d0653de000bdefe
Author: Anand Avati <avati@gluster.com>
Date:   Mon Nov 22 10:52:51 2010 +0000

    resolver: handle corner cases of handling root inode better
    
    - changes in deep resolution and simple resolution of pure paths
      to handle resolution of "/"
    - warn on pure path resolution
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit f1205225417b3e0d5cf27f5ba85ccdfe0ef6b246
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Nov 22 00:55:44 2010 +0000

    display the error message to the user if a volume with the name is tried to be created
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1209 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1209

commit c509e7f185d4f76be9f5ddbd61839239198a0b1d
Author: Anand Avati <avati@gluster.com>
Date:   Fri Nov 19 06:25:40 2010 +0000

    rpc-coverage.sh: enhancements for more extensive testing
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit f6785d2b4999db7d42e8c1cd054fd7ec174e8136
Author: Anand Avati <avati@gluster.com>
Date:   Thu Nov 18 08:35:24 2010 +0000

    nfs: treat GF_EVENT_CHILD_CONNECTING as subvolume up status
    
    GF_EVENT_CHILD_CONNECTING is sent as a status from underlying subvolumes
    after a sufficient margin of time (tcp connect() timeout) if the subvolumes
    are not reachable.
    
    This should avoid the problem of NFS not being reachable if any volume
    is down
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2093 (volumes cannot start when one node in a replicated setup is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2093

commit e098653b73c7b379b2ad6bf7878bac65147f7ebe
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Nov 18 05:38:59 2010 +0000

    features/locks: Send prelock unlock only if it is not grantable and is a blocking lock call.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1017 (Locking deadlock when upgrading lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1017

commit e111591585c8e5f3c8404b72ad13b5f5580c25c4
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Nov 17 23:36:06 2010 +0000

    Remove spurious inode_ref call on parent dir in fuse_create_cbk
    
    The additional ref caused leaks. The ref is taken in __dentry_create
    called from inode_link
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2117 ([glusterfs-3.1.1qa7]: memleak in glusterfsd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2117

commit 001a44f7dc6cec6fb5ce555ce583af4428cc471d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Nov 18 02:32:38 2010 +0000

    error out if the data-self-heal-window-size is less than 1
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2120 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2120

commit 99134d33f85e38e5c37227ecb8fdfbe03bd521d0
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 18 06:26:26 2010 +0000

    mgmt/glusterd: Avoid creating multiple destination brickinfo during replace-brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2084 ([3.1.1qa5] : replace-brick fails to migrate data when migration from same hostname)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2084

commit f0cdfd03051cee8d25f03103ed467438c6479e47
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 18 06:31:01 2010 +0000

    cluster/pump: send PARENT_UP to dst_child after init is successful
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2122 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2122

commit 61a8945649eced6c490a92e6533c5fb3a9d9a1d3
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 18 06:21:55 2010 +0000

    rpc-clnt: add check for NULL argument for rpc_clnt_start
    
    prevents crash when rpc_clnt_start is called before init
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2122 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2122

commit 9c80f63d8264718c5855f1f6cca9e5a801392ed3
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Nov 16 03:52:17 2010 +0000

    protocol/client: skip notify if query portmap is successful
    
    Mount point does not hang, though stale handle error on / till the downed brick is
    online again
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1905 (Mounting volume is not working when any one server is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1905

commit ce9f328aa93892ea79057c41c70836eb49fae8b5
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 16 08:17:07 2010 +0000

    protocol/client: use the new rpc_clnt initialization methods
    
    This way of initializing an rpc_clnt object by splitting into a
    passive rpc_clnt_new and a delayed rpc_clnt_start between which
    registration of callback programs and notify methods are performed
    provides a race-free way to avoid the missing of connect notifications
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2078 (Volume Migration is not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2078

commit 8faf940c00e3722a2322ee70ba1e18d9b9bc8c9c
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 16 08:16:42 2010 +0000

    rpc-clnt: introduce new way of creating rpc-clnt objects
    
    rpc_clnt_new() creates a new passive rpc clnt object.
    
    rpc_clnt_start() triggers the connection/reconnection from the object.
    
    rpc_clnt_init() - the old way - still works.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2078 (Volume Migration is not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2078

commit 15d56782ae560aa556d6af64896c4c879c6c46e6
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 16 08:15:48 2010 +0000

    rpc-clnt: move rpc_clnt_reconnect() call to rpc_clnt_init
    
    Previously rpc_clnt_reconnect() was called inside rpc_clnt_connection_init
    which in turn was called from rpc_clnt_init. This change makes
    rpc_clnt_connection_init re-usable for the next patch
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2078 (Volume Migration is not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2078

commit b985dce6c4415a9d67fefabdbf2e5fe287e1dc62
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Nov 16 04:56:38 2010 +0000

    nfsrpc: Fail auth-unix if more than 16 gids found
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2045 (Write permission denied for non-primary group membership)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2045

commit 015b08d64dfea093d8fcd0a30b655469b18bbc2e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Nov 16 04:56:37 2010 +0000

    rpc-lib: Fail auth-unix if more than 16 gids found
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2045 (Write permission denied for non-primary group membership)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2045

commit 36f696c7dbc785be464acae737f4c25ed3af861a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Nov 16 03:44:37 2010 +0000

    rpc-lib: Copy auxiliary GIDs into request from de-XDRed buffer
    
    Fixes a problem where secondary groups are not accounted for in
    permission checks.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2045 (Write permission denied for non-primary group membership)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2045

commit 4cfd6e1b45da64429c3e10886e2ceb4e9c9deb5d
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Nov 16 01:07:20 2010 +0000

    Stripe I/O exits when graph changes
    
    Adding event CONNECTING to be handled like CHILDUP in notify.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2111 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2111

commit 66c768a4845482c42a77e458ecbc73488998fb13
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Nov 16 01:21:54 2010 +0000

    protocol/client: fix ping timeout checks in reconfigure()
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2104 ([3.1.1qa5]: network.ping-timeout set failed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2104

commit eb13791c229b011b41e63099ce097a4271ae0451
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Nov 16 01:26:00 2010 +0000

    cli: fix memory corruption in create volume and add-brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2113 (cli: memory corruption in add-brick and create volume parsing functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2113

commit bc3cad79cd0cf48318e723fd3377af979673374e
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Nov 16 01:26:45 2010 +0000

    fuse: dentry create time inode resolution fixes
    
    treat successful 'inode' resolution as stale entries in case of
    entry creation fops, instead of continueing with an error log with
    old entry.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1240 (DVM: after graph change, inodes should resolve to new inode-table)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1240

commit e10f1ec908139d9778406d07274dd390b7f56bc8
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Nov 16 00:12:58 2010 +0000

    Solaris: df -h returned invalid size
    
    The reason seems to have been multiplying fields with f_bsize, while
    they are in f_frsize units. On linux both f_bize and f_frbsize seems to
    have been the same
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1021 (NFS: df -h shows incorrect out put)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1021

commit 961fc917e8e9f13b8cab69b1ba11767d5c41a8ce
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Nov 15 06:44:44 2010 +0000

    Remove symlnk of log dir to /etc/glusterd
    
    Hence forth the default log dir will be /usr/local/var/log/glusterfs
    Missed out on log locate changes
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2109 (Remove symbolic link of log directory from /etc/glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2109

commit b552465ca4a8d65650cb1d0beb4ccfe5eaf93c26
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Nov 15 02:55:38 2010 +0000

    Remove symlnk of default log dir to /etc/glusterd
    
    Hence forth the default log dir will be /usr/local/var/log/glusterfs
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2109 (Remove symbolic link of log directory from /etc/glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2109

commit 6d42bc03d0ebe6100d9f3815f06637cb1b44c2ac
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 15 03:46:30 2010 +0000

    glusterd rebalance: update the status in failure cases
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1999 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1999

commit 553c15160e4e3b063f4b689ee762b6d14be9953b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 15 05:57:46 2010 +0000

    Revert "nfs: Use only 38467 as default port instead of 3846[567]"
    
    This reverts commit be5c02a81c19336a6b922b1e1f28293c90955e7f.
    
    By default, continue to register the three original port numbers
    so that an upgrade to future version from 3.1 release does not
    break mount requests against portmap, which may have old port
    numbers registered.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit 78654d270cde028c5d7f9da29b2790b90c19e11f
Author: Anand Avati <avati@gluster.com>
Date:   Mon Nov 15 05:34:00 2010 +0000

    nfs: opendir/closedir for every readdir
    
    Revert "nfs3: Unref & unbind dir fd with inode lock on EOF"
    
    This reverts commit 4e6fb304ce41acbaf7c9ba67c06bf443e65082e8.
    
    The above commit (which unbinds fds at EOF) does not fix the original
    bug (1619) because a readdir from a second app could have already
    started before the readdir_cbk of the first app's readdir reaches
    NFS code. Hence the race still exists.
    
    Performing extra unrefs when EOF is received is not a reliable way
    of detecting that a client has performed a closedir (and to close
    the fd ourselves). Neither is interpreting a 0 cookies a new opendir.
    Clients can always use telldir/seekdir and hit EOFs twice.
    
    Due to the way NFS3 protocol is designed, it is just not possible
    for the server to reliably detect opendirs/closedirs performed by
    the client and map the corresponding readdirs to the same dir fd
    on the server side.
    
    The only reliable way of fixing this is to perform opendir/closedir
    at the cost of performance. Any optimization towards keeping dir fds
    open attempting to map them with application's opendir/closedir will
    either result in fd leaks or extra fd unrefs.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2061 (NFS server crashes in readdir_fstat_cbk due to extra fd unref)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2061

commit 7d48999c13b885d034528cfca61a8b63ade8a365
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 15 04:02:45 2010 +0000

    cluster/replicate: Fix memory leak in afr_fd_ctx_cleanup.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit 415f7f6a29b361dfccc197a6b67add1733c7f617
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Nov 13 02:06:12 2010 +0000

    check for dict also while setting the port for source brick while doing replace brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2084 ([3.1.1qa5] : replace-brick fails to migrate data when migration from same hostname)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2084

commit ec43d07c3ab758e0e8cfa427d914ab9c653068a4
Author: Pranith K <pranithk@gluster.com>
Date:   Sun Nov 14 00:13:25 2010 +0000

    cli: remove special behavior for help commands without readline
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2091 (Gluster CLI exits after issuing volume help)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2091

commit 22aa43c16357811f8218215d2f2f830005860c96
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Nov 14 12:08:23 2010 +0000

    mgmt/glusterd: fixes for uninterrupted replace-brick with nfs
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2084 ([3.1.1qa5] : replace-brick fails to migrate data when migration from same hostname)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2084

commit 479393858a1744adf7c9f56216ca228b188a7398
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Nov 14 12:07:30 2010 +0000

    cluster/pump: Reset saved path upon pump completion
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2084 ([3.1.1qa5] : replace-brick fails to migrate data when migration from same hostname)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2084

commit d6f1f04ef0db60bcc0f4963dbd1b76ce73c36779
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Nov 11 23:00:19 2010 +0000

    performance/quick-read: handle the errors in qr_loc_fill properly when an fop needs to do open before continuing.
    
    - without need_unwind set, 'goto out' will result in infinite loop.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2075 (inode_from_path silently consumes 99% CPU causing nfs client disconnects)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2075

commit 20fb15dc02a4d1a4b38335a988c0c1abafee7355
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Nov 12 04:01:01 2010 +0000

    mgmt/glusterd: "peer probe new-hostname" should replace old-hostname of friend
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1995 (Gluster Peer probe command keeps ip address instead of server name in the destination server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1995

commit fe349e42baa47dd7c010707bddbd114946f4d95b
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Nov 12 05:23:42 2010 +0000

    stripe: allow lookup on an entry if other than first subvolume is down
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2099 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2099

commit e48f8e62e0d7d68ca8b45402a6b9a79352fd8063
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Nov 11 00:19:54 2010 +0000

    nfsrpc: Change log levels for RPC program search messages
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2072 (NFS server crash in __nfs_rpcsvc_program_actor)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2072

commit c364d4114c0f0ec888e03c909266f521dd6dc87c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 11 01:54:50 2010 +0000

    cli: fix issues with running command over ssh
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2081 (gluster CLI does not work over ssh)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2081

commit b43ef598abec07cff6090dd507419347621b473c
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Nov 12 00:55:02 2010 +0000

    mgmt/glusterd: set the transport type correctly in create volume
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2095 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2095

commit ed8499c728df609a3d09743ee60f85f6ecea9d16
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Nov 12 04:05:22 2010 +0000

    distribute: handle a case of 'local->key' being free'd twice.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2097 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2097

commit 26db1945888a4c85d55c3c5c75beb49e09c19588
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Nov 12 04:15:08 2010 +0000

    Solaris: vasprint fix for %llu crash
    
    vasprint now inturn call gf_vasprintf, which calls vsnprintf.
    vsnprintf allocates buffer of required size, and hence prevents
    the sigsegv seen in vasprintf w.r.t %llu
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1058 (vasprintf dumps core when %llu is involved)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1058

commit 0bd8ecda6554e20336112febf1ade9e1d66bea8e
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Nov 12 04:15:38 2010 +0000

    Solaris: Fix crash seen in rpc_clnt_reconnect
    
    rpc_clnt_set_connected was being called from mgmt_rpc_notify with
    incorrect argument. The crash was only seen on solaris.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2013 (Gluster 3.1 should be supported on the current versions of Solaris and OpenSolaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2013

commit 7b8015edf8ac2fc33e486d2ef66b01c53c200d60
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 10 07:56:45 2010 +0000

    rpcsvc: Fix crash in program search after portmap registration failure
    
    Failure to register with portmap was leaving the registered programs list in
    inconsistent state. This was causing a crash.
    
    portmap registration can fail if there is an NFS server already running.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2072 (NFS server crash in __nfs_rpcsvc_program_actor)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2072

commit 681d7d3aa926e0959ad3f66e53282cb4e55d6202
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 10 02:59:10 2010 +0000

    rpc/rpc-lib: don't build libgfrpc as a module.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1427 (libgfrpc.so is not portable)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1427

commit f406a2e2754a5aa44736f25459e33ef068b6b14a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Nov 9 06:51:31 2010 +0000

    rpmspec: add glusterfs-core dependency for glusterfs-fuse package
    
    also add dependency for rdma package
    
    Thanks to Bernard Li <bernard@vanhpc.org> for the patch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2019 (glusterfs-fuse should require glusterfs-core (RPM spec file))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2019

commit eaf0618e47b4e575180a9cbdbeda6ff5995fb144
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 9 05:38:12 2010 +0000

    protocol/server: fix log level of message in server-resolver.c
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1092 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1092

commit 6fb49f18a9bbfd1266b4773e757e459519c6719c
Author: Anand Avati <avati@gluster.com>
Date:   Tue Nov 9 05:27:02 2010 +0000

    replicate: optimistic changelog
    
    The standard way of maintaining changelog in replicate has been to
    write out pending flags and to unset the pending flag post the
    actual operation.
    
    This new optimization kicks in only when all subvolumes are up.
    
    The optimization is that, during pre-op, no changelog is written for
    METADATA and ENTRY/RENAME operations. If during the operation nothing
    failed, no changelog is updated in post-op either. If however,
    something does fail during an operation, then, pending flags get
    written during post op pointing only towards the failed nodes.
    
    DATA transactions continue to work the way they are.
    
    If one subvolume is down, pending flags are written in pre-op changelog
    itself as before.
    
    The impact of this optimization is only in the case when both servers
    die or the client dies while the 'FOP' stage of the transaction is
    in progress. By nature of METADATA and ENTRY operations, detecting a
    mismatch later is not dependent on the presence of changelog. Changelog
    only determines the direction in which self-heal happens for these types
    of transactions. For the direction too this optimization does not have
    a major impact because in the cases of failure (both servers dieing or
    client dieing) the final state (direction of self-heal) would be
    arbitrary anyways as the syscall wouldn't have completed.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2068 (performance enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2068

commit 667c5e22467cbecd371bfc052e7f65b6b6b41e2d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Nov 9 05:14:22 2010 +0000

    libglusterfs: Memory accounting changes
    
    This patch disables memory accounting by default and provides better
    alignemnt for faster fetch.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2068 (performance enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2068

commit 16eb9f73a5a7699d5c51d8139b4f1bc77ee3deda
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Nov 9 04:08:33 2010 +0000

    glusterd test-script change in add/remove-brick syntax
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit 891216e186b436444bc5368a96318df7364ce30a
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Nov 9 03:17:31 2010 +0000

    cli: remove volume type from add-brick and remove-brick cmds
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1983 ("type" in add-brick is completely redundant)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1983

commit 1badd4511f1cd7ea7c3187b121f793cabb414f3a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Nov 9 02:48:31 2010 +0000

    client: Return correct pre/post iatt for dst during rename
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2050 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2050

commit 030393152fe6e7660cc4464be8b65ec1d6ecbbc5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Nov 9 00:36:24 2010 +0000

    mnt3: Fail mount requests for disallowed clients
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1385 (showmount says no access though it can be mounted.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1385

commit 19aa7b6923f84ffb8a558263e2dede4661862342
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Nov 9 00:05:31 2010 +0000

    rpc-transport/rdma: set the default quota of recv buffers to 128.
    
    - since quota is returned once the reply is recieved, 32 is too less value.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2060 (Infiniteband errors on large file find)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2060

commit 8205e939178ba2253117869024a306442b30d3d1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Nov 8 06:40:21 2010 +0000

    check if the brick being added is the destination brick of replace brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2033 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2033

commit e3808ac86f8ff5baebea59e610a791cef5f5f2c9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 8 06:25:18 2010 +0000

    nfs: Support nfs.port to allow changing nfs port numbers
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit be5c02a81c19336a6b922b1e1f28293c90955e7f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 8 06:25:17 2010 +0000

    nfs: Use only 38467 as default port instead of 3846[567]
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit 0f9ec3dec9d51ac5a8f692896d0724b3e87e9ae2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 8 06:25:16 2010 +0000

    nfsrpc: Decouple TCP connections from programs
    
    ..so that multiple programs can be served from the same connection
    or multiple ports can be bound to the same port number.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit 13c4f8d0f9114a9f8324d0dec8bd926c04a5dfc5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 8 05:02:06 2010 +0000

    glusterfsd.c: cleanup_and_exit() doesn't call all the 'fini()'
    
    calling 'fini()' of each xlator needs more synchronization work to
    be done. We will be doing a direct 'exit()' as of now.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1879 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1879

commit 96d16edec3dda4cd565b9d4106411c36bebe6dd5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 8 02:53:16 2010 +0000

    protocol/server: array declarations changed to alloca()
    
    This is to make sure we don't spend CPU cycles in memset(0) on the
    array, instead do a 'alloca()' on size of the request.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit bdfaaf42b643e2e51b85dd9ff5f7da91db3e0710
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 8 00:54:27 2010 +0000

    access-control: Allow Writes/Reads to proceed without perm checks
    
    a. We expect that when the fds are opened through FUSE, thats when the
    perm checks happen, depending on the read/write mode used.
    
    b. In case of nfs clients, we expect the nfs clients to perform the checks
    based on getattr/access nfs requests.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2058 (posix permission compliance error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2058

commit 96f44835ea31b6d432337013b0b70191f6fa903a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Nov 4 02:44:02 2010 +0000

    do not error out if brick count is less than sub count which is valid in the case of replicate
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2054 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2054

commit 7d4b708b7d2180045793677534e9fedd47da794c
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Nov 5 03:54:39 2010 +0000

    fuse: init entry timeout
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2059 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2059

commit 8f16c5ed15e3c0cfbef396c63dbc45778ea84475
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Nov 4 05:11:50 2010 +0000

    Remove the hard-coded thread-count option in volgen
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 9c4777534bdcce46f2391852933336bc73309f93
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Nov 4 02:34:26 2010 +0000

    rpc-transport/rdma: create request_context only if message contains read chunks or write chunks.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1992 (glusterd crashed while submitting a callback.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1992

commit d19a72024c8cd5e40dc48df27c21fda701e76c54
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Nov 4 02:33:19 2010 +0000

    rpc-transport/rdma: Fix 2KB as threshold size for msgs that can be transferred inline.
    
    - Any fop/mop that can result a reply whose size is greater than this threshold
        allocates and submits a buffer along with the request to receive reply.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 56450b818756a762c925c76f8c6218ea1c5f7efe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 1 01:25:03 2010 +0000

    rpc-transport/rdma: increment post->ctx.count in a loop doint rdma_read.
    
    - incrementing by the number of read chunks even before doing rdma read will
        cause issues since post->ctx.count is used while posting rdma read.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1877 (data corruption while running arequal.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1877

commit 86a1ef81527da5b9eb11ba3dc361c1c4ca291ca8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 3 06:35:29 2010 +0000

    nfs: Introduce rpc.register-with-portmap to disable portmap registration
    
    For systems that need to run multiple nfs servers, we need to prevent
    more than one from registering with portmap service. Use this option
    to turn off portmap registration for Gluster NFS.
    
    Portmap registration is on by default.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit b16c0784da56fc2e7d660753882ec63587e2049e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 3 06:35:28 2010 +0000

    nfs: Remove conn_destroy/init callbacks
    
    NFS is transport-independent, so no point emulating knowledge
    of transportin software.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1743 (XenServer is not compatible with GlusterNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1743

commit d6d7a85487d8ec8017d1d13aa36642ad0355b3e4
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 3 06:35:27 2010 +0000

    nfs3: More robust root gfid checks
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2051 (find fails with loop detected error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2051

commit 5afc77d585c480f185dd7b24b753a6924218bb86
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 3 00:34:10 2010 +0000

    mnt3: Fix UMNTALL crash with Windows clients
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1666 (GlustNFS is incompatible with Windows 7 NFS client.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1666

commit 428b6edc2e141ec701e4a8b0f2964bf251e0014b
Author: Mohammed Junaid Ahmed <junaid@gluster.com>
Date:   Tue Nov 2 05:29:05 2010 +0000

    Throwing an error while mounting glusterfs when fuse is not installed.
    
    Signed-off-by: Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2002 (Mount fails, but gives no error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2002

commit 0fbf226cdeb970f4b5829f92c6d27523f3ef4f04
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Nov 3 05:29:49 2010 +0000

    mgmt/Glusterd: add nfs.enable-ino32 as an option to set from CLI
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1972 (xcs get doesn't work with gNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1972

commit ba1d55c083a39f56077305037de0b619316b2717
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Nov 3 02:13:31 2010 +0000

    Fix DHT getxattr for directories
    
    When a heal on the directory or layout changes, the user xattrs
    do not get healed in dht. The current fix sends the getxattr call
    n all the subvolumes, aggregates it and sends the response
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1991 (distribute directory self-heal does not copy user extended attributes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1991

commit 8ca96737a92a032334b745ffb6f4b872b8359fb0
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Nov 2 04:05:07 2010 +0000

    Cli memory leak fix for tmp_list in cli_cmd_volume_add_brick_parse
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2047 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2047

commit c4ef206dd37a9e6c547caae5bf10b19d336dde8d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Nov 2 00:45:27 2010 +0000

    use uuid_copy instead of memcpy
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 0fe40b1f74a4b070ce2e8928adab52524b86e273
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Nov 2 01:39:00 2010 +0000

    Fix crash while freeing tmp_list in cli_cmd_volume_create_parse
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2047 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2047

commit 33ce70b6fb7f3e268bcb166477c1e79e19b48a11
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Nov 2 01:27:56 2010 +0000

    socket: avoid check on lowlat for enabling nodelay
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2040 (Using 'du' and 'ls' command, it got slow performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2040

commit de001e8659d78dd16ba8515228c70fd2986e56df
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Oct 30 13:09:08 2010 +0000

    cli: Fix memory leaks
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1198 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1198

commit 961d5fb6025f4901d63be8cfc8062bd8e2093021
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Oct 30 12:11:36 2010 +0000

    mgmt/glusterd: Honor log filename set during add-brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2042 (No volume log files found in the specified directory for the newly added bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2042

commit 586000144be8919a234939ad43b04394d5f2636e
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 29 07:03:38 2010 +0000

    mgmt/glusterd: Start nfs before killing source brick in replace brick commit.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 1b4613936e2d176df8e5a8548af2d59116bd9531
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Oct 29 07:23:54 2010 +0000

    copy the gfid of root to the iatt structure of root
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit c65be2d304c67e57447d6d4a2e53fae07e31ff5c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 29 05:38:13 2010 +0000

    nfs: Introduce nfs.enable-ino32 to support legacy 32-bit only apps
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1972 (xcs get doesn't work with gNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1972

commit 413b2a5f9b77fd3d7f3b26c848482ec7b914102f
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 29 04:32:18 2010 +0000

    protocol/client: add check for changed gfids to fail revalidates
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ffbe9470cd189b7921509c08c9b2d308b8ac390e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 29 03:13:22 2010 +0000

    rpc-transport: fix race-condition between rdma-read completion and updating the count of number of vectors to be passed to rpc.
    
    - If rdma read completes before incrementing the vector count, the count
        value sent to rpc will be improper. For fops like write, this may result
        in missing out a vector to be written, thereby causing data corruption.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1877 (data corruption while running arequal.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1877

commit 9c29312628af743f16badb4bc820cbd31f2a9488
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Oct 29 03:39:56 2010 +0000

    cli,mgmt/glusterd: fsm log implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1966 (Unnecessarily verbose logs at the default log level)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1966

commit c1b80f0f590e2d7448b890b57e80f4a1b2e39a03
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Fri Oct 29 03:32:44 2010 -0700

    Revert "rpc-transport/rdma: create request_context only if message contains read chunks or write chunks."
    
    This reverts commit b66f4598f4dafb6479232b20c5c521ab0da4e84a.

commit 8ea6882c424afd3f18ad1273ec31d34f5d74e47e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Oct 28 07:02:44 2010 +0000

    script for testing glusterd sanity
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit d654c29d20f24802e6c5aa24a9206377428b9359
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Oct 28 13:15:54 2010 +0000

    performance/quick-read: white space cleanup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2027 (Updates not happening with replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2027

commit 82ad7b3be8478628ef448c97a702f4c6f1298329
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Oct 28 13:15:26 2010 +0000

    performance/quick-read: set right validation checks
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2027 (Updates not happening with replication)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2027

commit d615015ef4707d0df476547cbf7b6f83a29d804b
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 28 00:52:50 2010 +0000

    replicate: attempt re-open of files before performing openfd selfheal
    
    in cases where subvolume state gets swapped between open and write
    opening file on the remaining subvolumes is necessary before attempting
    a self-heal. previously files were opened after self heal.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 918 (AFR write fails when subvolumes' state is swapped)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=918

commit 00b0a53bae2a5e39f197359581a3850a32970e54
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 28 00:52:30 2010 +0000

    replicate: fix hang/missing frame during locking
    
    nonblocking style locking would result in a missing frame when all
    subvolumes are down or when no subvolume on which fd was opened
    is up. Check for this condition and unlock gracefully
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 918 (AFR write fails when subvolumes' state is swapped)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=918

commit 87c0e8fba2d0be4496ec4085136fca459f62c00c
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Oct 27 23:57:55 2010 +0000

    Solaris build fixes: Patch for 64bit build
    
    This will fix build failures when -m64 option is used to build
    gluster
    
    Signed-off-by: Super-User <root@Solaris-10.(none)>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1990 (Gluster mainline build on solaris fails with errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1990

commit e93b270e8d09fc9d36a39b22987d3a172197e73b
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Oct 27 10:33:23 2010 +0000

    cli: gluster --version implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2006 (Add gluster version command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2006

commit b2f195720b27d9e69f7b851478515781e5786469
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 27 05:36:32 2010 +0000

    socket: Reduce keepalive idle and interval time
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1956 (NFS client hangs after failover)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1956

commit 6ac081eccaa4f034874aa6687d87fb8b30207ebf
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Oct 8 01:49:25 2010 +0000

    Remove libglusterfsclient option from gld-dm benchmarking tool
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 968 (gluster client encountered out of memory very quickly when running glfs-bm)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=968

commit 7efad96683f605d5a0eb21b0377a6e14b89cd910
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Oct 27 05:10:19 2010 +0000

    mgmt/glusterd: update brick-count as soon as it is added in add-brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2023 (add-brick fails in regression)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2023

commit 0e1bead7b77adab9115b2af977bc78273a34a70d
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Oct 27 04:55:03 2010 +0000

    mgmt/glusterd: glusterd_is_local_addr implementation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1855 (Initial server in a cluster not a friend)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1855

commit e4a43cf475f5a2d908cffdb518028ba74dc9f8b1
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 21 04:51:47 2010 +0000

    added a test script to test rpc procedures
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 1bafcd847a2bdaea7aebdb212bbb480eaeee7ede
Author: Csaba Henk <csaba@lowlife.hu>
Date:   Wed Oct 27 04:33:15 2010 +0000

    libglusterfs: fix buffer overflow in gf_string2int()
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2022 (gf_string2int() overflows target pointer)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2022

commit 38c91384861f29f97c3f564a36ee799f1eb57cc1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 27 03:07:29 2010 +0000

    mgmt/glusterd: Unlock upon a cli request failure
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1873 (Stop volume gluster command execution failed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1873

commit c02cd37866ae22e3a433d737f3c80395bb72f002
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Oct 6 05:23:44 2010 +0000

    distribute: bring in statfs normalization
    
    We had normalization of statvfs structure in 'cluster/unify' translator,
    with distribute, we had this section as 'TODO:'. Now, the same code is
    migrated to distribute.
    
    Thanks to <marty.rosenberg@gmail.com> for sending the patches
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1035 (The distribute translator does not handle differently sized block sizes and/or fragment sizes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1035

commit 40dd9e9e18c5de009baf9e437d3222fa6b473237
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Oct 9 07:34:52 2010 +0000

    log locate should check if the export directory is valid
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1871 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1871

commit 78bccc25b7c1b54c46c6aab9e34c7c455486d1fd
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Oct 8 07:36:55 2010 +0000

    fuse: retire the faked-FLUSH-upon-RELEASE hack
    
    Now the code has lived up to the glorious state of not relying
    on getting the FLUSH whenever a file is released. So we don't need
    to forge one in release for the cases when the kernel doesn't send
    it.
    
    Undo commits:
    - 155ffe5c
    - c50bc710
    - b8779318 (partly, just release related parts)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 223 (flush not sent)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=223

commit a7d41a64fb11451e622db19813738c3ee3942c92
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Oct 26 05:20:34 2010 +0000

    report the error if a volume not in the started state is tried to be stopped
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 2010 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=2010

commit a53d14d5f5be431279c5e56963b495bf164cf453
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Oct 26 04:00:30 2010 +0000

    volgen: macro cleanup
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit db94ed06a688fb596aba4deafdf59a5af2fd6bbe
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Oct 26 04:00:29 2010 +0000

    libglusterfs, glusterfsd: add shortname resolution + optname hinting support to VOLUME SET
    
    Trie code used for hinting is contributed by Avati.
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 9f14b0a0ef26b6d41b61222dcf34fe7cdf46cb46
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Oct 26 04:00:28 2010 +0000

    libglusterfs: fix graph mem types
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 3b70ff915a7451911dd35733171b97d7073df2c4
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Tue Oct 26 03:58:59 2010 +0000

    glusterd-volgen: Fix division by zero clang warning.
    
    Also clean up surrounding calculations a little bit.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1089 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1089

commit 1a2463cefac2cd9faf80ce7041b2fa1d9cfff36c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Oct 26 06:39:08 2010 +0000

    nfs3: Translate ENOTCONN into IO error for client
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1923 (Unknown error 526 when one of the subvolumes for distribute is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1923

commit 29dc176fa7832699b34a3a3e2f1a5f14ae55274a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Oct 26 06:39:07 2010 +0000

    nfs-rpc: Fix log message for unsupported program
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1973 (Unnecessary log message "RPC program not available")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1973

commit bd890a0f53142e60e70e6cad8363738d607fbdb4
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Oct 26 06:39:06 2010 +0000

    core: Use lru_limit as count for inode and dentry mempool
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1948 (For each subvolume started, glusterfs process takes up around 30-35MB more memory)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1948

commit c9c411b48aa0477cd44c18cbdf83d14389d27221
Author: noah williamsson <noah.williamsson@gmail.com>
Date:   Mon Sep 27 07:47:11 2010 +0000

    OS X: fnctl() flag FNM_EXTMATCH is not supported under Mac OS X
    
    Signed-off-by: Noah Williamsson <noah.williamsson@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 7ca61c1082b6c7554ea7b615ca3f2d3c8ab4b090
Author: noah williamsson <noah.williamsson@gmail.com>
Date:   Mon Sep 27 07:47:10 2010 +0000

    OS X: Include rpc/types.h
    
    Signed-off-by: Noah Williamsson <noah.williamsson@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit d6a34a08d5a583c4f0f2264511286ed39a071e1b
Author: noah williamsson <noah.williamsson@gmail.com>
Date:   Mon Sep 27 07:43:49 2010 +0000

    Correct enum declaration of gf_dump_procnum, fixing duplicate symbol error when linking on Mac OS X
    
    Signed-off-by: Noah Williamsson <noah.williamsson@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 9272cce5feb55c6526078f2d1440bb0d0591d651
Author: Csaba Henk <csaba@lowlife.hu>
Date:   Tue Oct 26 03:56:32 2010 +0000

    fuse: "terminating upon EBADF" log message is confusing, set its level to DEBUG
    
    Signed-off-by: Csaba Henk <csaba@lowlife.hu>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1887 (logging mess)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1887

commit 81e718ab513e2cdf1b1e22b268c5798752d79cc1
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 9 15:46:40 2010 +0000

    server: parse more precisely when validating auth options
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1885 (auth validator in server parses too sloppily)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1885

commit b66f4598f4dafb6479232b20c5c521ab0da4e84a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Oct 24 23:44:34 2010 +0000

    rpc-transport/rdma: create request_context only if message contains read chunks or write chunks.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1992 (glusterd crashed while submitting a callback.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1992

commit 7c479d61681d3ddb7fcc325752384eac89ae809d
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 21 02:25:49 2010 +0000

    rpcsvc: handle NULL deref in case of program mismatch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1982 (rpc: crash on progver mismatch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1982

commit 93de6e1f8106220d1c41f2ca9fdc207c76dd0560
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Oct 14 05:56:53 2010 +0000

    NULL checks in the fops of io-cache
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1757 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1757

commit 29377452062b07b6487105ebe65a717898e19e2a
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 14 05:12:12 2010 +0000

    io-stats: handle the case of 'cleanup_and_exit()' properly
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1933 (Segfault while expansion of volume from distributed mirror)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1933

commit 0d11145c0c2a9bac61398bff2fbab14820f0764a
Author: Mohammed Junaid <junaid@gluster.com>
Date:   Thu Oct 14 04:14:47 2010 +0000

    takes either 'y' or 'yes' and 'n' or 'no' for stop volume, delete volume and remove-brick
    
    Signed-off-by: Mohammed Junaid <junaid@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1942 (cli: loose parsing of confirmation answer)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1942

commit 2ec661c0729370f0acd966fab0ae644f7e62bd71
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 13 04:09:15 2010 +0000

    extras: Do not check_config() for glusterd in Debian init
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 681bfd7ff32202314a5cdf8a8e13478c6c45acdb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 13 01:38:20 2010 +0000

    server: Don't free conf in fini.
    
    - This will fix race condition between handling DISCONNECT event and doing
        fini. Though conf need to be freed, this will be done in future where
        finis of all translators are properly implemented to make sure no
        corruptions.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1758 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1758

commit a8212606e23312fabd5c2068ade05efacae9c086
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Oct 12 04:13:19 2010 +0000

    rpc-transport/rdma: associate mem-pools with device instead of transport.
    
    - this will help to reduce memory usage of glusterfs process.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 959f051b0c39f114d54b5bb303dd2241603d7607
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 13 03:05:09 2010 +0000

    Correct location of git repository
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1941 (wrong git url)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1941

commit 5ca019f339d76187f26757222084319cd1b28ad6
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Oct 19 03:02:10 2010 +0000

    Propogate rebalance already started error to cli
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1882 (starting rebalance while previous rebalance is still running)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1882

commit 54219ecf2ad344a55e974ff4b86a02408c9c17f2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Oct 25 00:11:51 2010 +0000

    xlator.c/option-validation: change the log level to warning when given value is out of range.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1214 (When cache-size is given out of range, error is logged but GlusterFS starts)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1214

commit 1e1f97a89cdd454bcfbf158ae7520932bacb1aa1
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 14 02:34:31 2010 +0000

    client: move reopen{,dir} code to handshake file
    
    and minor log level changes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 44b27f7ec27173c5d12c12aa3947cc1f409d8c1f
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 14 02:34:01 2010 +0000

    client: decrement the 'openfd' count in case of opendir_cbk too
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 14d2ed37a966a10d8553e8b5a5283d35f9addc7e
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 18 04:22:47 2010 +0000

    server: print information about disconnected client
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 41b14258c08a0065c573a2ec9f39fb3354fd9be3
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Oct 18 05:02:11 2010 +0000

    debug/io-stats: init() should also set loglevel
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit cfad660310978ffda6263d44ab2445d42c2621b2
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 18 08:15:30 2010 +0000

    Log level mess clean up
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1886 (log-level mess)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1886

commit f014877f37488d6f9d4c505f0675ad45cd770546
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Oct 19 07:50:05 2010 +0000

    Remove additional failure cli msg for peer detach
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1955 (Redundant log messages when "peer detach" fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1955

commit a9187b9609dacb017aff171c317cd5332ef64bd5
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Oct 20 01:20:59 2010 +0000

    mgmt/glusterd: resolve the bricks before comparing uuid
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1985 (peer detach fails if bricks are not resolved)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1985

commit db61075a123008ebd94ab8ff00b984e484155654
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Oct 21 03:38:30 2010 +0000

    Solaris build: Fix linux only features
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1990 (Gluster mainline build on solaris fails with errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1990

commit cd9a247906924106c722ecf4611b7be4b5408ad9
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Oct 21 03:37:52 2010 +0000

    Solaris build: Handle namespace clash for rpc-clnt.h
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1990 (Gluster mainline build on solaris fails with errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1990

commit f3737b2ee75bda6cd05744f2fbd13cb92ecab655
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Oct 21 03:37:27 2010 +0000

    Solaris build: Remove sigtimewaitd
    
    This part of code was stale as a result of fixes for volume start force
    changes. Removing the unwanted code
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1990 (Gluster mainline build on solaris fails with errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1990

commit 559055ebfebe8d58c8607c521661c1f1c1d3a2d5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 21 04:06:49 2010 +0000

    nfs3: Correctly funge solaris root lookup FH for DVM
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1997 (Solaris mount fails with "RPC program not registered")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1997

commit 46b7ce29e1b300044e03841a1a70325f190416c1
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 21 04:06:48 2010 +0000

    nfs: Fix volume-id option declaration
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1972 (xcs get doesn't work with gNFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1972

commit 8ce807dd811e32b704a7beec1bbbcbb2625a7219
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Oct 21 04:33:44 2010 +0000

    do not hardcode the replace brick remote port to 34034
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1998 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1998

commit 51ddf878b1d74369434c6b95b49a76bce32fd4b1
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Oct 13 00:12:49 2010 +0000

    glusterd-rebalance: if file is open, don't do rebalance
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1934 (Server segfault with 3.1 platform ISO during volume expansion)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1934

commit e788e2dec0c90c77a88b561636df569d94c8e638
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Tue Oct 19 06:20:24 2010 -0700

    Revert "glusterd-rebalance: if file is open, don't do rebalance"
    
    This reverts commit 6e6b4b4fd002347ca08691f73e10b961f693d754.

commit 6e6b4b4fd002347ca08691f73e10b961f693d754
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 12 04:09:35 2010 +0000

    glusterd-rebalance: if file is open, don't do rebalance
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit b9d6e0c879feb9d86cdadf4072a7ebeb5eb29798
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Oct 12 03:54:31 2010 +0000

    rpc-transport/socket: initialize fragcurrent pointer in correct state while reading vectored replies.
    
    - If fragcurrent is initialized in the same state which reads payload data,
       there is a possibility of it getting reset during partial reads from socket.
       Hence it should be initialized just before entering the state which reads
       payload data.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1929 (different value is logged for read header size for multiple reads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1929

commit a6304aec8c366ad7853f95348aa6c73a0b873678
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Oct 12 03:08:46 2010 +0000

    mgmt/glusterd: create brick path if does not exist
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 9bad9d59f0f19fe20f90c6ed80e25c7db08b3371
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Oct 12 03:06:30 2010 +0000

    Change assert to GF_ASSERT
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit f637330995eab92a1d0b9f4ad9c43acfaad35037
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Oct 12 02:21:16 2010 +0000

    rpcsvc: calculate dump response length instead of hard coding it.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 15c9f6789fe41afdda12052c9ce6d538e0c2f5e6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Oct 12 02:26:34 2010 +0000

    rpc-transport/rdma: by default use infiniband port 1
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit ed4975b13db3220d461b8ea2a764efd6572e156a
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 12 02:25:46 2010 +0000

    nfs: avoid assignment of structure pointer into serialized buffer
    
    With the introduction of variable sized file handle feature in NFS,
    on-wire lengths of file handles can be lesser than file handle structure
    of code. Direct pointer assignment into the offsetted buffer and
    dereference and result in reads beyond the end of buffer and crashes.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 999 (Crash in nfs3_fh_resolve_and_resume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=999

commit 48672d26a01f3ce443479b19820e2822a6c650f6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Oct 8 00:25:30 2010 +0000

    check if fd is NULL before accessing it in fuse_open_resume
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1858 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1858

commit fab78b45f7e99ea2e41a4ef3603a56e9eac5b776
Author: Harshavardhana <harsha@gluster.com>
Date:   Fri Oct 8 17:43:36 2010 +0000

    Add mount.glusterfs to fuse since its only needed for native client
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1770 (Cleanup rpmbuild)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1770

commit 161850285ff06e90f2c990989bab9513dd4a4289
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 12 01:22:28 2010 +0000

    nfs: re-implement logic to perform fresh lookups when lookup revalidates fail
    
    - implement lookup to pass via inode layer so that looked up entries make it to inode cache
    - implement lookup revalidation failure check in the fop layer
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit efa94a4237bc98c629671e6fbb58948789604fe5
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 12 01:22:11 2010 +0000

    Revert "nfs3: Revalidate inode on receiving ESTALE on lookup"
    
    This reverts commit f5afcc47f9f00472d6c2b3f48127e02332cd457a.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit c3b6df1a8e27c66a5c17cc1d6a92fdc37354ae6f
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 12 01:21:51 2010 +0000

    protocol/client: prevent propagation of CHILD_DOWN after pmap query
    
    pmap query results in a new port to which the rpc client reconnects.
    This involves disconnection of current connection to pmap which was
    propagating CHILD_DOWN upwards prematurely
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 91580140b3df01838c5c5a6dac301efb87c4bd93
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 12 01:21:32 2010 +0000

    protocol/server: be consistent in setting rsp.dict_len and rsp.dict
    
    in cases where op_ret was -1 and dict was not NULL, the code was
    setting a dictionary length but not the serialized dictionary. This
    would cause crashes in the xdr serialization function
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 2478d21c8d7c0e4d66990f7da7323f2c750a9d82
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Oct 11 15:17:18 2010 +0000

    unwind if layout is NULL in getxattr for dht
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1917 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1917

commit f182151cf338cad36d1d503f33b65ca40785b797
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Mon Oct 11 12:32:04 2010 -0700

    Revert "nfs: re-implement logic to perform fresh lookups when lookup revalidates fail"
    
    This reverts commit 563ef3d12f8d7a927b403d04c279d9fc702faad0.

commit 61308de7645f1df462bef50e9c22237899218c65
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Mon Oct 11 12:31:26 2010 -0700

    Revert "Revert "nfs3: Revalidate inode on receiving ESTALE on lookup""
    
    This reverts commit 6dd3b7fa3bc7acf9281cc17f08010675e2297089.

commit d31e97336aac057510203f0942856b66baf4a91b
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Oct 11 12:13:51 2010 +0000

    mgmt/Glusterd: fixes in volume reset
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 27c8b7a36972db1a80d51764f9dfc6d3deb10a80
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Oct 11 09:13:27 2010 +0000

    Remove references to COPYING.* files
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d6978803395fb1d1635dd454894e26d9feb806d9
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 11 07:30:55 2010 +0000

    dht: change behaviour CHILD_UP/DOWN/CONNECTING event propagation
    
    The first CHILD_UP/DOWN/CONNECTING event to pass dht upwards should be only after
    all subvols have reported their status atleast once.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit 4868116c1ca08868abe69c271dc108f1d0b5a227
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 11 07:30:30 2010 +0000

    Revert "distribute: Propagate CHILD-UP when all subvols are up"
    
    This reverts commit 6b2e2fb0903fc56105c267881f202a4865a8b6c7.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit 563ef3d12f8d7a927b403d04c279d9fc702faad0
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 11 06:43:35 2010 +0000

    nfs: re-implement logic to perform fresh lookups when lookup revalidates fail
    
    - implement lookup to pass via inode layer so that looked up entries make it to inode cache
    - implement lookup revalidation failure check in the fop layer
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 6dd3b7fa3bc7acf9281cc17f08010675e2297089
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 11 06:42:39 2010 +0000

    Revert "nfs3: Revalidate inode on receiving ESTALE on lookup"
    
    This reverts commit f5afcc47f9f00472d6c2b3f48127e02332cd457a.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit bf68324270f7e15f140ccb74ab355f8179cce92f
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 11 06:42:32 2010 +0000

    Set correct logging level for log messages
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1887 (logging mess)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1887

commit 47a87215e30d3ea2dc6ec9ae178f5a9e3eae9e96
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Oct 11 06:03:40 2010 +0000

    features/locks: free fdctx in release.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit 2854c559340d33473750fac65aace58506951276
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Oct 11 08:38:19 2010 +0000

    Copyright changes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 5d4800fa35d3a9ca08175fe2bbdd78c2b0b5e184
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Oct 11 06:18:07 2010 +0000

    Do graph init after topology change
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ab42cb8d75985e33fb27e9fc5da0bc37c1024804
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 11 00:04:57 2010 +0000

    fuse_loc_fill(): handle a case of NULL dereference
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1889 (gluster FUSE client crashes on irregularity)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1889

commit 74dabe95193a0bc76c3ba149431a9110149a8e9e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Oct 11 04:28:30 2010 +0000

    get the remote-host option from the dictionary in reconfigure
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1898 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1898

commit 81b6fa2b813d6913dd6329ef6a463669d282ebb6
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 11 03:49:45 2010 +0000

    Add log-level validation for volume set command
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1886 (log-level mess)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1886

commit 3dc782527482d2c62c9344669ccaa2dc42481a58
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 11 03:26:00 2010 +0000

    mgmt/glusterd: handle reqs from unknown peers for friend sm
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1838 (handle peer detach gracefully in case of lost frames)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1838

commit eb99bee0246d5a43bbee7383b3809a360aa70018
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 11 02:23:18 2010 +0000

    Add confirmation to volume delete command
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2eb9861cbc0387b1054bfeb7864c255a42b475f5
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sat Oct 9 06:58:00 2010 +0000

    mgmt/Glusterd: Memory leak fixes, minor CLI changes
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1852 (Usage message of volume set printed twice)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1852

commit afb6997fe74af257c7e687e33fe88a292f7a4a00
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Oct 8 09:52:52 2010 +0000

    io-stats, volgen: make the distinction between client and brick loglevel in volgen's scope
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1789 (add log-level options to volume set)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1789

commit d1f938c16e309431382ab9aaa32d50bf0ccd3260
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 8 20:21:59 2010 +0000

    rpc-transport/rdma: fix the bug which was causing an ioq-entry being mem_put twice.
    
    - in case of failure to send message, ioq-entry would be freed, but it used to
        get added to the ioq-list. Failure in sending a message (for reasons
        other than insufficient quota), would result in transport being
        disconnected. In the process of handling pollerr, when ioq-list is flushed,
        the same ioq-entry which would've already been freed, would be freed for
        second time.
      - this patch also fixes spurious disconnects happening when quota was not
        available while sending a request.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1854 (GlusterFS 3.1 beta crashes over Infiniband with rdma issue)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1854

commit 0ccb63dbc52f66975205baf8452d2b57418da4aa
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Oct 9 07:41:14 2010 +0000

    set keepalive for client connections
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1802 (Gluster volume creation failed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1802

commit 13f1fff6da4b2b9ee30f43346cb382abfc1bc304
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Fri Oct 8 10:34:18 2010 +0000

    mgmt/Glusterd : Volume info fixes
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1872 (gluster volume info is not working with qa42-)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1872

commit e0cdcbf68ab1dc1cc1af874cd84579d89a3e3747
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 8 10:17:55 2010 +0000

    rpc-clnt: do rpc_transport_destroy() in rpc_clnt_destroy()
    
    handles the case of peer detach properly
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit cd5c9df4b67073089a5502d5e4c2e2e7d2141e4a
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 8 07:06:57 2010 +0000

    mgmt/glusterd: Fix replace brick to pass src-brick and dst-brick port nos properly.
    
    Fix also contains patch from shishir ng for maintaining replace-brick
    states in glusterd.
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 09914c02f24b4cc74cb6aad9994ae590cf8b76bf
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 8 07:01:42 2010 +0000

    rpc/clnt: allocate a new cbk_program before registering it.
    
    - Refer Bug 1836 for more details.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1862 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1862

commit 2e43696eb90dc835d0aa8000e19b6f207760309c
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 8 06:58:51 2010 +0000

    migrate from port 69* to 24007
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1870 (Change the port from 69* to some other ports.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1870

commit 98e1ea0f178bdb8d26037edda9aae7bc2339bac4
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Oct 7 03:20:59 2010 +0000

    Possible race condition between cleanup and dereferencing
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1760 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1760

commit d4b0360c8c4c5dab692f827972ccea0e728af688
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Oct 8 01:37:54 2010 +0000

    mgmt/glusterd: memory leak fixes
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit ce616c5fa08722044ee311f5f6c7c4e3ccb684c4
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Oct 8 00:19:17 2010 +0000

    mgmt/glusterd: print state, event names for numbers in friend sm
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1847 (print event names, state names instead of numbers for FSMs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1847

commit 99b04920189df06cfd8704a773c51cdb995b7ae0
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Oct 8 04:54:36 2010 +0000

    support for configuring keepalive idle time
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1802 (Gluster volume creation failed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1802

commit 95d595d9cbe727401021cf1caf0d59b3ab12d454
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Oct 7 10:15:18 2010 +0000

    mgmt/glusterd: Always kill nfs with SIGKILL
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1853 (kill nfs process with SIGKILL while restarting)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1853

commit e7178b0646d1542faea6d6acab0291ca0d176b35
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Oct 7 07:26:14 2010 +0000

    Glusterfsd Crash in server_link_cbk
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit c7b518ab85f6fbcbdbae64c8fa092e998a14d1e9
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Oct 7 06:37:12 2010 +0000

    mgmt/Glusterd: Volume set enhancements
    
    - performance.flush-behind, transport.keepalive added
    - volume info to display the options reconfigured
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit f62484f42230db9d240c9b0eaadac48d845053b1
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Oct 7 04:41:28 2010 +0000

    mgmt/glusterd: Change event, state numbers to names for op-sm
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1847 (print event names, state names instead of numbers for FSMs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1847

commit 5979bc3b964adcb8a536dc354e4eca08acaff03e
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Oct 7 05:56:22 2010 +0000

    protocol/rpc/transport: bring in one more event for 'TRANSPORT-DESTROY'
    
    needed because, a RPC disconnect doesn't mean that a RPC transport/listener
    is dead. With this, the race in server protocol cleaning up the lock table /
    fd table when some frames are in transit will be handled properly.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1843 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1843

commit 3c0a7fb86eef1eecada77a6f040f96e1fd9e0536
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 7 05:50:53 2010 +0000

    nfs3: Fix gfid to ino conversion
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1724 (kernel untar fails during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1724

commit 58ce5f46af7e08db3d786c597ec5144294fbd099
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 7 05:23:59 2010 +0000

    nfs: Revert downed-subvolume changes
    
    For the record these are the patches committed as:
    
    1. "nfs, nfs3: Base volume access on CHILD-UP-DOWN event"
    http://git.gluster.com/?p=glusterfs.git;a=commit;h=f47b0c55de9941823fbefe4b3a7e37179d6d4329
    
    2. "nfs: Fix multiple subvolume CHILD-UP support"
    http://git.gluster.com/?p=glusterfs.git;a=commit;h=336e2df7b74be7ad4c9ed403ca10b9f7f7ef9a58
    
    3. "nfs,nfs3: Disable subvolume on ENOTCONN"
    http://git.gluster.com/?p=glusterfs.git;a=commit;h=8c6e27cdaf895e3031c3256efb9472a6c0bf61f3
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1724 (kernel untar fails during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1724

commit 32b62dd42fc479d19211a3c223b665d28d2207f2
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 7 05:58:06 2010 +0000

    lock recovery: temporarily disable lock healing
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 0c0c82729b947256beefcd3999d230302faef1fd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 6 08:00:18 2010 +0000

    rpcsvc: allocate a new program structure before registering it.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1836 (server is hung in infinite loop while trying to search for an actor during request processing)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1836

commit 96155f065e229f6123cc90b9ca37df9cbd7598c7
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Oct 6 04:44:14 2010 +0000

    transport: set 'trans->options' before calling 'trans->init()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 7c7cf68b798ac6ff1d4727c288cdcba15589e456
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Oct 6 07:32:07 2010 +0000

    changes for the sanity script
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit 4880761284daf6da623322e1d3f7152486c5770f
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Oct 6 02:04:01 2010 +0000

    mgmt/glusterd: set the return value in case of failure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1823 (add-brick fails first time but works in next attempt)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1823

commit 05727129fd08e237d2b4f5daf4726438ebc6efb6
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Oct 5 08:02:41 2010 +0000

    mgmt/glusterd: dont access req after reply
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit ef13a1046f72c993b8e053e5fc5f671e9bd2579b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 5 07:48:21 2010 +0000

    cli: fix Number of bricks output
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1815 (gluster volume info - Number of Bricks field)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1815

commit 4c7ca7ec15760681703450dc9279a8c3cf8b98c0
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Oct 5 07:34:45 2010 +0000

    mgmt/glusterd: send volume options to friend
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1816 (send volume options in friend add)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1816

commit 6b74f3ec7b6e0fed2e253df456b067fc27049117
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Oct 5 07:02:07 2010 +0000

    Reply back to CLI on error, by validating each xlator's opts
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 7aec50bdad06665243a16f1ce83a03037bcd5d56
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Tue Oct 5 07:01:52 2010 +0000

    mgmt/Glusterd : Reply to CLI error: graph construction
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 79db3aced2ffca84a696192343d5b811833eb671
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Oct 5 06:40:32 2010 +0000

    features/locks: Handle lock upgrade and downgrade properly in locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Pavan Vilas Sondur <pavan@dev.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1017 (Locking deadlock when upgrading lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1017

commit 99ac72b988f0ccd0bf876cf3e2326b8406f71461
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 5 05:07:37 2010 +0000

    replicate: use the new rmdir prototype for cleaner entry self-healing
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1761 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1761

commit f62ff8a8df7ab7c0c551b650f9bd2f1a87b8dc71
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Oct 5 04:48:27 2010 +0000

    features/locks: cluster/afr: Misc fixes for lock recovery.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 79342c436fb994e6a41e3c7b69c962af37e8946a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 5 03:50:06 2010 +0000

    glusterfsd: '-f' option help update
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1809 (glusterd help text for -f is wrong)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1809

commit b5c5a7fa141e77a5d688647c753b2d59d6330f83
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Oct 5 03:49:39 2010 +0000

    rpm spec file: add proper Obselete keys
    
    Thanks to Bernard Li <bernard@vanhpc.org>
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1808 (Allow RPM upgrade from glusterfs 3.0.x to 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1808

commit fe2777ccaff5d2660af65472962bbef8d10b1814
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Oct 5 01:58:46 2010 +0000

    nfs3: Convert gfid to ino only for non-root
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1724 (kernel untar fails during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1724

commit 25c2e7e18a07f76a8e2168eb9c3d8f87c558069e
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Oct 5 00:24:40 2010 +0000

    Do not exit to shell after gluster help if readline mode is not enabled
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1709 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1709

commit 3f89342de32f214cdb9d641c402954ae9345af71
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Oct 4 17:57:59 2010 +0000

    volgen: add interface to complete option names from specifier (after-dot) part
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 6658fdde8f6e328e232d9d40067df8ae4b16e8b2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 22:15:57 2010 +0000

    distribute: check for 'conf' before dereferencing it
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1806 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1806

commit 372ed08f25da2eb7e09f27685cb1773b88c62173
Author: Harshavardhana <harsha@gluster.com>
Date:   Mon Oct 4 17:54:12 2010 +0000

    init.d: Path not resolved during compilation to actual prefix
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1810 (qa 40 glusterd path is hardcoded, won't start by default.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1810

commit 2136876274690bc7377b97ca0ed812a6befafee2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 13:51:29 2010 +0000

    glusterd: more sanity checks during restart
    
    * check for validity of pid file before doing pmap search, as in
      few cases, pmap_signin() may take more time.
    * remove stale code from 'init()'
    * update pmap->last_alloc during restore itself to handle glusterd
      restarts more agnostics to port collisions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 0d31e7e4239d4765198ea6f46b98ba680038f7ad
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 13:28:00 2010 +0000

    fuse: handle the case of NULL dereference
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1798 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1798

commit 4c28d069b5be71bb2136d85e7a9b9fe0d07e04a1
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 13:27:43 2010 +0000

    glusterd-volgen: fix the auth.allow/auth.reject keys
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1798 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1798

commit dc1113c4a02b1b1186bf37e09685631891d85537
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Oct 4 12:15:34 2010 +0000

    cli: mgmt/glusterd: Add commit force op to replace-brick
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 841ee8d5021980d836c834792b581475b05b0e6b
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Oct 4 11:24:43 2010 +0000

    volgen: revise option list for VOLUME SET
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit ca8615173f495a906520c3a1b238ed8266a932bf
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 4 11:20:38 2010 +0000

    mgmt/glusterd: dont change ret val in cmd handlers if fails
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit 846383acb963b9c74a386192bb5050a9366a8036
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Oct 4 11:19:23 2010 +0000

    mgmt/glusterd: cleanup during detach
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1765 (peer probe  on removed-detached bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1765

commit bde5cb81e251032594e2bba57fb4a72c10e32207
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 11:01:14 2010 +0000

    rpc: don't refer to 'req' after calling 'prog->actor()'
    
    there are chances that a error reply is sent to client from actor,
    in which case, 'req' would be free'd and accessing it would result
    in error.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1790 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1790

commit 98d51842863d52bab2674258c3ec12d668139539
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Oct 4 10:59:08 2010 +0000

    initialize the list earlier while handling create volume and add brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit b6fea1abc756c31d93244263a654b56f2f8b7894
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Oct 4 10:06:08 2010 +0000

    nfs3: Convert gfid into inode number
    
    ..avoids stale file handle errors at the client when client detects
    changing inode numbers from the server.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1724 (kernel untar fails during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1724

commit 8c6e27cdaf895e3031c3256efb9472a6c0bf61f3
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Oct 4 10:06:07 2010 +0000

    nfs,nfs3: Disable subvolume on ENOTCONN
    
    ..so that nfs does not return an error to the client, instead
    the subvolume gets disabled till it comes back up again.
    
    The client is expected to keep retransmitting requests in the mean time.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1724 (kernel untar fails during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1724

commit 64609b65c2ffc34577b342dab12595b13a52d8a2
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 4 08:54:55 2010 +0000

    mgmt/glusterd: added new brick validation functionality
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit 85c013f3accfc409c1a520d0ad529a2c1c16c653
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 4 08:44:11 2010 +0000

    Change GNU GPL to GNU AGPL
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1388 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1388

commit 6a244f2e95b09603507782061ac08b7e0c28fd64
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Oct 4 08:18:19 2010 +0000

    cluster/pump: mgmt/glusterd: Misc fixes for replace-brick
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 14d6a7023fc1abc985675e9ee3e5fee4cd519210
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Oct 4 08:11:27 2010 +0000

    implement volume level address allow/reject setting
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit ef0c7384299e6104a2d4a967847b8c9cea1e79b8
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 08:02:29 2010 +0000

    stat-prefetch: reduce the stat-prefetch mem-pool size
    
    because we are not calling 'fini()' on old graph, after every graph
    change, we are leaking lot of memory. Hence reduce the foot-print for
    now, bring in changes to call 'fini()' later.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit c2e93bf6e391657c23a16b6536f7976136c32ce5
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 4 07:45:08 2010 +0000

    Additional status check for rebalance in progress
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1791 (remove-brick during rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1791

commit 63281f698908897218bb6ca427e280217a4b38c2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 07:38:11 2010 +0000

    /etc/init.d/glusterd (for RPM based distros), fix output format
    
    Thanks to Bernard Li <bernard@vanhpc.org> for the patch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1677 (Fix output formatting for Red Hat init script)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1677

commit f02499e16624f29ac2be5531f1c4c298a12f33a8
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Oct 4 06:47:35 2010 +0000

    Add log-level option to command volume set
    
    log-level option to set brick's log-level
    client-log-level to set client's log-level
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1789 (add log-level options to volume set)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1789

commit 408c164d0adf67d0ab636d3f617fc48c896d33a6
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Oct 4 06:32:47 2010 +0000

    cli: add more type for volumes
    
    Added 'Distributed-Replicate', 'Distributed-Stripe' as types
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit e2438fdde0458b70b0cd201b4950b676188d0824
Author: Harshavardhana <harsha@gluster.com>
Date:   Mon Oct 4 04:50:53 2010 +0000

    Some cleanup in rpm specification file
    
    Thanks to Bernard Li <bernard@vanhpc.org> for rdma 'BuildRequires' fix
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1770 (Cleanup rpmbuild)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1770

commit 2420fd1f0cc5c357776d3766884b86859f3c3781
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 4 02:50:55 2010 +0000

    mgmt/glusterd: update volumes on friend update
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit ebc40051898881fa3d49946046448ee34e356338
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Oct 4 02:17:09 2010 +0000

    mgmt/glusterd: update volumes from friend
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1784 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1784

commit 73f8e094495a71f6a6a4c90495874396f2614567
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 4 00:29:17 2010 +0000

    rpcsvc: bump log level of message for missing transport type
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 6d9bcd67e99ad638ca260f04cff401e7d9ebe3c5
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Oct 3 14:57:11 2010 +0000

    volgen: impemlent dynamic (pattern-based) option matching
    
    So now auth.addr.*.allow can be a basic option, without any specific support code!
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 609a89ceace25a0a81d0a9cafde3a4d1afd1b916
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sun Oct 3 02:41:29 2010 +0000

    mgmt/Glusterd: new command volume reset <volname>, volume set enhancements
    
    - Write the reconfigured options in 'info' file to make it persistant
    - Implementation of volume set  <volname> history
    - Implementation of volume reset <volname>
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 53b8c7470f9e40c60c5eebd1fbad5c6d274f7ee5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Oct 3 04:14:19 2010 +0000

    mgmt/glusterd: changes for detach everywhere
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1765 (peer probe  on removed-detached bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1765

commit c0c419a3572307e71026144b8907a33b464f6066
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 18:44:16 2010 +0000

    volgen: add a precise getter function which considers default values as well
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit ff7f17da9e1817c6d02da3e98163fce834b429f6
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 18:44:15 2010 +0000

    volgen: add support for auth.addr.%s.{allow, reject} options
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit e463cb64d99cf741fabf9e46f7511554607e250e
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 18:44:14 2010 +0000

    volgen: fix up replace-brick + pump generation
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit a3bf2a40fbd0b1b7478e0fbf87dd5a1a9c42e5ab
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 18:44:13 2010 +0000

    volgen: some refactor to make frequent invocations more handy
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 99caede76b0ef312d622b2387bf9524724e7c6df
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Oct 2 11:25:05 2010 +0000

    rmdir: introduce extra flags parameter in FOP prototype
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 5a4e1e69b2ec65dcefa6b37b8ac7d058f3a2c29f
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Oct 2 11:25:04 2010 +0000

    xdr: introduce extra flag in rmdir request
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 77085451a88878728e703215f9bf871a74df92ba
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sat Oct 2 08:29:38 2010 +0000

    Set the lock owner properly for lock self heal.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 8d70c0dd0a9346d75469634777daa362ec8f89f6
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sat Oct 2 08:03:44 2010 +0000

    cluster/pump: Do not do lookup if it is "." and ".." in pump.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 33d7a49bd55d6810d87811c109c7445e27b04c17
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Oct 2 07:36:33 2010 +0000

    rpc-transport/rdma: send disconnect event only if the transport is already connected.
    
    - A disconnect event can be sent before a connect event to rpc, if some error
        happens during rdma handshake.
      - Also call rdma_quota_put only if peer is not NULL.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 1b7a997a7b368aa459dcd57ec23532fe4cdd6e0c
Author: Pranith K <pranithk@gluster.com>
Date:   Sat Oct 2 04:12:51 2010 +0000

    mgmt/glusterd: print peer state names instead of state numbers
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1779 (print peer state names instead of state numbers)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1779

commit ef44323b4ba58fa8c1eb89105851983f828dd91b
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 07:30:39 2010 +0000

    volgen: reimplement volgen
    
    Generating a volfile occurs in two steps:
    - Build a graph (ie, glusterfs_graph_t instance) by graph manipulation
      primitives
    - Write out the graph to a file by the the graph printing API.
    
    Graph builder routines can optionally make use of a "modifier dict",
    which can contain overrides wrt. volume options. This can be used
    for a "dry-run" graph generation.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 067d0e476abe42f1e290039cb903928080e90d8d
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 07:30:38 2010 +0000

    implemented graph printing
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 1cc15f9b0057cd6c8843c8b9cbb36c02d334ec6f
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Oct 2 07:30:37 2010 +0000

    xlator: make it possible to do type setting and dynamic loading separately
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1750 (clean up volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1750

commit 73c6b2f21a67bed186a279adacb4eb28eafcd853
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sat Oct 2 06:14:33 2010 +0000

    protocol/client: Fix dumping of locks in client.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 99ff5f22db3404abbbab6e7d7edabe930762118d
Author: Pranith K <pranithk@gluster.com>
Date:   Sat Oct 2 05:31:55 2010 +0000

    mgmt/glusterd: destroy frames in callback
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit 0ac18907614886fa00858b6a1abfeb099b49348a
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Oct 2 02:14:07 2010 +0000

    Replace assert in mem_put with gf_log_callingfn
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1759 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1759

commit 365c814f7ba4cc8e04959927c3ded9cdd5b2ab24
Author: Pranith K <pranithk@gluster.com>
Date:   Sat Oct 2 01:36:16 2010 +0000

    mgmt/glusterd: handle peer not connected in peer detach
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1762 (peer detach/peer status ,created glusterd crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1762

commit c5714ce6e6fe20575159220bbdf178ebf33ca0ad
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Oct 2 00:23:31 2010 +0000

    debug/trace: print more information while logging inodelk and finodelk.
    
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 26b259476421b89e2df76572c101f5a628ae1bbe
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Oct 2 01:21:35 2010 +0000

    get server xattr only if name is not NULL
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit 17295c37f9ad12163f7c449dbe6f76aff90b493f
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 1 13:04:57 2010 +0000

    rebalance: bring in two stages
    
    step 1: fix layout (quick pass, so the newly added brick can
            participate in distribute's entry creations)
    
    step 2: migrate data (do the actual rebalance)
    
    Its advised to run rebalance after add-brick, and let it complete
    at-least 'step 1', so things will be smooth with distribute.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 4afbc4e1c44d5da4d4cd6141fb2b693e7baeabe4
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 1 13:03:58 2010 +0000

    glusterd: put all the code related to 'rebalance' in new file
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit b656bff2dd912bcd5caf5bf9303bdef17f753ce1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Oct 1 09:23:40 2010 +0000

    changes for replace-brick status message
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1767 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1767

commit 24ec0fbc4bd145b93b80afa480d5cb4cf785717e
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 1 08:01:14 2010 +0000

    stat enhancements
    
    * dht to send 'setxattr' to all subvolumes in the layout
    * server dumps info on total bytes read/written for 'trusted.io.stat.dump' key
    * server dumps all the mount point IP for 'trusted.list.mount.point' key.
    * io-stats dumps latency information only if measured
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit a3f90eeb0ad97e4f86aef603f95b0562ab18f36d
Author: Pranith K <pranithk@gluster.com>
Date:   Fri Oct 1 08:00:12 2010 +0000

    mgmt/glusterd: handle glusterfs crashes for start/stop of bricks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1741 (gluster volume stop after one process crashed.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1741

commit fd2e7d007e5362f0738cd9a825349abcf5d27d8f
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 1 05:45:12 2010 +0000

    Changes to replace flock with gf_flock across GlusterFS.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 55c6e672503a2451186e17b9c1b7daf6e3ae5463
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 30 12:44:26 2010 +0000

    contrib/fuse: update from upstream [555d6b50 in git://fuse.git.sourceforge.net/fuse/fuse]
    
    """
    commit 555d6b504308eac6b976321ce938ee4bec62c354
    Author: Miklos Szeredi <mszeredi@suse.cz>
    Date:   Tue Sep 28 10:13:24 2010 +0200
    
        Fix option escaping for fusermount.
    
        If the "fsname=" option contained a comma then the option parser in
        fusermount was confused (Novell bugzilla #641480).  Fix by escaping
        commas when passing them over to fusermount.
    
        Reported by Jan Engelhardt
    """
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1752 (sync with upstream for "Fix option escaping for fusermount.")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1752

commit 828829a9cf7b925709f9a1f289d9a6cb94b74dd8
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 1 04:33:49 2010 +0000

    cluster/pump: Initiailize pthread mutex and saved fds list.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 3009bc7b585ae9973c6b50ce464a52f20182c63f
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Oct 1 04:21:17 2010 +0000

    remove 'gfs_id' field from all protocol xdr structures
    
    It was kept as a debugging requirement/placeholder. Because RPC is
    mostly bug free with regard to basic xdr structures, it doesn't
    make sense to carry this forward in release. Saves 8bytes in each
    request.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 1af483d3716d6b520c1b4fd984ccecee638b2886
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Oct 1 02:22:08 2010 +0000

    check if the table is NULL before accessing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1757 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1757

commit f5afcc47f9f00472d6c2b3f48127e02332cd457a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 1 01:58:05 2010 +0000

    nfs3: Revalidate inode on receiving ESTALE on lookup
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1756 (NFS must revalidate inode on first ESTALE on lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1756

commit 9555e5ee7dd2c3a2c98cf505bb198e453ea747d1
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 1 01:42:46 2010 +0000

    cluster/afr: Recover locks on child_up from source to sink.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit d355ecd89427871d8d3f20a99acd284baccef6e1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Oct 1 01:41:46 2010 +0000

    mgmt/glusterd: Make replace-brick atomic
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 4ec7688091f9d6ee2a6886d53055b94f284c1f7a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Oct 1 01:35:22 2010 +0000

    changes for the gluster sanity script
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit 64437e01d920597140b35bfeb46591966584e7fc
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Oct 1 01:12:39 2010 +0000

    Allow graph processing even if reconfigure fails
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1730 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1730

commit da74288339563759f568aa5052fdce4c45ebcd22
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 30 11:41:07 2010 +0000

    glusterfsd: perform init new graph if re-configure fails
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit af18c636c44b1ea56296850e55afe0e4b2ce845c
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 30 02:25:31 2010 +0000

    protocol/client: cluster/afr: Support lock recovery and self heal.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 865 (Add locks recovery support in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=865

commit 760daf28898cbb8b5072551735bebee16450ba08
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 30 09:00:14 2010 +0000

    glusterd: fix in log filename and log rotate
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1731 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1731

commit 5a5a7f939c830d8e4a542c8fff00138b83ddd4fc
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Sep 30 08:46:03 2010 +0000

    mgmt/glusterd: memory leak fixes
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit bf152d98cee31a2346f3aec32301ca4a4bbfcea1
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Sep 30 03:41:04 2010 +0000

    Block add, remove and replace brick ops when rebalance is in progress
    
    Also fixing msg, changing defrag to rebalance
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d39ed89765a8d0a1f767b864fd6826d29de7ad1f
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 30 02:18:11 2010 +0000

    start the per brick process with 'glusterfsd' instead of 'glusterfs'
    
    for users, it becomes easy to differenciate which process is exporting
    bricks, and which is used as a client process.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit f63e4b6e9aada6f96c71513bcf7f501f613a30fe
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 30 01:49:52 2010 +0000

    rpc: in rpc_clnt_destroy(), destroy the memory pool also
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1727 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1727

commit b7aed950dbeba2fdc952f734ca2f713acee2345d
Author: Pranith K <pranithk@gluster.com>
Date:   Thu Sep 30 02:22:52 2010 +0000

    mgmt/glusterd: remove debug messages in cleanup_and_exit
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1746 (volume delete fails after volume stop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1746

commit 65c704747809e126edde164cd0ce9f98ea7f6dc8
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 30 02:31:47 2010 +0000

    protocol/client: handle more NULL dereference
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1745 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1745

commit 76b0e35e7809c38e62f33b5068c61623a6914d5f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 29 10:47:58 2010 +0000

    protocol/server: set 'this->private' only if 'init()' is successful
    
    If volume file is fetched (due to HUP or volume file changes) and
    server init is called again, server protocol init fails with 'bind
    to port failed' error. If 'this->private' is set to new 'conf'
    before successful init, the whole process goes to corrupted state.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 0dc7064bd6047e9283d873f418d2e0a4e0ba29e6
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 06:53:35 2010 +0000

    replicate: remove checks which prevented self-heal when open fds were present
    
    this check is not needed anymore since the introduction of changelog piggybacking
    as the optimization technique instead of first-write-to-flush technique
    
    some of the self-healing issues with NFS mounts should be resolved
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit b8c42e5cef817bdd0270b1991c0a365aa321f7cc
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 06:53:03 2010 +0000

    replicate: keep read_child in inode ctx as up-to-date as possible
    
    In every transaction check if the currently set read child in the
    inode context failed in the fop and set it to another subvol on
    which the latest fop has passed. This will prevent read fops landing
    on subvols which have witnessed a failure.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1172 (ls -lh on NFS mount of 2-mirror replicate gives incorrect file size)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1172

commit 87697e7ed88ca650fe70e26d59b67254ed2393f9
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 05:41:34 2010 +0000

    pump: skip "." and ".." entries while traversing dir tree
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 723c57faa30e102732aa29c8c4608703081970f3
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Sep 29 05:08:34 2010 +0000

    mgmt/glusterd: resolve uuid if null
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1734 (replace brick should accept both ipaddress and hostname for bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1734

commit 528dde957c809014aee40737d01cb667e858e0c9
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Sep 29 04:49:53 2010 +0000

    glusterd: make sure init is not called when there is no topology change
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit 2ce4be96bf1c3d08381cbdeb8d57800635702f37
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Sep 29 04:48:18 2010 +0000

    mgmt/glusterd: set the error before starting checks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1734 (replace brick should accept both ipaddress and hostname for bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1734

commit 6689104ce7eed29c7878c124fa13caecaa1245ef
Author: Pranith K <pranithk@gluster.com>
Date:   Wed Sep 29 03:59:19 2010 +0000

    mgmt/glusterd: volume start force
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1736 (implement volume start force)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1736

commit 95dd4ae4dc2a8a3b3673e60c1fa6cbdbb9409d2c
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 03:22:24 2010 +0000

    storage/posix: prevent chmod() from getting called on symlinks
    
    symlinks, if at all their mode can be changed (on non-linux platforms)
    can only be done via lchmod(). Attempting chmod on a symlink can be
    disastrous.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 881 (GlusterFS daemon hangs on replication of symlink (3.0.4))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=881

commit 9406c06522f9e8ef8ee73f6da55937cb1fa04d22
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 06:11:07 2010 +0000

    features/quiesce: new translator
    
    'Quiesce' is used to describe pausing or altering the state of running
     processes on a computer
    
     In GlusterFS context, this translator looks for CHILD_DOWN/CHILD_UP
     events, and will hold the requests for some time if the child node
     is in disconnected state
    
     current timeout is 20seconds, will be made tunable soon
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1500 (Mount point should not be in-accessible between reconnect to server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1500

commit 3702814c02c0789d8b65b4f096cd0d37947eef3f
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 02:58:20 2010 +0000

    defaults.{c,h}: _resume functions added
    
    * cleaned up whitespace
    * untabify
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1500 (Mount point should not be in-accessible between reconnect to server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1500

commit 95d45c7479db322028ab186f4f565c30cbdfba69
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 01:11:07 2010 +0000

    replicate: clear pre_op_done/piggyback values after open fd self-heal
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 34a635c43fa4e33df29be2141348b6c360fcacc9
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 29 01:08:05 2010 +0000

    replicate: use new style (un)locking in self heal of missing entries
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit aee339605337916aaa1e38a0e9ed2422f0f0dcfb
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Wed Sep 29 00:28:07 2010 +0000

    replicate: replace first-write-to-flush optimization
    
    use a changelog piggybacking optimization instead of first-write-to-flush
    optimization and do other cleanups (removal of post-post-op hook etc.)
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 25e4eefc40de8fc47260c1d8209679269686c162
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Wed Sep 29 00:28:06 2010 +0000

    whitespace cleanup
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 28980e69cf720a614fdd6666da5021524bc1f071
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Sep 28 23:28:28 2010 +0000

    mgmt/glusterd: brick info get should compare uuid instead of hostname
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1734 (replace brick should accept both ipaddress and hostname for bricks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1734

commit 4e72e3ac439bab76880236a87558fc54009c007c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 11:01:38 2010 +0000

    rpc-clnt: handle NULL dereferences
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1723 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1723

commit 2e8f8e85e9f5ccbefe834498d4cf665728c70303
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 11:01:10 2010 +0000

    client-handshake: prevent NULL dereference
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1720 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1720

commit 7fa2a88a28578dce36d88436776c05aee65165fd
Author: Anand Avati <avati@gluster.com>
Date:   Tue Sep 28 23:04:24 2010 +0000

    resolver: set safer conditionals during path creation
    
    when client would send just the path as part of a transaction, path
    reconstruction would create parent directory's path instead of actual
    path at the time of resolution.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 935 (Directories change mode from 0755 to 0644 automatically)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=935

commit 6686ddc22785fba5ea488fcaafa598161469085b
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 28 09:30:27 2010 +0000

    mgmt/glusterd: Fix incorrect state machine transition
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 981970098a68ae222805ae77a0ea53eb1f95fd21
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 28 09:29:52 2010 +0000

    mgmt/glusterd: compute cksum upon volume retrieval
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d7e694ad7049cd819f8dbc26ec1e7d35b4d1a6fe
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Sep 28 09:27:23 2010 +0000

    mgmt/glusterd: prevent cleanup_and_exit if its already started
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1706 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1706

commit 84952d98750165f211d632940fbbd95059553dc2
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 28 06:21:44 2010 +0000

    Changing readdir calls to readdirp calls in DHT
    
    Changing readdir calls to readdirp calls to handle layout issues
    seen in dht.
    Also, changing posix readdir call to do stat after dir read for readdirp.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1690 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1690

commit 387f4d385e1d2c29af54c4f87eef7a07acfcfdf9
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 05:37:02 2010 +0000

    more proper error returns in case of graph topology validation
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 5ea64d983b31c6882d4582af71a339b6a4fcccf2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 28 04:30:39 2010 +0000

    nfs: Free inodes layer fop locals to fix memory leak
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1259 (Memory leaks to 5.7g usage in gnfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1259

commit 9c8a9bd96733dc3ccde4d76786fe0ad009b3bf6e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 28 06:03:59 2010 +0000

    change the loglevel from error to debug while reconfiguring
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1729 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1729

commit fd3662166f8d7e8247bc535f0816bb3abea01889
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 28 04:30:38 2010 +0000

    distribute: Propagate -1 op_ret on failed fop
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1717 (dht_attr_cbk does not propagate op_ret on failed fop causing nfs crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1717

commit 059c05561e1df6e24229e7adf613f868fa0275b9
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Sep 27 08:13:19 2010 +0000

    do not allow remove brick if the total bricks given is less than the sub_count
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1713 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1713

commit c3bf3b45a7cf612833c14fc701f751ffc04a7e73
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 01:57:15 2010 +0000

    access-control: report possible errors in graph during 'init()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1712 (Error is not logged for a dangling volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1712

commit a381d3a29fc149d78aecba22fdb285314aa9b711
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 28 05:17:27 2010 +0000

    glusterd: logs is a symlink to default var log dir
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1728 (glusterd log file location)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1728

commit a89ec9419758b420ce11dddac27327ec34141da6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 28 04:31:51 2010 +0000

    unref the dict allocated in set_volume, remove_brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1726 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1726

commit 1fd7b1c4fcfd4041c2a9cb89dcc3874f70324cde
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 28 03:47:40 2010 +0000

    Starting/stoppin glusterd changes brick pairs
    
    the problem was the pair information was not maintained anywhere.
    When glusterd re-starts, it reads the brick dir entries and
    populates the brick list. adding brick info to volume info file
    to fix this issue
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1714 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1714

commit 65a84c9d0d691ac4f7a5f33374140e50746a96af
Author: Pranith K <pranithk@gluster.com>
Date:   Tue Sep 28 02:47:08 2010 +0000

    mgmt/glusterd: prevent detach of peer with its bricks existing in cluster
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1681 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1681

commit dbbec1261eae8440726b001df8fe4c06837d6f3d
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 09:26:17 2010 +0000

    distribute: don't check for inode's gfid in _cbk
    
    * in dht_lookup_dir_cbk(), at the entry itself we are dereferencing
      local->inode, which can be NULL in many cases. Hence no need to
      check/dereference that variable. Just check 'local->gfid'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1696 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1696

commit efd1f08b57a3175cab9bb543833bc3c9192b527d
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Sep 27 16:20:19 2010 +0000

    replace brick fixes
    
    Reviewed ok.
    Just like commit, maybe we can move 'pause' also to the commit op of replace brick since it can be performed only when replace brick has been started. I'll send in a patch for that soon.
    
    ----- Original Message -----
    From: "Vijay Bellur" <vijay@gluster.com>
    To: glusterfs@dev.gluster.com
    Sent: Monday, September 27, 2010 7:59:25 PM
    Subject: [PATCH BUG:1235] replace brick fixes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 4a9c36ea9df9dada0d16c5fdb9fe149b360d9150
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 08:57:05 2010 +0000

    glusterfsd: after volume fetch, return proper values from functions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit edf5b0b4b89b46a566607d159b282c57298679db
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 08:55:55 2010 +0000

    io-threads: fix NULL dereference in 'reconfigure()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1715 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1715

commit f4ff82641baf75cf534531a4dc2eb588db1218cb
Author: Pranith K <pranithk@gluster.com>
Date:   Mon Sep 27 05:57:51 2010 +0000

    mgmt/glusterd: delay probe till connection happens
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1607 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1607

commit 542476b4bcf248c02ad087381c03c49c2b4c8014
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 02:06:26 2010 +0000

    access-control: handle a case of wrong error handling
    
    in rename_src_stat_cbk(), we were checking the return value as '-1',
    but the function can return '-EFAULT' (ie, -14 in few cases).
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1691 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1691

commit c0cd0637bb8c28db5d3de0a89f312cad96ba2347
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 27 01:22:57 2010 +0000

    fix a build warning about stack overflow
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1710 (build warning)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1710

commit acd2c4dc93381df9806243b6d367a36301e5eb66
Author: Pranith K <pranithk@gluster.com>
Date:   Sun Sep 26 23:55:41 2010 +0000

    mgmt/glusterd: perform post operations of volume set
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1708 (update store, re-compute checksum, restart nfs for volume set)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1708

commit 4725bd37787fe1c02213ab63316abb234077990f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 25 07:52:18 2010 +0000

    protocol/server: Check before de-referencing conf
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1698 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1698

commit 336e2df7b74be7ad4c9ed403ca10b9f7f7ef9a58
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sat Sep 25 04:42:30 2010 +0000

    nfs: Fix multiple subvolume CHILD-UP support
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit cb1c1d78a3aededcc1d1f77f6e91e23fda83a631
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 25 04:40:33 2010 +0000

    mgmt/glusterd: Do not look into brick when logfile is being set for volume
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 0b68f788a8ff0579f70e546bcd365ee0c3a49a12
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Sep 24 13:37:32 2010 +0000

    mgmt/glusterd: resolve brick before doing uuid compare
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit bd73298410ac6814ed2f45acf2beafee21dc0af1
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 10:16:23 2010 +0000

    glusterd: add new stats related options for 'volume set'
    
    * 'gluster volume set <VOLNAME> latency-measurement <yes|no>'
    * 'gluster volume set <VOLNAME> dump-fd-stats <yes|no>'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit dca5c02cf31e373e6e4ff376a5f35684cd43e081
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 10:18:31 2010 +0000

    glusterd-volgen: add 'io-stats' xlator on server volfile too
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit f91dad3f618b2d981e69ecd5000974db712f9188
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 10:14:37 2010 +0000

    io-stats: bring in latency measurement feature
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit 96846cb2aaac582323a5f7347581dad2f5f2cd31
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 10:14:23 2010 +0000

    stack.h: remove the time/latency measurement code
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1701 (better statistics  gathering in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1701

commit 25e868b571bc394dd65b54849f369e1a0c29caab
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Sep 24 08:50:24 2010 +0000

    check if the bricks provided are the same and are alredy being used
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1682 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1682

commit 6e952607f17dd5ea6e3748f2bbc26234f4b1e553
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 24 07:51:53 2010 +0000

    rpc/rpc-transport: fix frame-loss during rdma-reads.
    
    - total no of rdma reads in progress was tracked using refcount of post
        (refcount = total rdma reads + 1). However doing rdma_post_unref _after_
        rdma_do_reads, can result in race condition between execution of
        rdma_post_unref and procedure handling rdma read completion. This makes
        it impossible to find out whether the current rdma read was the last
        rdma-read being done in procedure handling rdma read-completion.
        The fix to this should either do rdma_post_unref before posting an rdma
        read or use another variable to track the number of rdma-reads.
        This patch implements second method.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1700 (write fops are bailing out on a distribute setup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1700

commit f2c5894f254d9b3d17b058adce7c7b4152da2f5e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 24 04:38:36 2010 +0000

    mgmt/glusterd: add option to force kill gnfs process
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1517 (gluster volume stop - starts a new nfs server.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1517

commit 0cf88c1d35bbc86fdfc1b8035222b248d6725807
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 24 04:09:03 2010 +0000

    mgmt/glusterd: initialize addrinfo variables
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1695 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1695

commit e9880384632d8ae489a1f6cdc5429ba6e378ce40
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 03:17:36 2010 +0000

    glusterd: fetch-spec now allows NFS like '/<volume-name>'
    
    To make mount options similar, so less confusion
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 6965560fe9f9291093e9d91c5787ce0374371eb8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 24 01:40:34 2010 +0000

    rpc-clnt: print frame-sent time till microsecond resolution in call_bail.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 0209aab58c56e06fd86487be76312d04fd8f5593
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 24 00:29:29 2010 +0000

    glusterfsd: handle relative path for '--volfile/-f' option
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ad9c5f801ebffb0993d5f764b27e12b01beba2ce
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 23 08:29:15 2010 +0000

    mgmt/glusterd: cleanup generate_perf_xlator_list ()
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1670 (Volume set enable disable support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1670

commit 7e1b8bb370b4082e66ebe6e458fc45aa653ab3f1
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Sep 23 08:29:14 2010 +0000

    dict: add dict_get_str_boolean() function handily query string-boolean values
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1670 (Volume set enable disable support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1670

commit 406bcbb443aaca1655be9dcb9101a717eafdc061
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Sep 23 02:09:25 2010 +0000

    Check for possible fd/ctx NULL in afr
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1636 (Replicate crashed in afr_nonblocking_inodelk on deref of NULL fd_ctx)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1636

commit c5a5fea9e6a1f1709e6826c1eea89dfd25cc496b
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 23 09:18:37 2010 +0000

    mgmt/glusterd: Misc fixes to pump / cli / glusterd wrt replace brick.
    
    Patches from Vijay and Shishir have been pulled in into this one big patch.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit fa3ca3c61fbd7ad95f57f0522624396b8f05ecf6
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 23 06:30:43 2010 +0000

    distribute: don't update the inode's gfid directly
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1680 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1680

commit a2e35ea0166c42435f860990c9476dda470843c8
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 23 05:14:05 2010 +0000

    distribute: bring in feature to fix the layout of root inode
    
    * If the errno is ESTALE for root, fuse doesn't send fresh lookup on
      the path (it does for all other inodes). Earlier layout mismatch for
      root never used to happen inside codebase, and if noticed, it was
      serious issue.
    
      Now with DVM, after a add-brick or a remove-brick, layout can be
      changed even for 'root' inode. Needed to fix this issue inside
      distribute itself, instead of fuse sending 'fresh' lookup on root.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1630 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1630

commit 279d46c1068761ffd6349db2913f06c4bb692e17
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 23 03:52:57 2010 +0000

    fuse-resolve: remove stale code
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1240 (DVM: after graph change, inodes should resolve to new inode-table)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1240

commit 7f645c3ac3678bab9b74c62b33951450841af967
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 23 00:45:53 2010 +0000

    gluster cli: handle case of no brick given in log locate/rotate
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1679 (gluster volume log locate/rotate segfault)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1679

commit 2b0299da40ec4d35106d1caaadf936387a54fcce
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 22 23:42:11 2010 +0000

    cli: Make volume rename hidden
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 26228ccddc85ab575e4508a03297af57713a5b28
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 22 22:42:51 2010 +0000

    glusterfsd: destroy mgmt in cleanup
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1517 (gluster volume stop - starts a new nfs server.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1517

commit 22560c7faf95157c8ff4df9953d83147e153d3d7
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 22 15:05:22 2010 +0000

    mgmt/glusterd: Always use io-stats as the topmost xlator with appropriate volname to be nfs friendly.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1670 (Volume set enable disable support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1670

commit 37b4a747f5741dda0a24b97420460734452a4b1d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 22 13:27:04 2010 +0000

    cli: Avoid exposing volume set-transport
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit b89e9348aed56c40fec1f8401230dd5a1965f235
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 22 13:26:41 2010 +0000

    mount/fuse: generate gfid only in case of a fresh lookup
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 5c4ac19e88f5d7954770aceed930ee193c4138b5
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 22 10:03:17 2010 +0000

    fuse-resolve: don't resolve fd to new graph for now
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1674 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1674

commit 435603caeb651dc1050c85281e3838df9d37ce64
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 22 09:43:45 2010 +0000

    distribute: in linkfile creation check for valid gfid in inode
    
    * if inode->gfid is not valid (ie, null), take the gfid from the
      parameter dictionary passed from higher layer
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1565 (deleting files after dht rebalance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1565

commit 66b1613efdae3ba2740241ee325e5f0b0634424d
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 22 08:50:23 2010 +0000

    distribute: while selfhealing directory, send proper gfid in dict
    
    * this was the root cause for having layout mismatches in case of
      add-brick, because the gfid of directories on newly added brick
      was always mismatching, which caused many operation on that
      particular brick fail.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1629 (files missing during add-brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1629

commit 0a14d255dcd6fa3e9d575bae1fecd164763104bb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 22 08:14:02 2010 +0000

    rpc/rpcsvc: add debug messages when rpc-messages are handed over to/from transport.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 679395dc7ed5b716f3fb37886f7ec8e59ab02659
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 22 06:17:32 2010 +0000

    mgmt/glusterd: skip sending req to disconnected peers
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1673 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1673

commit 2915e10dd0ffe529ddf747451051cf9924c708f3
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 22 05:21:28 2010 +0000

    Restart all bricks which are down when glusterd comes up
    
    This is only done is the volume is started.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1562 (insufficient consistency check on start of glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1562

commit 3225d7ccf599e726012fb2d32fe3cc68b979e0ea
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 22 04:23:45 2010 +0000

    rpmspec file: add option for '--without rdma'
    
    Thanks to Bernard Li <bernard@vanhpc.org> for the patch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1650 (Add '--without rdma' rpmbuild argument)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1650

commit d42f248c58b2ca73fb56a3e091c8e967e2435546
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 22 04:21:02 2010 +0000

    mgmt/glusterd: replace-brick validations
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1657 (validations for replace-brick while stage op)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1657

commit f47b0c55de9941823fbefe4b3a7e37179d6d4329
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 22 03:32:17 2010 +0000

    nfs, nfs3: Base volume access on CHILD-UP-DOWN event
    
    Overall, the aim of this patch is to change the result of an nfs
    op depending on whether the underlying volume is up or down
    as notified by CHILD_UP and CHILD_DOWN events.
    
    This patch contains three intertwined changes:
    o Only when the lookup on the root of a volume is successful does gnfs now
    export the subvolume. Till now the result of the lookup was not used to
    determine whether we should export that volume. Not accounting for root lookup
    failure resulted in ESTALEs on first access because some children of distribute
    were down at the time of the root lookup.
    
    o Only when lookups on all the subvolumes have succeeded are
    these exports enabled through NFS.
    
    o When a child of say distribute goes down, on CHILD_DOWN event nfs will
    ignore all incoming requests from the client because ignoring these
    will prevent ESTALEs for those requests and in the hope that ignoring the
    requests will make the client retransmit. There are risks in this approach
    absent the DRC but we're willing to live with that for now.
    When a child goes down, the mount exports list will continue to show it
    but mount requests will be denied.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit 6b2e2fb0903fc56105c267881f202a4865a8b6c7
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 22 03:32:16 2010 +0000

    distribute: Propagate CHILD-UP when all subvols are up
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit a4c948aca6058049523e31acf33ce5770f8693ad
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 22 03:32:15 2010 +0000

    distribute: Return ESTALE when dir selfheal finds no fix
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1641 (Distribute must return error when dir selfheal has no fix)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1641

commit 151c120908fbd8e18072a6e64a641911c307a51c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 22 03:32:14 2010 +0000

    core: Introduce string representation of GF_EVENTS
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1643 (Initial requests after mount ESTALE if DHT subvolumes connect after nfs startup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1643

commit b6121c62717c89ddc38b72ef18ba110c944cde70
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 22 02:29:12 2010 +0000

    mgmt/glusterd: opinfo unlock should be done in txn_complete
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1664 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1664

commit 05fd7d004a307a1aba158df82a868e3d271fe966
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 22 02:01:36 2010 +0000

    mgmt/glusterd: Restart src brick and add pump when replace brick cmds are given.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1669 (pump xlator should be excluded by default)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1669

commit e6bdd4f642d5f4d0afbe76b21fdd644c326edb0e
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 22 02:01:10 2010 +0000

    mgmt/glusterd: Enable/disable xlator options support added.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1670 (Volume set enable disable support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1670

commit 14bd64ad53409fb093c499eca45cb23fe9f96772
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 22 01:40:45 2010 +0000

    Remove brick for stripe should check for pairs/subvolumes
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1658 (removing single brick works)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1658

commit 8432caca68b9006061226998648c0dd0ff5ebbd3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 22 00:10:28 2010 +0000

    performance/quick-read: fix memory leaks.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit 7655ccebd46936a42a6edb62184455077a6505fd
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 21 22:22:45 2010 +0000

    server-helper: check for conf before dereferencing
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1667 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1667

commit a2688982b7694f18d6a1d7e20ab36274cca9cc27
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 21 08:12:36 2010 +0000

    unmount the replace brick client irrespective of whether the previous commands succeeded or not after the mount
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1661 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1661

commit 78a09306fe1bd955616b8dd56e85f3af954c96b0
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Sep 21 09:12:31 2010 +0000

    libglusterfs: handle failure properly in gf_system()
    
    - Child must be terminated if execve(2) fails, otherwise it will deadlock
      parent
    - Status, as of given by waitpid(2), is aggregated data, should not be
      returned as is. In fact, there is not much point in threading up the
      exitvalue: callers usually return gf_system result as is, and according
      to glusterfs conventions, they should return -1 on failure. Therefore
      now we check only for success/fail, and return 0/-1.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1665 (glusterd hangs if spawning a child is failed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1665

commit eb8561e302bd83305fb093eb8cca42b4f9f62b22
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 21 10:49:49 2010 +0000

    cli: remove trailing slashes from brick paths
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1659 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1659

commit bd1fa94c8e26cb34566ad460092c2089597e2b17
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 21 05:37:10 2010 +0000

    mgmt/glusterd: print critical log for responses from unknown peers
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1490 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1490

commit 6dbd6185483591fc2f83beee9d2766d1ea0c61a4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 25 04:37:44 2010 +0000

    mount/fuse: By default enable direct-io only for fds not openened with O_RDONLY.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 7547953e3a7a458d60f8bbfef8e141aff087bfa3
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 21 05:12:08 2010 +0000

    fix the typo in the getxattr of replace-brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 7e4d13b56022dfe57fc1512e247eb030edec17fb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 21 03:51:57 2010 +0000

    check the private structure of the xlator before accessing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1651 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1651

commit 0484b5768da303998549e8153d08899e58edab68
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 21 02:02:48 2010 +0000

    cli, mgmt/glusterd: send errno in case of Peer reject
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1653 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1653

commit ae376259304b654206c50b095dabf172fc355438
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 20 23:55:55 2010 +0000

    Friend find should handle hostname/ip
    
    Regardless of friend being added(probe) using hostname or ip address,
    friend find should succeed if any of the above pair is provided.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ad234382336a6f2dafb4cb698dfabbf7957b498b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 20 09:54:12 2010 +0000

    cli, mgmt/glusterd: volume sync command
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1310 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1310

commit e71b50e49612af4e76510b0c2a6f0519adfd852d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Sep 20 08:09:09 2010 +0000

    rpc-transport/socket: set keepalive socket option.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 1473491b576700bb3891abb8adb49e0c31cef8bc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Sep 20 07:28:30 2010 +0000

    cluster/afr: print correct offset in debug message during diff self-heal.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit abbfbe2461511183a983f5c97f08f2653f40d47b
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 20 02:29:14 2010 +0000

    build glusterfs with '-O0' flag by default
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1599 (can we build glusterfs with -O0 -g by default)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1599

commit 5c297be9612f76dad6f970092fb6762b4ee4844a
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Sat Sep 18 03:31:56 2010 +0000

    Glusterd: gluster volume set <volume> <option> <value>
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1159 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1159

commit faa817ea9cb119c7f65fce24f03a172fa4b4ada1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 18 06:31:33 2010 +0000

    mgmt/glusterd: detach peer properly when msg submission fails
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2bd9adb71d9b64799fef7978ff1da97fadab3056
Author: Anush Shetty <anush@gluster.com>
Date:   Sat Sep 18 06:21:33 2010 +0000

    change stat structure to iatt
    
    Signed-off-by: Anush Shetty <anush@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1642 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1642

commit 994d6de08c208509f69b2a0df16f6398dde49215
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Sep 18 03:21:56 2010 +0000

    cluster/afr: allocate memory big enough to hold iatt structures.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 927 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=927

commit dc648b30d2b892ef9413a32893070d1abf69f3df
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Sep 18 03:20:58 2010 +0000

    cluster/replicate: stack_wind into read_child only if it is up.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1637 (replicate should wind reads into read-child only if it is up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1637

commit 1cc83c61c06b8271e856466530513dd63c3e8681
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Sep 18 01:54:09 2010 +0000

    check for 'link_inode' in server protocol
    
    * also log and return in case of 'fd_bind' getting fd with NULL inode.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1635 (running mixed tests glusterfs crashed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1635

commit 8ba46b4c2d6f67887454d1e6756e6dc476d9457d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 18 01:30:35 2010 +0000

    mgmt/glusterd: Proceed state machine when cli response fails
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1530 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1530

commit d111e0fa0b9769b8ffb8df97a976ba74efae576d
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 17 23:21:55 2010 +0000

    rdma: do event_unregister() in fini() too.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1611 (crash in gf_free)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1611

commit 0693997b778d1f3c328f0ad0d6ab8b1ad3be6b72
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 17 22:52:11 2010 +0000

    server-resolve: check for variables before dereferencing
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1628 (glusterfs crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1628

commit 1f7610608c4888fecc416a46b52d35c791a5116f
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Sep 17 13:36:12 2010 +0000

    glusterd: refactor service termination
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit dbb2b3764c6f9cfeaeacd868e3167210017ba848
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Sep 17 06:41:13 2010 +0000

    reorganize /etc/glusterd/logs, add nfs log too
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1319 (gnfs support in gluster command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1319

commit 4e6fb304ce41acbaf7c9ba67c06bf443e65082e8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Sep 17 06:32:01 2010 +0000

    nfs3: Unref & unbind dir fd with inode lock on EOF
    
    ..so that when EOF is reached on this fd, any further
    requests on the same inode do not get handled through this
    fd but result in a new fd being opened.
    
    Unbinding results in the fd getting deleted from the inode's fd list.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1619 (glusterfs nfs server crashed on dht+replica(2x2))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1619

commit 941db02552773bcd6a3782e793fcbc41d4268697
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Sep 17 06:14:24 2010 +0000

    mount/fuse: Perform malloc for appropriate length
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1631 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1631

commit 91174380ae00a108512a4230f4cd2c1901d4bb94
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Sep 17 05:47:20 2010 +0000

    free the dict_val to avoid memory leak
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1621 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1621

commit 3d7356c0c205898bd4d515300c563be9ce113ec3
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Sep 17 04:12:51 2010 +0000

    Fix crash in dht_pathinfo_getxattr_cbk
    
    The crash happened due to NULL dereferencing.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1626 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1626

commit b2693d5e059c99095ceafb9ee8401f65825213c5
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Sep 17 04:12:18 2010 +0000

    Fix transalator indent for option
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1626 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1626

commit 853a2751c578fa11af131cacccb9e6248de4eca1
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Sep 17 01:27:04 2010 +0000

    cli: fix incorrect return value for system:: getspec
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit c92a4ad01f81de34e1955a19e42ab28a2865ea84
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:22 2010 +0000

    portmap: add support for registering multiple bricks on one port
    
    Rationale: if a brick serves multiple volumes, all of them need
    to be registered for the port the brick server listens on.
    
    Implementation: to register volumes "foo" and "bar" for port 6543,
    you have to send a SIGNUP for brick: "foo bar", port: 6543.
    Upon a pmap lookup, we match the search term to
    whitespace tokenized bricknames on server side.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 3b27ee5d59cfd08e419dfbf1b71b54e724b1ed14
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:21 2010 +0000

    portmap: make grounds for typed service mapping
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit afa6e19f6a9e1dde0f00d72c21c760a5dca341b0
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:20 2010 +0000

    cli: added system:: portmap brick2port
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit e690af8375f55bf8d8e56a0334cc9bd88867326e
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:19 2010 +0000

    cli: added system:: getspec
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 202761d052d2faa2c92b23c5afc32c27853b11ad
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:18 2010 +0000

    cli: add system namespace
    
    See "gluster system:: help" to get the feel of it.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit cecc24958374cfecddd64535c10d53ead8c7ad24
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:17 2010 +0000

    cli: make cli behave nicely with batch commands piped in in stdin
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit d787bca47fc038facb34221ee9855934f7230ef4
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:16 2010 +0000

    cli: add "--remote-host=<hostname>" option
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 63ec13f022ae99c1664fbdbc9e6623903ba843af
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Sep 15 08:11:15 2010 +0000

    cli: add a simplistic option parser, convert "mode script" to "--mode=script"
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1570 (geosync related changes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1570

commit 47bc630dca589235d7c10e2748cebaa5e419d5d7
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 15 10:53:00 2010 +0000

    server: Check gfid presence using uuid_is_null
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1608 (stat fop on dir returns ENOENT from server-resolution path)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1608

commit a2277a40ff8d19272abe11d9bf0257535ae0856c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 16 07:41:42 2010 +0000

    logging: fix a crash in gf_log_callingfn()
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1623 (crash in logging callingfn())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1623

commit a64c84f2bc2ed70479df1ba281ff518461cc7cfb
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 16 07:01:53 2010 +0000

    distribute: send proper 'gfid' in calls originated from lookup/mkdir
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1608 (stat fop on dir returns ENOENT from server-resolution path)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1608

commit 279fbb6f71f36b90480f19e5a98d0b1d27215733
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 16 04:04:58 2010 +0000

    performance/write-behind: dump contents of wb-file
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 27d45ce245376cb012b0dd80dee6ccb26cc12645
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 16 01:27:39 2010 +0000

    cluster/pump: introduce another flag to enable pump functionality
    
    * by default pump will act as a pass through xlator, only when
      replace-brick start command is issued, it will set the flag,
      and then pump features (ie, afr) will come in to picture.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1590 (Stack overflow during self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1590

commit b956f2389144ce19386770187ad7d17350a4bd1d
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 16 01:08:15 2010 +0000

    protocol/client: prevent a crash while taking process state dump
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1616 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1616

commit f8accba64ce850bfb13bb3a4978ae8493ff5f6d4
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 16 00:13:46 2010 +0000

    avoid code duplication while freeing respnse hostname
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1614 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1614

commit 6fe0be9ffdd11789aa7567183ee415b121a85734
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 15 23:53:57 2010 +0000

    check if the brick to be added is online
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1603 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1603

commit 0e2c2f46ddc36ccedeea8b42f7789f09224b5c9f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 15 09:41:40 2010 +0000

    check req structure in the ctx before transferring probe response
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1614 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1614

commit e7535ad313d08ec587311729f049397d3ed995ce
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 15 08:35:42 2010 +0000

    mgmt/glusterd: gf_strdup the rsp msg and free xdr memory
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1613 (glusterd crash in create volume failure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1613

commit 1c92eefd50f6ade459b293da6aa5e44b0cd72271
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 15 08:14:07 2010 +0000

    free the handle and pmap structure in fini for glusterd
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1580 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1580

commit c109ffb893ab80dd7b9dac038f5778961859ceff
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 15 06:49:56 2010 +0000

    cli, mgmt/glusterd: disallow probe to a cluster
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1594 (make probe oneway)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1594

commit 89ec6582d1977c98372cb69f6471fcfde8437bb7
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 15 06:46:48 2010 +0000

    rpc: add ref/unref for rpc clnt
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1594 (make probe oneway)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1594

commit 2ea1c2b68c46b8315790900291b18eb6f04010f9
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Sep 6 03:28:06 2010 +0000

    Deadlock in state dumping while holding the logging lock
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 976 (Deadlock in state dumping while holding the logging lock)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=976

commit 703dbf354d53fdcc37851bb71420730675a7e170
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Sep 6 01:36:57 2010 +0000

    Leak in Locks
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 996 (leak in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=996

commit 28d02d0b216ab2c580b1d3a48a793a312e1a98ae
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 15 05:16:48 2010 +0000

    socket.c: suppress spurious 'dict_get' logs in glusterd debug mode
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1606 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1606

commit 015a9b1f5a83572445171458312a90dbe0e4aca8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 15 04:34:08 2010 +0000

    nfs3: Copy deviceid from correct gfid start octet
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1600 (showmount works but unable to mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1600

commit 7618628ff3c469af38d9c58840e5d0c8fde7156a
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 15 04:53:34 2010 +0000

    rpc-transport.c: handle a double free
    
    * 'this->name' was getting freed in '(transport)->fini()'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1605 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1605

commit 3d1a0c2e3787f1c1b6cb1eb45690f36e175e983b
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 15 03:28:48 2010 +0000

    error out if a peer is not connected or not in befriended state
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1603 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1603

commit 2745bc6a917b356d55b1cbdff1644a2465fa133d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 15 03:18:57 2010 +0000

    nfs3: Set gfid[15] to 1 for root
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1600 (showmount works but unable to mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1600

commit 560842297b9a067f358d3c3969eb3bdbb6132036
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 15 02:02:05 2010 +0000

    Volume stop/start fails sometimes
    
    If the pid file is not present, do not fail the volume stop.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1602 (Volume start/stop sometime fails.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1602

commit 1fc3aed7cf33b96f33693eee3c0551a0ab6a1f0f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 15 01:25:51 2010 +0000

    check if the peer is connected before updating friend and send response once befriended
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1601 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1601

commit abf28c8fd12f662f32c1a81f84620f562de8f14b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 15 00:27:10 2010 +0000

    memory leak fixes.
    
    - free memory allocated by libc when decoding request arguments in server and
       reply in client.
     - free memory allocated to saved_frames during connection cleanup.
     - free memory allocated for transport name while creating listeners.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit cfbbf68f8af83521b41b40c07db48897b976b626
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 14 23:43:39 2010 +0000

    Cleaning up mem_get0.
    
    mem_get0 is exactly the same as mem_get, but with the addition of a call
    to memset(0). hence, making mem_get0 to call mem_get
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1520 (gnfs crashes on start-up in mem_get0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1520

commit 92cd5175b42d291314a2ede95b05ad10cb91b988
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 07:40:39 2010 +0000

    remove 'ino' from protocol structures
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 59cba5744656671cc16574be6822e3b000dccd90
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 07:40:26 2010 +0000

    posix: remove variables used for maintaining generation numbers
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 8e068b0615859829ac1bb2351b78307b2b496cdc
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 07:40:11 2010 +0000

    remove 'gen' from iatt/protocol structures
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit c55cc2d5362a607692beac96a34add2e79a9ad44
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 14 09:27:14 2010 +0000

    compare op_errstr before freeing
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1598 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1598

commit a9cbdd2916ab6851d108833e30536c02bf502f17
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 06:31:10 2010 +0000

    posix: fix an issue with existing data in case of readdir
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1597 (readdirp  fails if there is old data in the subvolumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1597

commit 7b591588b3031d0c6351d7c0a4626caad5fb3263
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 14 06:21:20 2010 +0000

    compare rsp.spec before freeing it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1596 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1596

commit 8b667fed03a49dc59ef9ae937a081145d38dc5a1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Sep 14 05:23:35 2010 +0000

    check if the export directory is present while starting volume and send the response to cli
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1593 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1593

commit bc4f737210bc0971d031cf9b3ff8fe941482eabc
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 03:54:39 2010 +0000

    socket: add xfer data counts
    
    * keeping track of data transfered over wire helps to identify the
      protocol overhead, and also can help us in debugging more on server
      loads
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ff9eb1d536f2c57ec216b9ce8b96d1f536984008
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 14 04:31:02 2010 +0000

    performance/io-cache: fix memory leak in ioc_mknod.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit df331224c570d85f597d51b6072c44c1ff5f46f5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 14 04:09:52 2010 +0000

    rpc: print xid of the rpcreq corresponding to frame being bailed out.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 9446e8d3ec23e43352ab589ca53ea42413c21588
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 03:56:00 2010 +0000

    glusterfs3.x: change gfid type to opaque
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit efe088dcba88c4e95279692bda05d8dcf64c0ab4
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 14 03:55:24 2010 +0000

    glusterfs3.x file is updated with changes done to xdr.{h, c} files
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 9ff89d858075d8f916c76a9ade84b9844da4d23e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 14 02:39:11 2010 +0000

    nfs,nfs3,mnt3: Transition fh resolution to gfid
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2152dae595438b919fbcb7349d15ead139e120d8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 14 02:39:10 2010 +0000

    posix: Copy gfid from stat to dirent for readdirp
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 429a94c78ad3e6a956c847836a061c860d19e499
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 14 02:23:32 2010 +0000

    mgmt/glusterd: make probe one way
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1594 (make probe oneway)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1594

commit 8a2d1cf7a1425b9de2622635a1149f460bf1f36b
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 14 01:27:22 2010 +0000

    Add checks in mem_pool to catch possible double frees
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1520 (gnfs crashes on start-up in mem_get0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1520

commit b0003a7e789e0618656dd4214195578f53d1e84e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 14 00:54:22 2010 +0000

    mgmt/glusterd: free xdr allocations
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1186 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1186

commit 174f963c846331c6dafda169451790b6039ef3fb
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 13 08:32:37 2010 +0000

    rpc: in rpc_clnt_destroy(), cleanup the transport too
    
    * if we don't cleanup the transport, it will trigger false
      events on the free'd transport which causes crash
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1423 (Crash in gf_timer_call_cancel)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1423

commit 39e268ee69618488616df1c253b851c07442c863
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 13 07:54:50 2010 +0000

    Volume create propogate error msg to cli if invalid export
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1180 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1180

commit a13bc5aab51ae0e03721c48c8eb98b08c6137872
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 13 07:54:30 2010 +0000

    Print error msg to the CLI from glusterd
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1180 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1180

commit 47a0854524123c21ef1a40d4f33c5593eb586565
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 13 06:59:55 2010 +0000

    gluster log {rotate,filename} : uuid check for bricks
    
    Thanks to Raghavendra Bhat <raghavendrabhat@gluster.com> for
    pointing out the fix.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1550 (volume log rotate failed.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1550

commit 58cedad283af2005f7f4969f7ac50a8e937e5594
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 13 03:41:08 2010 +0000

    io-threads: return -1 in case of 'init()' failures
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1591 (glusterfs server crashes with another translator inserted into volume chain)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1591

commit a6a5b539bba3ce9ab82d6e137f2d961cde9546fe
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 13 02:48:45 2010 +0000

    afr: reduce the size of readdir request during entry-self-heal
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1585 (Errors during self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1585

commit a3dd23e5fd0d4fc950068d54f085a99f17955842
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 13 02:00:36 2010 +0000

    No space left on device error
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1588 (No space left on device error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1588

commit 6d52dfb6646286f2dfd554dc008e96f9b13aade9
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 10 20:24:07 2010 +0000

    logging: provide a API to print calling functions
    
    * logs 3 calling functions
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1493 (log enhancement to print calling function..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1493

commit d0ee998f5c997cfdebd0b7ff4bcbc9b2ea74c1ff
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 07:40:41 2010 +0000

    posix: remove gen related xattr usage
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 4f31b51fcb998651598cc297825ce4a3405a65fa
Author: Sachidananda <sac@gluster.com>
Date:   Tue Sep 7 10:01:20 2010 +0000

    cluster/afr: Clean up dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1083 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1083

commit 1b541ad1ec3b30982adbd1f08b050b4291ddb271
Author: Sachidananda <sac@gluster.com>
Date:   Tue Sep 7 09:46:41 2010 +0000

    performance/io-cache: Fix clang errors.
    
    Clang error fixes plus some whitespace cleanup.
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1111 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1111

commit 14df5292f3860abbf64358739a0ca5510e7bb869
Author: Sachidananda <sac@gluster.com>
Date:   Mon Sep 6 10:06:03 2010 +0000

    features/trash: Fix clang errors.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1127 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1127

commit df35c2f74b81247b591f6dd1e6dc72503ca180e2
Author: Sachidananda <sac@gluster.com>
Date:   Mon Sep 6 09:58:46 2010 +0000

    features/quota remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1128 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1128

commit 993edcc972269424901357578568b48af70a6a63
Author: Balamurugan Arumugam <bala@gluster.com>
Date:   Mon Sep 13 03:40:16 2010 +0000

    extras: modify run level scripts to support glusterd.
    
    Signed-off-by: Bala.JA <bala@gluster.com>
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1589 (Change init.d scripts to include glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1589

commit 288040196caa67b559ea668cef21284515109d94
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Sep 10 08:15:26 2010 +0000

    mgmt/glusterd: set req in opinfo
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 6858155d8b0681f9caea5295a2de63252ff9631c
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Sep 10 07:32:29 2010 +0000

    mgmt/glusterd: add a dict to glusterd commit response.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1582 (replace-brick data missing added brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1582

commit 5bec5e4fd6b0cae5e7a5e4d0a72090f4d613b94e
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 10 05:53:59 2010 +0000

    glusterfsd: exit process instead of starting fuse in case of failures
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1586 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1586

commit 4aada05a7a2b21d4c5275812a6e8f838e3a10512
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 07:18:50 2010 +0000

    rpc/rpcsvc: fix invalid free in rpcsvc_create_listeners.
    
    Sending on behalf of Raghavendra G
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit c1d8e31ad0b772149620465e79774cbf7b048d41
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Sep 9 05:55:53 2010 +0000

    Fix incorrect logmsg about disk space in dht
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1573 (Incorrect information about disk space in dht)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1573

commit c1f4f9ba17fd40ef9c726a9599f3122f29ef0092
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 9 05:56:59 2010 +0000

    free the tmp string allocated while getting brick information
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1580 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1580

commit 6ee84e00f0d96e292163ebad86b2e7521776dca1
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 9 05:44:49 2010 +0000

    mgmt/glusterd: Do not check for src/dst while issuing replace brick cmds.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1582 (replace-brick data missing added brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1582

commit 80439c92add5aa54ee628697d4b27c9b56692fd0
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 05:06:55 2010 +0000

    glusterd: fix init time warnings
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1584 (starting glusterd for the first time gives warning logs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1584

commit d65c85001a6d57f6b147d565d45a704c890cfe08
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 9 05:56:02 2010 +0000

    mgmt/glusterd: Use appropriate length while doing strncpy
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1583 (glusterd crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1583

commit 9ed068a03e6f07e7f0bb69b32c08cd251f369ce8
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 02:43:10 2010 +0000

    stripe: fixed create issues after gfid changes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1581 (stripe create is broken)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1581

commit 576d7030430c7a2e68c8454b40ebaa83853f0ba2
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 9 02:40:37 2010 +0000

    do not use pmap_registry_get function, instead use this to get pmap while removing
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1580 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1580

commit 7c915b6ffcf00fad0fa8e1075bd80ca63de36ea3
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 9 02:23:37 2010 +0000

    rpmspec: Include manpages of glusterd and glusterfs-volgen.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1275 (Fix rpm glusterfs spec file for 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1275

commit 7fc5e8c5de75eaa0a37de1402af1e879703139df
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 9 02:23:17 2010 +0000

    rpmspec: Rename ibverbs as rdma package and include the relevant files.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1275 (Fix rpm glusterfs spec file for 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1275

commit eae063da57a47102d264f27395677262fb17dc75
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 02:03:15 2010 +0000

    dict.c: fix a redundant log in DEBUG level
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1493 (log enhancement to print calling function..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1493

commit 6faa7618225f6e5e8e43bf04dae05929c3c6453f
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 9 02:02:54 2010 +0000

    glusterfsd: first time errors in volume file should exit the process
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1551 (glusterfs process doesn't exit when init fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1551

commit f0121a3d7896ace6d3d525c41d13f695bc8e25c9
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Sep 9 01:16:44 2010 +0000

    features/locks: Dump transport pointer also while dumping locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1577 (dump transport pointer as part of dumping locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1577

commit 8e4650a662d0fddd1a67dff765bdf20046b70abe
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 9 01:01:04 2010 +0000

    mgmt/glusterd: op mem leak fixes
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1186 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1186

commit 9b226cc588eafd4932f2ade1c4e9280f4eca39bf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 8 13:37:52 2010 +0000

    mgmt/glusterd: Send volume-id during volume exchange
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1480 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1480

commit dcb434eb13996bb15ab1088fb445315faa3f8ead
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 8 10:40:19 2010 +0000

    gluster cli: don't print port in peer status
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1566 (gluster peer status port number)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1566

commit 43d36d456314f6d4e67c3d8f06cceb585f467915
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 8 08:53:21 2010 +0000

    allow brick to be added in a plain replicate volume if a brick is removed
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1574 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1574

commit 5ed8eba1b15b538ca2c74d8130fb3f0a394921ec
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 8 07:32:54 2010 +0000

    rpc-transport/rdma: while notifying a reply, pickup the correct iobref from request context.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1567 ([rdma] data corruption due to read-ahead)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1567

commit 5ebe2fdfaea372c139db2f6d8afe32aa113c0f8f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 8 06:14:23 2010 +0000

    mgmt/glusterd: send response in case of friend not found
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1512 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1512

commit 440ffb55f08beabc7f2ee98f22852ce103613b30
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 8 05:18:24 2010 +0000

    mgmt/glusterd: Various replace brick changes.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 94d232ec8ab0dbbda643039fb3e41495cae5e7e9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 8 03:59:50 2010 +0000

    protocol/client: send CHILD_UP directly fuse if parent is NULL
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1568 (Fuse init doesn't happen when vol file is changed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1568

commit 65ac3fdba1b21a103547d80f4446cfdcaf90139b
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 8 03:29:41 2010 +0000

    glusterd: preserve brick's port, retrive it while starting glusterd
    
    * this solves the problem of having brickinfo->port as 0 when
      when glusterd is restarted while glusterfsd processes are
      running
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1569 (data not available in client when glusterd killed and restarted.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1569

commit 8152690933c0c1168ccc7e79f3e366c3dfa780d8
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Sep 8 03:32:45 2010 +0000

    fuse: suppress wrong/confusing log message about graph setup failure
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1527 (mount time defunct window with remote volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1527

commit faaf7cbab67ae57b58623bf82d11b835ace028cf
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 8 01:22:22 2010 +0000

    mgmt/glusterd: make glusterd to listen on default ports of both socket and rdma transports.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1555 (rdma remote port defaults to 6997)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1555

commit d2e2e69bb4a212df08c3c4469cb91a88d244ed9f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 8 01:20:43 2010 +0000

    rpc-transport/rdma: change the default listening port to 6968.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 37f01b2714bba57b28b9125c3652b8e35db6504a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 7 13:14:40 2010 +0000

    rpc-transport/rdma: honour port argument sent in rdma_connect.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1555 (rdma remote port defaults to 6997)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1555

commit 270dffa378a651369d6727fa38ae99934d953259
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 7 13:02:27 2010 +0000

    rpc-transport/rdma: fix memory corruptions caused by rdma.
    
    - disconnect notification should be sent before unrefing transport,
        since transport might be freed when unrefed.
      - set trans->listener. This member is used by rpcsvc to decide whether
        a listener or a new connection is dead.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1558 (glusterd hung)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1558

commit 171973d18d22e4f0f4117656c188d395bf3ac8a5
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 7 12:59:07 2010 +0000

    in case of failures, don't hang fuse mount
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1527 (mount time defunct window with remote volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1527

commit 8c8e5b25779f68c646ec00003a7bb2101e55cbc0
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Sep 7 10:40:57 2010 +0000

    cluster/afr: Various self heal fixes wrt gfid.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 6b4784d5382fb3177e423751eb8d056e8bf384b4
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 7 10:13:29 2010 +0000

    fuse resolve to return if resolve not successful
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1406 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1406

commit ed561b78d9837b9f799ebb410bcc26b7e5413f33
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 7 09:30:29 2010 +0000

    glusterd: rebalance fixes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1481 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1481

commit 266df1a7d660dc0b824e6e60903536aff9242f4b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 7 09:12:38 2010 +0000

    socket.c: more detailed info about mismatched msg type
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit db83e51918472c9f2bff7771edad6738acafbc26
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Sep 7 09:12:22 2010 +0000

    cli: fixed a minor log rotate failure msg
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1550 (volume log rotate failed.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1550

commit 1ec9ef73eedaabdc30d6b1c6200f0180118cf604
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 7 08:53:08 2010 +0000

    mgmt/glusterd: resolve bricks upon restart
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1286 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1286

commit 6066038c7bd96791143a63ed03a617c8cb7020f8
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 7 07:35:56 2010 +0000

    Volume info should display transport-type
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1230 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1230

commit f4b1b0af4732e397de3ab3fe2be1dd8bb83614b4
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 7 06:14:02 2010 +0000

    mgmt/glusterd: Disallow final brick remove of a volume
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1547 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1547

commit 962b9845ce57657c9abde24b5a4c647febfdfa67
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 7 05:40:00 2010 +0000

    Add gf_cmd_log msg for volume start
    
    Also fix existing gf_cmd_log msgs
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1556 (Add cmd log msg to volume start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1556

commit 968fe7420a600fb9f83edd21576ab1b180d65d1c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 7 05:29:36 2010 +0000

    mgmt/glusterd: create store handle in store create brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1372 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1372

commit 4f64c970ed1e334ba17413178eaf355f454c201f
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 7 04:29:55 2010 +0000

    Change cli volume/peer cmd's --help option to help
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1529 (need man pages for 'gluster' and 'glusterd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1529

commit 95bafb5ad41458fbb16c680af94c2841c49c5322
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 7 04:29:34 2010 +0000

    Man page updates
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1529 (need man pages for 'gluster' and 'glusterd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1529

commit 09f9bd0bdc3d0f055f83ef1fc76be065cb26b26d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 7 04:08:59 2010 +0000

    test: changes for the gluster cli
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit cb0352cd4f4748ee6e33bc64d2e2b09d09fe20eb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Sep 7 04:03:31 2010 +0000

    cli: add script mode for gluster
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1554 (add script mode for gluster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1554

commit 406e42973feeae6b78626f2db19971dc8f79c25f
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Sep 7 00:38:22 2010 +0000

    DHT mount fails with parsing of subvolumes
    
    following error msg is seen in the log
    
    E [graph.y:296:volume_sub] parser: Volume 'new-dht', line 38: subvolume 'new-client-0new-client-1new-client-2new-client-3' is not defined prior to usage
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1536 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1536

commit 4f32456db7a0b9134f3a3433704533df213cc9ad
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 6 23:59:48 2010 +0000

    Typo in log msg for volume create localhost
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1539 (Typo in error message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1539

commit ed9a1cfa9873a0b069a8026d8852e44d94396d86
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 6 12:40:32 2010 +0000

    glusterfsd-mgmt.c: suppress a confusing log during rpc_clnt_init()
    
    * it complains about 'transport-type' not being given. fixed.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1545 (transport type rdma fails in glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1545

commit edad666e5165dec75ed1970d9e5f7927b43c5bd2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 6 11:46:01 2010 +0000

    glusterd-volgen: write new nfs options in nfs.vol
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1548 (nfs should be able to get different uuid for different subvolumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1548

commit e3a44226b3ed746260c4f3cf30d2f9f930fb7349
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 6 11:45:31 2010 +0000

    mgmt/glusterd: volume to have 'uuid'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1548 (nfs should be able to get different uuid for different subvolumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1548

commit d38b2217393c460937505f30bd61576e7957f877
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Sep 6 09:01:24 2010 +0000

    cluster/afr: Fix hang in create when one subvol is down.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1544 (Create fails when 1 server is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1544

commit 716776f2e35d240db7b9731a4eda557a0be462f8
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:32:25 2010 +0000

    cli: change volume create help string
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1542 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1542

commit 6307567a26ecf296b5f806050867beb3c7cccd4f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:27:20 2010 +0000

    cli: check for argument presence before accessing
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1543 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1543

commit 8432a5bf65174144c58d3322066abeb85c9f3541
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:18:45 2010 +0000

    cli: prompt user before remove-brick and stop volume
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1538 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1538

commit 8d64ca70b4c2467d4ed8c76a9eae385abdebd7a7
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:12:36 2010 +0000

    cli: Only admin should run gluster CLI
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1546 (gluster commandline should be available only for super user)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1546

commit 698ff066c1d32d9774d7d662ab87528b85b66774
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:05:58 2010 +0000

    cli: Print volume type None as Distribute
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1535 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1535

commit 84f359537317a291e369b689083808a2e52379dd
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:05:21 2010 +0000

    cli: stripe/replica count should be greater than 1
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1534 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1534

commit c7c5a784c833af4018e628d5d7a2bdc40eb59dba
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:04:16 2010 +0000

    cli: In volume create check for presence of bricks
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1532 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1532

commit e807464de55fc366907c5bc8e3cf84b11da19e46
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 08:02:08 2010 +0000

    cli: print volume info cmd usage in case of parse errors
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1533 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1533

commit f0e6630fb33ba69c85e267848290389d60f25d21
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Sep 6 06:02:23 2010 +0000

    nfsrpc: Set THIS before vector sizing upcall
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1499 (GNFS from mainline Glusterfs-3.1-qa13 crashes while initiating SFS2008)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1499

commit 100bec738c83afab77b7b4654397335b1b9cefdf
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Sep 6 05:53:16 2010 +0000

    do not restrict the size of the subvolume string as it may corrupt the stack for large number of bricks
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1536 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1536

commit d96a02e48399c79ee5fc3581f28053fcf662fc5f
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 6 05:50:06 2010 +0000

    Man page entries for glusterd
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1529 (need man pages for 'gluster' and 'glusterd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1529

commit 1bdee1756e70ec2611e568776dd93c70f5e6feef
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Sep 6 05:44:14 2010 +0000

    rpc-clnt: fix memory corruption happening while encoding auth data.
    
    - buffer containing authdata pointed by rpc-request was allocated on stack of
       procedure rpc_clnt_fill_request, but was being used as source for xdr-encoding
       in rpc_clnt_record_build_record. Hence by the time auth-data is being copied
       during encoding of request, it might've been freed and hence contain garbage.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit d48378e4971b6b75f328923054959f6dc4dd89f6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Sep 6 05:41:51 2010 +0000

    debug/trace: use uint64_t variable while using localtime.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 737 (uint32_t ia_atime crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=737

commit f5b97620b10fff73693fbe8e7f98226b837cf5f9
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Sep 6 04:18:09 2010 +0000

    exit from the test for the first failure itself
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit 1e99540dc0a08527b6a0fb355667e39d3df6b3cf
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Sep 6 04:22:02 2010 +0000

    protocol/client: ignore rpc_clnt_destroy as temp fix for sigterm handling
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1517 (gluster volume stop - starts a new nfs server.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1517

commit 7150cb4e6a1703c143aaa517166a6b5ad7f758f2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Sep 6 01:40:18 2010 +0000

    changes in fuse proc thread initialization
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1527 (mount time defunct window with remote volumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1527

commit 59baa88ab0f240e60f9d4044f4cf096a73d33caa
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Sep 6 04:07:33 2010 +0000

    doc: Fix make dist failure for gluster.8
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1529 (need man pages for 'gluster' and 'glusterd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1529

commit 8b30d3459fd92d8c16a009d145142c5b8fe4fe65
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Sep 6 03:35:02 2010 +0000

    misc replace-brick fixes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 3cb231e7970222a7360f982934edc5c6f8475883
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Sep 6 01:58:48 2010 +0000

    Man pages for gluster
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1529 (need man pages for 'gluster' and 'glusterd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1529

commit 386ea89d93497f805c77773515a735a11ef67f29
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Sep 4 01:12:58 2010 +0000

    Create volume adding transport type option rdma
    
    Adding transport type option to cli volume create command.
    This is optional, and defaults to TCP. The other transport
    supported is rdma
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1507 (need to add 'transport <type>' options to create brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1507

commit 4309c9b0d658185b1b7f07a98240b85870d35204
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Sep 4 01:12:09 2010 +0000

    Add brick hostname should not be localhost
    
    Add brick hostname should not be localhost or 127.0.0.1, but valid
     nodeid or ip. This will prevent volfiles being generated at
     respective glusterd's as hostname would be localhost
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1505 (volume create/add-brick requires ip or hostname for localhost)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1505

commit 4c87d30724b29a83c6a0f4a101468824fa76ac19
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Sep 4 01:11:34 2010 +0000

    Volume create hostname should not be localhost
    
    volume create hostname should not be localhost or 127.0.0.1. It
     should be a valid nodeid or ip. This will prevent invalid vol
     files being created on glusterd's when localhost or 127.0.0.1 is
     specified
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1505 (volume create/add-brick requires ip or hostname for localhost)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1505

commit 07d84f0f77ea336b3c3ae65907261ed3242feacb
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Sep 5 13:04:50 2010 +0000

    mgmt/glusterd: misc fixes in replace-brick and get volumes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 1fb0d35691d385fc7677e42d2e06bb089dbf0b8b
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Sep 5 13:04:14 2010 +0000

    cli: Display proper message when no volumes are present
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit be223c0df766cf1dae3672fc2e94604162ba9aa8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 4 12:49:37 2010 +0000

    mgmt/glusterd: Add GET volume support
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit dba7332557fa0e8169c980b67a0f60a50f99bcf8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 4 12:49:16 2010 +0000

    cli: Add support for GET volume
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 461dc0ce08d1deb6a9314e118bb511894d5390c8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Sep 4 12:48:55 2010 +0000

    protocol/server: set trans in frame->root
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1477 (server crash at afr_unlock_common_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1477

commit a582adf732d976e46eaad9def18f55dbec4d8674
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Sep 4 05:37:16 2010 +0000

    dont destroy the mempools in cleanup and exit as some other thread may be refering to it
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1523 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1523

commit eef8162e92149794298146fe881789da6a61cdf5
Author: shishir gowda <shishirng@gluster.com>
Date:   Sat Sep 4 04:58:17 2010 +0000

    Hiding add-brick/remove-brick type option
    
    Currently add-brick and remove-brick type option of replica/stripe
    along with count does not change the behaviour. Hiding the usage
    options.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1528 (Hide type option for add-brick and remove brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1528

commit 4f708eb8bbc80e5107fc3679b9f7ccac51883782
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Sep 4 04:07:58 2010 +0000

    rpc-transport/socket: fix memory leaks.
    
    - In the course of reading a single rpc-msg, socket_proto_state_machine may be
       executed multiple times (since sockets are non-blocking), hence wherever
       memory is allocated or referenced, checks should be added whether the memory
       is already allocated or referenced.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit 1972bd268f1a989d063701de2afee73c15059e01
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 3 14:10:03 2010 +0000

    remove legacy/protocol from the build
    
    * as its no more valid after gfid changes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 4432f46fa75bf62a6a8e9295f9792a73589f924b
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 14:01:29 2010 +0000

    gfid: server resolver changes to use gfid instead of ino/gen
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2c400f60cad3ac0b9dbf1be06b48675d40fcc824
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Sep 3 11:46:21 2010 +0000

    gfid: protocol/xdr changes to handle gfid based fops.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 64443fa783c9c43a597440164b35fd8131b7f4d3
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 14:01:08 2010 +0000

    gfid: changes in distribute to handle uuids in iatt structure
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 71c66d9c9a36a28107cfc202aa38f51b3dde8731
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 14:00:51 2010 +0000

    gfid: handling of gfids in storage/posix
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 8a5e677bbd8bdec555e6699ec5b8b1a66fe8096d
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 14:00:32 2010 +0000

    gfid: set request gfids for new entries in fuse
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit a7fd7dbed9b995c173664bcadf3d2e5b6131e4ea
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 14:00:05 2010 +0000

    gfid: changes in symlink() prototype to have params dictionary with uuid in it
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 8b9a144414162413a399d59975fe3b7347907f4f
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 13:59:48 2010 +0000

    gfid: changes in mkdir() prototype to have params dictionary with uuid in it
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d838e4496dec6b8889de47dd0ee31c4899ec7407
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 13:59:30 2010 +0000

    gfid: changes in mknod() prototype to have params dictionary with uuid in it
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit b304333f8686468b2d3b2c60e040b1667d8c38c9
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 13:59:06 2010 +0000

    gfid: change in create() prototype to have params dictionary with uuid in it
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ac60a2a7f3c7b07830669e282d9fc796cbc78f38
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 13:58:48 2010 +0000

    gfid: changes in inode management
    
    - incorporate usage of uuid (gfid) as the key for finding inodes
    - deprecate inode number/generation number based inode_get
    - undo code specific to generation numbers (attic list etc.)
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2822157056d8347518f7e1b8bf9ee04bea7286ae
Author: Anand Avati <avati@gluster.com>
Date:   Fri Sep 3 13:58:11 2010 +0000

    gfid: introduce uuid based handles for inodes
    
    gfid represents a gluter file id. This is a universally unique id
    assigned to a logical inode, independent of the inode numbers
    assigned by the various backend filesystems to that file/directory.
    The gfid of a file/directory will be the same on servers depending
    on the cluster translator in picture.
    
      The same gfid can be used as a handle across layers of various
    translators and across servers and clients. This was not the case
    previously as the cluster translators would pick the backend inode
    number from one of the servers and convert that into a logical
    inode number by performing some mathematical transforms.
    
      This new technique of addressing inodes also makes dynamic volume
    management have a more robust implementation as the file handles
    remain the same on all versions of the graphs, and allows for
    seamless NFS daemon restarts as well.
    
      This change makes way for server originating communication which
    was not possible earlier as the servers did not have any reliable
    way of addressing client side inodes at all. gfid solves this problem
    by preserving the same uuid as the handle on all the servers and
    across all clients
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit f5661d03f0f59cc2473f60232872ddafd325cd9d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 3 06:28:36 2010 +0000

    rpc-transport/rdma: notify rpc when pollerr happens, so that client side can try to reconnect.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit cc8e13e38931cabcf2d6361554717941bb82c7ab
Author: Sachidananda <sac@gluster.com>
Date:   Fri Sep 3 06:25:54 2010 +0000

    cli: Fix clang errors.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1145 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1145

commit dd7e5feef61f3e7c6360a410d69b063dee7b3df8
Author: Sachidananda <sac@gluster.com>
Date:   Fri Sep 3 05:49:51 2010 +0000

    cluster/afr: Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1081 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1081

commit b3a4a0e88587c113137a838afbfab7069f1660df
Author: Vijay Bellur <vijay@dev.gluster.com>
Date:   Fri Sep 3 02:49:30 2010 -0700

    Revert "fuse: introduce pre-test micro-framework, check for execve-over-direct-IO"
    
    This reverts commit 588d807bdcbf5ed4df4d903428ab701479e9f8ac.

commit a0fbf69e7c7689466549db8815f2d87f5c16f664
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Sep 3 04:01:02 2010 +0000

    mgmt/glusterd: clear op ctx after cli response
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1513 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1513

commit e66ed16e8ce5d382ee56f55ca6153299e909e44b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 3 02:10:45 2010 +0000

    mgmt/glusterd: fix warnings during build.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1307 (gluster volume defrag <VOLNAME> status)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1307

commit 9459b3aeeb2f99f2f7f3a580e6e19d99db1c0678
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 3 02:05:52 2010 +0000

    cluster/replicate: fix warnings during build.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit a5aae54b1082a0a2c59d0e6e3e64b349d0bd6f17
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Sep 3 00:49:07 2010 +0000

    do not free the hostname from the response
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1511 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1511

commit c02661a69dfc0c6949666f972129e2983a52cb1f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 2 08:05:36 2010 +0000

    mgmt/glusterd: retrieve version upon restart
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1265 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1265

commit 64c230aebd867c84a8320f1d98976bb102727413
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 2 07:57:45 2010 +0000

    check if the export directory is present only on the brick being added
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1510 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1510

commit 588d807bdcbf5ed4df4d903428ab701479e9f8ac
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Aug 27 09:39:33 2010 +0000

    fuse: introduce pre-test micro-framework, check for execve-over-direct-IO
    
    The presence of some potential FUSE features in the actual kernel-side FUSE
    implementation we run on is not always straightforward. More precisely, it is
    straightforward only if there is a dedicated feature flag or protocol revision
    number. In the other cases we are left to clumsy and platform specific hacks
    which wire in 3rd-party software revision numbers into our source... at least,
    if we insist on sticking to (the otherwise venerable) KISS principle.
    
    However, here we go for another route, loosely inspired by the way autotools
    provide an abstraction layer for our build system over the gory details of
    platform specific build environments.
    
    At start time, we use a preliminary set of FUSE operations which overlay the
    standard ones such that apart from the "usual stuff", they also present some
    synthetic files to the FUSE client (kernel). Then we spawn some test programs
    which perform the needed tests on these synthetic files to evaulate the FUSE
    implementation in terms of the features in question. According to the result
    of the test programs, we set the respective parameters of the fuse xlator;
    when the testing phase is over, the FUSE operation set is replaced by the
    standard one.
    
    As of now, we use this approach to test whether execve(2) works with
    direct I/O. If yes, and if glusterfs is used with --enable-direct-io-mode,
    then we let direct I/O for files opened for reading; if no, then we restrict
    direct I/O only to writing files.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 77db91866e9e8b333017e3bdb3079d024bb94818
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 2 07:04:48 2010 +0000

    rpc-transport/rdma: when rdma msg of type RDMA_ERROR is recieved, disconnect transport.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1462 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1462

commit 06ef40a683393ee086a74fb56a6e168b550fd716
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 2 07:27:18 2010 +0000

    mgmt/glusterd: fix rebalance with new option use-readdirp
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1508 (add-brick works but files are not distributed to newly added server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1508

commit fed472201fdf17ef57ea9b823b9215a0b3f558ec
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 2 07:26:54 2010 +0000

    cluster/distribute: add option 'use-readdirp' to force readdirp
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1508 (add-brick works but files are not distributed to newly added server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1508

commit ee7f340f73eb2b61d5d1f6b881eede3b39432c9f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 2 07:06:47 2010 +0000

    mgmt/glusterd: memory leak fixes
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1186 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1186

commit 0d1199ecf08cb513db7bcd26db672811207fe5cf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 2 03:08:55 2010 +0000

    cluster/dht: check for op_ret in dht_selfheal_dir_mkdir_cbk ()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1503 (segfault in distribute during failover testing)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1503

commit a2b9b121d2670014fce07e0e3bdc311c587c0f2f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 2 05:04:32 2010 +0000

    dump total entries cached in stat-prefetch to state-dump file
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 4d14dffa00b134c1092133c90e92689f0ef82374
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 2 06:36:49 2010 +0000

    cluster/dht: fixes to handle 'fix.layout' attribute properly.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1508 (add-brick works but files are not distributed to newly added server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1508

commit 419e787880bacf8f3c85880a57a52ac4e532430b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 2 05:05:57 2010 +0000

    nfs3: Do not unref dst inode on rename cbk
    
    This gets done when the call state gets wiped. Doing it here results
    an extra unref causing a segfault.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1464 (fd leak after rename)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1464

commit 132d951d4392c4f0fd9aa012626b861b49ccaa8d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Sep 2 05:03:26 2010 +0000

    update the volume information first before checksum
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1504 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1504

commit 3e5c243396b6acf1a76d66d80c798466dc5caa55
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 2 05:24:48 2010 +0000

    cli, mgmt/glusterd: Added replace brick cli response
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1322 (Replace brick should show status of paused and abort states)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1322

commit 060380d460caa74b30eb6c0dedc8e25c64030acf
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 2 06:10:11 2010 +0000

    nfs3: Free vectored write args using FREE not GF_FREE
    
    ..because the file handle in write3args is allocated inside
    libc using malloc not memory accounting code in glusterfs.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1499 (GNFS from mainline Glusterfs-3.1-qa13 crashes while initiating SFS2008)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1499

commit fabe6417986dedd92adc2ac5d8d71cfd4dd918da
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 2 04:02:52 2010 +0000

    mgmt/glusterd: support for GET_NEXT volume info
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1255 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1255

commit ea86a09143c5c59349ca82ddcbc2178a84cccde7
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Sep 2 04:03:12 2010 +0000

    cli: Changes for GET_NEXT volume info
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1255 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1255

commit 232d32ca93bf974734bc4bc4802f1430bb4b0c95
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Sep 2 01:56:02 2010 +0000

    mgmt/glusterd: multi subvol support for nfs xlator
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1319 (gnfs support in gluster command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1319

commit e94814533da94fb936355cde924ef3a6f6c11f46
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Sep 2 01:22:15 2010 +0000

    crash fixed in 'gluster volume log locate'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1506 (crash in log locate..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1506

commit 4c5e364c36baa92374eb0eac60dafb8da3786286
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 1 23:44:54 2010 +0000

    Remove brick validation
    
    Added checks for duplicate bricks in cli arguments, valid bricks
    for the volume, valid volume name, and prevent removing of incorrect
     pairs for replica.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1486 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1486

commit 1d6e57d4a8bf4d69f724774d019f3cb7b4c0e1c3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Sep 1 13:01:23 2010 +0000

    mgmt/glusterd: gnfs support in gluster command line
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1319 (gnfs support in gluster command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1319

commit 5772cbf49f331557a217f1e31b681afa8d94080a
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 1 05:18:39 2010 +0000

    mgmt/glusterd: Fix replicate/stripe subvolume count in volgen.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1497 (gluster volume create creates incorrect volume file)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1497

commit 736d553ed7f98f783074b98499de5fb3c024c795
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Sep 1 05:13:29 2010 +0000

    peer status returns duplicate peer info on restart
    
    removing the peerinfo file for hostname once peerinfo is stored
     in the uuid file name.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1498 (Peer status duplicate entries on restart of glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1498

commit e7b0551ef5eb9a17ab97c34fc148de880b546217
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 1 03:44:12 2010 +0000

    rpc-transport/rdma: set whether pollin data is for request/reply.
    
    - with implementation of call backs client and server can both recieve
       request/reply.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1488 (rdma client fails to connect to the servers)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1488

commit 222b98ee5c38cbe4119718603f0d8d9a3a2d7fbc
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Sep 1 03:12:56 2010 +0000

    check if the volume is already started before starting
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1496 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1496

commit 780023f5e567b9ff9573edc47d71a1c7282bdbb5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 1 00:01:17 2010 +0000

    mgmt/glusterd: send unlock upon commit failure
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1476 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1476

commit 25dc93419e882ba733841a18e8addc1c7a6a01ab
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Aug 31 10:25:51 2010 +0000

    cluster/afr: Break STACK_WIND loop when the call count is reached.
    
    Fix also has a check for self heal relevant to pump.
    Tested with dbench with AFR client and pump on server.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1443 (Crash in afr_nonblocking_entrylk_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1443

commit 70652df2f7780aa734119941ac54d88ae6de7ae9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 31 12:52:34 2010 +0000

    mgmt/glusterd: memory leak fixes
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1186 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1186

commit e7cbae70c89c8813918d9deb3895cb6886cdaeeb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 31 10:02:54 2010 +0000

    rpc-transport/socket: use xdr_sizeof instead of sizeof when trying to read vectored request/reply
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 0b6e1ca3694201814fa4e32d81fa281290fd8ad9
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 31 11:15:27 2010 +0000

    mgmt/glusterd: prevent a double reply for the same request.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1401 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1401

commit c9d43f40282af3b3b0c6675e587c573941192769
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 31 07:45:20 2010 +0000

    fixes in 'gluster volume rebalance'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1481 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1481

commit d1a277785af5d9d0e38d0576d2a9c69e27a232df
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Aug 31 08:57:19 2010 +0000

    check if the export directory is present only on the correct host
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1489 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1489

commit 6530488a49ed0c9395b091c42b148091075a9d86
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 31 07:51:14 2010 +0000

    'gluster volume log' feature added
    
    * 'gluster volume log filename <VOLNAME> [BRICK] <path>'
    * 'gluster volume log locate <VOLNAME> [BRICK]'
    * 'gluster volume log rotate <VOLUME> [BRICK]'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit da5bf7cf104cd060b2f94d47132029689bfff685
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:37 2010 +0000

    nfs, mount3: Fix assumptions of this being child xl
    
    This is plain wrong. this must always be the xlator that receives the callback.
    Use cookie to access the child subvolume on which the fop was issued.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1410 (nfs uses this for child translator during frame creation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1410

commit 73c0aa4c27c50beea25be8de0b27b078dfcfa724
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:36 2010 +0000

    nfs: Create frames with frame->root as nfsx
    
    frame root was being set to the subvol on which the fop was to be performed.
    Apart from just being totally wrong behaviour, this also messes up
    mem-accouting because there THIS points to the wrong xlator resulting in crap
    addresses being dereferenced through the mem type index.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1410 (nfs uses this for child translator during frame creation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1410

commit d6f9504e01d444d625c24a5c2dcc5c7684c159d6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:35 2010 +0000

    nfs: Set actorxl to enable setting THIS to nfsx
    
    ..for fixing mem-accounting for NFS in mainline.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1280 (gf_mem_set_acct_info goes into spinlock busyloop, never returns)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1280

commit 66beeeb7739531335ad0982b51886e82f7c8647f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:34 2010 +0000

    nfsrpc: Introduce THIS-setting support to fix mem-accounting
    
    Not setting THIS in nfs/rpc has been a blocker for NFS on mainline because
    without THIS set correctly to nfsx, mem-accounting goes looking into
    translators other than nfsx for nfs memory allocations, resulting in
    dereferencing bad addresses.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1280 (gf_mem_set_acct_info goes into spinlock busyloop, never returns)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1280

commit 2dd921a2848365f5fd538dd891b36a9f355ca78c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:33 2010 +0000

    nfs3: Close dst cached fd & unref inode on rename
    
    If the src file is over-writing an existing file and if the
    destination file is open, then  close the cached fd on the
    destination file and unref the inode for it.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1464 (fd leak after rename)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1464

commit 4b892368108b9c41449fb1185319cf3acf3c2ea8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:32 2010 +0000

    nfs: Free fop local only after inode checks
    
    Fixes a crash that occurs because the nfs-fops code accesses
    a fop local after it has been returned to the mem pool.
    
    Generally seen when nfs load is so high that the mem-pool runs out
    of memory and starts CALLOCing.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1449 (NFS crash in nfs_fop_fsync_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1449

commit 83e7543be0bf8941cb6383c7e23b9bc0f54e67ba
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:31 2010 +0000

    nfs3: Return ESTALE when going beyond fh-hashcount or max-hashes
    
    During fh resolution, if we go beyond the max hashes support by
    gnfs or if we go beyond the dir depth specified in the filehandle,
    then return ESTALE.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1378 (Deep directory creation crashes gnfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1378

commit 0f40d735c09f2fb09bcf0d1678250e70a40ca56f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:30 2010 +0000

    nfs3: Logging and comments made more accurate
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1378 (Deep directory creation crashes gnfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1378

commit 1cd5a6fbd345b450a0e69041b53d92fb04fdcc5a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:29 2010 +0000

    nfs3: Support hashcounts larger than hash array size
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1378 (Deep directory creation crashes gnfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1378

commit 217fb3e2acbb221668ad5d54ef4067a2bac47c4a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:28 2010 +0000

    nfs3: Unref dir fd once usage ends in hard fh resolution
    
    There are three conditions when a dir fd_t needs to be unrefed
    when:
    
    a. the inode being searched is found as the candidate entry,
    b. we have exhausted all the entries in the current dir,
    c. we decide to step into a child directory because of a hash
    match.
    
    This decision is made in nfs3_fh_resolve_check_response.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1397 (Cached dir fd_ts are a leakin')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1397

commit e1422d796fefd6a3ae599507e71efdb922eede02
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:27 2010 +0000

    nfs3: Dont ref dir fd_t used in hard fh resolution
    
    ..because the extra ref was under the mistaken assumption that
    directory fd_t will be cached even during hard fh resolution and
    that is not the case.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1397 (Cached dir fd_ts are a leakin')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1397

commit 713fd9536459f730450fc06177c0feea6d6bdd28
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 31 06:50:26 2010 +0000

    nfs3: Dont ref cached fd after fd_lookup
    
    ..because fd_lookup returns a ref'd fd_t.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1397 (Cached dir fd_ts are a leakin')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1397

commit f6285605745d566bf7c43599285783f9409b7315
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 31 06:17:44 2010 +0000

    Add fuse.glusterfs to PRUNEFS variable in updatedb.conf(5)
    
    Append fuse.glusterfs to PRUNEFS variable in updatedb.conf(5).
    updatedb(8) should not index files under GlusterFS, indexing will slow down
    GlusteFS if the filesystem is several TB in size.
    
    Plus some whitespace cleanup.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 538 (disable glusterfs mount from updatedb.conf)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=538

commit 9c11d4f68d05180b602cf1e40aad7c708bb5c0a6
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Aug 31 04:10:46 2010 +0000

    Log all commands from glusterd
    
    Logging all commands processed by glusterd which causes some
    change. the log file is @ /etc/glusterd/.cmd_log_history.
    
    gf_cmd_log() is used to write to this log
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1404 (need a dump of all the op/mgmt commands)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1404

commit 4ae3853d857e584189289b33f8ba929fbd9cc7e1
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Aug 31 04:10:17 2010 +0000

    Add command logging facility for glusterd
    
    Added new command logging facility to gf_cmd_log() which can be used
    to log all commands to a .cmd_log_history file situated in the
    glusterd working directory.
    
    Accepts 1 st argument a domain string (e.g: volume, peer..) followed
    by msg string (similar to gf_log)
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1404 (need a dump of all the op/mgmt commands)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1404

commit cd5d2fc036003eb0c1a7f91755d3f5aa327067b4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 31 03:20:29 2010 +0000

    rpc-transport/rdma: By default, enable building of rdma only if libibverbs is installed.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit e41b82c5704b0a9caba7c511688c9a152c5f2b0f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 31 03:09:36 2010 +0000

    rpc-transport/rdma: free ioq entry even when churning of message fails.
    
    - An ioq entry is added to ioq-list only when it is not processed due to lack
       of quota. For all other cases, it should be freed to avoid memory leak.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit e1afe36eb3b006be12e7d7a5b87ff181c6da1250
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 31 01:17:56 2010 +0000

    fix a crash in cleanup_and_exit ()
    
    * fini() was being called without proper 'THIS' being set.
    * in protocol/client, a frame was getting created after frame
      pool was destroyed
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1030 (mount directory is not unmounted after killing glusterfs process)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1030

commit ddafbca363a5b0f0d8d1f11aa35e250d2c2c91bd
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Aug 31 01:12:56 2010 +0000

    fix typo in commandline help message
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1482 (typo in help message)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1482

commit a29aec5fb2c6f6dd1d8e24049c282353c7f5db0f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 31 00:59:47 2010 +0000

    mgmt/glusterd: Update store on start/stop volume
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1480 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1480

commit 507ee7301f2372a20c28897d60e1ec753539d886
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Aug 30 08:24:50 2010 +0000

    fuse: have the fsname passed to mount(2) include the volfile id
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1478 (show volfile id in mount(8) output)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1478

commit 1a1052461546576092f2f3b90c1f0f66817b18c2
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 30 16:05:16 2010 +0000

    mgmt/glusterd: Return replace-brick status
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1322 (Replace brick should show status of paused and abort states)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1322

commit 80d091411f6d4b9bc6bd5f19c921bdb295611b5d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 30 05:52:27 2010 +0000

    mgmt/glusterd: fixed volgen creation problems
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1454 (Remove brick unsuccessful - wrong volume info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1454

commit 61bed5ef8b8ebda1ffac737a5526b8187852bc2d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 30 08:04:24 2010 +0000

    Add rdma as valid transport type for client and server protocol.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 06607a4de8c4414bb102d61b9cf6307d8da020bb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 30 08:04:07 2010 +0000

    changes to client to make use of the rdma functionality.
    
    - preallocate buffers in client and pass them to transport layer whenever a
       large response is expected.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 300b4fefcbb5a5ced4f0554e109679e44cdf44ea
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 30 08:03:52 2010 +0000

    Bring in new transport rdma.
    
    - rdma is new transport and improvement over current ib-verbs. It uses
       rdma-read and rdma-write for efficiently transferring large buffers.
       For more details please refer to rfc-5666 and rfc-5667.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 55bbf23b3a608f67b7a05939f4205049e92d081a
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Aug 30 03:54:32 2010 +0000

    Only admin should be able to run gluster command
    
    Checking for port number to fail any requests coming in
    from client. if port is >1024, then fail the requests
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1403 (only admin (uid 0) should be able to run 'gluster' command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1403

commit 8e4d735b67c78f10fd752f2b48981843595e67b5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 30 01:44:00 2010 +0000

    glusterfsd: call fini of fuse and all active xlators in cleanup_and_exit()
    
    * handles the case of stale mount point in case of killing glusterfs process
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1030 (mount directory is not unmounted after killing glusterfs process)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1030

commit baebaab45980e63f85622e70363fe898cdc572ad
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Aug 30 01:36:33 2010 +0000

    Volume Add-brick validation for exports
    
    Added checks for export already in use, duplicate exports in command,
    and check whether exports are valid.
    
    Also, cleaned up error handling in glusterd_handle_add_bricks
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1457 (volume add brick validation for export)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1457

commit 27f39a7c9d10e836295ae4ad1a88d1f0a911079f
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Aug 30 01:16:05 2010 +0000

    mgmt/glusterd: remove volfile, brick file upon remove-brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1475 (glusterd should delete brick related files upon remove brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1475

commit a2dd1e8702eb8dc7234d8262e34182adf1f0573c
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Mon Aug 30 01:33:14 2010 +0000

    Provides the ability to filter the output of state dump
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 828 (glusterdump filled up the /)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=828

commit fb3cb751f18a931d2a61d168fa13bf8ec3b45e1a
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Aug 29 07:08:37 2010 +0000

    mgmt/glusterd: handle port allocation so ports are reused for same brick
    
    * if 'brickinfo->port' exists use it instead of pmap_registry_alloc(),
      hence a brick after stop/start starts on same port
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1473 (reuse the ports while starting 'glusterfsd')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1473

commit 127dd2ada6e06abf0761ea647f7ae18a5de78e4f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Aug 29 06:43:58 2010 +0000

    gluster{d,fs,fsd}: add logrorate functionality to SIGHUP
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1472 (SIGHUP should do 'logrotate')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1472

commit 157560b6dce9cf790e8405ce895d80f4efab1539
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Sat Aug 28 06:02:54 2010 +0000

    cli, mgmt/glusterd: added volume stop <VOLNAME> force functionality
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1361 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1361

commit 48055db6c1b8e669e6c83cc3e579569f05629026
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sat Aug 28 05:23:28 2010 +0000

    mgmt/glusterd: Fix some more options in volgen.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1455 (df command hangs before showing the gluster mount)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1455

commit e38fcf1f24b963f3fae9447e77bbc16a422739ae
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 28 02:18:47 2010 +0000

    dump the volume file details in log file if graph init succeeds
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1468 (after dvm changes, volfile info is not dumped in logfile)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1468

commit 9478240b8bfc42e444d9380aeeffb015d8e75b7e
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 28 02:02:51 2010 +0000

    afr: enable metadata self-heal by default
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1467 (enable the metadata-change-log by default)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1467

commit 5c7fb40b7fc592c8eedeeb91a96d0d89fb7b38f9
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Aug 28 01:50:37 2010 +0000

    change the path to brickpath while creating the pidfile
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1409 (Gluster add brick fails if all the bricks are local)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1409

commit 3ff1dbc7ad46427f175e1592a63b14ad8493c350
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Aug 28 01:10:02 2010 +0000

    performance/stat-prefetch: while removing an entry from cache, remove it from caches stored in all opened fds.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1414 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1414

commit 4a62b116eff66068bb16020093057708f4e106f8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Aug 27 11:55:29 2010 +0000

    mgmt/glusterd: look for local hostname in is_local_addr()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 20e48cac3ced9df6af761ab85e18e2da77b0c920
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Aug 27 09:06:13 2010 +0000

    check for ENOENT after unlink system call in stop volume function
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 8cad5c4f10ae431914e015c79986470ed75319e0
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Aug 27 09:30:46 2010 +0000

    change the shell to bash form sh
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit fdc016fabed01e8497ffe281d7f35708b0eb25cd
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 27 09:28:37 2010 +0000

    fix notify mechanism to send CHILD_UP to fuse
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 18482a0d744a222fba6e235a1c6f2c30e27e8c03
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 27 09:06:29 2010 +0000

    protocol/server: fix a static buffer free.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 71622b82d95a3d2a4d0db9be1ec57939bebc9cdc
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Aug 27 07:22:24 2010 +0000

    volume create should not succeed on invalid export
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 899bebbb01220178d94dc3a669bd1ebbff800c25
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Aug 27 07:19:02 2010 +0000

    mgmt/glusterd: allocate hostname before dict_set_str for transport
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 8071909e84b6a479a6b5be1eddd15e8b16fc1a80
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 27 06:45:38 2010 +0000

    rpc: server to client callback mechanism
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit fd282c4299a5354aa272345e312ac600d9dcc680
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Aug 27 05:55:02 2010 +0000

    Volume create checks for used bricks
    
    Added check for create volume from using bricks already in use.
    Also cleaned up the error handling fixes in glusterd_handle_create_volume
    
    Volume create should now fail if a brick is specified that is already in use.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit cd5578895e7a218518ed20eaa34c6d833ea65aaa
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 27 04:49:34 2010 +0000

    mgmt/glusterd: fixes in volgen file paths
    
    * fixed argument to few xlator options generated by volgen
    * commented out many options which we want to be default
    * pid file and volume file name to contain export path info in them
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 07873893ad88e961cd0736872700f2bdc746d49c
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Aug 27 03:57:53 2010 +0000

    Misleading probe message for friend
    
    Progress with probe if host already is present in the list and
    state is not default or request received.
    
    To test, probe from on host, on the other host, do a probe back to
    host1. This should now continue with probe for the first time. Second
    probe should return already friend msg.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit c97156833355697a381e5e6a1c14142d8c9f3593
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Aug 26 12:17:37 2010 +0000

    cli, mgmt/glusterd: validate brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 228d11a9c91a5f5be9a2827a93cc5b7afef2d96a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Aug 27 00:33:31 2010 +0000

    cli: command parse validation
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1431 (cli: check if arguments exist before the accessing them)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1431

commit fc8b3fcbe1ab7fa8a7b15437d49df287856f2e95
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Aug 26 13:31:23 2010 +0000

    cluster/afr: Hold ref on the right fd
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1365 ([3.1.0qa5-15] Self-heal doesn't happen from 1st subvolume to others)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1365

commit 7fc38ce7783891218a0cb83d233d579e64831e33
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Aug 26 11:42:24 2010 +0000

    mgmt/glusterd: free op ctx only if it is allocated
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 1236 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1236

commit 67d8b620186807f38277713930da2a1d1926d6d0
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 26 09:09:59 2010 +0000

    glusterd-pmap: trigger signout by RPC_DISCONNECT event
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1314 (portmapper functionality)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1314

commit 0b87986fb6c35771f1ee60a161d427725c954c38
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 26 08:13:06 2010 +0000

    glusterfsd: don't call pmap-signout in 'cleanup_and_exit()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1434 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1434

commit ee3f7b941f889619d0688372f93e31f7e6a7cf3b
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Aug 26 07:55:38 2010 +0000

    mgmt/glusterd: Use a C based volgen and support various xlator options.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1429 (Use a C based volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1429

commit 2d935ef9c8cba1dae93e8e7dc0238aa46358edc3
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 26 07:42:30 2010 +0000

    fix glusterfsd to glusterfs getspec
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1445 (getspec doesn't work from glusterfsd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1445

commit d23ea83d476d2d0a1672ff346a398a76952d7e09
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 26 07:40:07 2010 +0000

    rpcsvc: handle the case of null dereferencing
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1446 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1446

commit 77459d46b1b242e5a8a3f4beecfb922ee7df80b0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Aug 26 05:57:25 2010 +0000

    rpcsvc: fix double free happening when listener creation fails.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 9fe52c92ace1c8c1e6e016aad8bb14973d6c9dc0
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 26 05:53:41 2010 +0000

    glusterd: handle failure of 'getspec' in case of '-' in volume name
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1433 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1433

commit 44f187fad77512e6b9d22852b79dc9621d688798
Author: Sachidananda <sac@gluster.com>
Date:   Thu Aug 26 05:44:07 2010 +0000

    cluster/dht: Fix clang errors.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1069 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1069

commit e1c52f630af0691872eff97e8156307a2964161c
Author: Sachidananda <sac@gluster.com>
Date:   Thu Aug 26 04:45:46 2010 +0000

    glusterfsd: Clang error fixes.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1077 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1077

commit af7b57b3099d07be2469895e4c83e3fa4442777e
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 26 04:10:19 2010 +0000

    Cli volume create detect dup bricks
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1184 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1184

commit d36c42a35fcc95468d692e5e7dd00fa7ca17b653
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Aug 26 03:53:31 2010 +0000

    script for testing basic gluster commands
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1436 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1436

commit fabb7e5e5dab69689bde255225748f8513a09d84
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 26 03:32:21 2010 +0000

    Cli volume add-brick validation
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1440 (volume add brick validation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1440

commit 33dfb02e92eb64009d353057f567dec02295886c
Author: Sachidananda <sac@gluster.com>
Date:   Wed Aug 25 03:39:03 2010 +0000

    cluster/afr: Remove dead assignments.
    
    Signed-off-by: Sachidananda <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1075 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1075

commit f76af04e90a4a3bf7995315923330fdfab407b4a
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 12:30:57 2010 +0000

    cluster/afr: Remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1078 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1078

commit 763d114d6e803ec87a418fec6a7b7cdda8a119d9
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 11:07:18 2010 +0000

    cluster/afr: Clang fixes.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1079 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1079

commit 503821aca0454a825b6cbb64e8a74ac8820f18ce
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 06:43:54 2010 +0000

    cluster/afr: Clean up dead variables.
    
    Clang error fixes.
    
    Plus some white space cleanup.
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1080 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1080

commit d13ddaf872915e16de37acdd7ccd913f3077a95d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Aug 26 00:39:59 2010 +0000

    replace struct stat by stuct iatt
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1441 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1441

commit e541154b79f8632fa82fa5b4f8f27aa2cb4ea55a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Aug 26 00:30:03 2010 +0000

    transport/socket: free priv->incoming.request_info if not already freed after reading each message.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1438 (memory leaks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1438

commit fb7cfce92572cd827de99fc076b5bb883972a057
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Aug 26 00:29:21 2010 +0000

    rpcsvc: handle the return value of rpcsvc_create_listeners properly.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 7c7219fd881dd6485fbad2e80121a3c2dffd6d9b
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Aug 25 06:16:46 2010 +0000

    Cli volume create validation
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1185 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1185

commit 194ec62165c89a84ad7d36013dd77e981a374c93
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Aug 25 06:07:14 2010 +0000

    cluster/afr: Do not issue blocking locks in self-heal.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit c83b6f73f08eb81788dd1fe35c461b19dc9405df
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 25 02:09:06 2010 +0000

    cli: print usage message when parsing of cmd fails
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1432 (print usage string in case of command parse errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1432

commit 606cf3e291029169ec8154dec52c9b5ec6afc455
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 25 01:59:15 2010 +0000

    cli: check if the arguments are present before accessing
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1431 (cli: check if arguments exist before the accessing them)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1431

commit a0c874f09e294ec75a18a5436bd01eaa97f22f81
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Wed Aug 25 01:58:23 2010 +0000

    Help Added to the Gluster-CLI for all sub commands (some deletions in the old patch)
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1156 (gluster --help should display all the options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1156

commit 5ad84d3decb201e587cca5de7dd0c2c13e6419f6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 25 01:40:56 2010 +0000

    mgmt/glusterd: check if the brick already exists in stage add-brick
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1289 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1289

commit fb0bb972dfac3c255c53ddc7b588b73a08883288
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 25 01:40:00 2010 +0000

    storage/posix: calculate the correct size of each dirent in readdir/readdirp.
    
    - In addition to posix, protocol/server also adds a check to make sure that
       iobuf allocated to hold readdir/readdirp response can hold all the dentries,
       rpc and proc (readdir/readdirp) header.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1430 (encoding of readdirp response fails occasionally)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1430

commit 36ae62ada88b8477994d17527868370a4634999e
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 25 01:32:52 2010 +0000

    cli: print volume create command usage in-case of parse errors
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1263 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1263

commit 29a9b190148ac7f2bf83e381a9e8024b164904b6
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Aug 25 01:29:07 2010 +0000

    cli: validating if the arguments exist before accessing in volume create
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1202 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1202

commit 89e6c3ee0a031eec5090fe2396678769e08fb01f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 25 01:18:38 2010 +0000

    legacy/protocol/client: fix namespace collisions.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1418 (Crash in saved_frames_put)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1418

commit edc92766239de2a3054df9e9ad2607a8955c6d0b
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 03:59:05 2010 +0000

    cluster/afr: Clean up dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1084 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1084

commit b4ce27c974c02c15bc51373cd93a11de593ceade
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 02:53:01 2010 +0000

    cluster/afr: Clean up dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1086 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1086

commit 4c3680ad355fa8c5f691eef73eec4f2677829340
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Aug 24 02:15:56 2010 +0000

    fix the typo present in sh_missing_entries_create function
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 905 (Typo in log message in sh_missing_entries_create of afr-self-heal-common.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=905

commit fbd4023aada9d51d9be1b9060ab90ae20cccf119
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 24 01:16:10 2010 +0000

    glusterd: avoid cleaning up rpc during peer detach
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1423 (Crash in gf_timer_call_cancel)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1423

commit 60dc724b3d5442b07f3be3b2d8b8edc7f48205a9
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 24 00:49:49 2010 +0000

    cluster/afr: Remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1087 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1087

commit cbdc4f6ba6f5e8e2ef0d40d9f6cf857dfd8b91df
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 24 00:42:39 2010 +0000

    fuse graph initialization related changes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1406 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1406

commit 80221e913e90d244c334edbbd51ad9bc05c0fca0
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 23 13:04:21 2010 +0000

    doc: Include transport-type in glusterd.vol
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1377 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1377

commit 40c39c390b3dee1a4906b3f1fcaab42beb9d8f19
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 23 12:56:07 2010 +0000

    glusterd: Inject right event during peer detach
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1215 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1215

commit df4a7d75765b042ddbda4cbcd419743a37767ec3
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 23 03:51:21 2010 +0000

    glusterd: support for volume version and cksum
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1310 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1310

commit 39dc05e370286a62428a94e3e7666e2eedaea941
Author: Sachidananda <sac@gluster.com>
Date:   Mon Aug 23 00:08:37 2010 +0000

    performance/io-cache: Remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1112 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1112

commit 436f2b329f41f28a65fc4898df5435f154bd6027
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 23 01:42:47 2010 +0000

    rpcsvc: allow creation of both rdma and socket for a single server transport.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 513 (Introduce 0 copy rdma)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=513

commit 0d33cce6f7bbb71abe0086469f2f726151b0e62c
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Aug 22 14:09:48 2010 +0000

    protocol/server: features/locks: Fix nonblocking entrylks, inodelks in locks and server.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit 63f9e2a49573a0b539c0082fd0c08c1b4d4db983
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Aug 22 14:08:43 2010 +0000

    cluster/afr: Use 2 phase locking for transactions and self heal.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 960 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit 37ec7db018979d04d02ae5670b53dbed7a498ba8
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 17 05:19:04 2010 +0000

    xlators/nfs: nfs3-helpers.c remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1115 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1115

commit 8f18a47a14ffc4456e470b15f6ad14f9dd10cd79
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 17 04:59:49 2010 +0000

    xlators/nfs: nfs3.c - remove dead assignments.
    
    Removed dead assignments and unused variables reported by clang.
    
    One of the reports uncovers a minor bug in gnfs.
    > Dead store  Dead assignment  xlators/nfs/server/src/nfs3.c  2860  1
    
    A separate bug is logged for the above report and assigned to Shehjar.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1114 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1114

commit a437f594608cd307ca2c25871b79966de54cc93f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 21 01:54:30 2010 +0000

    gf_system: fork/exec instead of system
    
    * most of the glusterd 'system()' are replaced with 'gf_system()'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1292 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1292

commit ad0e7a86c256b6e49daddafd954809b6040804b2
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 21 01:53:42 2010 +0000

    glusterd: prefix added to gluster commands
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1283 ([3.1.0qa3] gluster volume create and volume start fail on when glusterfs is installed on prefixed path)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1283

commit daf868e13511d97492ca4ece5fe60a2a4f69a20f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 21 01:50:31 2010 +0000

    portmapper program added to glusterfsd mgmt rpc
    
    * some bug fixes glusterd-pmap.c
    * also renamed 'fetch-spec.c' -> 'glusterfsd-mgmt.c'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1314 (portmapper functionality)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1314

commit c429e47ae3925d0bc1ca113e37d903410f3e043a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Aug 20 23:44:52 2010 +0000

    fix the wrong log message displayed by glusterd in remove brick
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1411 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1411

commit 6b55c3b072b5663a4709b79513ada9f44d8ab8c2
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 20 07:50:39 2010 +0000

    generate separate volume files for nfs in case of 'portmapper' mode
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1319 (gnfs support in gluster command line)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1319

commit 883913af305e2de2d51ebac083b359bafebb782c
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Aug 20 07:23:15 2010 +0000

    check whether xlator is NULL in FUSE_FOP macro
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1407 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1407

commit a81debc473fe5eddeba318c91715252238069b1e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Aug 20 05:37:31 2010 +0000

    performance/stat-prefetch: use SP_STACK_UNWIND instead of STACK_UNWIND_STRICT.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 993 (memory leak-in stat-prefetch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=993

commit a6cc486e5733bcbe1bf562d6a523a5dd334cdf81
Author: Sachidananda <sac@gluster.com>
Date:   Fri Aug 20 01:28:32 2010 +0000

    xlators/mgmt: exit if directory creation fails.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1408 (glusterd continues despite directory creation fails.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1408

commit c2518242ed0723b7fa6c09564a3330572e189d74
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Aug 20 01:16:21 2010 +0000

    Hide cli peer command port option
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1261 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1261

commit 1fd482cae739799d2cdb0ffe78b544c249784305
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Aug 19 11:50:08 2010 +0000

    cli: Fix issues in non readline mode
    
    Signed-off by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1300 (gluster core dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1300

commit a5dac1f49eb247d854348fe8ec54c33e664adf30
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Aug 19 10:42:33 2010 +0000

    rpcsvc: decouple creation of listener from rpcsvc_program_register and rpcsvc_init.
    
    - with this patch every program that wants to register itself with rpcsvc should
        also create one or more listener(s) and register with portmap (if necessary).
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 01c00dd2e1d3113acb3f20c5dc7c20fa8d286339
Author: Sachidananda <sac@gluster.com>
Date:   Thu Aug 19 09:42:09 2010 +0000

    libglusterfs: Fix warnings reported by clang.
    
    Fix errors reported by clang.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1088 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1088

commit 82cea5108995d3ce21cd6489edd6161e9b6568aa
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 19 07:22:15 2010 +0000

    Probe should not probe for existing friend
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1331 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1331

commit 074f03afb246eb56ad55355bd775adc16488baa9
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 19 07:21:42 2010 +0000

    Probe on localhost not needed
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1216 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1216

commit 84bc269be4d2415e7d39ed33fa9925fd54447814
Author: Sachidananda <sac@gluster.com>
Date:   Thu Aug 19 04:48:06 2010 +0000

    xlators/storage: posix.c - remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1089 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1089

commit ecd0a913dc7359c3dad6cb9188ac999a6613d8b3
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 19 04:33:07 2010 +0000

    protocol/client: fix ESTALE in statfs on root inode
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1397 (Cached dir fd_ts are a leakin')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1397

commit 12e997d86358f44ab3729e1619591d1c8d0a8dc5
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 19 02:42:18 2010 +0000

    protocol/server: remove default progport from the fop program definition
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1396 ([3.1prealpha3] Multiple glusterfs processes fail to start with different port nos)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1396

commit b1f5031a3aa7c733990d0441a921c0b100309304
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Aug 19 02:06:03 2010 +0000

    rpcsvc: change in port selection criteria for program to listen on.
    
    - give preference to port specified in options over the port in program
       structure when both are specified. This will enable us to run multiple
       glusterfs server instances on the same machine.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1396 ([3.1prealpha3] Multiple glusterfs processes fail to start with different port nos)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1396

commit f51252fa0d89556542fdfd190e8a94b28b013c36
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 18 14:23:02 2010 +0000

    rpcsvc: check for listener on default port used by mgmt (6969) while registering programs.
    
    - If programs have not provided a default port, rpcsvc tries to allocate a
       listener bound to default port. While registering programs, if programs
       have not given any port information, programs will be associated with
       either default listener or the one provided in options provided during
       rpcsvc_init, with latter given more precedence.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 03df0871493d111116f168ec5331bffe99f6470f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 18 09:11:12 2010 +0000

    rpcsvc: unref transport stored in request before putting request structure back to mem-pool.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit b189d31f61ac3436bf0ad9ae2bff13efccbc06d0
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 18 08:56:56 2010 +0000

    fuse: prevent NULL dereference in case resolve on path failed.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1391 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1391

commit 1aa2219484e040a950d55d9414e2b7e77df37fe7
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 18 08:57:22 2010 +0000

    rpc-transport/socket: proper cleanup and NULL deref checks.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1326 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1326

commit 4cefe9c27be2d6db9d688ff1c922bf65bf43f5a1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Aug 18 07:39:52 2010 +0000

    Modify the help message for volume create
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1229 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1229

commit 3c75958d1948753976405f848f59326fc1896c95
Author: shishir gowda <shishirng@gluster.com>
Date:   Wed Aug 18 07:49:15 2010 +0000

    Fix memory corruption in mem pool
    
    Added new interface mem_get0, which calls memset on the
    mem pool entries being returned.
    Gluster and Kernel compile should now succeed.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1393 (Gluster and kernel compile fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1393

commit 0b890833c8cba9bac71877e528d810eba91dd1e6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 17 23:58:37 2010 +0000

    rpc: add rpc_req structure to request_info structure, used by transport layer to get corresponding request to reply received.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 4e01a54eaa6da1bd6817d62dcc51a75e22699e2b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Aug 17 05:35:42 2010 +0000

    rpc - cleanup and changes related to rdma
    
    - remove rpc_conn_state structure.
       - add a member to point struct rpc_req in rpc_transport_req structure.
         This is needed for rdma to store rdma specific per request data.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit d8a8a66523e06abc0f44e1cdfe528cbf28d881a9
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 17 22:23:25 2010 +0000

    cluster/afr: rename should not consider ENOTEMPTY as failure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1352 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1352

commit ad99cabe6ca5925513c3896dab6fad29df50d7cf
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Aug 17 14:52:34 2010 +0000

    rpmspec: include copying.gpl and copying.agpl
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1275 (Fix rpm glusterfs spec file for 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1275

commit 7e6b5454ade0c4fdfae73b882662d1606b7acde6
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Aug 17 12:59:57 2010 -0700

    Makefile.am fix for COPYING changes

commit 711ea846fd1c1a5f15ed7a54501ffd41097d0cf6
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Aug 17 10:37:21 2010 +0000

    rpm spec: rename glusterfs-main to glusterfs-core
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1275 (Fix rpm glusterfs spec file for 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1275

commit 8e6be30d2233e766398bd03dedf2b576131804c3
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 17 09:44:20 2010 +0000

    client: Do reconfig upon failure
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1341 (glusterfs-volgen should behave differently for flag '--internal')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1341

commit c8e411f2c46970eceba45534322437f89ed8a543
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 17 09:19:20 2010 +0000

    changed GNU General Public License to GNU Affero General Public License
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1388 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1388

commit 65e98c7e1d0d96cef2118bd93f8322a8a29ab96b
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 17 06:07:17 2010 +0000

    cluster/afr: truncate should not treat EFBIG as failure
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1351 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1351

commit c0dfd786795a8704e92b8e35120780b8c8907f32
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 17 06:06:30 2010 +0000

    cli: block command hang
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1370 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1370

commit 08699df02322c5f8ec926edf367da4cb96b90ad3
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 17 05:38:25 2010 +0000

    xlators/performance: quick-read.c remove dead assignments
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1109 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1109

commit ed180da84f153b47373e109f445f6775f950cb69
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Aug 17 05:06:58 2010 +0000

    cluster/afr: Return correct flock structures correctly in lk fops
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1042 (Use correct flock structures in lk fops)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1042

commit 20cdb9ab09b96e92a2ded9999078b8462dffd8c1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 17 04:50:59 2010 +0000

    glusterd: fix for a crash in add-brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1380 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1380

commit ab72e06f7bcf6a815424f67181d44e7a1a465846
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Aug 17 03:31:36 2010 +0000

    volume creation validation
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1267 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1267

commit 8bc0ae16215248f85c64070f2f8600e5ab59e9ae
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Aug 17 03:26:51 2010 +0000

    Do not allow all to be a volume name while creating volume
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1209 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1209

commit e5737546071bd1d38430503bb64b9998bd7870dd
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 17 03:37:46 2010 +0000

    cli: Implement help command
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1229 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1229

commit ead92558ee8ec71442b2fa2da1a0df197ee78467
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 17 01:46:43 2010 +0000

    xlators/nfs: rpcsvc-auth.c - clean up dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1119 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1119

commit d552322816e82b3bc14533ecec9b770a213e7530
Author: Anand Avati <avati@gluster.com>
Date:   Tue Aug 17 02:53:51 2010 +0000

    protocol/client: fix reconnection to happen on portmapper first
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1341 (glusterfs-volgen should behave differently for flag '--internal')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1341

commit 9eccb80f42328cff1e652b12e01a3b02898f5edf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 16 11:47:04 2010 +0000

    glusterd: Fixes for add brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1374 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1374

commit 3af126d594c8e0710ba6a3fb4024224eb7f8e4b4
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 16 07:26:33 2010 +0000

    rpm spec: Use only 3 rpms for GlusterFS
    
    Generates the following 3 rpms:
    1. glusterfs-fuse
    2. glusterfs-main
    3. glusterfs-ibverbs
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1275 (Fix rpm glusterfs spec file for 3.1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1275

commit 0ec245abd60928994e2afbeac73cb53c5af7a4cf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 16 05:18:19 2010 +0000

    volgen: generate listen port in server for portmap mode
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1375 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1375

commit fac7244477c6f2537f9abf3e83abf5e77177e548
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 16 03:19:32 2010 +0000

    rpc: move handling of fragment headers to socket.
    
    - fragment headers are only specific to tcp and hence should be handled in
        transport-socket instead of by rpc layer.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 5065b0824ed01cca59501d74c227b136a5b0e65e
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 16 02:37:34 2010 +0000

    mgmt/glusterd: cli: Various fixes for replace brick.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1304 (Free state info for replace brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1304

commit 659e2d938f4da023411114c13a14337c21083411
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 16 02:35:40 2010 +0000

    cli: Cleanup replace brick operations.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1304 (Free state info for replace brick)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1304

commit 32041afec462237c44a557ccdc4a32c6e33bad96
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 16 02:35:00 2010 +0000

    mgmt/glusterd: Cleanup replace brick.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1303 (Cleanup replace-brick state info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1303

commit fa71c7ff9d23bff6e597a87c2c58d8b620594856
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Aug 16 02:34:32 2010 +0000

    cli: Cleanup replace-brick cli call.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1303 (Cleanup replace-brick state info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1303

commit a2f198db704a52e6e805a5637dfa399513de02c2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 16 02:10:15 2010 +0000

    glusterd: Fix for a crash during restart
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1369 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1369

commit 7ebf4817f3535c8b5e78a0edb3b40ed2843a305f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Aug 15 13:03:10 2010 +0000

    glusterd: Set appropriate directory permissions
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1291 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1291

commit cd8c7a98e0ccab7866c6deb9174b662584ef91c6
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Aug 15 12:39:05 2010 +0000

    cluster/pump: Save path (/) when abort is received in pump.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit c87c868f40f4c2f46892afebf9557cf3003dabe4
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 14 05:10:49 2010 +0000

    'gluster peer *' enhancement
    
    now 'gluster probe' will be 'gluster peer probe' and
    'gluster detach' will be 'gluster peer detach'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1291 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1291

commit 2b8545f1a21efe5e9944bccdebdff49e22fb6e6b
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 14 04:36:47 2010 +0000

    new option to volgen '--portmapper-mode'
    
    * without which, it generates volume files in old fashioned way.
    * with portmapper mode, no port option is taken, and there will be
      one process per one export.
    * corresponding changes in 'mgmt/glusterd' is made
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1341 (glusterfs-volgen should behave differently for flag '--internal')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1341

commit dd6c4b0e0db5fbe05a0c7927c780c96d5a97a966
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 14 03:36:29 2010 +0000

    volume-id fix in mount.glusterfs
    
    * now user can give numrical volume names if needed.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1364 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1364

commit 78814d4a5451b4fbd83fa286a866d6e520f92d74
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Aug 14 04:31:38 2010 +0000

    portmapper: minor fixes
    
    * in bind, initialize the array index to port
    * in search, check if brickname is NULL
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1363 (crash is pmap_registry_search())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1363

commit 57af0c92e351516c4056404ce0f2255c06b3c032
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 13 07:10:25 2010 +0000

    gluster create volume: cli validation added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1267 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1267

commit bce6e99400713a4ece37996376d28146aeebc3d4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Aug 13 07:03:47 2010 +0000

    glusterd: Check for DIR before readdir
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1323 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1323

commit 752cb30f695963befd95e0db1d56113c6cce976e
Author: Anand Avati <avati@gluster.com>
Date:   Fri Aug 13 06:04:35 2010 +0000

    portmap: crash fix while getting registry pointer
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1346 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1346

commit b2925e78a54e1aab7e2a06d40127c59cc922cf1b
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 13 05:58:51 2010 +0000

    cli cmd validation
    
    * check buffer/stack overwrite if there is large number of argument to
      gluster command
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1265 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1265

commit 42436eb494e29745bd5e63865085fc26316ddf57
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 13 02:33:37 2010 +0000

    if frame is NULL, don't continue to destroy it.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1272 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1272

commit 4f414b5c497541d8ab1ba8aa3edc38c2d468bc23
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 13 01:56:33 2010 +0000

    protocol/client: send proper errno when op_ret is -1
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1353 (gnfs crash on nfs3_fill_create3res)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1353

commit 16e313fba3830876410739113beb1f9ae5a9eade
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Aug 13 02:08:31 2010 +0000

    fixes read data corruption seen by patch b04d963e91f8b3c72343e1043d6ed8c68699c4fe
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1333 ([3.1.0qa4]md5sum mismatch of files on client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1333

commit 79ec0ccdfacf562f19c0c0959ed305ec204f71bf
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 13:08:38 2010 +0000

    fix the 'no logfile set' log during gluster process start.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1348 ('no logfile set' displayed when glusterfs is started)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1348

commit 11c210ea3fdb724af4ea8a221dffc20dad9924a0
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Aug 12 12:27:35 2010 +0000

    cluster/afr: Remove dead pump code in afr_lookup
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1347 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1347

commit d502952cbe42760bf27a9e6cf2c616b6d7e5d379
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 08:09:43 2010 +0000

    fix in cli notify
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1345 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1345

commit df72e61b29c8a574ce8db254f1fc33a0261a03bb
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Aug 12 06:19:40 2010 +0000

    cluster/afr: Avoid Null de-reference when post parent is NULL
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 857 (Crash in afr_sh_entry_expunge_entry_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=857

commit 9349f559dc715cc7598edfb09e95470464ea1acb
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Aug 12 04:12:44 2010 -0700

    added glusterd-pmap.h to noinst_HEADERS in Makefile.am

commit 9d89f5bf0190037ce6e5e2b8c5bc35f67e421e88
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Thu Aug 12 05:05:03 2010 +0000

    protocol/client: query portmap and reconnect on new port
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1314 (portmapper functionality)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1314

commit 12ce6a962aee3674eb722a09241b43923712ee8e
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Thu Aug 12 05:05:02 2010 +0000

    rpc-clnt/socket: rpc_clnt_reconfig() API to support overriding of port numbers
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1314 (portmapper functionality)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1314

commit b69a4f1e31726260a07f883cefac28ed29cc6a12
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Thu Aug 12 05:05:01 2010 +0000

    portmap functionality in glusterd
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1314 (portmapper functionality)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1314

commit f862864468c9d11d646bdcc347a1121fe75a1917
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Aug 12 04:43:20 2010 +0000

    minor assignement errors reported by clang fixed
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1117 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1117

commit a207ab15d43d625b91d0976409c92514e4c77664
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 03:58:20 2010 +0000

    argument sanity checks added in inode.c
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1311 (crash  during nfs alpha test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1311

commit a9383208a60163f49e87c88a86439acd06f8356c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 04:49:50 2010 +0000

    client changes for 'gluster volume migration' to work
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1303 (Cleanup replace-brick state info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1303

commit e0347526dd77f7171ae9da72fc92ca99a79dd282
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Aug 12 04:49:15 2010 +0000

    cluster/pump: Dynamically control sink connect and disconnect.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1303 (Cleanup replace-brick state info)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1303

commit e98ebc1da4f49fba2bcaaf3212b00058e615cf29
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Aug 12 03:26:39 2010 +0000

    glusterd: Fixes for detach
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1215 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1215

commit a6a2e3a86c0d4c0873e822a38769677df2050f11
Author: Kaushik BV <kaushikbv@gluster.com>
Date:   Thu Aug 12 01:57:04 2010 +0000

    log added in case of invalid options provided for the io-threads volume
    
    Signed-off-by: Kaushik BV <kaushikbv@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1033 (io-threads doesn't log its options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1033

commit 78615ceea81479b38af43697766bcc04421a256d
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 01:54:38 2010 +0000

    logging enhancements
    
    * per translator loglevel introduced, if set, it will override process
      wide log level.
    * with extended attribute 'trusted.glusterfs.<xlator-name>.set-log-level'
      with the value being '<LOGLEVEL>', one can change log level of particular
      translator.
    * with extended attribute 'trusted.glusterfs.syslog' with the value
      '<BOOLEAN>', one can enable disable syslog for gluster
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 601 (Enable changing 'log-level' of GlusterFS process at runtime)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=601

commit 553aa029de1817ae182cc86c1d00f8eb8ff52b50
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 12 01:54:10 2010 +0000

    fixed some backward compatibility issues
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit aa17ab8aa1851ac8848b0e36c420f6dd09fe9616
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Aug 12 01:47:38 2010 +0000

    rpc: Cleanup reconnect timer while destroying rpc_clnt
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1334 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1334

commit d8bb87b4c7dd40adf4fe0ba0a0946483599e0acc
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 11 05:58:31 2010 +0000

    rpc fixes
    
    * set THIS properly so memory accounting works fine.
    * also check for few pointers before dereferencing them.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1317 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1317

commit fe38de53620d2c8c9dd1050a377f05a315f125d8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Aug 11 07:45:29 2010 +0000

    cli: Use appropriate conversion for deprobe resp
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1215 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1215

commit e17db5e4f67779f2e5095018bfda6f3b477e38ba
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Aug 11 00:33:03 2010 +0000

    cli: Do not await connection for miscellaneous cmds
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1262 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1262

commit d30f7058780477239dc8fe1ad691f4661a4988e6
Author: Sachidananda <sac@gluster.com>
Date:   Tue Aug 10 11:16:59 2010 +0000

    Cleanup dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1085 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1085

commit ca938bbe6f50fc77cbcfb3ca47efef0feb8e7526
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 10 08:18:47 2010 +0000

    glusterd: Remove dependency on existence of peers directory
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1310 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1310

commit ced85cce0700d702640c66829a72822e430f1cca
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 10 05:55:49 2010 +0000

    glusterd: Remove incorrect check for open fd during store ops.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1321 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1321

commit b0f54a49164a1c618b9e207349bd96705b44dfa6
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Aug 10 01:57:45 2010 +0000

    cli: Introduce timeouts for command response and connection
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1262 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1262

commit 5f7018275bf8006ff758817037d03936b8a95d43
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Aug 9 07:42:02 2010 +0000

    glusterd: restore peer information upon restart
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1310 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1310

commit b8779318dd2d99e44f54de741beee32f55553e75
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 9 05:43:01 2010 +0000

    fuse resolve related changes
    
    Now fuse is fully complaint with DVM, as even if there is a fop
    request on inode belonging to old graph, it will be resolved
    corresponding to new graph and operations will be performed wrt.
    new graph, which makes DVM truely spontaneous.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1240 (DVM: after graph change, inodes should resolve to new inode-table)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1240

commit 0b501ac95edc0ef5945228eb47e6482cfc4efa41
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Aug 9 05:38:46 2010 +0000

    'gluster volume rebalance' related fixes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1307 (gluster volume defrag <VOLNAME> status)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1307

commit 6ff316dca7c9eebab14e71b6ad0908c2e45a5ee2
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Aug 10 03:28:50 2010 -0700

    fix build of nfs (cleanup of configure.ac)

commit 272dfb00a9bdb9d537183dd0cfed83f698f5351a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:42:01 2010 +0000

    core,glusterd: Solaris getxattr build fix
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1178 (Gluster mainline build fails on Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1178

commit 3501c98d23a9dcc4e05e972cb8de600fc46e4bf9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:42:00 2010 +0000

    build: ucontext on Darwin needs _XOPEN_SOURCE
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 85a5ae02a7e262ffb5f4f51d1ea063e2669b0556
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:59 2010 +0000

    build: Solaris sigwait needs _POSIX_PTHREAD_SEMANTICS
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1178 (Gluster mainline build fails on Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1178

commit b56548d530a3c6b059906e2bd242e7845434e07b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:58 2010 +0000

    glusterd: Solaris build fixes
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1178 (Gluster mainline build fails on Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1178

commit 6cf8c2114a691a9b3f0eb42164d51e7fa86d33ea
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:57 2010 +0000

    rpc-lib: Solaris build fixes
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1178 (Gluster mainline build fails on Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1178

commit 3b2de50546579b43ead84cff98f5c74e7bf7f840
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:56 2010 +0000

    nfs/rpc: Solaris build fixes
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1178 (Gluster mainline build fails on Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1178

commit 5eb7cabfe7835604d132e4850ca6b656427df57f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:55 2010 +0000

    nfs: Do not build nfs/rpc as shared library
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1274 (nfs fails to start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1274

commit 0af39ff8d03173a7ba3df1b13476b7ed447131aa
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Aug 10 02:41:54 2010 +0000

    nfs, nfs/rpc: Rename functions to prevent gfrpcsvc conflict
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1274 (nfs fails to start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1274

commit b0304d47f67aa8fa677e4898fa46b96df88c8322
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Aug 6 07:49:36 2010 +0000

    glusterd: Set right return value during delete volume
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1191 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1191

commit 4f4dcb98a7bd55e84b3bb1d0bdf57cdd9090fcee
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Aug 6 05:38:41 2010 +0000

    fix rpm spec file to build rpms for 3.1
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1251 (ping_pong tests make client go segfault after bailout)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1251

commit acdeed002d30209e0a058c2df0346d4f16c08994
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Aug 6 05:31:45 2010 +0000

    add pump xlator and changes for replace-brick
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1235 (Bug for all pump/migrate commits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1235

commit 453cb4bf0b70c876eb468def34054095cfd66359
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Aug 6 05:25:16 2010 +0000

    v2[PATCH BUG:1286] glusterd: Regain volume state upon re-start
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1286 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1286

commit 3f6e5e670b7c1e30c64f2f11419947bd8982d51b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 4 22:24:51 2010 +0000

    performance/io-cache: Disable caching when files are opened with GF_OPEN_NOWB
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1168 (Disable caching when files are opened with GF_OPEN_NOWB)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1168

commit e85069767b28fe12cf3dcc4ccf1a5cfc10753c4b
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 04:00:59 2010 +0000

    mem pool for call_stub_t
    
    Ran posix compliance test and sanity test
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit f9431f330e8f304e82d9b1443018987a926d56b6
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 04:00:14 2010 +0000

    mem pool for fd_t
    
    Ran posix compliance test and sanity test
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 767b6b7d3f5b5e96e13f459fae6260d7cb129403
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 03:59:38 2010 +0000

    Implement mem pool for inode dentry
    
    Ran posix compliance test and sanity test
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 305025fbf823007fe715ea1ae0bbe44102221663
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 03:58:37 2010 +0000

    Implement mem pool for frame and stack
    
    Ran posix compliance test and sanity test
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit d8a94293b142f963ad255e4fe9c2d1fafe3caeb6
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 01:58:46 2010 +0000

    Fix for seg fault in dict_unserialize if undersized buffers are passed
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1031 (dict_unserialize crash if undersized buffers passed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1031

commit b04d963e91f8b3c72343e1043d6ed8c68699c4fe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 4 04:45:25 2010 +0000

    rpc: changes to glusterfs programs that can take an optional payload argument.
    
    - The existing interface required the transport to separate the procedure
        header and procedure payload into two different buffers. Making this
        separation can prove cumbersome for transports like rdma wherein the header
        and payload can be received in a single buffer (For eg., header and payload
        of write fop sent as inline msg using rdma-send). This patch delegates the
        responsiblity of separating out header and payload to programs.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 21e4580c24b3e4a1270ad482e1d905afffb00fba
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 4 05:27:55 2010 +0000

    remove same process transport shortcutting mechanism in rpc
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1223 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1223

commit c6c504df9843d273805636df5f88aed8cde694b5
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Aug 4 05:47:31 2010 +0000

    cli: fix a stack buffer overflow error
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1279 (Buffer overflow build error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1279

commit 737782bb930dae296605d53ed8d25ee8dbb23d87
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 5 01:53:37 2010 +0000

    if rpc->status is not SUCCESS, don't decode the msg
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1753 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1753

commit d1d06c102cfb6ea04a5e6f7db414a00c1a8351e2
Author: shishir gowda <shishirng@gluster.com>
Date:   Thu Aug 5 04:44:20 2010 +0000

    Fix cli volume defrag command hang
    
    gluster volume defrag <volname> hang is being fixed. Also, if a invalid
     volname was specified, it used to create mount point and call gluster
     client mount on it. This is also being fixed
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1247 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1247

commit dc10948a186931f22df2b1d3b4053c0c6bcac1de
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 5 10:15:25 2010 +0000

    fix memory-leak in case of disconnections in RPC server
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1227 (memory leak in rpcsvc_conn_alloc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1227

commit f9f4c5722536faee3d9ecbd8b99ce138e724f401
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 3 08:06:43 2010 +0000

    make some not implemented commands return success
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1264 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1264

commit 1be4d5e16e38f142931a0df1e3d25ed492cb494e
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 31 11:15:41 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1065 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1065

commit 76a28f5853947751bc4e1802446dfbde4d600b5d
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 31 09:11:21 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1067 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1067

commit d048ec1c1a2abcd4bad3ea5cf07cac328e990ff2
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 31 09:03:49 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1066 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1066

commit 8d7682cd5cfb22b06a4f11e2589137ebe85a4709
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 31 08:56:10 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1068 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1068

commit b4cd88214effe7889b581489d3865ac080d25391
Author: Sachidananda <sac@gluster.com>
Date:   Sat Jul 31 08:43:51 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1070 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1070

commit 51947922e1803dc4fceb80190faf5e37dcb2b290
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 23:28:05 2010 +0000

    Remove dead variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1106 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1106

commit 790a7cfcf57e89c45716c2657665ae187b7b3fb6
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 23:25:06 2010 +0000

    Remove unused variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1090 (clang errors in the file features/locks/posix.c)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1090

commit 83b77d5eaa1f1658e86b639c39574c04fa3feb48
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 22:31:20 2010 +0000

    Remove unused variables.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1107 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1107

commit 76acc9ad1c686d3f01a17ca73fada66334b86938
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 22:07:50 2010 +0000

    Remove unused variables
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1105 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1105

commit 21e9722f79663cc8502bfa21ad8d722357f8d491
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 10:05:14 2010 +0000

    Remove dead variables reported by clang.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1108 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1108

commit eba11d7a2e2718064e99ae3f155ccca395a39cb1
Author: Sachidananda <sac@gluster.com>
Date:   Fri Jul 30 09:22:51 2010 +0000

    Remove dead variables reported by clang.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1110 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1110

commit 543f9ef5754bf50bc1817cfe9ddc13201f4e009f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jul 29 03:09:38 2010 +0000

    libglusterfs: Prevent multiple timer threads from being spawned
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1246 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1246

commit fac3ff8bfb3958a3bdc34dc9bff7cb281597e40f
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Jul 25 18:13:08 2010 +0000

    syncop: initial implementation
    
    Resending Avati's syncop patch with a few bug fixes.
    
    (please do not skip the IMPORTANT NOTES section)
    
    * Framework for SYNChronous OPerations
    --------------------------------------
    
    This patch provides a framework for performing synchronous operations
    over the underlying actual asynchronous GlusterFS FOPS.
    
    * Use cases
    -----------
    
    1. Convenient implementation of crawler thread in replicate/pump
    
    2. Convenient implementation of high level control flow in DVM
    
    * Background
    ------------
    
    All (almost) threads in GlusterFS are hosts for executing aysnchronous
    file operations using the STACK_WIND and STACK_UNWIND primitives - as calls
    and callbacks.
    
    While the STACK_WIND and STACK_UNWIND macros provide high control for
    efficiently implementing file operations in a clustered/parallel environment,
    there are tasks where the nature of the task itself is sequential and
    the execution performance of the task is not critical. In these cases the
    complexity to implement the task with STACK_WIND/STACK_UNWIND based operations
    as calls and callbacks is an overkill.
    
    * Introduction
    ---------------
    
    syncop: are wrappers around the STACK_WIND/STACK_UNWIND based asynchronous fops.
    
    synctask: a sequential task (a C function) which uses syncops.
    
    syncenv: an environement to schedule and execute synctasks.
    
    The synchronicity is implemented via ucontext.h based continuations.
    
    Execution of synchronous tasks is possible only in a synchronous environment.
    Therefore, the first step  is to create such an environment -
    
            struct syncenv *env = syncenv_new (0);
    
    This creates a synchronous environment, with a thread (scheduler) to host the
    synchronous tasks. Creation of this environment is generally to be done at the
    time of process initialization. Next is to spawn a synchronous task in this
    environment -
    
            int slow_self_heal (void *data);
            int completion_func (int ret, void *data);
    
            ret = synctask_new (env, slow_self_heal, completion_func, data);
    
    Here slow_self_heal is a task which is implemented using synchronous operations.
    When slow_self_heal() completes, completion_func() is called with the first
    parameter as the return value of slow_self_heal(). Both these functions get
    the @data argument as the same value passed to synctask_new().
    
            int
            slow_self_heal (void *data)
            {
                xlator_t *child = FIRST_CHILD (THIS);
                fd_t     *dir = NULL;
    
                ...
    
                dir = syncop_opendir (child, loc);
                entry = syncop_readdir (dir);
    
                ...
    
                return ret;
            }
    
    * IMPORTANT NOTES
    -----------------
    
    - calling syncops in code executing outside the synchronous environment will
      very likely cause and undesired blocking of the executing thread leading to
      deadlocks!!
      The synchronous environment is a special thread where such sleeps are safe,
      and these sleeps result in the scheduler to 'swap in' other synctasks.
    
    - syncops can put the task to sleep. DO NOT issue syncops while holding mutexes.
      This is very similar to the blunder of holding a mutex and doing STACK_WIND.
    
    - It works best when synctasks use only syncops. If a call_frame is created and
      STACK_WIND'ed, the callback would very likely happen in a thread outside the
      synchronous enviroment, at an undefined time - as expected. So note that the
      synchronous environment does not tame the notorious behaviour of STACK_WIND.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit cadd1256355f4e1a5bd43c3a71dbd6cb97dff66d
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Jul 29 00:46:08 2010 +0000

    fixes for spurious entry self-heal in afr
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 974 (Spurious self-heal?)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=974

commit c9b709917b3d549d544133d51e85dbf9287278d1
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Jul 28 12:17:47 2010 +0000

    glusterd: Bug fixes in add/remove brick.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1239 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1239

commit 40d3ad15856c88d93d16264aa1f6bb55806aafde
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jul 28 06:23:31 2010 +0000

    changes to rpc
    
    - use mem-pool for requests and saved_frames.
      - preserve the rpc_req structure till rpc invokes program's reply.
        This will enable us to store transport specific data that has to
        last till reply has come (eg., memory regions of chunk lists in
        case of rdma).
      - change signature of rpc_clnt_submit to accept rsphdr_vector and
        rsppayload_vector. The buffers pointed by these vectors will be
        from iobufs and these iobufs are added to an iobref which should
        also be passed as an arguement to rpc_clnt_submit.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit b8692a3c3cc8e0dab404664e0aeb6ebaea6ab6e5
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Jul 28 05:03:43 2010 +0000

    glusterd: Fix a crash when get volume fails
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1239 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1239

commit 550cdfbcf2a5300c926f87403e12f19424bffeac
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 28 04:23:57 2010 +0000

    fix all clang errors in xlator/protocol
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1092 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1092

commit 927aedbb556ee07250248181f52642eeb6de9e58
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 28 03:31:10 2010 +0000

    removed last few remaining 'ERR_ABORT's from codebase
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 966 (NULL check for avoiding NULL dereferencing of pointers..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=966

commit 753146c0ff4b1b55892b71b36d6ca97797867aaa
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 27 11:13:32 2010 +0000

    some check added to the variables after GF_CALLOC
    
    handles some NULL dereference problems
    (reported by clang when ran with code where '#define GF_CALLOC NULL').
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 966 (NULL check for avoiding NULL dereferencing of pointers..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=966

commit 0aae2c46579421b871919e93619273d9a9bc79fb
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 27 11:12:51 2010 +0000

    fix all the clang errors in 'rpc/*'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1133 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1133

commit b2b6281e3487d3d797ab7974df69790a28c443c9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jul 28 03:51:18 2010 +0000

    nfs3: NULL fdentry check before removing from fdcache
    
    Suppose a file name 1 is created and some data is written to it. After this
    another 512 files are newly created and written to. When the the 513th file is
    created and an fd_t opened for it, it results in 1's fd_t being replaced in the
    fd-lru with 513th file's fd_t. This is the correct behaviour resulting in all
    refs getting unref from the fd_t of 1 and the fd and all related state being
    freed.
    
    But, in some workloads, some refs are still pending even after the fd_t is
    removed from LRU, resulting in the fd still being bound to the inode. In
    nfs3svc_remove_cbk, while removing the inode state, we also ensure that any
    fd_ts in the cache for this inode are also removed. While removing the fd_t,
    this situation where the fd_t has replaced with another, even while a ref
    remains on the fd_t, results in a crash in the fdcache_remove path in
    nfs3svc_remove_cbk. This happens because the fd_ctx_get results in a NULL value
    because the ctx was already deleted when this fd_t was removed from fd-lru
    earlier. This patch fixes the crash by introducing a NULL check.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 885 ([NFS Xlator] Crash in nfs3_fdcache_update)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=885

commit 46037573958dbb3a99283ed22862e62f60f526ad
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 27 06:16:52 2010 +0000

    access-control: Fix O_CREATE determination check
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1167 (gnfs crash with  fio)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1167

commit 7ced5bf710bbbee3290845b7ee65b5c895c06e7d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 27 06:16:53 2010 +0000

    replicate: Set setxattr wait-count to child-count to avoid race
    
    A race is seen during a compilebench load against NFS where a NFSv3 MKDIR is
    immediately followed by a LOOKUP on the new directory. By the time this lookup
    comes in, the setxattr issued by distribute for the mkdir has not returned yet
    from all the replicas. Since replicate returns a reply for setxattr after
    receiving reply only from one subvol, the MKDIR is unwound from distribute.
    
    When the LOOKUP is received at distribute, the setxattr has still not completed
    at the second replica, whereas that is where the lookup is sent by replicate.
    Finding that the xattr is missing from the dir, distribute returns ESTALE to
    NFS, which return NFS3ERR_STALE to nfs client.
    
    This patch changes replicate setxattr behaviour by forcing replicate to wait for all
    children rather than one to call back before unwinding the stack.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 937 (compilebench fails on NFS+dist+repl+all perf xlators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=937

commit 045efc1f5d59d98fff28ea29039ead4015fe1e6b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 27 06:16:51 2010 +0000

    nfs3: Error returns must check for <0, not == -1
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 854 (nfs server didn't start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=854

commit ba98d9f472979d4bd648933b7940eb20e3c82116
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 27 06:16:50 2010 +0000

    nfs3: Return ESTALE when fh resolver exhausts dirents
    
    During hard fh resolution, if a directory traversal goes right
    through to end-of-dir without finding a hash match, we need to return
    an ESTALE, not ENOENT.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 854 (nfs server didn't start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=854

commit 5e67bfb1dbb279e210d7ad1310818ef4a08ab913
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 27 06:16:49 2010 +0000

    nfs3: Stop ESTALE from falling into SERVERFAULT
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 854 (nfs server didn't start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=854

commit abbc27d2b1460a10d7168114f2252313b98e4a08
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Jul 28 01:57:44 2010 +0000

    cli: Init conditional mutex at the right place
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1205 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1205

commit 9460675a921d504a31088b0e0f42143cc7f2a56f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jul 27 14:49:07 2010 +0000

    DVM: Changes in CLI output
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1220 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1220

commit 26cc6b015bb29f942194d1ca2a3dd21d5483d829
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jul 27 08:48:49 2010 +0000

    DVM: Changes for remove brick
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1220 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1220

commit 232235a9ddeaf33159ee8af809efee440b06c6d1
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Tue Jul 27 03:13:55 2010 +0000

    cluster/afr: Logging improvement for self-heal
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1037 (selfheal information in normal logging mode)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1037

commit 7c3ee2fd042c56ef6f53159f1ae9dd9a8f91c6f4
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Jul 27 02:06:45 2010 +0000

    fix volume creation errors in replicate and stripe
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1228 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1228

commit 14f00f972b8dda94f7797ed71398c5e365883fd6
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 27 01:54:39 2010 +0000

    Cancel ping timer if socket or ib error
    
    If the there is an socket or ib error, fail the ping request
     to prevent retries. Which  would cause active connections
     to be disconnected
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 907 (cancel ping timer in case of socket fd error or iberror)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=907

commit a7795fedd4ee2ed7de2dce89fd782ae20b03f6a4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jul 26 12:10:08 2010 +0000

    cli: Changes to provide proper exit status for gluster commandline
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1205 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1205

commit f803fae036177c3b9d9513f5b6300d426366eb62
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Jul 26 07:07:24 2010 +0000

    cli: Fixes related to get brick-replace to work.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1187 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1187

commit 667b2496c3f29e24ed359a05b0f44df0d1894969
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 26 06:13:57 2010 +0000

    dht enhancements
    
    * create(filename@<distribute-volume-name>-<subvol-name>), will
      create the file in corresponding subvol of dht.
    * same for unlink()
    
    same logic can be extended to other fops if there is a need
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1200 (enhance distribute with hooks so lot of debugging can be done online)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1200

commit 4792bb9a6caa4c74b6facebaba9379694893070e
Author: Anush Shetty <anush@gluster.com>
Date:   Mon Jul 26 05:07:18 2010 +0000

    Set fdctx only if op_ret is not -1
    
    Signed-off-by: Anush Shetty <anush@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1218 (Crash in client_fdctx_destroy)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1218

commit 470127fba6ca05671bd6b2ef9c187877711bf6cb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jul 26 02:25:09 2010 +0000

    Changes in pidfile format for start and stop volumes
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1217 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1217

commit a5534cc60911ca914111710e9faa3376b198c8e3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Fri Jul 23 06:51:05 2010 +0000

    cluster/afr: ignore errno from offline nodes during self-heal
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 904 (Error while self-healing directories)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=904

commit 931a59e2b9130c6e748f2b7193cd0c2ac5a557bf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Jul 25 00:38:01 2010 +0000

    DVM: bug fixes in cli and glusterd for probe, start volume
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1187 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1187

commit ea294f8fd967e8fc6e77558ecf1ab4fd298b7c4f
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 23 03:36:01 2010 +0000

    glusterfs-volgen changed to create one volume per brick
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1208 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1208

commit 80e2bfb8e4aaf5e7ae6647f2df4be1af80ee8b0a
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Thu Jul 22 05:51:16 2010 +0000

    custer/afr added self-heal logging in normal mode
    
    Changes are made such that self heal
    messages are printed (filename, type of selfheal such as data/meatadata/entry
    selfheal and the cause which triggered the selfheal) in the log file
    when run in normal mode.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1037 (selfheal information in normal logging mode)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1037

commit dbab7f87b6fbcc4d1f518e6f98101331df51ce4a
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 23 03:13:48 2010 +0000

    client protocol should send the fops only after handshake
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1195 (crash in protocol server due to unauthenticated fop request..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1195

commit 9c2753d1bee735cb74968106c7ce8ca1460504c6
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 23 03:13:19 2010 +0000

    handle some NULL dereference in server protocol
    
    which can happen due to un authenticated clients sending requests.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1195 (crash in protocol server due to unauthenticated fop request..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1195

commit b12d471100bd7ade9b3a6c0d917e0416f1b62e9b
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jul 23 01:02:01 2010 +0000

    glusterfsd: fix bug in GETSPEC which would result in loading of -f volfile
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit be4dee16c18e262b168c74face54cf17ca13e2f4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jul 22 04:17:35 2010 +0000

    Changes for Dynamic Volume Management
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1196 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1196

commit 5601c137674b4dabd39b1cf26a36327bfbc707a6
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Jul 22 01:25:44 2010 +0000

    free sh_priv->loops[i] in afr-self-heal-algorithm.c to avoid memory leak
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 992 (memory leak in afr_sh_algo_diff)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=992

commit c907de75c8f957700ebe52dea980bda5d551f438
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Jul 21 17:17:09 2010 +0000

    glusterfsd: ban specifying fuse in volfile
    
    "fuse-in-volfile" was defunct anyway -- it resulted in a broken mount which
    had all calls hang on it.
    
    So the challenge was either to fix it or remove it. It got thumbs down.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d4a56de8bba96a150a0a59593187a317476a7b80
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 07:52:17 2010 +0000

    glusterfsd: move mgmt_init() to happen post deamonize()
    
    else results in loss of timer thread
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 7ad75da5e8cb57336380f688650547275b939c3a
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 04:23:15 2010 +0000

    cli: fix consistent behaviour with newlines in cli_out()
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 066778ac7994bb574bd49281e8b225c3cd378f44
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 04:00:27 2010 +0000

    cli: fix 'unrecognized command' error on empty command
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit d69b8b56d7be4a15e7eac9dcd45d9b19ac2dc0bf
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 03:54:16 2010 +0000

    glusterd: implement GETSPEC
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 74195df7a5bdc6ae9489d63a3b8157cbb2ddd8e2
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 03:53:53 2010 +0000

    mount/fuse: disable fuse support from volfile
    
    glusterfsd: implement GETSPEC functionality to fetch volfiles from server
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit feefd93f84c7a91365718e30e4e52d765e128f75
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 21 02:00:33 2010 +0000

    glusterfsd: make SIGINT gdb friendly
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 5342e3a819896c9ae01a959c580a7f0eb0b3ccb2
Author: Sachidananda <sac@gluster.com>
Date:   Mon Jul 19 06:17:58 2010 +0000

    Dead assignment cleanup.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1138 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1138

commit 3e34ad9388e3cf2493f3d75a760e6943f59dc55c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 20 02:40:58 2010 +0000

    add port as an optional argument to 'probe' command
    
    * there will be just 'one' glusterd per machine, but in case if its
      run on different port, then this option is useful to probe.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1074 (port related issues in 'gluster probe' command)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1074

commit 9e3b58a2abdee5c1cf748eb463042ca9ef6aac66
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 20 01:23:17 2010 +0000

    'glusterd' command
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit e235a743d2b4d409945770a6d5f803360932bd3d
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 20 00:23:23 2010 +0000

    fix mount.gluster so there is no fixed default port
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1171 (mount.glusterfs has old/stale port values as default..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1171

commit 24a8879abfd075836f064b688610c6616184eec3
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Mon Jul 19 07:37:06 2010 +0000

    rpc/rpc-lib added saved frame's call timestamp
    
    it will be good to have the time stamp at which the calls were sent to the
    server in the gf_log of saved_frames_unwind
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 908 (saved_frames_unwind() : print time stamp of when call was sent to server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=908

commit a3ed6014101d2bc3904041c1c7a062cdf6bdf7d7
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Jul 19 07:43:08 2010 +0000

    encryption/ features/quota change STACK_UNWIND to STACK_UNWIND_STRICT
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 00b18468235259e7813be53d758facf55c4ee28b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 20 00:23:04 2010 +0000

    'gluster volume defrag' related bug fixes
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1073 ('gluster defrag <VOLNAME>' fails in mainline)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1073

commit d257c6ba46bfb874961124cd02a526a2cd969347
Author: Sachidananda <sac@gluster.com>
Date:   Tue Jul 20 05:15:56 2010 +0000

    Delete dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1113 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1113

commit fcf62afec2730e14372221e323127cc11dae46db
Author: Sachidananda <sac@gluster.com>
Date:   Tue Jul 20 05:03:59 2010 +0000

    Remove dead assignment.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1131 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1131

commit 6d25218a8cb0722e156de3fe73c2e5e577117a62
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 20 04:25:49 2010 +0000

    performance/symlink-cache convert STACK_UNWIND to STACK_UNWIND_STRICT
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 0590f3b38519d022b88d43cb0a70962880bc3a9e
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 20 04:25:17 2010 +0000

    performance/stat-prefetch convert STACK_UNWIND TO STACK_UNWIND_STRICT
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 3d50c10261b9d3128f54f01442364fc91a907f4f
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 20 04:24:40 2010 +0000

    features/locks convert STACK_UNWIND to STACK_UNWIND_STRICT
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 22516806e1c0c7830362f8d7fe055037df0d09e8
Author: shishir gowda <shishirng@gluster.com>
Date:   Tue Jul 20 04:24:08 2010 +0000

    features/trash convert STACK_UNWIND TO STACK_UNWIND STRICT
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit a81a794c9311f90551277670c0f9d201bd96abfc
Author: shishir gowda <shishirng@gluster.com>
Date:   Mon Jul 19 06:15:34 2010 +0000

    debug/* Change STACK_UNWIND TO STACK_UNWIND_STRICT
    
    Also fixed log msg typo found in bug 1031
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 0985f3995e446e23ca6edc380b998581889ae5d0
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 19 06:10:34 2010 +0000

    dht: set 'lookup-unhashed' to ON by default (instead of 'auto').
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 826 (distribute option lookup-unhashed should be on by default)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=826

commit ddd614192d05c767012fccedb73b30cef5bf4927
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 19 06:09:57 2010 +0000

    volgen now takes 'num-replica' and 'num-stripe' options
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1155 (currently volgen doesn't take num-replica and num-stripe options)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1155

commit 8f8739ea6709128f1a01ad26f677e8da12e0c726
Author: Sachidananda <sac@gluster.com>
Date:   Mon Jul 19 06:08:29 2010 +0000

    Remove dead assignments.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1140 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1140

commit a6b90707bf68fe62bf115cfb143d9df69627cb64
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jul 19 05:54:25 2010 +0000

    Changes for volume commands
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1161 (gluster volume start command segfaults glusterd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1161

commit 87ec1b72dac8f50f9eb4ba3b127baca19993ae94
Author: Sachidananda <sac@gluster.com>
Date:   Mon Jul 19 05:51:46 2010 +0000

    Dead variables cleanup.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1140 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1140

commit d20bf5113875b694b9dae0b75261feafc243c004
Author: Sachidananda <sac@gluster.com>
Date:   Mon Jul 19 05:12:53 2010 +0000

    Remove dead assignment reported by clang.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1130 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1130

commit 321dee291451dcb299b61dcd26fce21df8c3b074
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Jul 19 03:25:31 2010 +0000

    fuse: fix clang spotted C abuses
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1120 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1120

commit de3f20878d00759aa79fb1fea955997ce5207d04
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jul 19 00:33:22 2010 +0000

    fix the errors reported by clang in io-stats xlator
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1132 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1132

commit c3b919783e16534f3dcb0844174503e77f90d707
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Jul 16 08:54:15 2010 +0000

    fix the clang errors reported in trace.c
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1072 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1072

commit ce0e4c3d6eb710f29cb02166fdfa9e6afb013df6
Author: shishir gowda <shishirng@gluster.com>
Date:   Fri Jul 16 08:37:29 2010 +0000

    return ENOENT instead of ESTALE for links in client for stripe
    
    Instead of returning a ESTALE for links and symlink return
     a ENOENT, as they only exist on the FIRSTCHILD, and any
    lookup fails in the other bricks.
    
    Signed-off-by: shishir gowda <shishirng@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1152 (ln on symlink returns NFS STALE error even on success)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1152

commit 56c182ca23a7552dfa4c19667f82ca1313fb9e55
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Fri Jul 16 00:23:31 2010 +0000

    dump total cache used in quickread in the statedump information
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 11cae38ac007ed55c2bc1217da1a80fc367100e8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jul 15 06:05:52 2010 +0000

    Fix compilation issues when uuid/uuid.h is not present
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2546b7f5bf1d747262d956cb233676c563423370
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Jul 15 03:50:12 2010 -0700

    Revert "dht: perform revalidate on one subvolume"
    
    This reverts commit 97e060d04b6b86225264644ff8fef0459577a031.

commit bb209f56147878ac420e4d1915e989bb11d272a2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jul 15 00:33:03 2010 +0000

    Bring in uuid to contrib
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 47dc8def246c6338cb95e71b4656962a5f74ee90
Author: Anand Avati <avati@gluster.com>
Date:   Wed Jul 14 16:26:17 2010 +0000

    protocol/lib: rename files to standardized names and places
    
    -  move xlators/protocol/lib/* to rpc/xdr/
    -  rename CLI and glusterd XDR filenames
    -  remove xlators/protocol/lib (libgfproto1.so)
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 2865e149c48eb5ed028cffb12e1e5273b47f2b1d
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 14 14:27:54 2010 +0000

    remove dead assignments in stripe.c
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1071 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1071

commit 654a720eed0bc5faaeeaa4eb34f1cfc10df76230
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 14 13:58:20 2010 +0000

    proper way to do defrag of a mountpoint
    
    Usage: "glusterfs-defrag <MOUNTPOINT>"
    
    there are new features added to distribute with this patch:
    
    * bash# getfattr -n trusted.distribute.linkinfo <file>
      Gives output in the format "<hostname>:<directory>", if there is a
      linkfile present, where hostname is server, directory is backend
      directory where the actual linkfile is present.
    
    * bash# getfattr -n trusted.glusterfs.pathinfo <path>
      Gives layout information if directory, and info about actual
      location of file in backend servers, in the form of
      'hostname:directory'. (TODO: should extend it to all xlators)
    
    * bash# getfattr -n trusted.distribute.fix.layout <path>
      scales out the directory layout in distribute, so when new
      servers are added, layouts are fixed to include them.
    
    * removed 'scale-n-defrag.sh' as its no more required.
    
    * changed 'defrag.sh' to have a feature to specify target bricks,
      so defrag happens to only those nodes. moved the file to
      'glusterfs-defrag', which now gets installed to '${prefix}/bin'
    
    * storage/posix:
      takes new option 'hostname' so it can resolve to same hostname
      given during 'gluster volume create'.
      with 'trusted.glusterfs.pathinfo' posix returns the value in
      'hostname:real_path' format.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1073 ('gluster defrag <VOLNAME>' fails in mainline)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1073

commit e73a856e926465068f6f6cf5a0cace501589957c
Author: Pranith Kumar K <pranithk@gluster.com>
Date:   Wed Jul 14 07:11:28 2010 +0000

    v2 [PATCH BUG:1050] protocol/server Convert-OS-specific-lock-value-to-Glusterfs-lock
    
    server/protocol's getlk implementation needs to convert the flock on the system
    to glfs own flock before returning it to the client to prevent
    misinterpretation of the flock structure.
    
    Signed-off-by: Pranith Kumar K <pranithk@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1050 (fcntl F_GETLK lock calls do not return correct flock on non-linux systems)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1050

commit 32451a4dd02bdd95ec800d51267d2e6be43914a4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Jul 14 00:20:28 2010 +0000

    Fixes a crash seen in create volume
    
    Also includes some re-factoring changes.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1063 (gluster volume create command segfaults)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1063

commit 9186c9e84c857a0b1bfbfa4e7b46e9eb741186fb
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Mon Jul 12 09:03:04 2010 +0000

    typo error: should check for less than instead of greater than
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 6ef7f0e25fb7c76231b4d4ae05cbc45330de300d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jul 12 08:19:44 2010 +0000

    Changes in CLI and glusterd
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 9bee476eabb5034a27e994008a12ef684755d76c
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jul 12 08:13:08 2010 +0000

    cli: move readline to separate thread
    
    move readline handling to a synchronous input thread to avoid deadlocks
    with poll loop
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit ce8cee660a5cda88ea58e362be01e50cbccfff27
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 9 03:14:13 2010 +0000

    provide a port option for gluster command line
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 9563c51ddeedee87a1d71defc20c0a7f06f24d23
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sun Jul 11 06:33:17 2010 +0000

    dump total files cached in quick-read in statedump information
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1059 (enhancements for getting statistics from performance translators)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1059

commit 915adb9c1291d140e57765b7fad0c5bb0e7d5ed5
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jul 8 08:16:13 2010 +0000

    gluster-CLI-and-mgmt-glusterd-added-to-codebase
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 7e489f3cc7f3eb738d2698dcf588bad0bdc12a8b
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 8 05:47:52 2010 +0000

    fix up OS X after dynamic volume changes
    
    Note that contrib is not needed to be in toplevel Makefile as
    its not a separate target, rather stuff is "pulled in" from there.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit c35f6bf8f735eaf35c950d7b7789f6b64ba2c8c0
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 8 05:46:50 2010 +0000

    minor option handling refactorizations
    
    - clean up ZR_* internal option defines
    - make argument order of glusterfs_graph_activate() aligned with
      other graph ops
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 6779d91ea8ee8bb8f337213b0be2d31e4fd62619
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 8 05:45:58 2010 +0000

    fix fuse volume creation from volfile
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit f605883c4fe99428c560a18a1051693f7aadf84e
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 8 05:44:05 2010 +0000

    fix up option handling
    
    After 79241696, the following anomalies came up:
    
    - --mac-compat and --read-only was rejected originally
      on server side, 79241696 cancelled this check
    - direct I/O option handling was interfered by 79241696
    - --mac-compat had no effect on Linux and does not compile on Mac
    
    Restore original behaviors.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit 2233d7d3c54bf2fc7dc291ae19d8516b44f6e6af
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jul 7 08:15:12 2010 +0000

    performance/io-cache: implement mknod fop.
    
    - mknod_cbk has to initialize ioc_inode context, since there is a possibility
        that open following immediately after mknod may not result in lookup before
        open fop.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1054 (Crash in ioc_open_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1054

commit c85998fec484a0060c2a7cbcbf7ed42a109c6478
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 7 08:05:58 2010 +0000

    make DUMP as another program
    
    * on server side, make it a rpc program.
    * on client its another program at protocol
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 44604ecf4bfbef991bfcf5f0524ff044177d81a1
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 6 10:05:01 2010 +0000

    assign proper 'fop' number to 'frame->root->op' on server side
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit f0578eb3acf0c14b519b74f87c693bd72c506b8a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 6 08:47:25 2010 +0000

    Handle a crash in inode.c on 32 bit, big endian platform
    
    Thanks to  <tlisiecki@proximetry.pl> for reporting the bug and
    sending the patch.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 985 (Crash with SEGV in libglusterfs on 32 bit, big endian platform)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=985

commit 90717586363520bbb68e2ec4a7aa12272effa64e
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 6 07:12:11 2010 +0000

    removed 'fop->checksum' from codebase as its not required anymore
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit 4e14d858bc51f99d89880364249344e1b957f400
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun Jul 4 06:20:07 2010 +0000

    nfs3: Fix race updating op queue on uncached fd open
    
    The order of locking while performing async fd opens was resulting in
    a deadlock when a particular pattern of operations was generated by
    compilebench. This patch improves handling of those situations while
    locking the fd-cache, inode and inode queue.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1047 (Compilebench hangs nfs server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1047

commit 1a7f42d7fb73f464f18c4375e3b4ef8139f20d1c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 6 01:42:27 2010 +0000

    improvement to error-gen
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1051 (Use proper 'fop' indexing)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1051

commit d1b057ac65fb61cb6f0c25aafb7d1ba54c6fe36b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 6 06:15:46 2010 +0000

    avoid repeating code
    
    'frame->local = NULL' is done in submit_reply, instead of doing in
    every _cbk (), of server3_1-fops.c
    
    also fixes bug=1052
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 22a79cd791a5d8baa3c623673ff7bd0bb62564e4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jul 6 01:26:38 2010 +0000

    glusterfsd: Handle setting entry-timeout to 0
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1034 (rename() is not atomic)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1034

commit a45ac57e4e12a32f7136f22c2eb0519fbd61354c
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 2 12:48:10 2010 +0000

    allocate space for '\0' in string, while adding xlator-option
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1044 ('--xlator-option' is not working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1044

commit 3ec73cb88e8a302e973f8d1a68bcaf3981512b20
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jul 5 11:24:27 2010 +0000

    mount/fuse: Handle setting entry-timeout to 0.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1034 (rename() is not atomic)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1034

commit 43cdbc3756bde8c4c95dd3c3a89c802ec204c847
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jun 15 00:39:26 2010 +0000

    nfs: Assign incremental lk owner to frames
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 960 (Disk space leakage and fs corruption after VMs are vmotion'ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=960

commit a8ef67630c48dfec336cc2088ac78cb29074022c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jun 15 00:39:25 2010 +0000

    nfs: Support directory level exports
    
    nfsx has followed traditional approach of exporting whole volumes
    as NFS exports. The Platform requires and some users have approached us for
    introducing exports of only specific directories instead of full Gluster
    volumes. This commit introduces this support through two nfsx options:
    
    Option 1:
    
    =========
    option nfs3.<volume-name>.export-dir <subdir1-in-vol>,<subdir2-in-vol>,..<subdirN-in-vol>
    
    export-dir will allow the export of a particular dir as a single export
    by itself. For eg.:
    
    volume posix
            type storage/posix
            option directory /export/
    end-volume
    
    volume posix-ac
            type features/access-control
            subvolumes posix
    end-volume
    
    volume nfs
            type nfs/server
            subvolumes posix-ac
            option rpc-auth.addr.allow *
            option nfs3.posix-ac.export-dir /homes/shehjart
    end-volume
    
    A comma separate list of sub-directories will set up those dirs as separated exports.
    At the nfs client, the mount command will be:
    
    $ mount <nfsserver>:/posix-ac/homes/shehjart /mnt
    
    Option 2:
    =========
    option nfs3.<volume-name>.export-volumes <on|off>
    
    There can be situations where users only want the directory level
    exports and require that volume exports be completely disabled. The
    above option allows us to do this. By default, volume exports are
    enabled. From the earlier example, replacing <volume-name> with
    posix-ac, will disable mounting of the posix-ac volume as a whole.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 989 (Support directory exports in nfsx)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=989

commit 2f15ffd6b5beef9abd501c594bc3cb38c2683f77
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 2 04:55:28 2010 +0000

    NULL dereference fixes in code base after running with 'clang'
    
    * 212 logical (NULL deref/divide by zero) errors reduced to 28
      (27 of them in contrib/ and lex part of codebase, 1 is invalid)
    * 11 API errors reduced to 0
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 966 (NULL check for avoiding NULL dereferencing of pointers..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=966

commit 3dc79ca8e6119f5ff61058cc87f9a4fc251017ef
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Jun 18 02:18:02 2010 +0000

    performance/write-behind: explicitly enforce ordering of overlapping writes.
    
    - If there are non-contiguous offsets (offsets which do not start where
        previous write ended), wait for completion of previous writes to server,
        before sending new ones.
      - Send flush call to server only when all writes are completed.
      - If a file is opened with O_APPEND, at any point of time a maximum only one
        write call to server should be in transit. This is to avoid reordering of
        writes in the presence of afr which can result in data corruption.
        See bug #934 for more details.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 970 (extracting kernel tarball hangs midway.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=970

commit 01923eed1115e53c5be9fba3e72f75c7c631bf95
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 29 05:36:30 2010 +0000

    minor fixes in rpc + protocol
    
    * proper use of mem_acct_init in client.c/server.c
    * fentrylk_resume to be called instead of finodelk_resume in
      server_fentrylk().
    * handle the case of xdr decoding failure on server by sending the
      proper error reply to client, so there is no missing frame.
    * removed unwanted functions from server-helpers.c
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit c46f8452d75e2f1b4ab77306177f39bdbb4b232c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 29 03:39:16 2010 +0000

    backward compatibility of protocol
    
    * made most of the 'legacy' server and transport functions as
     'static' as they were getting cross linked with newer functions.
    
    * changed the name of few functions with prefix 'gf_'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 0da2a6d08cc8fc2315742d010c8a8cab38ef75bb
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Jun 28 02:49:46 2010 +0000

    Move rpc to top-level
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 2c5c3cedc096c36ef9d004ffa0cdb5324d2915e6
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jun 24 12:41:03 2010 +0000

    OS X: fix up rpc protocol
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 29893bcba579f7e37a6ace018ffda1c8abe45550
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 24 07:58:51 2010 +0000

    added proper mem-types to GF_CALLOC in protocol
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit b8b2a9d2f49686d5056fb0ce6150cf9c54180b12
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 23 04:01:24 2010 +0000

    change volume file options back to 'transport' from 'rpc-transport'
    
    This helps to keep the backword compatibility with old volume files.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit e82ca8fc5164f4ba2ff396da86b4a490d9a47370
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 23 02:55:21 2010 +0000

    minor improvements in protocol
    
    * rpc_clnt_submit() now takes 'cbkfn' as an argument.
    * readdir xdr now uses dirent structure directly instead of
      using 'opaque' buffer through which it was serializing /
      unserializing the dirent structure.
    * 'gfs_id' field (currently used for debugging) is properly updated
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 487e9f1d59bbf7b37a30ceef5dbfd8ca77b94988
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 22 11:30:23 2010 +0000

    moved 'auth_glusterfs' xdr definitions to rpc-lib
    
    as authentication is part of RPC header and GlusterFS payload
    comes at later stages
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 23bec6b810bfd0ae78eb9ba2e9c644c42a3da1da
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jun 21 02:17:49 2010 +0000

    io-threads: initialize conf->w_attr
    
    Uninitialized value was causing pthread_create() to fail on solaris
    resulting in hung calls
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 1001 (unclean termination upon getting signalled)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=1001

commit 10d3dfe91c1f0eb185fc4ca88be77a200f992c61
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jun 16 21:48:03 2010 +0000

    performance/io-cache: destroy table->mem_pool in fini.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 995 (memory leak in io-cache)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=995

commit 7ac6287fb65bdddf3874f3a2c2602e857fbc6b87
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 21 04:26:14 2010 +0000

    misc updates in mainline
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 002ab96fd30f8924533fc454ecea00be04c013d5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 21 04:26:00 2010 +0000

    make rpc protocol as default, and move the old one to legacy
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit fdd20492638fe98a62b5e6d5e82f18cf4799fd1a
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 21 07:00:04 2010 +0000

    rpc protocol
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit b9b8734a9496ccf5f8ed5527dc7714930a59948b
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 21 04:24:40 2010 +0000

    renamed xlator/protocol to xlator/protocol/legacy
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 2a5fada7546032e1fc1b106ddd40e42cc45349e1
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Jun 15 22:07:57 2010 -0700

    Revert "performance/write-behind: explicitly enforce ordering of overlapping writes."
    
    This reverts commit e46c613364cd90f9c277db8b0733a99fc1d255de.

commit dbcb981892d922da61afa4bd9e3df9d22414e22a
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed Jun 9 00:00:23 2010 +0000

    Changes to volgen such that it does not error out in python2.4
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 988 (volgen in master generates error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=988

commit 45cfee031062fe40899a6c4c9049d0267b7c7ee6
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 10 01:14:56 2010 +0000

    changed the order of gf_log in xlator.c to prevent hang
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit d0b2695d773d3bbf162b367735c39d0e5bd7063a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Jun 8 06:14:30 2010 +0000

    Fix compilation failure on Solaris in __socket_keepalive()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 987 (Solaris compilation fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=987

commit a912b145157beb1700250872d672bb03fffe658f
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jun 8 06:03:41 2010 +0000

    mem-types: include *-mem-types.h in noinst_HEADERS variables in all Makefile.am
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit b316601c29012bd983b2f232f3a605fd937e654a
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jun 7 13:19:11 2010 +0000

    quick-read: fix size parameter to GF_CALLOC of priv to fix mem corruption
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 723 (enhancements to quick read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=723

commit 79241696fbdebe2583298f12cbaee068ce60c655
Author: Anand Avati <avati@gluster.com>
Date:   Mon Jun 7 12:37:34 2010 +0000

    dynamic volume changes for graph replacement
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 971 (dynamic volume management)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=971

commit c4ebd25a176d6d51d702b1009e261c3c27237a48
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jun 1 17:27:18 2010 +0000

    fuse: add a built-in fuse traffic dumper mechanism
    
    It makes fuse dumping possible on platforms where strace is not available (eg. OS X),
    moreover it makes reporting of fuse related bugs more convenient.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 972 (Metabug for misc. fuse features)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=972

commit d23ae73d0e34010b464454ce81f53f44901ca544
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jun 3 04:39:44 2010 +0000

    performance/quick-read: fix the size-to-be pruned.
    
    - size-to-be pruned used to be a negative number because of cache-used being
        subtracted from configured cache-limit (with cache-used > cache-limit).
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 980 (quick read - fetching from backend issue)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=980

commit f6048901a2068af13e21ba66b41a0667b740b1d4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jun 1 05:07:58 2010 +0000

    performance/quick-read: set default cache-size value to 128MB.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 723 (enhancements to quick read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=723

commit f6ac7f6f6e28c7567e05c701f88fbdd6a971bf29
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon May 31 22:43:57 2010 +0000

    cluster/afr: Check before accessing xattrs in data self heal.
    
    The lookup xattrs might be null, because a lookup might not have been issued during self heal,
    especially if only data self heal is required.
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 815 (quick-read and replicate self-heal interaction result in empty reads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=815
    
    BUG: 815 (quick-read and replicate self-heal interaction result in empty reads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=815

commit 5b0d583cc4399e6d1b6d79ea9513c9f8ca789f8f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon May 31 22:43:56 2010 +0000

    extras/gnfs-lognalyzer: Delete class instance to release mem early
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 913 (NFS-specific log analyzer tool)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=913

commit 4f49c3d22599b4296e51da0d2684633904ec134e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon May 31 22:43:55 2010 +0000

    mount3: Handle unmount for unknown volume names
    
    In case the nfs client sends an unmount request for a volume
    that does not exist anymore.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 961 (Unmount with invalid export crashes nfsx)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=961

commit 91afbb094ce97fb8f8183227cd56410ad3746449
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon May 31 22:43:54 2010 +0000

    mount3: Handle <volname> as well for unmount dirpath
    
    Till now nfsx would crash if the export was mounted simply as
    <volname> as compared to the traditional method of /<volname>.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 944 (vmware unmount crashes nfsx)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=944

commit 7cda6661979dfec1614575a9729b84cbf49e6b25
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon May 31 22:43:53 2010 +0000

    nfs3: Special-case the lookup for parent dir of root
    
    When a lookup request comes in for (rootfh, ".."), we need to handle
    it in a way that returns the attributes and handle of the root dir.
    Not doing so crashes nfsx because the inode table is not able to
    find a inode for the root's parent. This inode was being referenced in
    nfs3_lookup_parentdir_resume when filling a loc for the lookup fop.
    
    For the record, such a lookup request is sent by vmkernel.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 942 (NFS crashes as a vmware ESX data store)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=942

commit da08199c57cedb3dc922ed6bec07932cd2aefabd
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon May 31 22:43:52 2010 +0000

    nfs3: Funge . and .. ino/gen in readdir of root
    
    In the readdir reply for the root of the export, replace the ino
    and gen number for the . and .. entries with 1 and 0 respectively.
    On clients which inspect this field, the client will error out due
    to the change in inode number of the root directory when see for "."
    
    .. also needs to be replaced because we do not have a concept of
    the parent directory of root. The return of 1 and 0 is the same as
    the behaviour of: stat /.. command.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 942 (NFS crashes as a vmware ESX data store)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=942

commit 5e03484d1d24ae93f7cad5fe575edd9ce8e0195b
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri May 28 07:00:42 2010 +0000

    OS X: make location of launchd service configurable
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit a841aba0844e69e3a11205f4f0b5176bcc0cb362
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri May 28 06:05:48 2010 +0000

    OS X: salvage signal handling from mount routine
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 065ac01684dabd4cca4bde3048ef2f13cc2357cb
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sat May 29 16:09:24 2010 +0000

    protocol/client: Add missing argument to readlink unwind call.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 967 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=967

commit 37495f6c2ee3ce3cf5a68631dc421825c540fbda
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri May 28 04:17:30 2010 +0000

    cluster/stripe: NULL pointer dereference checks added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 966 (NULL check for avoiding NULL dereferencing of pointers..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=966

commit e2c119796e396966277ddd27ccdd4b72171271cf
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri May 28 04:17:02 2010 +0000

    cluster/stripe: added STACK_UNWIND_STRICT macro
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 966 (NULL check for avoiding NULL dereferencing of pointers..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=966

commit c729fde0667e595b49444dcae55a3539ce2edc64
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu May 27 12:35:12 2010 +0000

    catch up with 4911659 on OS X
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 952 (EBADF returned by server-protocol confuses AFR)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=952

commit 49116597598fbb793286e72b52b5c79e4db31943
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu May 27 04:38:45 2010 +0000

    protocol/server: Use EBADFD instead of EBADF in the case of a failed fd resolution.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 952 (EBADF returned by server-protocol confuses AFR)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=952

commit 3bd7269c9390db1fa57ac08106d97dc9981e9a85
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu May 27 04:27:59 2010 +0000

    protocol/client: Unwind with error if getting remote inode number fails.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 951 (Unwind if inode_ctx fails in all FOPS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=951

commit 7817f40998113c23cece55c71bdb732bce6de490
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed May 26 18:50:27 2010 +0000

    nfs/lib: Remove "-module" from LDFLAGS
    
    libglrpcsvc is a library and not a module according to Mac OS X.
    Hence "-module" needs to be removed for linking to work.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit f2ac33d36dc3c9e14129a65e7ebf4759120f11a1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue May 25 04:20:45 2010 +0000

    stat information of postparent stored in preparentstr insteadof postparentstr in trace
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 945 (stat information of postparent stored in preparentstr instead of postparentstr in trace)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=945

commit c90bea236d66da360988df479239f21d0a3addc1
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue May 25 05:16:47 2010 +0000

    take the return value of trace_stat_to_str for preparent and postparent in corresponding variables
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 945 (stat information of postparent stored in preparentstr instead of postparentstr in trace)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=945

commit 665591074fbef562b48a9cd1b74b3d4cc92cd667
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue May 25 09:00:38 2010 +0000

    Check whether NULL is returned after GF_CALLOC in the init function of io-stats
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 946 (Null check in init function of io-stats)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=946

commit 419ff2e73983efc5b31e98795e99ab4fdff41e6e
Author: Anand Avati <avati@gluster.com>
Date:   Wed May 26 09:28:39 2010 +0000

    resolver: set safer conditionals during path creation
    
    when client would send just the path as part of a transaction, path
    reconstruction would create parent directory's path instead of actual
    path at the time of resolution.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 935 (Directories change mode from 0755 to 0644 automatically)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=935

commit e46c613364cd90f9c277db8b0733a99fc1d255de
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed May 26 04:11:22 2010 +0000

    performance/write-behind: explicitly enforce ordering of overlapping writes.
    
    - If there are non-contiguous offsets (offsets which do not start where
        previous write ended), wait for completion of previous writes to server
        before sending new ones.
      - Send flush call to server only when all writes are completed.
      - If a file is opened with O_APPEND, at any point of time a maximum only one
        write call to server should be in transit. This is to avoid reordering of
        writes in the presence of afr which can result in data corruption.
        See bug #934 for more details.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 934 (md5sum mismatch when files are transferred using vsftpd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=934

commit 4d195fb92fed43ab7ca9d1568432913e4dbeef0e
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon May 24 14:16:17 2010 +0000

    features/locks: Use fuse supplied lock owner even for internal locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 934 (md5sum mismatch when files are transferred using vsftpd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=934

commit 5e849ce81a060a543201c431c5ba00e413cfdfff
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 24 09:32:56 2010 +0000

    socket: make tcp keepalive work on OS X
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 754 (enable tcp keepalive)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=754

commit dda7eb5ff4d38cc0f280aa0e828da46e6d97195b
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 24 09:30:42 2010 +0000

    fix format string warning on OS X
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 936 (Provide microsecond timestamp in logfile)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=936

commit b48459eb7369bdc0eac6a516138e5095962449f3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon May 17 07:22:16 2010 +0000

    performance/quick-read: implement an upper size limit for the cache.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 723 (enhancements to quick read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=723

commit 3047188b314b3d2a4788451d2b7ab633b8d127ff
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu May 20 07:24:28 2010 +0000

    libglusterfs: Use usecond resolution for logging
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 936 (Provide microsecond timestamp in logfile)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=936

commit 719354ddbd6b68f2b1df6d03e70683a65daf1eb0
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue May 18 03:41:38 2010 +0000

    free this->private in fini in io-stats
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 930 (conf not freed in io-stats fini)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=930

commit 174f26f113a7a361a9aa5c959310fcc3867e0dc6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 18 01:38:17 2010 +0000

    socket: Support TCP-KEEPALIVE
    
    Introduces two new socket options:
    
    1. transport.socket.keepalive: bool
    Sets keepalive on a transport. On by default.
    
    2. transport.socket.keepalive-interval: integer
    Number of seconds between each keepalive message on the socket.
    Default in linux is 2 hours. To change that value for a given
    transport, use this option. Integer value is interval in seconds.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 754 (enable tcp keepalive)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=754

commit c705b679fbe41aa9ac4486ebf46d3b2ae95d1628
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 18 01:37:42 2010 +0000

    nfs: Introduce trusted-write and trusted-sync options
    
    Introduces two new options:
    
    1. nfs3.*.trusted-write: Forces UNSTABLE writes to return STABLE to NFS
    clients to prevent the clients from sending a COMMIT. STABLE writes
    are still handled in a sync manner and so are COMMITs if they're sent
    at all.
    
    2. nfs3.*.trusted-sync: Forces all WRITEs and COMMITs to return STABLE
    return flags to NFS clients to avoid the overhead of STABLE writes, and
    COMMITs that follow UNSTABLE writes. This includes the trusted-write
    functionality. In addition to the trusted-write, it also writes
    STABLE writes in an UNSTABLE manner.
    
    Both violate the NFS protocol but allow better write perf in most
    configurations. Use with caution.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 924 (Slow NFS synchronous writes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=924

commit 3b88b2dfbc1a33a6967cfedf63a615ee1e81e49d
Author: Sachidananda <sac@gluster.com>
Date:   Tue May 18 00:20:24 2010 +0000

    Log proper error message when hostname or ip does not conform to standards.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 923 (Hostnames with underscores fail)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=923

commit 67ade7b062a13d896187d1bc784baded59f73fcf
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 17 07:10:22 2010 +0000

    OS X: enable mac-compat for OS X clients.
    
    Injecting volumes at startup this way is pretty hacky but it will do for now.
    Refactoring that part will come as separate commit.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 11fb070964adf57eea4191d315a752c96f80a426
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 17 07:09:13 2010 +0000

    OS X: adjustments, minor fixes to eliminate warnings
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit bfb10f41a8e3fe7326f507451459529c5b39b72e
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 17 07:07:57 2010 +0000

    OS X: NFS adjustments needed for OS X
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 18d982e6d0d330af8ccd2b12252ae29fe0932023
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 17 07:06:58 2010 +0000

    OS X: basic additions for OS X client support
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 86ee9d3e144d2371e5ae7edf663916b8da6d2616
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon May 17 04:42:46 2010 +0000

    cluster/afr: Don't dereference fd ptr - it might be NULL due to a failed call.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 914 ([3.0.4] Crash in afr_opendir_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=914

commit 8734ba0fc9e066065dfd23f8f6da12f2fd89e80e
Author: Lakshmipathi <lakshmipathi@gluster.com>
Date:   Fri May 14 02:01:36 2010 +0000

    Bug 799: dht prints 100% full when subvolume is not connected to remote host
    
    Signed-off-by: lakshmipathi <lakshmipathi@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 799 (dht prints 100% full when subvolume is not connected to remote host)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=799

commit bb315cb180c3547218b5ed581d38e76aec74cf94
Author: Anand Avati <avati@gluster.com>
Date:   Thu May 13 12:53:25 2010 +0000

    fuse, dht: use readdir by default.
    
    dht - switch over to readdirp based algo if one subvolume is down
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 898 (small file performance enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=898

commit 97e060d04b6b86225264644ff8fef0459577a031
Author: Anand Avati <avati@gluster.com>
Date:   Thu May 13 13:16:48 2010 +0000

    dht: perform revalidate on one subvolume
    
    generation numbers should detect recreations and no need to rely on
    layout changes anymore
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 898 (small file performance enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=898

commit 8ed739a72a43242083afeccdedda079ff939f714
Author: Anand Avati <avati@gluster.com>
Date:   Thu May 13 12:53:05 2010 +0000

    write-behind: update default values for better small file performance
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 898 (small file performance enhancements)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=898

commit 2a0398dee8521704b90d3f1776a5e380bf8ac5b3
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed May 12 19:10:47 2010 +0000

    added features/mac-compat
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 800 (Problem on OSX with NFS and CIFS exports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=800

commit 9bdda4ce0aaebb3f8109152f056d9b35229fb708
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 13 06:59:19 2010 +0000

    nfs3: Final unref only on successful remove
    
    The final unref on the inode during a file removal
    should take place only if the file removal was successful.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 857 (Crash in afr_sh_entry_expunge_entry_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=857

commit 40c53115e312a7b5b5bc0b7cf880820bc8e7c8e1
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon May 10 09:30:37 2010 +0000

    nfs: fix warning on 32 bit
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 902 (iozone hangs during random read throughput test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=902

commit e3ea64186ad389393274a1f4c2c2f9fe13df5606
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 10 17:35:41 2010 +0000

    glusterfs-profiler: Add text mode support.
    
    glusterfs-profiler works in text mode by default now. This allows it to run on systems which don't have matplotlib installed.
    
    Modes can be selected using:
    
      -m graph        - Graphical mode
      -m text         - Text mode (default)
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit 7c9df496895aeff28510e63473783511318db87a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun May 9 23:13:55 2010 +0000

    extras: Add NFS-specific log analyzer tool
    
    Most of the time, a NFS request and the reply are separated by hundreds
    of lines of other debugging output most of which is not always relevant
    for NFS debugging. This script synthesizes the full glusterfs log into
    the parts relevant for NFS while bringing together the NFS requests with
    there replies on one line.
    
    Min log-level required for this script to be useful is DEBUG. Only
    works for NFS translator.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 913 (NFS-specific log analyzer tool)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=913

commit 2848a53f53b414e8289bce1527ce0cee78719b70
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Sun May 9 23:13:54 2010 +0000

    nfs3: Round-up read reply bytes of multi-vector reply
    
    A previos commit brought in support for returning read replies
    when subvolumes return reads in multiple iovecs. This did
    not completely fix the problem since the bytes in iovecs
    all together could be unaligned with the 4 byte
    boundary as needed by XDR for the opaque data. This resulted
    in read requests being either retransmitted or rejected with
    an error message in syslog on the NFS client.
    
    Signed-off-by: Shehjar Tikoo <shehjart@dev.gluster.com>
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 902 (iozone hangs during random read throughput test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=902

commit 80c3061c07c46b4ac11beb5f0ebad08b8af2cafe
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Sun May 9 23:13:53 2010 +0000

    rpcsvc: Move xdr round up functions to rpc code
    
    Signed-off-by: Shehjar Tikoo <shehjart@dev.gluster.com>
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 902 (iozone hangs during random read throughput test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=902

commit eba21f8fb6715e3933253b0114f03a153be80649
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Sun May 9 23:13:52 2010 +0000

    nfs: Fine tune nfs_entry_loc_fill return values
    
    A previous change to this function introduced a regression
    for exclusive creates. This patch fixes the regression by
    bringing the return values in line with what the callers
    expect in different situations of loc filling.
    
    Signed-off-by: Shehjar Tikoo <shehjart@dev.gluster.com>
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 857 (Crash in afr_sh_entry_expunge_entry_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=857

commit fb2d84b8507354ed6128cacf4289f405cdc8bdc6
Author: Anush Shetty <anush@gluster.com>
Date:   Fri May 7 04:25:28 2010 +0000

    Adding GF_LOG_OCCASIONALLY to prevent repeated log messages
    
    Signed-off-by: Anush Shetty <anush@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 10 ([ glusterfs 2.0.0 ] - Repeated Log messages with invalid remote-host in protocol/client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=10

commit 8be447d390f2e0b7dee2edf46b20b75a9ff107dc
Author: Simone Gotti <simone.gotti@gmail.com>
Date:   Tue May 4 16:48:55 2010 +0000

    Unset split-brain flags in afr_self_heal_completion_cbk if self heal completes successfully.
    
    Signed-off-by: Simone Gotti <simone.gotti@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 884 (I/O errors after fixed split brain and successfully completed self heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=884

commit 45a2f82f659bf0af9e4bde403dad887f29d41e65
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri May 7 01:53:11 2010 +0000

    nfs3: Submit multiple vectors received in read callback
    
    There is a possibility of io-cache or read-ahead returning
    a read buffer that straddles two separate pages in ioc or ra,
    through two struct iovecs. Current nfs3 read reply does not
    return as many vectors as received from a subvolume leading to
    a short read for the NFS client.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 902 (iozone hangs during random read throughput test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=902

commit 79f8c310dfa52c035e41e46daa25ccf0419bea27
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri May 7 01:53:10 2010 +0000

    rpcsvc: Support multiple vectors during reply submission
    
    RPC reply path allows attaching a single iovec to a reply. This limits
    the replies for certain program ops which need to return multiple vectors
    for eg, the NFSv3 read reply.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 902 (iozone hangs during random read throughput test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=902

commit c1f052da3652595effee1e514b1e9fb9055e13a1
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 6 08:36:16 2010 +0000

    nfs3: Use standard macro to return ESTALE
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 857 (Crash in afr_sh_entry_expunge_entry_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=857

commit c8a94aa7c522e7c820ae181c6f60e657bc12ea6d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 6 08:36:15 2010 +0000

    nfs: Handle failed parent loc filling
    
    Just because an inode_get for parent (ino, gen) returns a valid
    inode_t does not meant that the inode_path(..in nfs_parent_inode_loc_fill..)
    will return successfully. The failure of nfs_parent_inode_loc_fill was
    not handled resulting in a NULL path being passed for the fop.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 857 (Crash in afr_sh_entry_expunge_entry_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=857

commit 9dabc8b0a9a2582004e3f8a14e5d8cac201ce01a
Author: Anush Shetty <anush@gluster.com>
Date:   Thu May 6 05:52:40 2010 +0000

    Fix for crash in stripe_entry_self_heal
    
    Signed-off-by: Anush Shetty <anush@gluster.com>
    Signed-off-by: Anush Shetty <anush@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 887 (Crash in stripe_entry_self_heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=887

commit dce48d4793d76c38143dc55fe45b30ead12ffbf5
Author: Sachidananda <sac@gluster.com>
Date:   Wed May 5 01:15:09 2010 +0000

    Add key/type pair to volume_options.
    
    This avoids warning message to be logged for internal option
     `transport.socket.lowlat' as not being recognized, when transport/ib-verbs is
     used.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 818 (transport.socket.lowlat option is not given  as can be seen from the vol-file still the warning shows up in the logs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=818

commit a6096217aa96c4ee2fe39977f1d169a33be6fd40
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Wed May 5 01:14:02 2010 +0000

    Check whether a server is down before calling rename on the directory
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 820 (distribute directory rename problem when one subvol is down)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=820

commit b0ed997cda2195e9178cbaa96d26976aa6dd2acf
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed May 5 00:27:45 2010 +0000

    posix: Support thread-safe vectored writes/reads
    
    ..by maintaining internal offsets and using pwrite/pread
    instead of writev/read.
    
    The recent io-threads change is causing concurrent writes to
    a file from different io-threads. This results in a race between
    two threads both of which are trying to call lseek-writev. The
    lseek-writev sequence should be a critical section. This is where
    pwrite syscall helps. pwrite also requires an offset to be given so
    for supporting pwrites for multiple iovecs we maintain an offset
    within posix for the duration of the write fop and pass this internal
    offset to pwrite.
    
    The same logic also applies to read, only difference is that we do
    not need to read multiple iovecs but only provide an atomic
    lseek-read sequence.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 883 (Data corruption due to thread unsafe reads and writes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=883

commit 716f4dc26097811161cbd59c919df11593cb46af
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 4 04:01:30 2010 +0000

    nfs3: Fix NFSv3 string error for EISDIR
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 858 (Crash with afr_local_cleanup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=858

commit 3954ddddfe6c600ff2bb8d70463bc6fb4fe67225
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue May 4 02:29:22 2010 +0000

    performance/read-ahead: don't set ra_file in fd->ctx unless all memebers of ra_file is initialized
    
    - If ptr to ra_file is set in fd->ctx even before initializing all its
        members, A race condition may occur b/w a thread executing ra_fstat,
        ra_readv etc (where all files open on the same inode are flushed) and
        the thread doing initialization of ra_file (in ra_open_cbk or
        ra_create_cbk). Because of this race-condition, flush_region might be
        called on an uninitialized ra_file, thereby causing crash.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 868 (crash in ra_fstat)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=868

commit bb4955c4e12618171ae69c4161db709ff7d29981
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 3 18:10:46 2010 +0000

    cluster/afr: Unwind lk using struct flock from a successful server
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 882 (directory traversing problem (client crash))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=882

commit 3917c5a3d14853e1d4642d3ccd913c9a7de27173
Author: Pradeep Patil <pradeep@gluster.com>
Date:   Sun May 2 23:55:43 2010 +0000

    crash fixed in stat-prefetch.c
    
    Signed-off-by: Pradeep Patil <pradeep@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 876 (crash in stat-prefetch)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=876

commit 7840d9de272ef2f24c4c755a857ad8ae06703b55
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 4 00:37:01 2010 +0000

    frame's 'op', 'type' restructured
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit f75b76350747f5f58a4bbe704915c74979cc5ac3
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 4 00:36:24 2010 +0000

    structuring of protocol - 2
    
    * 'transports/' and 'auth/' moved to xlators/protocol/
    * transport.{c,h}, authenticate.{c,h}, protocol.h moved to
        xlators/protocol/lib/src/
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 7504b0e623914d097933f0a613ba50e376131828
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 4 00:35:59 2010 +0000

    structuring of protocol
    
    * isolated 'protocol.h' and transport.h from libglusterfs/* and
      glusterfsd/*
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit 72ca9bdf90c45ff3f4bad3d2de934101dfaca4ff
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue May 4 00:35:36 2010 +0000

    'features/locks': remove all reference to 'transport_t'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 875 (Implement a new protocol to provide proper backward/forward compatibility)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=875

commit c8a0827765e78b285ca50cb26ab1dca620e3bfe1
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 27 09:56:00 2010 +0000

    dht: don't overwrite the layout after the subvolume expansion
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 864 (dht self-heal overwrites layout causing 'missing' files.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=864

commit b03a5683680b7be5ff7c88083276811a381aac68
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 28 01:37:39 2010 +0000

    fusermount: bring in updates from upstream
    
    * Fix checking for symlinks in umount from /tmp.  Reported by Al
        Viro
    
        * Fix umounting if /tmp is a symlink.  Reported by Franco Broi
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 657 (Metabug for tracking fuse upstream)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=657

commit 07744014e26e6c3edb14e624ef2f68c56694375a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Apr 29 00:27:57 2010 +0000

    performance/io-cache: Dump private information
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 828 (glusterdump filled up the /)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=828

commit 6f1895d77df52f0e0aa7c2a7aff09c9398640aef
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Apr 27 09:11:51 2010 +0000

    cluster/stripe: Memory accounting changes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 585c23e8c7e81272d206aca19b2c0807975fec92
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Apr 27 09:11:17 2010 +0000

    nfs/server: Memory accounting changes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 63c8d8f2998dcbcfd392b67ea68ad3d3ec4a2805
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Apr 27 08:47:40 2010 +0000

    features/access-control: Memory accounting changes
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 2c5a280f9a7ad7eb971db4d55e6ce806c5cdd6bc
Author: Anand Avati <avati@gluster.com>
Date:   Tue Apr 27 07:44:45 2010 +0000

    cluster/dht: perform inode number overwrite in readv_cbk iatt with checks
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 862 (Crash in dht_readv_cbk with error-gen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=862

commit 55d332f5eca51ee4820ecd62af1cdb2a24ad100e
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 27 03:46:39 2010 +0000

    Set op_ret to -1 when open fails in posix_create
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 825 (when create() races both return success)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=825

commit 81d53a0f5d09afed172ceb93061156c8910fa5d1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 26 07:48:29 2010 +0000

    performance/quick-read: don't try to validate again if qr_readv is called just after validation.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 852 (QR cache-timeout 0 causes high CPU usage and app hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=852

commit cade6a8f2305800750bf7d9a6907e02f8b06f0b6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Apr 22 06:12:00 2010 +0000

    stat-prefetch: Remove checks for loc->parent
    
    ..because loc->parent can be NULL for the root inode.
    Having this check makes sp return EINVAL on perfectly valid
    fops.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 845 (NFS BETA Test - Test Case 1: 4dist-repl-chown1m)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=845

commit 8626e201a5bceb623bb77a82fd5437ba3668cf19
Author: Sachidananda <sac@gluster.com>
Date:   Thu Apr 22 04:13:36 2010 +0000

    Filter out extended attribute visibility on the mount point.
    
    Filter out extended attribute visibility on the mount point.
    This causes rsync -X to remove the extended attributes and `Stale NFS file
    handle' error on mount point, resulting in making the mount point inaccessible.
    
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 797 (DHT layout and posix generation number xattr's should be filtered)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=797

commit 582de0677da4be19fc6f873625c58c45d069ab1c
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Apr 22 13:33:09 2010 +0000

    Memory accounting changes
    
    Memory accounting Changes. Thanks to Vinayak Hegde and Csaba Henk for their
    contributions.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 329 (Replacing memory allocation functions with mem-type functions)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=329

commit 72baa17282f5cf749fa743fd601c7b728ece4fa2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 22 20:38:42 2010 +0000

    debug/io-stats: Call readdirp in readdirp instead of readdir
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit 0a5b61b7a1aae73dbb9f98c932c47751107e0e4e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Apr 23 06:45:34 2010 +0000

    mount/fuse: Destroy STACK when truncate and other op are part of same SETATTR
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 829 (SETATTR stack leak?)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=829

commit bf18a37a1b66ca3ac75713d39e68dde1a116f4cf
Author: Harshavardhana <harsha@gluster.com>
Date:   Wed Apr 14 20:20:38 2010 +0000

    extras/volgen: Volgen patchset
    
    -- Supports NFS Translator.
    -- Consolidated common API's into Common.py.
    -- Removed unused CreateBooster.py.
    -- Added code for "--add-server" for dynamic volumes.
       Currently its commented out we will use it when needed.
    -- No more options hiding in background anymore. All options
       specified for each translator are commented and exposed.
       Only necessary values are  enabled. This is done due to
       necessary cleanup of unwanted options by exposing them.
       PENDING: "replicate" translator
    -- Quota is disabled for native NFS on client side.
       Only server side quota can be used as of now.
    -- Additional code cleanup.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 822 (Volgen changes supporting NFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=822

commit 7c7bafa3b17dcc0c799b5d42ccb5726e52c4d94f
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Apr 20 09:08:26 2010 +0000

    Do not hardcode the lru_limit on inodes to 1 Million while creating the inode table
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 834 (lru_limit on inodes is hardcoded to 1 million)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=834

commit 3eb79f8704909d118a694d9c41c5b97fa558aa91
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Apr 22 00:47:19 2010 +0000

    core: Set ctx in global_xlator to prevent NULL ptr reference
    
    This results in a crash in STACK_UNWIND after a call bail out.
    Since the call bail does not occur in the context of an xlator,
    the old_THIS in STACK_UNWIND is handed a global_xlator which did
    not have its ctx set, resulting in a NULL de-reference.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 844 (mixed testing with 35 clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=844

commit 1233dad03fb71afe2714ee76476cea75e26aab25
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Apr 20 02:43:08 2010 +0000

    nfs: Remove reference to top
    
    This is not needed anymore and also conflicts with changes being
    made for DVM.
    Should have been removed with the bug fix for bz 770.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 770 (NFS Xlator - Crash when both GlusterFS server/NFS Server are in the same file)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=770

commit 74b165a23fdb4791d2dcd83194ef8765bb43716e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Apr 15 12:30:37 2010 +0000

    cluster/afr: Check for call_count in ENTRY_RENAME_TRANSACTION
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 824 (Crash in afr rename transaction)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=824

commit 477f6d1cdcc347bb0fa4ae79c9e48be7d0811235
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 13 12:47:14 2010 +0000

    cluster/afr: Send xattr in lookup from the source subvolume.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 815 (quick-read and replicate self-heal interaction result in empty reads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=815

commit 51f521ac9a140c147d22a2a38463984132a083a8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 13 18:39:34 2010 +0000

    cluster/afr: Fix possible NULL dereference in readdirp_cbk
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 722 (Segfault in glusterfs 3.0.3 replicate/afr_readdirp_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=722

commit 4b754a77545fb7db030471fd4d84b8eee6008d7c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Apr 12 21:57:35 2010 +0000

    nfs3: Use nfs3state in call_state to avoid getting from rpc request
    
    This change avoids having the nfs translator depend on the sanity
    of the rpcsvc_request_t type after NFS reply has been sent. This
    was a problem because the request structure is guaranteed to be
    invalid after the reply for the request has been submitted by the
    RPC program. NFS3 handler was ignoring this behaviour and accessing
    the private in request after reply submission resulting in access to
    corrupted data.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 757 ([NFS-Alpha] Crash in nfs3_call_state_wipe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=757

commit 3d125eaed2fbf71c8c6dcddd45a9fa61ef4a4448
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Apr 11 19:08:48 2010 +0000

    fuse: fix too early freeing
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 755 (Fuse loc error when files are created and deleted simultaneously)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=755

commit 28818a5371e306a5cc0970f359aa5f20c8769794
Author: Anand Avati <avati@gluster.com>
Date:   Thu Apr 8 14:07:00 2010 +0000

    protocol: fix endianness for nanosecond field in stat structure
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 7ef3c9773015d1c77ba23a482eeaa25e2ff31328
Author: Anand Avati <avati@gluster.com>
Date:   Thu Apr 8 13:15:32 2010 +0000

    afr: afr_fsetattr - send proper inode pointer to afr_read_child()
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 814 (replicate complains of invalid inode in afr_read_child())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=814

commit 1e30fc3e001594e9cfd372079adf2172bc9ed3df
Author: Anand Avati <avati@gluster.com>
Date:   Thu Apr 8 12:24:31 2010 +0000

    iatt: change S_IF macros with IA_IF macros in missing places
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 730 (unknown filetypes and inode conflicts in afr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=730

commit e53cb0787943d51f880daa829aa5699851e985e8
Author: Anand Avati <avati@gluster.com>
Date:   Thu Apr 8 12:23:10 2010 +0000

    afr: fix inode ref leak in lookup
    
    first success lookup sets local->cont.lookup with inode_ref and second
    setting leaks
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 813 (inode ref leak)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=813

commit 0143139ba85211e8b96ec238c97d0885ae0817b1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 5 05:59:17 2010 +0000

    performance/quick-read: read directly from backend for fds opened with O_DIRECT flag.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 723 (enhancements to quick read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=723

commit c724beb161ce5f21862e9bb425736efed7532777
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 7 10:07:29 2010 +0000

    NFS: type fixes: some portability cleanup
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit d9e256b0e4203a7f79f862ecc83c509e516f0e14
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Apr 7 10:05:29 2010 +0000

    NFS: type fixes: sanitize rpcgen generated typedefs
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit 24591071a3c6a4362b8bb6818f42d3b7ec176342
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Apr 7 11:49:00 2010 +0000

    cluster/afr: Cleanup fd ctx in releasedir cbk
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 805 (memory leak in afr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=805

commit 73739935f511e431a64232c9b737342c7ba859e7
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Apr 6 21:18:15 2010 +0000

    initialization fixes
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit e78fb59b75a455127c004dd751ebcc4af1b14124
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Apr 7 07:25:39 2010 +0000

    nfs3: Allow all access to superuser except execute at all times
    
    During building glusterfs from source, the make phase fails because the
    access test by super user actually returns the access test bits using
    only the user, group and other, without accounting for the special
    status of super-user.
    
    This results in a permission denied for the super-user.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 807 (GlusterFS compilation fails on NFS Client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=807

commit 3642cd246ea598d7a72dff74f49b78964678719c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 5 13:36:36 2010 +0000

    performance/quick-read: make use of nanosecond resolution of mtime to decide whether to keep cache or not.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 33101bd66614908efafc91ff2950ef3e34b76a3b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Apr 5 13:36:07 2010 +0000

    performance/io-cache: make use of nano second resolution of mtime during cache validation.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 9c2bc1bc61af888192bde18170b113b4f6f8b4ca
Author: Anand Avati <avati@gluster.com>
Date:   Mon Apr 5 13:35:45 2010 +0000

    fuse: change behavior of direct io mode.
    
    If bigwrites are available, then disable direct io mode only by default
    (previously direct io mode was disabled in any case).
    
    Added new command line option to force enabling of direct io mode
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 801 (Direct io-mode support and related changes in caching translators.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=801

commit 7cb8982cbbe8298cd1bdd35055f7d3818f4a136f
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 7 04:19:48 2010 +0000

    backword compatibility with 3.0.x releases - restored
    
    * glusterfs.h - added back the removed 'fop' types in same order
    * call-stub.c - enhanced logging in case of failure
    * server-protocol.c - added a ENOSYS function for these fops, so
                          there will be no crash if a old client
                          connects to mainline server.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit d90c2f86ca7a8f6660e98da1e48c4798539b7d51
Author: Vikas Gorur <vikas@gluster.com>
Date:   Sun Apr 4 14:11:26 2010 +0000

    core: Do internal latency measurement of FOPs.
    
    This patch adds a facility by which each translator
    keeps track of the average latency of a FOP from
    its point of view. That is, the duration between
    the translator handing over the call to a lower-level
    translator and the reply coming back.
    
    The latency measurement is off by default, and can
    be toggled by sending SIGUSR2 to the GlusterFS process.
    
    Latency data is printed as part of the process state dump.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit 9c2bfa8a4441d27178f3b843bfa0a77df9f867e5
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 2 18:03:33 2010 +0000

    extras/profiler/glusterfs-profiler: Add graphing tool.
    
    glusterfs-profiler is a Python tool that can graphically display
    the profiling information printed in the process state dump.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit d9b34f3f2c5de8cdde6dd8c24fade839b7727ab2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Apr 2 04:32:30 2010 +0000

    nfs: Redesign fop argument passing to support single volfile use
    
    The current design of the interaction between the generic NFS layer and the
    protocol handlers like mount3 and nfs3 is such that it does not allow using a
    single volume file which contains the nfs/server and the protocol/server.
    This is because the common nfs-fops layer assumes that ctx->top is always the
    nfs/server. This is wrong. The fops layer needs access to top because top or
    rather the generic NFS xlator's private state has a mem-pool. The fops layer
    needs this mem-pool to get memory for storing per-fop state. Since the fops
    layer cannot anymore take ctx->top be the nfs/server, all layers need to start
    passing the nfs/server xlator_t right down to the fops layer.
    
    I am also taking this chance to remove the synchronous equivalents of the fops
    and also remove the dirent caching directory operations.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 770 (NFS Xlator - Crash when both GlusterFS server/NFS Server are in the same file)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=770

commit 8d2342b19c715f2d6ecb024eace8102e2c5e3a29
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 23:52:33 2010 +0000

    nfs: Fix RPC library name to avoid conflict with system librpcsvc
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit 41f05fcefc1c192a3f322e827114897ec0ace316
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Mar 24 14:01:36 2010 +0000

    Fix further cppcheck reported issues.
    
    Reported-by: Patrick Matthi <pmatthaei@debian.org>
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 420 (fix leaks pointed out by cppcheck static analyzer)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=420

commit aa6028a600ccfea14d3f047402dfe157047cabdc
Author: Harshavardhana <harsha@gluster.com>
Date:   Wed Mar 31 08:29:54 2010 +0000

    Hardcoded infiniband port is now handled dynamically by searching for active ports.
    
    * If user specifies a port then that port will be used regardless of which port is active.
    * If user doesn't specify any port then any one of the active ports is used.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 793 (Infiniband port handling should be dynamic by picking up from active ports)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=793

commit f66f04e3af1f31a4c51b6a87f5e32ea2e3c7b438
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:05 2010 +0000

    nfs: Add NFSv3 protocol support
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit e63053803dca86b4283b71bc4ef4cb180ec72d89
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:04 2010 +0000

    nfs: Add MOUNTv3 protocol support
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit c4fd1cf7325972d8ff64ef3a2bea70edcf4f1085
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:03 2010 +0000

    nfs: Add generic nfs translator
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit 8b2949db0d56bdf5842abcb72437cc7dccd884df
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:02 2010 +0000

    nfs: Add RPCv2 service
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit eff83c8dae2a9f6d52ae2d8b069190a13f92deaf
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:01 2010 +0000

    nfs: Add RPC and NFS XDR translation routines
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 399 (NFS translator with Mount v3 and NFS v3 support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=399

commit fce2ae459b356977aab9b0100db22047e54a994b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:27:00 2010 +0000

    access-control: Introduce new translator
    
    The access control translator is required for performing permission
    checks on files and directories in line with posix conformance.
    This is required to be kept separate from storage/posix so that
    ACL support can also be later integrated into this translator.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 400 (Support auxiliary gids in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=400

commit 26f826c75c9e629c71535f3d9e5962d4aedb6898
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:26:59 2010 +0000

    core: Expose default callbacks
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 400 (Support auxiliary gids in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=400

commit d337c518a5b6aad42db1489a5093efa6692962dc
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 31 07:26:58 2010 +0000

    core: Add iatt protection bit testing macros
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 400 (Support auxiliary gids in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=400

commit 31e69430140538f5fee3e8dc89bd2971917820d1
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Mar 28 23:53:17 2010 +0000

    fop namespace cleanup.
    
    removed 'lock_notify', 'lock_fnotify', 'setdents', 'getdents' from
    'fop' list, and removed 'stats' from mop list, as they are no more
    used in the codebase, and had made code bulky/buggy.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit a79d50fc723ffa4d93fa8f567676b18591fac5fe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Mar 29 00:35:52 2010 +0000

    libglusterfs/transport: no need to set address-family if one is not set in the configuration family.
    
    - if not set, address family defaults to AF_UNSPEC and getaddrinfo will fill
        appropriate address family for transport types tcp/socket.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 693 (glusterfs 3.0.2 will not listen on IPv6 address)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=693

commit d99804c05fe6302f638c6d748c1613a595390cd5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 29 02:08:54 2010 +0000

    stripe readv: proper validation of 'op_ret'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 536 (fsx tool fails over stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=536

commit cf99ded428cfdf562d5cd220c77dfc8b4617d9d8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Mar 26 02:41:58 2010 +0000

    performance/write-behind: Resume all the consecutive non-write operations in the request queue in a single go.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 740 (read-ahead does not work to its full potential when loaded on top of write-behind)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=740

commit 440bf123be4933d7268dbf558135ca341c6467be
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Mar 29 00:16:52 2010 +0000

    libglusterfs: Remove passive iobufs from statedump
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 782 (Remove passive iobufs from statedump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=782

commit 04f1cd8629775fe635fa2c61f83907648f3b4e72
Author: Harshavardhana <harsha@gluster.com>
Date:   Fri Mar 26 06:51:12 2010 +0000

    Fix backtick evaluation bug in cache-size
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 768 (cache-size might be wrong in glusterfs.vol)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=768

commit 0b3a225f4b0de4943c6e69eca296b322a9af52bf
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Mar 25 01:50:58 2010 +0000

    cluster/afr: UNWIND if opendir returns an error.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 756 (simaltaneous rm -rf hangs the clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=756

commit 08d746def4b21d20153395ff1f061e833b06cd4d
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 24 13:27:14 2010 +0000

    stripe: proper fix for reading 'holes'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 713 (fsx tool segfaults in readahead and iocache)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=713

commit 731431c4016479fa810e62aff49e92f57513eb8d
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Thu Mar 25 02:14:42 2010 +0000

    fix utimes
    
    Change utimes to lutimes to prevent errors from symbolic links for linux. For non-linux systems keep utimes.
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 34 (No such file or directory on du)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=34

commit bd1242b66da347e61db5f2e51638eca9e641b20d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Mar 24 04:22:33 2010 +0000

    Remove glusterfs-guts from the repository.
    
    Goodbye, glusterfs-guts/!
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit 08fd3a63f56c3bae0cbf57d59a3e4c32da791312
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 24 04:05:16 2010 +0000

    mount script has new option '-o ro'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 712 (mount.glusterfs script doesn't handle 'ro' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=712

commit 3f8dc989b71977c2e3f94482b21be92b8562ea83
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 24 04:04:51 2010 +0000

    added '--read-only' command line option for glusterfs
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 712 (mount.glusterfs script doesn't handle 'ro' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=712

commit 1a15248382e53e5c04cb6235144001d697f6b09b
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 24 04:04:02 2010 +0000

    new 'features/read-only' module added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 712 (mount.glusterfs script doesn't handle 'ro' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=712

commit 1e55e8f29b4cebb3398a46e36b8791980bb1db6d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Mar 23 17:02:29 2010 +0000

    extras/volgen: Add copyright headers.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 751 (Copyright headers missing)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=751

commit faad9087d032044765636e1cb55a6fb3659e374f
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 23 08:25:57 2010 +0000

    man pages updated
    
    man 8 glusterfs
    man 8 mount.glusterfs
    man 8 glusterfs-volgen
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit 456701edd15dc2a953cbfc15f0dd657b876844c3
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 23 08:16:59 2010 +0000

    updated the build tree.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 734 (keep only the working/usable code in build tree to focus more on development)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=734

commit 12aefd726dc2b4effcde8136df1f88cebb1084f0
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 23 01:32:20 2010 +0000

    Replace struct stat by struct iatt
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 749 (crash in stripe_readv_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=749

commit 83ab05db5505a033a66385a7e1aaad605fea562b
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Mar 18 17:23:15 2010 +0000

    fix warnings on 32 bit
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 283ec9608e6cbc9393941d5fae901e558360d2bd
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Tue Mar 16 09:46:33 2010 +0000

    iatt: changes across the codebase
    
    - libglusterfs
      -- call-stub
      -- inode
      -- protocol
    - libglusterfsclient
    - cluster/replicate
    - cluster/{dht,nufa,switch}
    - cluster/unify
    - cluster/HA
    - cluster/map
    - cluster/stripe
    - debug/error-gen
    - debug/trace
    - debug/io-stats
    - encryption/rot-13
    - features/filter
    - features/locks
    - features/path-converter
    - features/quota
    - features/trash
    - mount/fuse
    - performance/io-threads
    - performance/io-cache
    - performance/quick-read
    - performance/read-ahead
    - performance/stat-prefetch
    - performance/symlink-cache
    - performance/write-behind
    - protocol/client
    - protocol/server
    - storage-posix
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit cc7515fc3db005383ffa575236ec29c212ed1e48
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Tue Mar 16 09:46:32 2010 +0000

    introduce iatt.h for inode attributes (to replace 'struct stat')
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 8477f1c8a7b38e78531e0bc40fcc38d21052857c
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Tue Mar 16 09:46:31 2010 +0000

    iatt: configure.ac not to build filter
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 49465d7136098b40166231d131ad10cc0f55a45d
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Tue Mar 16 09:46:30 2010 +0000

    xlator.h: whitespace cleanup
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 4b690df4e2055ce42557c303e3738e11c7aec172
Author: Harshavardhana <harsha@gluster.com>
Date:   Mon Mar 15 04:14:14 2010 +0000

    Fixed "." delimiter for cache-size calculation which would fail on different locale.
    
    Thanks to Filip Valder < valder (a) netdevelo.cz > for suggestions.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 720 (Default . decimal delimiter will not work for other locale)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=720

commit 536e5a2208d162801367f8a4189a29ca7fd8f1a9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 10 02:14:55 2010 +0000

    stripe: logic fixes
    
    * for setting 'local->failed'
      Earlier, stripe was not handling different errors from subvolumes,
      and hence failure testcases using 'debug/error-gen' were failing.
      With this fix, tests pass fine.
    
    * proper event handling in notify.
      Send CHILD_UP and CHILD_DOWN events properly.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 691 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=691

commit a35b3f0c302d920bcb4c282677b14e2eba789ec9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 10 00:30:56 2010 +0000

    stripe: whitespace cleanup
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 691 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=691

commit e0385ed5e905fb14044bb117c596cc1825193c32
Author: Sachidananda <sac@gluster.com>
Date:   Tue Mar 9 03:18:56 2010 +0000

    When option mandatory is given, print warning messages instead of Error.
    
    Change the log level to Warning instead of Error.
    Signed-off-by: Sachidananda Urs <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 704 (GlusterFS starts despite error is logged in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=704

commit 2fb2bef51a53b4c776f54633000eb41ac88fe82b
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 9 07:57:14 2010 +0000

    send lookup on every subvolume if local->hashed_subvol is NULL in nufa/switch
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 114 (Creating files or directories gives "Invalid argument")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=114

commit 06d49096fbf562690738c377db3f8825d1fc9b96
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 9 06:34:17 2010 +0000

    cleaned up some outdated files
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 491 (Outdated files in glusterfs source (Broken links in them))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=491

commit e6bb22238a9c920e4a4373da1d9c756884543028
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Mar 11 04:11:17 2010 +0000

    protocol/server: Do gf_flock to flock conversion at the right place
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 708 (solaris : ping pong test hangs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=708

commit e66adead7078163cd9d9c0bbd8ec6289b4e4ea35
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Mar 9 02:37:30 2010 +0000

    extras: Add script to be used before using quota translator.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 569 (Memory leak in quota translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=569

commit ffc138f7f19bf55c6daf8aea7f15bde1ca3cfc6a
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 8 05:31:11 2010 +0000

    handle SIGINT in glusterfsd
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 703 (SIGINT not handled in glusterfsd)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=703

commit 8cb697667ff3da6cd497dedeeb7f65a9992145ee
Author: Anand Avati <avati@gluster.com>
Date:   Thu Mar 4 06:52:49 2010 +0000

    dht: preserve and return proper pre/postparent structures during unlink
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 689 (Segfault (11) on op UNLINK)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=689

commit 727fe837b8f7bfcdd59267f7745398934564543e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:10 2010 +0000

    quick-read: Store and propagate wbflags argument in open fop
    
    ..this is needed to ensure underlying translators like
    write-behind, ioc, etc, do not return zero-filled stats
    to NFSx.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 4b2f769dcd18fbb855d7d11b82a61bcca64fc85c
Author: Anand Avati <avati@gluster.com>
Date:   Wed Mar 3 11:51:30 2010 +0000

    distribute: cleanup intermediate hardlink and linkfile on failed rename
    
    implement a generic cleanup function which handles cleanup of
    temporary linkfiles and hardlinks created as part of the rename
    transaction, and callable from any stage of failure.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit fa194179431b7e9aac68333c91a9c3254a15335d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:08 2010 +0000

    distribute: perform self-heal as root
    
    prerserve original frame uid and gid and perform self-heal by changing
    uid/gid to root (0) temporarily.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit a8f10e72f265e96f3785f278a3c4a3631b9f0392
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:07 2010 +0000

    distribute, nufa: return 0 mtimes in preparent/postparent
    
    Returning 0 times means the values are unreliable and not to be
    trusted for the purposes of caching.
    
    This is a temporary fix till we bring in proper times handling in
    DHT to return consistant values for parent inodes.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 11433ebf94a58e0a40f115be8c6fe919c29ed61b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:06 2010 +0000

    distribute: Save ino/dev from first subvolume during mkdir
    
    A self-heal on directory creation results in the subsequent
    call to dht_selfheal_new_directory to happen only for the last subvolume.
    But when this function is called for the last subvol it is possible
    that the st_ino returned in this function's callback is the st_ino
    from the hashed subvolume(assigned in dht_mkdir_hashed_cbk).
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 549d1a81f49f58f842f69f64f7d152a3e6ecb0d0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:05 2010 +0000

    distribute: Restore parent ino from local in symlink
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 83c650fe5b11a177b56274483aeecd3127520831
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:04 2010 +0000

    distribute: Restore inode from saved ino on readv
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 0a86bd1aa3004a9f27e59eb08f8facf312234737
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:03 2010 +0000

    distribute: Respect end-of-dir on readdir only for last subvol
    
    We need to ensure that only the last subvolume's end-of-directory
    notification is respected so that directory reading does not stop
    before all subvolumes have been read. That could happen because the
    posix for each subvolume sends a ENOENT on end-of-directory but in
    distribute we're not concerned only with a posix's view of the
    directory but the aggregated namespace' view of the directory,
    which is maintained by distribute.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 59947fc4c28a0310d76a663d2440c08b762ed3fd
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:02 2010 +0000

    distribute: Return pre/post-parent on successful unlink
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit b49ad40a7e7f656b509291b07bf539c64bae3ee1
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:01 2010 +0000

    distribute: Return ino from the first-up subvolume in lookup
    
    Not returning this from the first-up subvolume results in
    
    different inode numbers being returned for a directory
    when the same directory is read again through the NFS
    readdir request.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit ed54528c22193f7e2cf6833bbcd22dc338d02c74
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:00 2010 +0000

    replicate: Use link's parent ino for post/pre-parent not target dir's
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 5493db0d0664b9ed2515758122837c0d93d0f388
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:59 2010 +0000

    replicate: Restore parent ino from saved inode number
    
    Not doing this was resulting in a 0 inode number being returned
    in postparent on lookup, which in turn results in a ESTALE at
    the NFS client since an inode number change was observed.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 8a7b7b09c96ab3f3f3426b0176cd0115f350e50f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:58 2010 +0000

    trace: Display op_errno even on successful readv
    
    ..this helps to show an op_errno that might contain
    an ENOENT sent from posix. Remember posix now sends
    and ENOENT even with an op_ret == 0 when reading
    encountered an end-of-file.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473

commit e180e55a9945c738043d148265eb40951e870a0f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:57 2010 +0000

    trace: Do not print results on failed readlink
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473

commit cbe617301a264d4193c507c06e77a8445cdf8f25
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:56 2010 +0000

    trace: Print st_dev for struct stat
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473

commit dc3e568cfa5a37e531a18f2b3628b28fbcb41f1a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:55 2010 +0000

    trace: Support new option: force-log-level
    
    trace has till now forced the log level to be set to
    NORMAL. This masks other log output that we might need
    to observed in combination with the trace output. This
    new option allows us to force the log-level to something
    other than NORMAL.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 168 (trace does not output debug messages)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=168

commit 3f467f4464755989db4d22da04ae1cb895d2db11
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:54 2010 +0000

    trace: Print correct variable in lookup_cbk
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473

commit 390f4fd29830a902d6187bc95bfd8c5f5aad5935
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:53 2010 +0000

    trace: Do not clobber own itable
    
    .. as it could've been assigned by our parent such as server or nfs.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473

commit 1582bc4e20d3f800c88d1c526cd32e92acf779dc
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Mar 3 11:50:23 2010 +0000

    core: Provide helper macro to set [ug]id in frame
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 400 (Support auxiliary gids in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=400

commit efa1ce755bca123507997e6b5f3e27482fc0e3af
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:51 2010 +0000

    core: Add NULL check for inode in fd_lookup
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit ac93e41b70d27c077ac295a1c288938156f241b0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:49 2010 +0000

    core: Add setattr mode test macros
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 508075b079d731f7aa5fa36d7295fceeef2c3c1d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:48 2010 +0000

    core: New function: gf_dirent_for_namelen
    
    Given the length of a name that needs to be stored in d_name, the
    new function allocates enough space for a gf_dirent_t and
    returns a ref.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 9fe5c6d391fd159fe27022ab806408831ed5b27f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:47 2010 +0000

    posix: Support EOF for file reading
    
    This is a small hack to notify higher translators that an end-of-file
    was encountered at the end of the readv operation. This is helpful
    in determining end-of-file without sending another readv fop.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit 1262b1e4fe3fcdfe3f8d6e3c29f41de68cfe8fa3
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:46 2010 +0000

    posix: Support end-of-stream determination
    
    state, higher translators do not need to perform another readdir
    to determine end of stream. Instead, if a successful directory
    read operation is accompanied with an op_errno=ENOENT, it means
    end-of-stream on the directory fd_t.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit bdf3fc698515b44e6f1a11f6dbc8d9ff4b5fd74e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:37:45 2010 +0000

    iobuf: Expose macros and create new ones
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 597 (miscellaneous fixes for xlators to work well with NFS xlator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=597

commit db199434dfccfb4db5335f6ba18298e9e61bc415
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Mar 3 02:14:37 2010 +0000

    transport/socket: fix to valid_ipv6_address.
    
    - while checking for hexadecimal numbers, strtol on valid strings of
        hexadecimal numbers will return a NULL string in endptr (but not a
        NULL endptr). Thanks to Donald Neal <dmneal@wand.net.nz>, for pointing
        this out.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 693 (glusterfs 3.0.2 will not listen on IPv6 address)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=693

commit 85a1716cd55b002b5d20a7903e28f106ee614814
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Mar 1 17:47:06 2010 +0000

    cluster/afr: Failover readdir calls.
    
    This patch makes the replicate readdir call fail over to the next
    subvolume if the first call fails. It takes care to ensure that
    entries are not duplicated.
    
    The failover behavior of readdir only comes into effect if
    the option 'strict-readdir' is on.
    
    Signed-off-by: Vikas Gorur <vikas@dev.gluster.com>
    Signed-off-by: root <root@client02.(none)>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 453 (afr_readdir does not fail over)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=453

commit 2970ec54473fd55b27aeeb43a1f6bca879281cf0
Author: Anand Avati <avati@gluster.com>
Date:   Thu Mar 4 04:00:53 2010 +0000

    io-stats: new counters
    
    Add new counters and statistics for:
    
    a) total read data - since process start, last interval and per fd
    b) total write data - since process start, last interval and per fd
    c) counts of read IO block size - since process start, last interval and per fd
    d) counts of write IO block size - since process start, last interval and per fd
    e) counts of all FOP types passing through it
    
    Usage:
    
    1. For dumping global stats
    
    sh# setfattr -n io-stats-dump /tmp/filename /mnt/gluster
    
    2. For enabling per-fd stats
    
    option dump-fd-stats on
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit 90fbc2d6e32eb4d9dbd4ddf1fe77751013003640
Author: Anand Avati <avati@gluster.com>
Date:   Thu Mar 4 03:59:55 2010 +0000

    io-stats: indentation fixes
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 268 (Add timing instrumentation code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=268

commit c90fd15d335ad452618faf410182ab195193cbc4
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Mar 3 12:52:01 2010 +0000

    libglusterfs: Copy va_list types using va_copy instead of memcpy.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 621 (3.0.2 GlusterFS fails on Solaris 10)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=621

commit 25126f64ea049a374fcd724a793328db7c96037f
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Mar 2 07:20:31 2010 +0000

    posix: gen number fixes on non-Linux systems
    
    Most non-Linux platforms do not support extended attributes on special
    files and symlinks. Use the mtime as the generation number for these
    files on such systems
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 621 (3.0.2 GlusterFS fails on Solaris 10)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=621

commit f2097590eb05e3b8e5946aa1966cfd29bfd23dc5
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Mar 2 03:45:26 2010 +0000

    features/quota: Remember '/' loc_t to initiate xattr calls.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 685 (writing to a file fails complaining of "Transport endpoint not being connected")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=685

commit 2c7e6f22f7efc3c55593d3ef5467063ca4a49256
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Feb 25 15:38:11 2010 +0000

    socket: Add NULL check for failed ioq entry allocation
    
    This is seen in OOM situations.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 679 (Crash in socket_ioq_new)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=679

commit bcab556247cc6f008cafb9df2128cc99d5cc6047
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Feb 25 05:17:02 2010 +0000

    features/quota: store the entire vector in local instead of just a pointer to it in writev.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 685 (writing to a file fails complaining of "Transport endpoint not being connected")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=685

commit 12c06f4e1723cec1d9e7e3d7e653e2ae14e18659
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Tue Mar 2 03:46:34 2010 +0000

    local->failed set to one twice
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 690 (local->failed set twice)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=690

commit bf0b366cc90ed8bc9932be69bfff1456af65cd02
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 1 03:14:39 2010 +0000

    stripe read fix (when read() is done on a sparse file over glusterfs)
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 536 (fsx tool fails over stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=536

commit 904fef5cfece1e6eb69510b7409efe779867ca0a
Author: Anand Avati <avati@gluster.com>
Date:   Sat Feb 27 07:00:10 2010 +0000

    io-threads: more fixes
    
    * conditional for scaling up threads was wrong
    
    * ETIMEDOUT check was performed wrongly
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 583 (filesystem access hangs while deleting large files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=583

commit 042fe15e637c4bfe569d9b1c3a7e30889895c109
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Feb 23 13:50:25 2010 +0000

    storage/posix: Don't use FTW_CONTINUE
    
    FTW_CONTINUE is not defined on Mac, and POSIX only specifies
    that the walker function must return 0. So just return 0.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 625 (Gluster Fails to build on OS X 10.6.2)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=625

commit 24309c6e131a5bf84b05ae26d10838b94ffd28c4
Author: Anand Avati <avati@gluster.com>
Date:   Tue Feb 23 02:52:46 2010 +0000

    dht: fix READDIR semantics which got broken in 512dcad823feb199d78f5b66a09bc404ccb899e8
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 584 (automatically configure 'lookup-unhashed' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=584

commit fa598e1bbb33125f0463f4cfc382206fbabb352d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Feb 22 23:59:05 2010 +0000

    performance/write-behind: fix data corruption while aggregating the adjacent contiguous iobufs into a single iobuf
    
    - while aggregating, we should make sure that the destination has enough
       memory. __wb_collapse_write_bufs assumed that destination vector's iov_base
       was aligned to the start of an iobuf and hence memory of page_size is
       available for aggregation. This assumption is not always true, like in the
       configuration consisting afr->write->io-cache (afr is on top). Refer to the
       bug url for more details.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 542 (write-behind crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=542

commit b7c361c6c387fe858a51e65cbc6e3be0724bb088
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Feb 22 23:58:35 2010 +0000

    performance/write-behind: refactor __wb_collapse_write_bufs
    
    - refactor done to remove duplicated code.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 542 (write-behind crashes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=542

commit 30207094c563e7e4f2d6e1f4c54abd7e918c22d4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Feb 23 01:27:21 2010 +0000

    performance/io-cache: set path in local during lookup.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 570 (Cache only those files whose sizes falls under a configured window size)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=570

commit 5ae4f11319de9a800a595175678762f9fc924755
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 11:00:20 2010 +0000

    io-threads: single queue/multi-thread model
    
    This patch lets io-threads work with a single queue and multiple
    threads work on picking the next request from the queue and process
    it.
    
    Whenever the number of pending requests in the queue double, a new
    worker thread is spawned.
    
    Workers expire after a (configurable) timeout of inactivity
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 583 (filesystem access hangs while deleting large files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=583

commit 5f524f4b2f0dbccfe6c8d4aab16ce425dd6d2b50
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 10:59:40 2010 +0000

    common-utils: gf_log2 handles 0 input
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 583 (filesystem access hangs while deleting large files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=583

commit 2a78ca786da6233cce3ed9603676aa9ef293e3cf
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 09:23:13 2010 +0000

    dht: fix leak introduced in 137f94ed123b1c7c7ada541aaa599679e19888f6
    
    dht_layout_t was getting leaked in dht_readdirp_cbk when dht_layout_get
    was called but was not unref'ed
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 584 (automatically configure 'lookup-unhashed' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=584

commit 9dbae0c80569689533c92a29871e3fa6dbbae1b9
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 08:59:10 2010 +0000

    dht: unlink stale linkfiles in rmdir to prevent ENOTEMPTY
    
    Thanks to He Xaobing <allreol@gmail.com>, this patch is inspired by
    
    http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=188#c2
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 188 ([ glusterfs 2.0.6rc2 ] - "Directory not empty" on rm -rf)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=188

commit 96ed73c1556da79e0a58cf1c051471a9b322b05b
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Feb 22 05:17:28 2010 +0000

    storage/posix: Check for path before logging it in case of an error in xattrop FOP.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 614 (GlusterFS crashes while printing error if fsetxattr call fails in posix)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=614

commit a748fd6bfe1ab2d0df439b180ca109c70deac835
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Feb 22 05:01:00 2010 +0000

    features/quota: Changes in arguments in STACK_UNWINDs for most FOPs.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 569 (Memory leak in quota translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=569

commit ec7277113956520fa6637c94d60d13d398617225
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Feb 22 05:00:01 2010 +0000

    features/quota: Fix memory leak while syncing disk usage.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 569 (Memory leak in quota translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=569

commit bca308d50d90559b33fe7e1e6ee18b8f194552f3
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Feb 22 04:39:26 2010 +0000

    Add new gf_strstr dropin replacement for "strstr"
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 609 (Add new "conf-dir" option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=609

commit 867b0beafbcd4dde7515923e21302926a1ca9fb9
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 04:28:07 2010 +0000

    inode: guard against possible infinite loops
    
    Check to prevent accidental linkage of inodes with inode number 1.
    Such links will result in loop formation in the inode table.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 537 (infinite loop in inode_path ())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=537

commit fa3b447cb058a7012ed2f68b89bc9b9e933c7367
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 03:42:04 2010 +0000

    protocol/client: better pointer check on saved_frames mapping in ping timer
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 434 (Crash with 3.0.0pre2 on client01 with "metarates" parallel MPI metadata benchmark)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=434

commit 40a07c180a479472b7fac8f16b7d825ca26f6f50
Author: Anand Avati <avati@gluster.com>
Date:   Mon Feb 22 02:52:31 2010 +0000

    protocol/client: add memory allocation checks
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 431 (segfault in timer thread :O)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=431

commit 94d31fdaf967f0d224a2bfa7b275b0344e0f5700
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat Feb 20 18:53:38 2010 +0000

    fuse: bring over recent mounting code changes from libfuse upstream
    
    Following commits were ported (commit ids as of
    http://git.gluster.com/?p=users/csaba/fuse.git
    repo):
    
    commit 06fe3eb9c864b69bea98600c0a7eab7b63834735
    Author: mszeredi <mszeredi>
    Date:   Thu Feb 18 11:05:12 2010 +0000
    
        * Fix stack alignment for clone()
    
     ChangeLog               |    4 ++++
     include/fuse_lowlevel.h |    1 +
     util/fusermount.c       |    9 ++++-----
     3 files changed, 9 insertions(+), 5 deletions(-)
    
    commit dfe1aab6520d70d72d36edf0508fef9a865daa5f
    Author: mszeredi <mszeredi>
    Date:   Tue Jan 26 18:20:12 2010 +0000
    
        * Fix race if two "fusermount -u" instances are run in parallel.
        Reported by Dan Rosenberg
    
        * Make sure that the path to be unmounted doesn't refer to a
        symlink
    
     ChangeLog         |    8 +
     lib/mount.c       |    2 +-
     lib/mount_util.c  |   31 +++--
     lib/mount_util.h  |    3 +-
     util/fusermount.c |  380 +++++++++++++++++++++++++++++++++++++++++++++--------
     5 files changed, 351 insertions(+), 73 deletions(-)
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 657 (Metabug for tracking fuse upstream)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=657

commit f9269f4776141ae78fb10d1bf5ae63da7595a369
Author: Raghavendra Bhat <raghavendrabhat@gluster.com>
Date:   Sat Feb 20 06:06:19 2010 +0000

    fuse: check the return value of pthread_cond_timedwait before logging in fuse_thread_proc
    
    Signed-off-by: Raghavendra Bhat <raghavendrabhat@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 650 (log message says "pthread_cond_timedout returned nonzero value" even when the return value is zero)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=650

commit 2cf958fd48129f682c19645ef007f9b1fe9fcd82
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Feb 11 10:29:11 2010 +0000

    Support new option "conf-dir"
    
    Addresses fetching volume files from a non standard directory right
    now it is hardcoded to "CONFDIR" which is build time constant.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 609 (Add new "conf-dir" option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=609

commit 54b77d368f5a0e7cef6da6754c14a16d05dc7dda
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Feb 14 09:28:34 2010 +0000

    cluster/stripe: Set op_ret as failure if inode is not being set in lookup cbk
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 560 ()
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=560

commit 52aa84d64cda85c2f3d07c71c9cfe7e1c18d250d
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Feb 18 09:41:17 2010 +0000

    Add quota support to volgen
    
    New options on command line
    1. --volume-size-server  - Volume sizes for server side posix exports
    2. --volume-size-client  - Volume sizes for client side exports
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 611 (Add quota support to volgen)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=611

commit 961cb224ddc86b5e35fe84c0f59d93720b7f86c7
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Wed Feb 17 06:36:28 2010 +0000

    Remove dns lookup issued for each hostnames.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 563 (glusterfs-volgen: can't handle multiple network interfaces)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=563

commit 23fe45312765c1af8788aa103c51703a2fc28220
Author: Anand Avati <avati@gluster.com>
Date:   Thu Feb 18 10:28:06 2010 +0000

    server_writev: add proper iobuf into iobref
    
    this typo results in corruption when write-behind is loaded on server side
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 639 (Data corruption with  write-behind on server side)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=639

commit f823b85d80bd2c9563a7a9d8762ea668dee13176
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Feb 12 04:08:03 2010 +0000

    features/locks: Set dummy fd ctx in all relevant places so that release callback in locks is always called.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 449 (Handle flock calls in a different domain from fcntl calls)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=449

commit 090a96d0a5963bc62efc3354480e277610cab7e6
Author: Anand Avati <avati@gluster.com>
Date:   Sun Feb 7 04:30:20 2010 +0000

    dht: Remove pointer casting in layout handling
    
    Small changes by Anand Avati <avati@gluster.com> over original submission:
    
    Remove pointer casting (copy data to proper memory before using it). Fixes bug #493.
    Hello,
    
    See bug #493 for more information on this patch.
    
    http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=493#c2
    
    This patch assumes that the scope of disk_layout is local wherever it is
    used. Seems correct, not really checked, though.
    
    Greetings,
    
    Hraban Luyat
    
    Signed-off-by: Hraban Luyat <hraban@0brg.net>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 493 (tcp + dht + armv5tel: ???brick: disk layout has invalid count 29696???)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=493

commit fd4523e667f19cf5c4f3849679aacf41f860a766
Author: Hraban Luyat <hraban@0brg.net>
Date:   Mon Dec 21 01:29:46 2009 +0000

    Fix memory access in afr's self-heal code (replace pointer casts by memcpy).
    
    The previous patch I submitted for this file (afr's self-heal code)
    introduced a terrible error. I overlooked the error checking in the
    original code and misplaced the memcpy (too early).
    
    So, please disregard the last one, this one is better :) hopefully.
    
    Apologies.
    
    Signed-off-by: Hraban Luyat <hraban@0brg.net>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 493 (tcp + dht + armv5tel: brick: disk layout has invalid count 29696)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=493

commit 137f94ed123b1c7c7ada541aaa599679e19888f6
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Feb 5 01:38:29 2010 +0000

    'lookup-unhashed' option of distribute should be 'auto' by default.
    
    * Added 'auto' option, older boolean options works as they used to.
    
    * This option should make 'create' rate faster, also handles
      self-healing of linkfile properly in case of scaling to
      more servers or filesystem is getting full.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 584 (automatically configure 'lookup-unhashed' option)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=584

commit c3005ce736d6bb3391e5f46930d355fc6b0f4d6e
Author: Anand Avati <avati@gluster.com>
Date:   Fri Feb 5 05:00:20 2010 +0000

    Fixes for MacOSX and Solaris build
    
    Fixes for Solaris and MacOSX build errors.
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 481 (Fix compilation failures in Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=481

commit 4f736b6eb9d761287b6bf4ecfc19974a43a8644f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Feb 1 07:31:40 2010 +0000

    cluster/dht: Remove linkfile before unlinking the datafile.
    
    dht_unlink: If a linkfile exists, remove it first before attempting
    to remove the datafile. This eliminates the case where dht would
    end up with the linkfile intact and the datafile gone, and the user
    not being able to remove the linkfile.
    
    Thanks to He Xiaobin <allreol@gmail.com> for debugging this
    issue.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 188 ([ glusterfs 2.0.6rc2 ] - "Directory not empty" on rm -rf)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=188

commit 8bcc534da4b2b29709a80327687085876b02ff5a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Feb 2 06:51:15 2010 +0000

    storage/posix: Set op_ret to -1 when open fails.
    
    Thanks to Jeff Darcy <jdarcy@redhat.com> for
    the bug report and the patch.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 581 (posix_open does not report open(2) failures correctly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=581

commit 902422d4de87b5db099cf084025120cc980fabbd
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Jan 29 03:26:12 2010 +0000

    performance/write-behind: Set right an incorrect message displayed in log
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 579 (write-behind cache-size less than 128KB leads to error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=579

commit 4462b4a31e7ac3a4394f46d7d3067cc03fd24dee
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Jan 28 08:24:23 2010 +0000

    cluster/dht: Check for size 0 in check_is_linkfile()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 574 (Sticky bit files are not listed in the output of ls on a dht volume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=574

commit 15b3f715ac6c7dc127723908f269f0418b61de71
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jan 27 07:19:43 2010 +0000

    transport/socket: guess an appropriate address family when it is not specified in configuration.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 561 (with address family set to 'inet-sdp', transport/socket doesn't work correctly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=561

commit e5a43ac65f60b7c4163eba6d7e15b60c54879813
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jan 28 06:55:05 2010 +0000

    storage/posix: Fix device number handling.
    
    There are two fixes in this patch:
    
    1) If the device number has changed, do a fresh stat on the export
       directory and if it matches the device number of the file,
       assume a remount happened and remember the new device number
       as official (this helps automounted export volumes).
    
    2) Don't log the "device number changed" message if it is due
       to a stat on ".." (in posix_readdirp), as it could be because
       ".." leads us out of the exported volume.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 576 (crossing device (2056) + fuse LOOKUP error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=576

commit 5a574d96c392b19a92bb925b4b4dd268393831ea
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Tue Jan 26 09:06:18 2010 +0000

    Revert "Server backend storage hang should not cause the mount point to hang."
    
    This reverts commit a0b148ea4e2a0163548eeb89b7580be4adbb8070.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 272 (Server backend storage hang should not cause the mount point to hang)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=272

commit ffc36da0fd9a925aa2a23026b9244787d2c0a5fd
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Tue Jan 26 03:43:15 2010 +0000

    Fix fetching volume file from the server, by sending parent up through the xlator graph.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 573 (3.0.1 doesn't fetch volfume files from the server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=573

commit 6041019b63cef990d9892ea2a1cfe219166509df
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jan 25 07:02:45 2010 +0000

    mount/fuse: Fix file type checking.
    
    This patch fixes two things:
     - Check for symlinks and set d_type appropriately
     - Use S_IS* macros for checking.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 571 (find -type l ignores symlinks on GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=571

commit 7b12c4eb7e20251b9b128e905518478df25d2af2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jan 25 05:59:28 2010 +0000

    storage/posix: Fix an access-after-free bug in release() and releasedir().
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 533 (close() should not block main loop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=533

commit 61dbadb2e775d8f2011157c453100a77024e87bf
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Jan 25 05:43:24 2010 +0000

    performance/io-cache: cache only those files whose size falls under configured window.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 570 (Cache only those files whose sizes falls under a configured window size)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=570

commit 3eef8dfd1bd7775e2b5ddddb07726b4bf4f6ee22
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Jan 25 05:09:40 2010 +0000

    Fix occurence of cache-size being floating point
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 516 (cache-size should not be hard-coded to 1GB)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=516

commit e5f49cc81a976489cb7629cdf1aacf467e9e22a5
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 17:37:38 2010 +0000

    protocol/client: timeout tweaks
    
    * option frame-timeout 0 now means no frame timeout
    * option ping-timeout 0 now means no ping timeout
    * extended frame-timeout range from 0 to 1 day
    * extended ping-timeout range from 1
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 450 (frame-timeout range should be higher)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=450
    
    BUG: 423 (Disable protocol timeout)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=423

commit 83d1db8ee0cc79a8d5532df0d61d0efc8c1fc0a6
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 16:52:48 2010 +0000

    trace: multiple fixes
    
           Jeff Darcy <jdarcy@redhat.com>
    
           Jeff Darcy <jdarcy@redhat.com>
    
    - whitespace and indentation cleanup
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 168 (trace does not output debug messages)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=168
    
    BUG: 473 (Trace misreporting pre/post attributes for setattr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=473
    
    BUG: 519 (Possible SEGV when tracing readlink)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=519
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit c9a205497328a0d9ad0d005ae5c2483011e852f9
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 15:18:21 2010 +0000

    protocol/server: unlink dentry only for non-root inodes
    
    in server_lookup_cbk, unlink dentry from the crash on receiving
    ENOENT from subvolume only for non-root inode. ENOENT can be returned
    for root inode if export directory is deleted
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 526 (glusterfsd crash when export dir is deleted and revalidate happens on /)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=526

commit bc111de015918ceeb0234596860a461dccb6862c
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 14:49:05 2010 +0000

    write-behind: fix 'option enable-trickling-writes'
    
    fix logic in __wb_mark_winds to properly initialize incomplete_writes
    and conditionally check based on enable_trickling_writes flag
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 547 (write-behind enable-trickling-writes working?)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=547

commit 899b89a8c2faee55128db392cdb426e08e2289e7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 23 15:06:38 2009 +0000

    booster/fcntl: implement F_GETFD and F_SETFD.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 446 (apache does not start in daemon mode on fedora core 11.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=446

commit da505a63c12ea9be0e783711547fe7bbfecf05ea
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 13:26:39 2010 +0000

    dht: initialize layout type
    
    Instead of relying on CALLOC's zero initialization which happens
    to be the value of DHT_HASH_TYPE_DM, explicitly set the value
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 523 (Hash type is not initialized in dht_layout_new)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=523

commit 6313f854fb41ef0a61a40b08a4cf05254763eb21
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Jan 23 12:53:56 2010 +0000

    protocol/client: Look only for op_ret while handling a setvolume response.
    
    op_errno should not be looked up to stop processing setvolume_cbk().
    This fixes the problem of 3.0.x clients crashing if they attempt to
    connect to 2.0.x servers.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 564 (3.0.1rc3 server daemon crashes when any of the 2.0.x version client connects)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=564

commit 502fef89bb352aa8092c3b2e606757c5ef644171
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 07:03:08 2010 +0000

    error-gen: change all STACK_UNWIND calls to STACK_UNWIND_STRICT
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 6f15b21994e26925a587ab8965ab909abbfbeece
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 07:02:35 2010 +0000

    error-gen: unwind fsync with proper parameters
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 553 (server crashed in server_fsync_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=553

commit 546168723f5b04a95aa1dab80679591335c5fc75
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 05:14:49 2010 +0000

    protocol/server: cleanup whitespaces
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 272 (Server backend storage hang should not cause the mount point to hang)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=272

commit a0b148ea4e2a0163548eeb89b7580be4adbb8070
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 05:14:31 2010 +0000

    Server backend storage hang should not cause the mount point to hang.
    
    Submitted-by: Krishna Srinivas <krishna@gluster.com>
    NOTE: fixed compilation issues in posix.c introduced while merging
    
    storage/posix polls for FS/kernel being functional by issuing
    statvfs() call. In case statvfs expires the timer, storage/posix will
    send CHILD_DOWN to upper translator. Ultimately this will cause
    protocol/server to disconnect all clients connected and also cleans up
    the data structures. Hence if soft lockup or other kernel bug causes
    backend FS to hang, the clients will not be hung.
    
    Signed-off-by: Krishna Srinivas <krishna@gluster.com>
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 272 (Server backend storage hang should not cause the mount point to hang)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=272

commit 9c53d5daf403f6fbfde76dec121295a4c156b32e
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 05:13:24 2010 +0000

    core: fix initialization of disjoint xlator graph
    
    if graph has disjoint subgraphs, send GF_EVENT_PARENT_UP to every top node
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 272 (Server backend storage hang should not cause the mount point to hang)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=272

commit 95dba6f085379ce8e07f316bc92c479956b5b221
Author: Anand Avati <avati@gluster.com>
Date:   Sat Jan 23 00:46:16 2010 +0000

    protocol/server: handle group id decoding in a stricter way
    
    This causes crash between 3.0.x servers and 2.0.x clients
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 564 (3.0.1rc3 server daemon crashes when any of the 2.0.x version client connects)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=564

commit 375f08e1b56f61c5687bb276fb95bea230085f77
Author: Anand Avati <avati@gluster.com>
Date:   Fri Jan 22 08:53:49 2010 +0000

    transport: set proper reference counts on peer_trans for local connections
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 562 (crash resulting from bad refs in transport_setpeer)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=562

commit a116e5b3ef2d4fbb57a5690a01368ec7aa0942aa
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Jan 22 03:02:32 2010 +0000

    transport/socket: use appropriate address family macro when address family is inet-sdp.
    
    - sa_family should be set to AF_INET_SDP only during call to socket system
        call. For all other calls, sa_family should be AF_INET.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 561 (with address family set to 'inet-sdp', transport/socket doesn't work correctly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=561

commit ab8cabcd30bbb5dde4cb8a35d4fd88136994f526
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Jan 21 05:36:42 2010 +0000

    Cache size is now dynamic and is 20% of the total memory on the client side.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 516 (cache-size should not be hard-coded to 1GB)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=516

commit 27399cc92d62a168f768c490fc19c935e7e513f1
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jan 21 07:28:59 2010 +0000

    cluster/afr: Send the struct flock returned by the server to the user.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 521 (SPECFS validation fails over distribute + replicate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=521

commit 84fe79c086a4623e1bb1c0ca5cebff19d19d15ec
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jan 21 06:46:25 2010 +0000

    storage/posix: Make the janitor sleep duration configurable.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 533 (close() should not block main loop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=533

commit a6a1f596a443b6a015dca6435f1d22fc582acc80
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Jan 19 08:11:05 2010 +0000

    extras: Add defrag scripts to the repository
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 478 (Add defrag scripts into glusterfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=478

commit a23185f3a43ec95a56af9f0f543b67a1fcfb4852
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Jan 15 06:59:00 2010 +0000

    storage/posix: Hand off calling close() and closedir() to the janitor thread.
    
    Let the janitor thread handle calling close() and closedir() on fd's and DIR *
    when posix_release is called. This avoids blocking the main server loop
    due to close().
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 533 (close() should not block main loop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=533

commit 4951f4dcc1b795b42fa845b6a89a9902af5b6586
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jan 12 13:21:59 2010 +0000

    stripe entry self heal
    
    Create the entry (either regular file or directory), when its
    missing in some of the subvolumes and available on some.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 535 (stripe entry self-heal..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=535

commit e6f074f93195b2e7d92812f26782e8dc281a1329
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Dec 30 21:45:20 2009 +0000

    default log file now doesn't start with '-'
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 490 (Default log file path should not begin with '-')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=490

commit 5522f6eaef99616efe01b8f4688be0486e511b12
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jan 12 04:14:25 2010 +0000

    cluster/afr: Pick a source for metadata self-heal even if all nodes are innocent.
    
    If metadata changelog has been disabled, all subvolumes
    will be innocent. In that case, simply pick the subvolume
    on which the file has the lowest uid as the source and
    sync other subvolumes to it.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 451 (metadata self-heal does not a pick a source if mode/times have been changed at the backend)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=451

commit da09bf7fafa725db7f6e778f7fb5645276978948
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Jan 12 17:47:25 2010 +0000

    libglusterfsclient/readv: fix data corruption.
    
    - libgf_client_readv should return the total number of bytes read by
         multiple invocations of libgf_client_iobuf_readv, instead of return value
         of last invocation.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 531 (accessing a file through apache results in Permission denied errors.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=531

commit a1965b73da712644d1536d0dac3212041de5eb0c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Jan 6 20:18:47 2010 +0000

    cluster/unify: don't call xl_init_tree on namespace node.
    
    - just before xl_init_tree call on namespace, unify node is set as parent of
        namespace node and since xl->ready of unify node is set only after return
        from init call, calling xl_init_tree on namespace node will result in
        execution of init of unify node for the second time. This results in
        following bugs:
    
        * since during second execution, parent of namespace node is unify, init of
          unify xlator fails.
        * even if init did not fail, re-execution of init in itself is bad, since it
          results in memory leaks etc. Worse, it can result in infinite recursive
          calls into init of unify node.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 518 (unify does not start)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=518

commit 7317a250caa96b00072a8a7cb2b2c18016e8a8d2
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Jan 11 01:20:21 2010 +0000

    features/locks: Fix broken interface grant_blocked_inode_locks
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 496 (deadlock in pl_inode_setlk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=496

commit 3647c9707f0124ae2fea21b4d501461e0e9b0169
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Jan 11 01:19:05 2010 +0000

    features/locks: Do not call grant blocked locks in pl_forget
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 496 (deadlock in pl_inode_setlk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=496

commit d0c355917839ac06463ea1d0852eb56835cb7b45
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jan 12 03:57:42 2010 +0000

    fuse: treat DESTROY message as proto requires, ie. don't leave it unanswered
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit fb234e86288776386daad21fd6632414376b1cdc
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Jan 8 12:22:45 2010 +0000

    transport/socket: Enable NODELAY even if no option is set.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 524 (TCP_NODELAY not set when expected on client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=524

commit 2674d226f41bf090c8f69c676f22102f877a75c5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 24 12:10:09 2009 +0000

    libglusterfs/inode: add NULL checks.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 510 (crash in inode_ref)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=510

commit 3adb7082c63d28950aca21718be84b65806e5d6e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jan 7 05:17:17 2010 +0000

    cluster/afr: Use dict_ref instead of dict_copy_with_ref.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 509 (Crash in afr_local_cleanup ())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=509

commit 90d18c74defcc11ee4b31c49d2700f96c18016e9
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jan 5 07:19:40 2010 +0000

    fuse: fix memleak
    
    continuing the work of d281971e
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 438 (Memory leak)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=438

commit 013850c9bedacdb868eee6b70f3aa6b46d4acfab
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Dec 24 06:59:44 2009 +0000

    fuse: add mtab entry asynchronously
    
    Instead of taking libfuse's approach to the bug referred
    -- making use of an ad-hoc mount option --, we get over
    the issue by not waiting for mtab manipulation to complete.
    If mtab manipulation happens to fail for some reason, just
    log an error message (instead of aborting the mount).
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 511 (mount hangs with some audit configurations)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=511

commit ea1403d8d922c3f08dc6feecc17d6eb33b8a72d2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Dec 24 05:30:42 2009 +0000

    storage/posix: Zero out the checksum array in rchecksum.
    
    Set the checksum bytes to zero to ensure random junk
    is not returned as the checksum.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 3bcf8d4ce67654e2b5648ae11aaeb2e49dbcfa95
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Dec 28 06:07:48 2009 +0000

    cluster/afr: Allocate diff algorithm loop_state structures only once.
    
    Instead of CALLOC'ing a loop_state structure at the beginning
    of every loop, keep a table of allocated structures and reuse
    them.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 9658e13bd91849f75d968376aae5b937aabec512
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Dec 24 05:30:40 2009 +0000

    cluster/afr: Report number of blocks healed during diff self-heal.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 9331e101a4cd0a3faff25cf7dd603762296c7345
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Dec 24 05:11:40 2009 +0000

    protocol/client: Fail revalidate with ESTALE.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 6917011ee224fc41f6ca46a674d9c2df4e72913a
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Dec 22 01:53:33 2009 +0000

    properly ref/unref fd in stripe_opendir_cbk
    
    fixes the crash due to dereferencing NULL fd pointer
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 497 (Client crashes in fuse_fd_cbk while running ltp tests)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=497

commit 77d9a17a712a250c773a2bc724f16ecb3a3aa919
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Dec 21 04:30:04 2009 +0000

    features/locks: Unwind if inode is NULL to prevent 'lost' frame.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 96ae032a9cb9b198f31e26aba30a39e5148a2ba4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Dec 18 12:38:04 2009 +0000

    Support for Compilation on Solaris
    
    This is based on patch at:
    
    http://node3.rnode.ru/glusterfs-3.0.0-p1.patch
    
    Thanks to Petrunin Egor <shellcode@mail.ru> for this patch.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 481 (Fix compilation failures in Solaris)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=481

commit 2a51ab19e6370325a5ebac9ed63f8606738919ec
Author: Hraban Luyat <hraban@0brg.net>
Date:   Sat Dec 19 15:47:25 2009 +0000

    More robust dictionary (un)serialization (fixes bug #397).
    
    Hello,
    
    This patch fixes bug 397: dictionary (de)serialization used pointer
    casting which forced word-alignment on (at least) armv5tel, causing
    corruption while writing and reading buffers into memory. It also adds
    some debugging (more information in case of errors).
    
    I tried to send this a few times already but I think it got bounced from
    the list.
    
    Greetings,
    
    Hraban Luyat
    
    Signed-off-by: Hraban Luyat <hraban@0brg.net>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 397 (dictionary serialization / deserialization fails on armv5tel)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=397

commit ea18fce5cd759a19aa928393a4b30cb87d33beec
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Dec 18 07:51:12 2009 +0000

    fuse-bridge: Don't try to fill a loc in setattr when we can proceed on with an fd.
    
    This fixes broken ftruncate on unlinked files.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 472 (OpenOffice fails on GlusterFS $HOME due to fuse_loc_fill error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=472

commit 40541428c7df4192d93b6bc61a92784ca56c8b3f
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Dec 18 07:49:43 2009 +0000

    fix typo in configure.ac
    
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 4921bc8c0fd045fdb82eb21eb358d378cdcad976
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Dec 18 07:06:27 2009 +0000

    distribute: Dont dereference sbuf on failed readlink_cbk
    
    This fixes a crash that was caused due to a NULL pointer deref
    because a NULL sbuf is returned if the readlink fop fails.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 492 (distribute crashes in readlink)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=492

commit ff5170faa131b201bf8170601dbeae18b400542f
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Dec 17 15:41:21 2009 +0000

    Added null checks in "fini"
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 364 (Segfault in io-cache)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=364

commit cfe095763c4ec59026467e3b76a92c61c18f0792
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Dec 16 19:09:16 2009 +0000

    bug fixes in call-stub creation for {fsetattr, fxattrop}_cbk()
    
    'wind' flag was set in case of 'unwind' stubs, causing wrong variables
    to get free'd, causing process to segfault.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 483 (booster unfsd segfault)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=483

commit b64d55a5b879812ff01f749a609238316031f332
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Dec 16 00:48:16 2009 +0000

    cluster/dht: Check for pointers before de-referencing in dht_stat_merge()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 463 (Crash in dht_stat_merge ())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=463

commit d049402c7336df73b1af7524f5f06a42069aa6b5
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Dec 14 17:59:15 2009 +0000

    more cleanup in stripe stat structures
    
    Removed few more 'fops' from stripe. More cleaner stat structure return.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>
    
    BUG: 340 (Kernel Compilation fail in stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=340

commit 32b3961727cb61aed79de80bdc2c46da0dcea4d8
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Dec 11 08:50:34 2009 +0000

    fix typo in posix
    
    Signed-off-by: Vijay Bellur <vijay@dev.gluster.com>

commit 8379edd97876a85fe1231b7cc8d4cc40f962c5cc
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Dec 7 09:43:23 2009 +0000

    Disable fusermount by default in the rpm spec file and remove bdb references.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 349 (FreeBSD compilation error (alloca.h).)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=349

commit f0a026b837df2c85d44e1991a802d00201402a47
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Dec 7 02:07:39 2009 +0000

    Changed occurrences of Z Research to Gluster
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>

commit 2fa7e528f50236355aa29874bd57d96c429ef33f
Author: Anand Avati <avati@gluster.com>
Date:   Mon Dec 7 07:33:49 2009 +0000

    resolver: include RESOLVE_EXACT type for failure case when inode not found
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit a12bfdc8f32212354824a1b8dd7b27840518c4dc
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Dec 7 05:44:31 2009 +0000

    cluster/afr: Sync the parent directory's mtime during missing entries self-heal.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 137 (Parent directory mtime not reset after a create in self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=137

commit 0ae2b4be39214426a50f5e1fd09562f309819f32
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Dec 7 04:52:47 2009 +0000

    cluster/afr: Don't do entry self-heal in the background.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 7499335588eabb578c4dab06263cd416a4f3b2d5
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Dec 7 04:40:57 2009 +0000

    cluster/afr: Hold inode lock on 0-infinity for a flush transaction.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 4fdfc9fdcce340209d35e62f585c5897ca2a1104
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Dec 6 21:18:53 2009 +0000

    fix typo in 76d6f3fbe
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit e026edec58aa234ef0c923eb6fed50dc227b7f8a
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Sun Dec 6 21:16:12 2009 +0000

    Save st_dev properly in stbuf.st_dev from the same subvolume.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 433 (Posix conformance test failed on 3.0.0pre2 (Dec 3) release)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=433

commit 3b2c86c8ed77b04cda05b7cbd8e73f6d01db1bed
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Dec 6 16:38:06 2009 +0000

    removed every reference to BDB from configure.ac
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit 2bee3fb30bb05e5c6b9af9cbbe0b10deba0db790
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Sun Dec 6 13:51:03 2009 -0800

    Revert "performance/write-behind: Changed default value of option disable-till to 0"
    
    This reverts commit e6c35f74ff4a204cf016ebf201a2630b331f9434.
    
    This commit is found to trigger spurious self heal by causing flush and writev to get
    reordered. Reverting as a workaround.

commit c50bc71035d87b5df77f6331ced6229af5508a10
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Dec 6 14:29:04 2009 +0000

    fuse-bridge: set lk_owner to -1 for release forged flush.
    
    Server would interpret 0 as a sign of us getting disconnected.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 76d6f3fbe993dddd72540f461090803636fa2dc5
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Dec 6 14:27:57 2009 +0000

    fuse-bridge: make use of lock owner data in a protocol adherent way.
    
    No need for pid fallback, for those cases where we use it,
    it's always available.
    
    It appears conditionally in read/write/truncate (related to mandatory
    locking). There just get it for demonstrative purposes.
    
    Discard it from release, there locking data exists only as a
    portability hack, no use of it on Linux.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 33f3abffe4f0de929d3732a472ad3df766d575b7
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 13:48:43 2009 +0000

    resolver: handle resolutions of paths
    
    support a new type of resolution where only the path is sent from the
    client over the wire without inode/parent/generation numbers. this can
    happen when cluster translators could not look up inodes on a server
    and later when the server comes up applications issues operations on
    the inode without a lookup (since they could be cd'ed inside). In these
    cases the server makes the best attempt to resolve the path and perform
    the fop on it
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit f08a2073d58ffff8c5b358fbb05702377a251b87
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Sun Dec 6 11:34:07 2009 -0800

    Revert "protocol/client: return ENOENT if inode context is missing"
    
    This reverts commit 4439876a34f2e5d19db0d8b05ce7d7722c1c466f.
    
    This revert is necessary for path handle resolution to work over the
    protocol where client/server talk only with the path, without inode
    or parent inode and generation numbers

commit 9e38b5066d42d47f1011e1d1bc32ed9c41df57ec
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Dec 6 13:29:08 2009 +0000

    features/locks: Implement release xlator callback.
    
    This patch solves the lock bailout problem seen recently when autoconf tools were run. This is a workaround,
    where 'flock' locks are removed in pl_release, if an explicit UNLCK call does not come. The complete fix would
    be to allow 'fcntl' and 'flock' locks to operate in different domains.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 449 (Handle flock calls in a different domain from fcntl calls)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=449

commit fe37a56dd42294e26158a29c15a35aeb8cb38be2
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 13:06:18 2009 +0000

    distribute: more cases of st_dev setting
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 433 (Posix conformance test failed on 3.0.0pre2 (Dec 3) release)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=433

commit 72e82741b52fb749eb912f97848b707d97ec69ff
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 12:47:25 2009 +0000

    distribute: return st_dev from the same subvol from where itransform is performed
    
    distribute should return st_dev from the same subvolume it itransforms the inode
    number. this is to ensure that there will not be false replacements of inodes in
    inode management
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 433 (Posix conformance test failed on 3.0.0pre2 (Dec 3) release)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=433

commit 0117cf0d3dfeb49b739e0da84f429b5375fd922a
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 12:46:14 2009 +0000

    fuse-bridge: log cases where newer generation is found in table
    
    This is usually the case when there is a bug a cluster xlator and returns
    generation number from the wrong subvolume
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 433 (Posix conformance test failed on 3.0.0pre2 (Dec 3) release)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=433

commit b5ad85803b85ae83b2a1bcbe18c8b42265dc34dc
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Dec 6 10:50:18 2009 +0000

    features/locks: Disable mandatory locks, until we can use lock-owner field without problems in mandatory locking.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 21b06ce3e46c3125ee5f281b49f6fcc3a09c02e7
Author: Pavan Sondur <pavan@gluster.com>
Date:   Sun Dec 6 10:34:39 2009 +0000

    features/locks: Correct the order of arguments and print a log message in pl_flush.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit fdc187d11ead26710add3cd45dd5f306dad59900
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 07:42:30 2009 +0000

    protocol/server: more fixes in server_link_cbk
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 448 (server_link_cbk refers to @inode when op_ret is -1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=448

commit a53cd95827df0a9c560fdf5e07b0c23d03707b04
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 05:31:44 2009 +0000

    THIS: set THIS pointers before forget/release/releasedir callbacks
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ea93dd6397b79842c1d8e5189ff217201c002a8d
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 04:45:17 2009 +0000

    afr: fix fd ref leak in self-heal
    
    sh->healing_fd should be ref'ed only when healing_fd_opened is not set
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 7a3c372c7a8a3ad7d481f94a899fd4333d146634
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 04:44:59 2009 +0000

    libglusterfsclient: fix libgf_client_read to handle short reads
    
    Fixes two issues in the current code
    -short reads (reading larger than file size) result in failure of full read
    -reads which span multiple iterations return with the op_ret of only
       the last read
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 334 (glusterfs_read/readv should break large-reads into 128Kb block sizes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=334

commit 4235868f0ded7aeb157aef05f10d2df4a470a2c5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Dec 6 04:42:01 2009 +0000

    performance/stat-prefetch: remove the usage of THIS.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit bf23224e5dc2af09efd0888490f7af191052c874
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Dec 6 04:39:13 2009 +0000

    performance/stat-prefetch: fix memory leak.
    
    - rbt_hash_remove only removes entry from the hash table. It does not free
        the data.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 438 (Memory leak)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=438

commit 4d8c682181822834f46adaa6afea029556a0bb59
Author: Anand Avati <avati@gluster.com>
Date:   Sun Dec 6 04:41:02 2009 +0000

    protocol/server: fix bad reference to @inode in server_link_cbk
    
    when op_ret is -1, gf_log refers to @inode which can be NULL. fix
    this to refer to state->loc2.inode instead
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 448 (server_link_cbk refers to @inode when op_ret is -1)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=448

commit 9cedbb537f648a38606d14c425caa952dd5d0049
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Fri Dec 4 20:43:01 2009 +0000

    Fix critical argument validation bug found during initial testing.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 437 (Fix critical argument validation check on Fedora11 systems)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=437

commit a2d7ca2ee22de61bf43525e4a8a2928ce6dd8851
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Fri Dec 4 20:42:55 2009 +0000

    glusterfs-volgen honours now build level prefix.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 437 (Fix critical argument validation check on Fedora11 systems)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=437

commit b5da78348291435b2f711018c529c83dc824cff8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Dec 5 16:35:14 2009 +0000

    libglusterfsclient/chdir: assign op_ret the return value of libgf_client_chdir.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 446 (apache does not start in daemon mode on fedora core 11.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=446

commit 05140d5f3c84cde0f0a568a6deb000bb906174b2
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Dec 5 22:04:32 2009 +0000

    corrected the stripe's stat structure return logic.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 340 (Kernel Compilation fail in stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=340

commit 759d2ec189ce632022494baa478cc0d5256697e0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Dec 4 15:16:05 2009 +0000

    performance/stat-prefetch: don't check whether previous lookups have been failed in sp_process_inode_ctx.
    
    We need this patch for following reasons:
       1. The inode used in the successful lookup call may not be the one passed to
          fops operating on path. This may happen, if revalidate of inode is failed,
          but the lookup itself succeeds (in case of reavalidate failures, fuse
          sends a fresh lookup using new inode) and since inode_link, if there is an
          inode already associated with a path retains it.
       2. Only fops that "wait" in stat-prefetch for a lookup which is already in
          progress, need to check for the result of the lookup they are waiting on,
          before resuming and sp_process_inode_ctx is _not_ used in such contexts.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 428 (looks like stat cache not upto date..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=428

commit d281971e5061d4a339b31340798d6f1dbff348be
Author: Anand Avati <avati@gluster.com>
Date:   Sat Dec 5 06:03:04 2009 +0000

    fuse: fix leak in fuse_getxattr and fuse_getattr
    
    In fuse_getxattr, @finh was leaked in the case of posix ACL getxattr
    request
    
    In fuse_getattr, @state was leaked when fuse_loc_fill() failed
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 438 (Memory leak)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=438

commit 73ef824cbb8a468b70b57e503c98c226aed813a7
Author: Vikas Gorur <vikas@gluster.com>
Date:   Sat Dec 5 03:06:40 2009 +0000

    cluster/afr: Fix inode_ref's for local->cont.lookup.inode
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 3e86687e74bdf4847f3e35063dfb46e9871d6959
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Dec 4 21:27:15 2009 +0000

    fix crash in server protocol server-connection-destroy
    
    a variable allocated inside a condition was getting reffered outside
    the block. If the condition fails, there used to be a crash.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 439 (crash in server protocol, while destroying connection)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=439

commit 89bbaa124af8c54bb7ca8b85ad5d40f0bb754e49
Author: Anand Avati <avati@gluster.com>
Date:   Fri Dec 4 09:28:23 2009 +0000

    posix_rchecksum() - fix leak of read buffer
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 4439876a34f2e5d19db0d8b05ce7d7722c1c466f
Author: Anand Avati <avati@gluster.com>
Date:   Fri Dec 4 08:12:43 2009 +0000

    protocol/client: return ENOENT if inode context is missing
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit cba270e7dfe271dfa43cd7127089b91dfedf838f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Dec 4 06:04:37 2009 +0000

    mount/fuse: Refactored fuse_setattr.
    
    If both truncate & setattr need to be sent from fuse_setattr,
    they are now sent one after the other (setattr first, and then truncate)
    instead of being sent parallelly. The earlier code that sent them parallelly
    had a couple of problems:
    
    1) A bug in the logic that would sometimes cause the setattr call
       to never return, making the application hang.
    
    2) A possibility that truncate and setattr would race at the server/io-threads/posix
       end, thus returning the wrong stat structure to the application.
    
    This patch also removes an unneccessary "can_fuse_return" call in
    fuse_attr_cbk, which would cause a call to hang if STAT or FSTAT failed.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 05ad7717083057de819ad545591bffeb8af2f741
Author: Anand Avati <avati@gluster.com>
Date:   Fri Dec 4 04:52:33 2009 +0000

    afr: fix memory leaks
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 349f9b77178aac3d2823bb35b0dc6c40b7a3b876
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 3 21:47:23 2009 +0000

    performance/stat-prefetch: add "caller" arguement to sp_process_inode_ctx.
    
    - since sp_process_inode_ctx is called by many fops, if the context is not
        set "caller" argument can be logged in log msgs to identify caller.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 45494f35deb30b6e0410351bdea7cf10f8f83c04
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 3 21:47:11 2009 +0000

    performance/stat-prefetch: implement sp_check_and_create_inode_ctx.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 4db7a358a294e11568ef818e64d5b3f37176609b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 3 21:46:52 2009 +0000

    performance/stat-prefetch: refactor sp_lookup_cbk to use sp_update_inode_ctx.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 58535b168ca9d65a5c5018f89882d7c18d8f15fe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 3 21:46:40 2009 +0000

    performance/stat-prefetch: dont check for inode context in fops like create, mkdir.
    
    - context will not be set as a fresh inode is passed in each of these calls.
        instead create a new context.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 290a38912ce9f942f4ebdd24fcb0033214ecc537
Author: Anand Avati <avati@gluster.com>
Date:   Fri Dec 4 03:50:47 2009 +0000

    protcol/server: server_connection_destroy - destroy frame after issuing flush
    
    frame was getting destroyed after unlocking, but before issuing flush. This
    could result in corruption if an fd was opened between server_connection_cleanup
    and server_connection_destroy because of pending open calls in io-threads at the
    time of POLLERR disconnection
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 430 (Server crash when client is killed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=430

commit e7b86dedcdde48e37a2d50370998d7285624bdb8
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Dec 2 18:18:35 2009 +0000

    features/locks: Process State Dump support for locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit aa53bb583d2d01867a2db1d217001fc897e2b835
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Dec 3 16:10:17 2009 +0000

    fixing some warnings on 64bit machine.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 408 (warning while building on 64bit machine..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=408

commit cec1f78d42f49f35448d81c944afb9afae19c959
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Dec 3 16:10:16 2009 +0000

    features/locks: Fix inodelk leak when issued an UNLOCK.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit f4983bb29be027e40fcd379d0a018b87cf82fc85
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Dec 3 16:09:22 2009 +0000

    storage/posix: Fix Leak in posix_getxattr while filtering gen-number xattr.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 54046015d3c732b48304c9a5ecf7a7f8ff94c90e
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:12 2009 +0000

    mount/fuse: Print correct log message if encountered with errno - EAGAIN.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 26257254fb42c132ff2e0565655fdc382184d8af
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:11 2009 +0000

    features/locks: Release all locks of an fd when a client disconnects.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 120b446967ef33701a31d0da23324177922a3d73
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:10 2009 +0000

    features/locks: Changes in log messages reflecting lk-owner.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 83487d024bcfe671ef83752c8c3a8b56b8dcee2b
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:09 2009 +0000

    protocol/server: Changes in protocol client to include lk_owner in protocol header.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 687311adfd08f55de5f70cc89d69c5da0f37a80f
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:08 2009 +0000

    features/locks: Use owner field in inodelks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 31b18f256fa3972a0cebc51cc15127440321c4c4
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:07 2009 +0000

    features/locks: Use owner field for entrylks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit e0c09ea80904a26ac932eec546d7675fc0d2cd08
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:06 2009 +0000

    features/locks: Use lock_owner from fuse in posix locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 1c8aa56a1bcff7640b65102782641ab0d53861d2
Author: Pavan Vilas Sondur <pavan@gluster.com>
Date:   Thu Dec 3 14:51:05 2009 +0000

    mount/fuse: Use fuse lock_owner field in posix locks.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 336 (Use lock owner field from fuse in locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=336

commit 4645dc9a0be85d64f0a19c4cc9cf8cdc24e24865
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Dec 3 08:11:36 2009 +0000

    mount/fuse: Handle the case when attribute_timeout is set to 0 in dictionary.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 252 (client coherence problem with locks and truncate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=252

commit 6922f156d65e7426b90f6ae5ebf0fc87f162554c
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Dec 3 08:10:57 2009 +0000

    glusterfsd: Handle argument attribute-timeout when set to 0
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 252 (client coherence problem with locks and truncate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=252

commit 3208d63c0ffd1735bc95c6986b2a3ddd96ba71d6
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Dec 3 05:37:05 2009 +0000

    core: Change replicate trash directory name to ".landfill".
    
    The earlier name ".trash" conflicts with the name used by
    the trash translator.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 227 (replicate selfheal does not remove directory with contents in it)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=227

commit 5821d2cf591789760e790d4af0575d1b9754c08d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Dec 3 05:15:09 2009 +0000

    core, client, server: Support auxiliary group ids
    
    Support for auxiliary group ids is needed for transmission
    of more than one group id right through the xlator tree
    so that posix can use these group ids to perform
    in-house permission tests. The in-house permission checks are
    needed so that we do not have to depend on non-POSIX calls
    like setfs[ug]id for changing the user for each fop.
    
    The setfs[ug]id  are also limited since they do not allow setting
    multiple group id as required for operation with NFS, which sends
    us all the group ids for a process issuing file system requests.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 400 (Support auxiliary gids in GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=400

commit 930f709881d85774baab1df57c2c03de93110bf7
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Dec 3 03:57:15 2009 +0000

    cluster/afr: Don't mark the fop as failed if rmdir returns ENOTEMPTY.
    
    Marking the fop as failed in the ENOTEMPTY case led to spurious
    entry self-heals.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 2615d1a9558868b0b247375fc7560ea399390516
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Dec 3 03:43:12 2009 +0000

    libglusterfsclient: Separate order of path compaction and VMP search for abs and rel paths
    
    The previous set of changes for relative paths in libglusterfsclient
    break the absolute path operation. The fix involves differentiating
    between absolute and relative paths in terms of the order
    in which the 2 operations are performed:
    
    - path compaction
    - VMP search
    
    For absolute paths, since we assume that VMP is already perfixed to the
    path, we need the following order of operation:
    
    1. VMP search
    2. path compaction on the path components beyond the VMP.
    
    For relative paths, the operations are reversed because there
    we do not have a VMP pre-fixed in order to perform a VMP search.
    This means that a path compaction combined with prepending of the
    CWD is needed to get an absolute path before the VMP is searched for.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 0f73d6c94ce00eae317463fe32de40bb4225c820
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Dec 3 03:16:34 2009 +0000

    performance/stat-prefetch: don't access stat if lookup has been failed.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 429 (crash in lookup_cbk when lookup returns with error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=429

commit d666c882cf6896fb700a15bd72e53c675356f8fc
Author: Erick Tryzelaar <idadesub@users.sourceforge.net>
Date:   Wed Dec 2 17:32:05 2009 +0000

    Hopefully fix rpm building for everyone by rm-ing *.a and *.la
    
    My Fedora 11 machine doesn't seem to make the .a files, so it errors out,
    but it appears someone else's machine does, so try to fix it by explicitly
    removing the .a and .la files, rather than excluding them from the %files
    section.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0cac194a149871999072e8573d7eccc4b4723e0c
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Dec 2 18:19:53 2009 +0000

    Disable fusermount by default in configure.ac.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit 29890d798167338c0aaa3a1bab26fe416ddadf19
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Dec 2 14:28:59 2009 +0000

    posix-compliance test now passes over stripe
    
    * needed to have ctime in the statbuffer from first subvolume.
    * unlink should be sent to all subvolumes no matter what.
      (earlier it was sent to all nodes only in case of regular files,
       causing directory not empty type of errors in 'rm -rf' cases)
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 321 (over distributed-stripe set-up, annihilate.sh fails.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=321

commit a3d5eb9b2a08190528b1e024bdfbff41c0a6b88f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 14:17:18 2009 +0000

    storage/posix: Change janitor sleep duration to 10 minutes.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 227 (replicate selfheal does not remove directory with contents in it)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=227

commit be762405e773ac25054cd08ba7f5760389db3bdd
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 14:02:44 2009 +0000

    cluster/afr: Don't do transactional flush if pre-op has been nowhere done.
    
    If a pre-op has not been done on any subvolume at all, there
    is no reason to make flush a transaction call.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 427 (flush on a file opened read-only should not hold locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=427

commit 9cc2207e2ffc23e88c23a95bb0783156a85b57c4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 13:29:34 2009 +0000

    storage/posix: Filter out generation number xattr.
    
    Don't return the generation number xattr "trusted.<volname>.gen"
    in getxattr, since this can cause replicate self-heal to copy
    it over to another subvolume.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit e6c35f74ff4a204cf016ebf201a2630b331f9434
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Dec 2 12:17:32 2009 +0000

    performance/write-behind: Changed default value of option disable-till to 0
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 425 (Change disable-till default to 0)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=425

commit 494db717941e90ae209d416e00bf2c63490ba75e
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Dec 2 08:34:25 2009 +0000

    features/locks: Release blocked locks also when server requests to release all locks of a 'transport'.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 7d740b2c01224019525fda01235f56c3a4416747
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 12:20:10 2009 +0000

    cluster/afr: Add log messages when setattr fails in self-heal.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 14c5492a2c03728f18a20125b785f43f441dbfd5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 2 12:29:56 2009 +0000

    performance/stat-prefetch: get inode context from local->loc.inode instead of inode passed as arguement in sp_lookup_cbk.
    
    - @inode in sp_lookup_cbk may be NULL in case of failure of lookup.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 426 (stat on mount point hangs.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=426

commit 855a57a1f9c05d627c22f3091a7e0603d3e4092f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 10:28:34 2009 +0000

    cluster/afr: Fix conditional typo.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit c04c1a170dcc605efcf80c8ae2674b69488b591d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Dec 2 07:48:45 2009 +0000

    storage/posix: Added janitor thread.
    
    The janitor thread deletes all files and directories in
    the "/" GF_REPLICATE_TRASH_DIR directory. This directory
    is used by replicate self-heal to dump files and
    directories it deletes.
    
    This is needed because letting replicate walk the directory
    tree and delete a directory and all its children is too racy.
    Instead, replicate self-heal only does an atomic rename(),
    and the janitor thread takes care of actually deleting them.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 227 (replicate selfheal does not remove directory with contents in it)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=227

commit 90328b827768552a05bb12abf62d09c9566309d1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Dec 2 01:00:44 2009 +0000

    performance/stat-prefetch: fix access to inode table.
    
    - Access the inode table from one of fd->inode->table, inode->table or
        parent->table instead of from root xlators itable.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 67d6a0a6195a72bce251891fccbd38929d5586dc
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Dec 1 20:28:28 2009 +0000

    fixes to compile on MacOSX (no fuse client)
    
    These changes are required to make GlusterFS compile on MacOSX (10.5).
    
    Currently glusterfs server component alone will work over Mac, and it has
    to be built with following options to ./configure.
    
     "bash$ ./configure --disable-fuse-client --disable-fusermount "
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 361 (GlusterFS 3.0 should work on Mac OS/X)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=361

commit 0c4b5814e7402658493f1e16ef7fa9a8fa8b4be5
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Nov 28 03:09:02 2009 +0000

    bring new MOP called NOTIFY.
    
    which can be used as a bridge between client and server processes,
    when needed.
    
    This mop is needed now, so that many features in 3.0.0 can come in
    with this without bumping protocol version.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 201 (server should get notified about client 'umount')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=201

commit 0a6b3ce3bf4acd994cb67c9c79b7c03909443bdd
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 1 20:06:18 2009 +0000

    afr: remove memcpy of @local contents in afr_local_copy
    
    copy out members which are needed. memcpy of full local causes
    a copy of pointers without references and results in various corruption
    errors
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit dc16ba6f79726e9c42d2309947ad805978375b8c
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 1 19:58:02 2009 +0000

    afr: fix fd reference leak
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 933e87700e25e83bcd5e9ba4c4f580d48fcaccee
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Dec 1 12:03:08 2009 +0000

    performance/io-cache: Hold locks on inode before creating rbt tree.
    
    Lock is held before creating a RBT in inode. Also, did some re-factoring.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit 6afe4faeaa77911490b2eca0830928367543e504
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Dec 1 14:39:45 2009 +0000

    libglusterfsclient/read: break reads bigger than the iobuffer size into smaller ones.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 334 (glusterfs_read/readv should break large-reads into 128Kb block sizes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=334

commit 435b234325bdcdcea88c3e1c7e9d97deeee3eb9a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Dec 1 14:39:31 2009 +0000

    libglusterfsclient/readv: break reads bigger than the iobuffer size into smaller ones.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 334 (glusterfs_read/readv should break large-reads into 128Kb block sizes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=334

commit b491da7cc5fdcebdf641c5768685061221643611
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Dec 1 14:46:21 2009 +0000

    extras/benchmarking: port glfs-bm.c to master.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 422 (port glfs-bm to latest code-base)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=422

commit 8d9b1a1987840b5ab254db0ffe47663641d9ae15
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Dec 1 14:51:15 2009 +0000

    changed the version of glusterfs from 2.1.0 to 3.0.0
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ade63327d7beaf6f8458aba9f8980e15016b6f31
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 30 01:20:20 2009 +0000

    trash_ftruncate fop added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 142 (enhance features/trash  translator so it can work on client side too..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=142

commit 4f7886034742709b285499aa0052fdb21e9c42f6
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 30 01:19:10 2009 +0000

    trash_truncate fop added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 142 (enhance features/trash  translator so it can work on client side too..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=142

commit 7bb52eb192f9541e70bf48a206c2d78b5dbb5cb2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 30 01:18:41 2009 +0000

    trash_rename fop added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 142 (enhance features/trash  translator so it can work on client side too..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=142

commit 056e3e7a56a24291c6f07b9ef572ee8c8ff7c700
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 30 01:18:09 2009 +0000

    trash_unlink fop added
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 142 (enhance features/trash  translator so it can work on client side too..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=142

commit 936001b147a3adcf9731d02e8f2fb62e5e50caf4
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Nov 30 01:16:35 2009 +0000

    features/trash initial cleanup commit
    
    * support O_TRUNC flag in open (call comes to FS as 'truncate'
      or 'ftruncate' fop)
    * option to provide 'eliminate-pattern' so those files matching
      won't be kept in trash. Eg:
          option eliminate-pattern *.out|*~
    * option to give 'maximum' file size to keep in trash, ie, when a
      20GB file is deleted, it won't be kept in trash if max file size
      given is 1GB. Eg:
          option max-trashable-file-size 1GB
    
    These particular features are developped as a part of college project
    by following team:
    
    Sunil bhagwath <sunilkbhagwat@gmail.com>
    Yashaswi Kumar <yashaswikumar@gmail.com>
    Rashmi B K     <rashmibk17@gmail.com>
    Sandeep M      <astrophyster@gmail.com>
    
    Submitting after minor coding standard edits and memoryleak fixes.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 142 (enhance features/trash  translator so it can work on client side too..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=142

commit 90cebe19380b4319e3a4345f31268563b51e08c3
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Nov 30 01:17:22 2009 +0000

    Booster configuration fixed for per transport type and honours conf-dir option.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 421 (Make booster configuration honour conf-dir and transport type)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=421

commit 85ed82893aca7dd6307100660b9bba0233d52240
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Dec 1 06:11:06 2009 +0000

    cluster/afr: Don't do memcpy of afr_local_t in afr_local_copy.
    
    For the background self-heal frame's local_t, copy only
    required members --- not a wholesale memcpy. The memcpy
    lead to pointers being copied and then double free'd.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit cc57da87504621655d4acb7ec65e27f45b2b72d1
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Dec 1 06:11:05 2009 +0000

    cluster/afr: Set file size properly before unwinding from self-heal.
    
    Set the buf.st_size of the original frame's afr_local_t, and
    not the copy_frame'd one.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit ab99355f55ce8a55d5c9b339ced830723be5f213
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Dec 1 06:11:04 2009 +0000

    cluster/afr: Set the self-heal "source" as read subvolume even when not doing self-heal.
    
    This patch sets the read-subvolume equal to the self-heal "source"
    even if we're not doing self-heal (because some one else is already
    doing it).
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit d2a30ec4aaeaa546f6370a1377c44574ada5edbc
Author: Anand Avati <avati@gluster.com>
Date:   Tue Dec 1 07:02:02 2009 +0000

    stat-prefetch: fix unsafe reference to @local in sp_lookup_cbk
    
    stat-prefetch uses the main syscall frame for performing lookup on
    demand. this causes a potential reference to a freed local in
    sp_lookup_cbk after resuming the main syscall frame (which could
    have unwound and destroyed)
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 242 (If any of the writes fail, write-behind should not wait till the fd is closed for reporting errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=242

commit d7e0bf1757e5fae23bce3d09cd0d9fbbd822a067
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 30 15:48:38 2009 +0000

    performance/stat-prefetch: make lookup to wait for the completion of another lookup on same path if one is in progress.
    
    - If current lookup (2) does not wait for completion of the lookup (1) which
        is in progress, there can be a race condition where (2) completes ahead of
        (1) and resuming all the waiting operations in the queue. When (1) returns,
        the original operation (eg., stat, chmod etc) might've already unwound and
        hence the frame would've been destroyed.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 47a8f97b729dd6bb2a2dabd3ed250ebbdf8be7fc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 30 15:48:21 2009 +0000

    performance/stat-prefetch: don't use same variable for getting inode context of an inode and its parent.
    
    - this bug results in updation of flags in inode context of the parent
        instead of that of inode.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit cff970c45034f917a76182bc0a326d59f2cebd40
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 30 15:48:08 2009 +0000

    performance/stat-prefetch: fix errors in handling memory allocation failures in sp_inode_ctx_process.
    
    - the variables that are used for making decisions are assigned before
        memory allocations and these variables were not reset to
        correct values in case of memory allocation failures.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 2a3adcfe5c8d649a17b2d30f3715f26794dff6bb
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Nov 29 19:26:57 2009 +0000

    fix leaks pointed out by cppcheck static analyzer
    
    See http://cppcheck.sf.net
    
    [./build/libglusterfs/src/y.tab.c:2104]: (error) Memory leak: cmd
    [./libglusterfs/src/md5.c:306]: (error) Resource leak: f
    [./xlators/debug/io-stats/src/io-stats.c:1396]: (error) Possible null pointer dereference: this - otherwise it is redundant to check if this is null at line 1402
    [./xlators/cluster/stripe/src/stripe.c:3597]: (error) Memory leak: dup_str
    [./xlators/debug/trace/src/trace.c:2426]: (error) Possible null pointer dereference: this - otherwise it is redundant to check if this is null at line 2429
    
    These appear in rarely hit error cases or test/demo code so nothing
    serious, in fact.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 420 (fix leaks pointed out by cppcheck static analyzer)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=420

commit cc3967db49e5983f43530708c1eb4b2708546ad9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Nov 30 04:35:09 2009 +0000

    cluster/afr: Preserve generation number along with inode in lookup and creation fops.
    
    This fixes fuse_create_cbk conflict warnings and random errors while
    running dbench (typically open handle failure with ENOENT).
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit d21e0108638bdde5f46361aadb370061293c8146
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Nov 30 02:27:12 2009 +0000

    cluster/afr: Refactored lookup_cbk and introduce precedence of errors.
    
    Error handling in afr_lookup_cbk was faulty because it
    did not give priority to errors such as ESTALE over ENOENT,
    and ENOENT over other errors. This patch fixes that, and
    also breaks up afr_lookup_cbk into multiple logical functions.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 205 ([ glusterfs 2.0.6rc4 ] - Hard disk failure not handled correctly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=205

commit 357e464ffee8cbed84e0c34727b9226adbdb7bd2
Author: Anand Avati <avati@gluster.com>
Date:   Sun Nov 29 09:27:54 2009 +0000

    afr: fix crash in afr_sh_data_close
    
    when active_sink count is 0, the code proceeded into a dangerous loop
    resulting in a crash while issuing the call or in the callback
    afr_sh_data_setattr_cbk or afr_sh_data_flush_cbk
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 6c949d9d0ddc3397eac3207c0718743d49bd8707
Author: Anand Avati <avati@gluster.com>
Date:   Sun Nov 29 07:45:20 2009 +0000

    protocol/server: enhance trace logging
    
    add logging of fop name, callid number and make logging more friendly
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 77a7250b16c119e20c2d5c66a80b559455953a47
Author: Anand Avati <avati@gluster.com>
Date:   Sun Nov 29 07:37:32 2009 +0000

    afr: handle fdctx->pre_op_done handling
    
    reset pre_op_done[i] to 0 after issuing a postop in flush. this was
    missed during the introduction of pre_op_done[] array and was resulting
    in a lot of spurious self heals when spurious flushes were received
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 51600217be80dc9e1b1ad8bf20b7e5a95d31ec1c
Author: Anand Avati <avati@gluster.com>
Date:   Sat Nov 28 05:34:41 2009 +0000

    afr: fix logic to break out of diff/checksum loop
    
    When checksum fop returns error, mark for terminating the loop at the end
    of the iteration (when all checksum calls of that iteration return) and
    not immediately
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 1ec37aa78fccb45aa701a3380f6acf95819c7a39
Author: Anand Avati <avati@gluster.com>
Date:   Sat Nov 28 05:34:11 2009 +0000

    protocol/server: fix improper validation of fd in server_rchecksum
    
    state->fd validation should be done _after_ resolve_and_resume()
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 915299aff39c993fbe21e68e9458100db519535e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Nov 28 11:04:19 2009 +0000

    performance/quick-read: add options to doc/translator-options.txt.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 419 (Issues with writing files of size >= 1MB)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=419

commit 79243bfdeeb328126d30da22fd48756a1bf65dd3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sat Nov 28 10:52:37 2009 +0000

    performance/quick-read: change the maximum value of max-file-size to 1000KB from 1MB.
    
    - protocol restricts the maximum buffer size that can be received over network
        to 1MB. Since the buffer holding reply of lookup should also contain the
        lookup header and other key/value pairs of xattr_reply dict, the maximum
        file size that can be fetched through dictionary cannot be equal to 1MB.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 419 (Issues with writing files of size >= 1MB)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=419

commit 04da2ae78b83e1cb3e14379dd72d694fa03fc5e1
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Nov 26 15:47:28 2009 +0000

    Excluding static libraries.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 413 (rpmbuild fails with unpackaged files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=413

commit 4b363f1c968e7b9d2c339ea8e30dac5ca935da0e
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Nov 26 15:42:26 2009 +0000

    Removed deprecated export_dir in print string.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 412 (Remove deprecated export_dir in print string)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=412

commit 07d5b01960a8fc7754d1957451210fff2ed4617e
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 26 14:55:03 2009 +0000

    moved unify from 'cluster/unify' to 'legacy/cluster/unify'
    
    maintaining unify is not feasible, and its design of namespace is
    not scalable too. hence moving it to 'legacy/' directory..
    
    Thanks to unify, we learnt something about rename(). 'cluster/unify' has
    served GlusterFS well for more than 2years, and its the time to say
    goodbye :-(
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ff9944ff7910441a1f8b9784c153d5de5be62142
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 26 13:36:34 2009 +0000

    performance/stat-prefetch: Changed rbthash to make use of 1 bucket
    
    rbthash makes use of 1 bucket and a common mem-pool is being used for all rbt entries.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 03949adaf0c7fcfe10f31a802723613b357ec191
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Nov 26 12:08:44 2009 +0000

    Volgen rewritten using option parser and added proper support for booster.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 411 (Rewrite volgen using option parser and extend cifs/nfs support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=411

commit 9b2159c6111cff889c543fdaf7628fce03e50154
Author: Anand Avati <avati@gluster.com>
Date:   Thu Nov 26 07:22:08 2009 +0000

    THIS: transport to use xlator_notify() for proper setting of @THIS
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit bf34a8714e6ab9dce0670c2648f839165904f2f7
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Nov 26 07:51:26 2009 +0000

    protocol/server: Introduce option trace to log requests and replies in normal log.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit e91b3c49e3ab8787513764dfdadf503bc9a5da1f
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Nov 26 07:50:49 2009 +0000

    protocol/server: Get all fops to use the new 'resolve_and_resume' path in server/protocol.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 63f963700f0c89292092047ec2423e8d8ab1f955
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 26 06:37:30 2009 +0000

    Changed rbthash_table_init() to take a mem-pool argument.
    
    Changes in libglusterfs/rbthash:
    
    rbthash_table_init() now takes a mem-pool argument.
    The mem-pool argument would be mutually exclusive to expected_entries.
    If expected_entries is provided, mem-pool would be ignored and vice-versa.
    
    Changes in io-cache:
    1) Moved rbthash creation to readv.
    2) rbthash makes use of 1 rbt instead of 4096
    3) A global mem-pool is being used in place of a mem-pool per rbt.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit a928aa5e0d65b9439b8a10eb9dede954220ba9f3
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Nov 25 21:29:25 2009 +0000

    fixes in nufa
    
    Now nufa uses dht_conf->private variable to store its
    contents, and doesn't pollute distribute's structures.
    
    It used to hang earlier as layout_lock was not INIT()'d.
    
    whitespace-cleanup done on the code too.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 409 (implement a switch scheduler)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=409

commit fc87b19f0bd511ee294c058ea9066189ca06ce88
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Nov 25 21:26:24 2009 +0000

    switch translator added
    
    switch translator is a wrapper around distribute to work for a
    pattern based scheduling.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 409 (implement a switch scheduler)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=409

commit 057c071403eb808b065e760d91101d519f86b65c
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Wed Nov 25 14:40:55 2009 +0000

    Volgen supporting multidisks and booster configuration for nfs and cifs
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 396 (Volgen multiple export directory support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=396

commit 3429e8755756191d010896083ca9a7141682ead9
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Nov 25 15:13:37 2009 +0000

    add an extra check for loc->parent when loc->ino is not 1
    
    This extra check is needed only in case where setup is
    "server -> chain -> client", where for the root inode, inode->ino
    is not updated in the first lookup call, hence used to crash.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 377 (segfault in protocol/client with chaining)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=377

commit 28e2901806d35055ca58470bf26d72edb803ba01
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Nov 26 04:16:27 2009 +0000

    Fixed typo in gf_proc_dump for attribute_timeout.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 410 (Typo in gf_proc_dump for attribute_timeout)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=410

commit b80fac541701689b07940be518431bacb101f09f
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 26 03:29:46 2009 +0000

    don't allow stripe with just one subvolume
    
    stripe code assumes in many places that it will have more than one subvolume,
    but the strict check was not there in init, hence, if somebody configures stripe
    with just one subvolume, it will cause many fops with frame loss.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 340 (Kernel Compilation fail in stripe)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=340

commit d1f3cdc4dcae63b1bb8e6fd6ff0db791646e2ad2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Nov 26 00:53:49 2009 +0000

    protocol/server: Changed logging level of message on deep resolution
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 61a73726a51936fb59245a0ba9511c4907306130
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 26 00:38:28 2009 +0000

    changed the log level of failure case in client_setvolume_cbk
    
    It *should* be an error when a handshake fails. Its hard to debug
    it otherwise
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 26 (Version mismatch not handled correctly)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=26

commit 25c220cf505c71139afe0cefe5a04b7e435f77ba
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Wed Nov 25 13:15:36 2009 +0000

    Added boundaries for each fops, mops and cbks.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 366 (Infinite loop with centralized logging.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=366

commit 2517ec18aeae5d6952aace778dacdd1cde93efe0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 10:08:54 2009 +0000

    cluster/afr: Include "common-utils.h" instead of alloca.h
    
    alloca.h should be included on a platform-specific basis.
    Lets common-utils.h handle that.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 349 (FreeBSD compilation error (alloca.h).)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=349

commit 1c6a55b04c418106cf2be5156fa8e53b1adaa1b4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Nov 25 02:19:31 2009 +0000

    protocol/client: Make log message print both generation number and inode number.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 1bcb009cf65e57117653bbbb5cdf673f9d9142e9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Nov 25 07:51:23 2009 +0000

    cluster/afr: Do self-heal on unopened fds.
    
    This patch completes the previous patch for self-heal of
    open fds in replicate.
    
    If an fd was never opened on a subvolume, we remember that
    and do the open after we've done self-heal on that fd.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 9806bd1f58d80d158e3cfb6edee40e92ee30c6d7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Nov 24 20:47:00 2009 +0000

    performance/stat-prefetch: Add refcounting to cache objects
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 405 (Segmentation fault in stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=405

commit ca4c8115a839568405e1dea2f4bda01f43357921
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Nov 24 20:46:48 2009 +0000

    performance/stat-prefetch: remove lock member in sp_fd_ctx_t.
    
    - since the lifetime of fd context can be no longer than the fd, we can use
        lock in fd.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 405 (Segmentation fault in stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=405

commit 81af21adec38eb04de19694af1b3ce8a1a095ab7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Nov 24 20:46:34 2009 +0000

    performance/stat-prefetch: don't free the cache in readdir if the offset is not the expected one.
    
    - cache creation is expensive operation. Also, cache will be freed in
        releasedir. Hence, just remove all entries from cache without freeing
        the cache. However this is not entirely true, since sp_cache_remove_entry
        frees the old table and reinitializes a new table if all entries are being
        removed. When rbtree based hash table provides an interface to remove all
        the entries, sp_cache_remove_entry should be modified not to destroy the
        table.
    
      - this patch also fixes a race condition wherein the cache being used in
        lookup getting freed in readdir if the offset is not equal to expected
        offset.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 405 (Segmentation fault in stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=405

commit 250edc9e494fe0c59eff580df18080111ecb475e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:10 2009 +0000

    cluster/afr: Refactored the self-heal interface.
    
    Cleaned up the self-heal interface to callers.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 74612a456ad1602f8038fae79fee654eb427602a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:09 2009 +0000

    cluster/afr: Do self-heal on reopened fds.
    
    This patch brings in partial support for self-heal of open
    fds. The precondition is that the fd should have been opened
    successfully during the initial open() (or create()), and we
    assume that protocol/client has successfully reopened the fd
    when the subvolume comes back up.
    
    It works by doing an "up/down flush" (a dummy flush transaction
    to do post-op wherever necessary) and then triggering
    data self-heal on the file in the post-post-op hook of the
    dummy flush transaction. This ensures that any writes
    that come in during self-heal will wait until self-heal completes.
    
    The up/down flush is also done when a subvolume goes down,
    so that post-op is done on all subvolumes where pre-op was done.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 218959e0597b16755a98b19786ed6a42cd15cbc4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:08 2009 +0000

    cluster/afr: Provide a post-post_op hook in the transaction.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 9e3fddb13769288ddc13db3125b8bedf26058cdf
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:07 2009 +0000

    cluster/afr: Refactored the data self-heal algorithm.
    
    Refactored the operation of the data self-heal algorithm
    as:
    
    * open all fd's (if fd not supplied by caller)
    * lock 0-0 (if lock not supplied by caller)
    * fxattrop, fstat (instead of lookup)
       ... self heal ...
    * unlock (if lock not supplied by caller)
    * close (if fd not supplied by caller).
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 21cffbc219efc36229002e71a02b9270cfee9186
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:06 2009 +0000

    cluster/afr: Hold blocking locks for data self-heal.
    
    Data self-heal now holds blocking locks, and instead of locking
    on all subvolumes, it only locks on {data-lock-server-count} subvolumes.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit a63e189822a777b450eeaeda8622cdb0e5e7cb1d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 08:45:05 2009 +0000

    cluster/afr: Set read-child = source regardless of foreground/background self-heal
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 3fe840d93730f1f7feef053e58dfbc40f99cae04
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 07:41:36 2009 +0000

    cluster/afr: Fix inode context bitmasks.
    
    Set opendir_done and split_brain flags correctly
    in the inode context.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 4a43031ce0f045b673a50159dce5316bcae825ee
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 06:07:16 2009 +0000

    cluster/afr: Fix double-free in opendir self-heal callback.
    
    local->cont.opendir.checksum was being free'd both in the
    self-heal completion function and self-heal unwind.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 6adfd865588bdcf5ea67e8bde61dce131d18108c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:57:40 2009 +0000

    performance/quick-read: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit fe34bb798cbadc964447ad2fd60a870dc2891572
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:57:33 2009 +0000

    performance/write-behind: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 9aed8cd65940f99c9cdf647414d932750d2caf2d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:57:27 2009 +0000

    performance/read-ahead: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit afdc2c956912d8b01db414fceacd74d9c3ab3dbe
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:57:21 2009 +0000

    performance/io-threads: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 8b8205c2be7ea70b9eaab8da3cec5ec7e830c516
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:57:13 2009 +0000

    performance/io-cache: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 54188f9d8878b2a961050e001658f35e163caebc
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Nov 23 18:56:22 2009 +0000

    performance/stat-prefetch: use STACK_UNWIND_STRICT for unwinding.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 7c6bc261e7d60bb1c4103c2e2e64a8ab89aa66e9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Oct 14 14:07:51 2009 +0000

    cluster/afr: Unlock only those paths which have been locked during rename.
    
    For ENTRY_RENAME_TRANSACTIONs, keep track separately whether the
    lower_path and the higher_path have been locked, and unlock only
    those which have been.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit 1cd2e389020b8713d45dce44df9f473622109b0d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 24 04:46:35 2009 +0000

    cluster/afr: Fix handling of revalidate lookups.
    
    This patch does two things related to revalidate:
    
    1) If a revalidate fails on any subvolume, the entire lookup
       call is failed.
    
    2) Self-heal is not triggered on a revalidate if revalidate
       has failed on any subvolume.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 389 (auto-heal fails randomly and causes "Stale NFS file handle" errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=389

commit 5b483cb62f00faa66e8795e24856600b961c8d4a
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Nov 24 03:40:53 2009 -0800

    Revert "libglusterfs/src/gf-dirent.c: In gf_dirent_nb structure d_name should be char array of size 1."
    
    This reverts commit e151ab3ed4718606767146f18b416f8900552fbc.

commit 40dfc3e78b590af907caa8a4461730284648034c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Nov 20 07:35:45 2009 +0000

    storage/posix: Fix condition typo.
    
    Do comparision instead of assignment in if-condition
    in posix_link.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 254 (storage/posix has to do inode number transformation wherever it unwinds with a stat structure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=254

commit 96ac4559414035288fa18e72a21628ea3cdf6a4c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Nov 19 17:28:00 2009 +0000

    performance/io-cache: don't use stat got in read_cbk if it is zero-filled.
    
    - translators like io-cache, read-ahead return a zero-filled stbuf in
        readv_cbk and usage of zero filled stat for cache validation is not
        correct.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 376 (server-side io-cache is preventing client-side io-cache from working)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=376

commit 83598e6015d76e2bebd0a3ad5141801a2864af1c
Author: Paul Rawson <plrca2@gmail.com>
Date:   Tue Nov 17 00:13:24 2009 +0000

    Fix Redhat init file so that it knows the correct binary location
    
    Signed-off-by: Paul Rawson <plrca2@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 388 (Redhat initfile fix)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=388

commit 9503af54284e27104051cc7eafffd3f138c28851
Author: Erick Tryzelaar <idadesub@users.sourceforge.net>
Date:   Mon Nov 16 13:27:30 2009 +0000

    Fix rpm building for Fedora 11.
    
    I was running into a problem compiling glusterfs on Fedora 11, rpmbuild was
    complaining that it couldn't find any .a files. Since it doesn't look like
    gluster's creating archive libraries anymore, I removed this line from the
    spec file, and gluster started to compile again.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 717faf468fcac827d00c81c76ac53057c43e28fa
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 15:07:22 2009 +0000

    transport/ib-verbs: assign to qpreg before accessing it in __ib_verbs_lookup_peer.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 381 (glusterfs crash in ib-verbs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=381

commit 68a9546e5ce01e6fefc8ae97d5d7e27da1f6d52a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 00:29:17 2009 +0000

    performance/stat-prefetch: don't cache dentries corresponding to directory.
    
    - distribute picks up the inode number from hashed subvolume. But readdir
        is done from different subvolumes based on the offset. Hence there is a
        possibility of inode number and device number for directories being
        inconsistent between two stat calls.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 371 (rm -rf fails on stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=371

commit d14d014782dd4d7023f99a054d0c4db37d020435
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 00:29:05 2009 +0000

    performance/stat-prefetch: don't use pre-allocated dirent structure in sp_get_cache_entry.
    
    - since we don't know the size of dentry before calling sp_get_cache_entry,
        we must dynamically allocate the dentry in sp_cache_get_entry and copy the
        contents from cache.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 371 (rm -rf fails on stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=371

commit 892710a37abcb10fdcff395a4369efce2af4c63f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 00:28:49 2009 +0000

    cluster/distribute: copy the stat structure while copying dentries in readdirp_cbk.
    
    - only the transformed inode number was being copied, leaving other fields of
        stat 0.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 371 (rm -rf fails on stat-prefetch.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=371

commit dd216deb8a9e281ec41867c354efb0067cde4785
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Nov 19 01:39:39 2009 +0000

    debug/error-gen: Correct log messages in init function.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 291 (feature enhancement of error-gen translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=291

commit 6148894110fd83d020e92b49b9b6f2532d7c7a99
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Nov 18 01:11:11 2009 +0000

    Check for other return values as well from call to inode_path.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 7a5325d284a850f4a18de8795f88e45816bfaf4f
Author: vinayak hegde <vinayak@gluster.com>
Date:   Tue Nov 17 06:17:04 2009 +0000

    cluster/stripe: Wrong variable is checked after calloc.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 368 (setattr on a non-regular file makes glusterfs crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=368

commit 5cd0d1c7447c6947e81c659635a472a97d41303d
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Nov 16 13:08:31 2009 +0000

    protocol/client: Changed default ping-timeout to 42
    
    This change is necessary to avoid frequent disconnections between client and server under load.
    A disconnect-connect sequence is costly in terms of clean up and re-building of context,
    self-heals etc. This value should be optimal for most use cases. Users requiring a lower
    ping-timeout value need to configure it explicitly.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 384 (Increase default timeout in client protocol)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=384

commit 916ca4d87c410c075a622fc24848ba06868c280a
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Nov 17 05:24:03 2009 +0000

    Do not access a free'd lock while releasing all inodelks of transport.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 7a6b1de614c6db02eeb437c06fd2568ccea7d34e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Nov 18 07:02:25 2009 +0000

    cluster/afr: Handle op_ret properly in opendir_cbk
    
    Change the success condition to op_ret >= 0 instead
    of op_ret == 0.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 71d6a1c8aaa82780bdf4191732216ac1f5c57e65
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:20:41 2009 +0000

    libglusterfsclient/umount: fix double free.
    
    - calling glusterfs_fini results in double free.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 9d9cbb893661763783f2e4fb8093ff7f0a720143
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:20:30 2009 +0000

    libglusterfsclient: don't change the st_dev in stat-structure before doing inode_link.
    
    - st_dev is used for storing generation number of the inode in
        inode_link and libgf_iattr_transform changes the st_dev to fake_fsid.
        If inode_link is done after libgf_iattr_transform, the generation number
        stored will be wrong and will result in ESTALE errors from server.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit ed75d6588899b3a812818e82ac7805998dbbd5e0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:20:15 2009 +0000

    libglusterfsclient/open: don't send create call if the file is already present, instead send open.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 80f89493ce2d78095a2df64e48c7bd7291b4558d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:20:02 2009 +0000

    protocol/server: add debug messages.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 9e481a7aee95cc7aebba8843820069909f21fe07
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:19:50 2009 +0000

    libglusterfsclient: update iattr cache only if operation was successful.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 2bf35da812016c8adb05b0aa90c9f0b25e50a878
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:19:37 2009 +0000

    libglusterfsclient: fix memory leak.
    
    - glusterfs_glh_getxattr was implemented using libgf_client_lookup. Hence the
        inode corresponding to the path on which getxattr was done was refed twice
        - one during path_lookup and the other in libgf_client_lookup - but unrefed
        only once.
      - with inode generation number changes the inode returned by inode_link may
        not be the same as the input argument. Hence the inode returned by
        inode_link should be used, not the one returned in libgf_client_lookup_cbk.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 64a4b1f78ee719f33928f4de9abac2a09ce84f21
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:19:22 2009 +0000

    booster: implement xattr related apis.
    
    - implement setxattr, fsetxattr, lsetxattr.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 95d31d089ed8e8a1bb90377160ac0bccdd47b6c0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:17:49 2009 +0000

    libglusterfsclient: change the prototype of glusterfs_lsetxattr.
    
    - it no longer needs handle to be passed as arguement. handle is searched
        in the vmp table based on the path.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 8d22d68815fbd27e7ef1b4b2f5bb70c3d82ddb96
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:17:36 2009 +0000

    libglusterfsclient: fix __do_path_resolve to return zero if the path happens to be resolved in path_to_parenti.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 134d85015b0251ddc079678e1e0997cb41d0516b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:17:25 2009 +0000

    libglusterfsclient: getxattr should return the length of the xattr when size is zero
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 1f1d1569f4bcd8acbfb80e0bdd11b752cdead637
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:17:14 2009 +0000

    libglusterfsclient/ftruncate: add braces to ensure proper evaluation of if conditional.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 6b65a11e4e1e351a85cddd86f18b320addec49fb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:16:57 2009 +0000

    booster: implement creat64.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 1e401ee2a94091154d114c11b55853bda3f49e29
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:16:45 2009 +0000

    booster: implement truncate and truncate64.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 9c5547193f637cb52cbb91c0409dd3580acafdcb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:16:33 2009 +0000

    libglusterfsclient: implement glusterfs_truncate.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit a0c05848d2ed0b0600d73214594a161cbb42302c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:16:12 2009 +0000

    booster: implement ftruncate64.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit a33380068a9ab9eea80a6d0b6207d9e3cc9bdff4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:16:01 2009 +0000

    libglusterfsclient: fix libgf_vmp_virtual_path. - This procedure used to return garbage as virtual path if the path happens to be exact mount point but without the trailing slash and the vmp had a trailing slash.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit eb4043706c901f8609e65c9a35463ea3f7e2c569
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:15:46 2009 +0000

    booster: implement getcwd.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit c7dba5ff1468f5e56d22b47cc97ff6cd4937f98f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:15:30 2009 +0000

    booster: implement fchdir.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 119b179fdc83d49e8242a93439fb043990eb74c9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:15:11 2009 +0000

    booster: implement chdir.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 3940cf2fc26ed0d2417caef87ff25d17ec8d3bb4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:14:58 2009 +0000

    libglusterfsclient: implement glusterfs_getcwd.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 7894bef2174945af06dceb506d501b8e789342fd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:14:42 2009 +0000

    libglusterfsclient: implement glusterfs_fchdir.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit d779e00360e7a30d721b3c2d8d94d198e5aa2cc0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:14:24 2009 +0000

    libglusterfsclient: implement glusterfs_chdir.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 43ffa430d64117e8864d38cf19202369d4809c6d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:14:04 2009 +0000

    libglusterfsclient: Support relative paths.
    
    - This patch is a port of the patch with same title on 2.0 branch.
        The original patch was sent by Shehjar <shehjart@gluster.com>.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 8cf1cd070e794f18ed5ec28d5a3cb758fa8bf0f2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 18 01:13:38 2009 +0000

    Revert "booster, libglusterfsclient: Support samba specific relative paths"
    
    This reverts commit e6fc0cbe716a18f02891d3911481fdcb121d8840.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 369 (Samba does not work with booster.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=369

commit 8f0ec7204d4b79dfb9fcf5f61df6275f6d4896fb
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Nov 18 05:20:08 2009 +0000

    libglusterfs: Fix error handling in _gf_log.
    
    Unlock the mutex when an error occurs instead of jumping
    straight to "out".
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 394 (Possible deadlock in _gf_log)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=394

commit 4b233c6341134d11b170fa4cdbafc49246b46975
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Nov 16 02:59:04 2009 +0000

    Upgrade FUSE protocol to rev. 7.13
    
    2.6.32 will feature FUSE proto 7.13 which lets us tune the maximal number of
    in-kernel backgrounded requests via INIT.
    
    Hereby we live up to this enhancement.
    
    Signed-off-by: Csaba Henk <csaba@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 385 (Upgrade FUSE protocol to rev. 7.13)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=385

commit 0c7597a1339f1a6762505cfe7292202a0db196a6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Nov 13 16:08:15 2009 +0000

    transport/ib-verbs: fix race-condition resulting in freeing of transport while it was still being used.
    
    - while handling a failed work completion status, the transport is
        disconnected. But further down in the code, the transport is still
        used. There can be a possibility that transport might've been freed
        by the time control reaches this point. More detailed description of
        events leading to this situation can be found at
        http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=381
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 381 (glusterfs crash in ib-verbs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=381

commit d67322fdfa27746f82fb6e37ffe57efde9bfa021
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Nov 13 16:07:50 2009 +0000

    transport/ib-verbs: synchronize ib_verbs_recv_completion_proc with ib_verbs_receive so that the former doesn't overwrite the pointer from which latter reads.
    
    - There can be a condition wherein,
        1. the thread executing ib_verbs_recv_completion_proc (thr 1) stores the
           buffer pointer and notifies the upper translators about a POLLIN event.
        2. the thread waiting for events on socket (thr 2) calls transport_receive,
           but in ib_verbs_receive it has not still read the data.
        3. thr 1 receives work completion event for another work request and
           overwrites the buffer pointer.
        4. thr 2 reads from the new pointer there by missing the data stored in
           buffer pointed by pointer which got overwritten.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 382 (Data can be lost before it is read in ib_verbs_receive.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=382

commit 63e966d8c466599f84affb55fbedfb39e2a0068f
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Nov 15 21:39:20 2009 +0000

    fixing a crash in posix (on 32bit)
    
    fd_ctx_get () was getting passed with type punned argument, now
    corrected by passing the right argument, and doing the typecasting
    later
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 383 (glusterfs server crash on 2.0.8)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=383

commit 91f8b2a1668a4c63e0c21df4f7ac6dfb506f79d7
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Nov 13 14:00:40 2009 +0000

    fixes in stripe
    
    * fix in stripe readv, so that a read request which falls in
      two (or more) subvolumes, depending on stripe-size works fine.
    * fix in stripe_setattr_cbk, where 'postop' stat structure was
      returning wrong 'st_size'.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 368 (setattr on a non-regular file makes glusterfs crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=368

commit 3c6647577f81568b7ad5cbf7435ef98aaa79e00a
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Nov 13 13:13:09 2009 +0000

    mount/fuse: Assign the right inode to fuse_entry_out in fuse_create_cbk().
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 380 ([3.0.0 pre1] Crash in fuse_create_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=380

commit 5c9a8a92edbd011e4fd5ec8e5f77eb13d7d8b771
Author: Anand Avati <avati@gluster.com>
Date:   Fri Nov 13 07:53:06 2009 +0000

    protocol/client: preserve open/create flags in fdctx for reopening
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 410909f31704db212174dff874f71621c3cb0576
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Nov 12 04:06:04 2009 +0000

    Disabled centralized logging by default.
    
    Signed-off-by: Harshavardhana <harsha@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 366 (Infinite loop with centralized logging.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=366

commit adebbb2ba19e52b194a4050c2e43a6c92f19c605
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Nov 11 14:26:10 2009 +0000

    performance/quick-read: set return value to zero after successful init.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 374 (quick read fails to initialize if no options are given)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=374

commit 0486b355db0c014f49662ed593a7ab7e74c2cb59
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Nov 12 03:23:27 2009 +0000

    mount/fuse: Prevent a hang on the mount point if no server is up when the client is started.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 373 (Spawn fuse thread after a parent_up and wait and block until child_up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=373

commit 2e7fc582cd590f747b0d3cae3d38bbbccffe6a25
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 06:27:05 2009 +0000

    extras/glusterfs-volgen: Make the script more user-friendly.
    
    Error messages now print more detail.
    Details of export/mount files written is also printed.
    
    Also adds a new option '--version'.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit 53fd5927ea0dc2f7c9cd019002abdc3751135dcd
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 08:40:37 2009 +0000

    cluster/afr: Fix self-heal loop driver termination logic.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 26fbaa23cafee4643b7604660762656c4a71684b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 08:44:16 2009 +0000

    cluster/afr: Ensure directory contents are in sync during opendir.
    
    The problem: If some files on the first subvolume disappeared
    without leaving a trace in the entry changelog (this can happen,
    for example, when an fsck has deleted files or when a hard drive
    is replaced), those files would never be self-healed even though
    they would be present on the second subvolume. This is because
    readdir is sent only to the first subvolume, and since the files
    don't appear in the directory listing, no lookup would ever be
    sent on them.
    
    This patch fixes this problem by doing a readdir on all the subvolumes
    during the first opendir on a directory inode. If a discrepancy in the
    contents is detected, entry self-heal in a special "force merge" mode
    is triggered on that directory.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 4717e5279e169a36a870a267039e788cf22602a8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 08:44:15 2009 +0000

    cluster/afr: Refactored inode context bitmasks.
    
    Defined symbolic constants for the bit masks and
    made 'split-brain' a single bit field in the ctx.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit b526009f2f5ad813ec88602a3d4fd2ff322809a0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 08:44:14 2009 +0000

    mount/fuse: Do readdirp in fuse_readdir.
    
    Do the readdirp FOP in fuse_readdir. This is needed because
    dht_readdir is not "reliable", whereas dht_readdirp is.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 84a50d45b4502d7efb842b41560f4ae5d62e3d78
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Nov 12 08:44:13 2009 +0000

    cluster/dht: Do readdir in dht_readdir instead of readdirp
    
    The readdir call will not be used by applications (fuse will
    only ever send readdirp), but it will be used by
    afr to do directory self-heal at the time of opendir.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 249 (Self heal of a file that does not exist on the first subvolume)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=249

commit 18d85b59b9e8cc422c06e3ea94694d0cb2d26e1b
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Nov 12 19:48:54 2009 +0000

    fix a crash in debug/trace
    
    stat structure (which is an argument to function) was getting freed
    instead of string which actually should have freed.
    
    Signed-off-by: Amar Tumballi <amar@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 378 (trace segfault in trace_create_cbk)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=378

commit f9bb9dee5f92d50c4e87995680198e488a4f50ce
Author: Anand Avati <avati@gluster.com>
Date:   Fri Nov 13 02:58:58 2009 +0000

    protoocl/client: file directory reopen support
    
    reopen files and directories which were open before a disconnection after
    reconnecting. operations on files/directories which could not be opened
    continue to return EBADFD
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 590e5879f819018aee63b800b0f66fd6ff49641d
Author: Anand Avati <avati@gluster.com>
Date:   Fri Nov 13 02:58:25 2009 +0000

    protocol/client: whitespace cleanup
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 170 (Auto-heal fails on files that are open()-ed/mmap()-ed)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=170

commit 63ece0f8bc81c2ec145465ff132a18ca47e50be5
Author: vinayak hegde <vinayak@gluster.com>
Date:   Wed Nov 11 22:52:01 2009 +0000

    cluster/stripe: Initialize frame->local before checking for directory or regular files.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 368 (setattr on a non-regular file makes glusterfs crash)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=368

commit 15a6e0be9bc1c56bd2a0a67c926b01f2f8631ae4
Author: vinayak hegde <vinayak@gluster.com>
Date:   Wed Nov 11 07:13:06 2009 +0000

    cluster/stripe: Set local->inode value before referring it.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 362 (GlusterFS crash while doing mkdir in stripe setup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=362

commit 8b8691ef70f37d42100f502604ef94b8b9e5f5f8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Nov 10 02:32:50 2009 +0000

    cluster/stripe: local was not being set in stripe_mknod_ifreg_setxattr_cbk()
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 367 (GlusterFS crash while doing mknod in stripe setup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=367

commit 9bbe8d4cd989d331409e174cefd38caed41b0ea0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Nov 9 14:17:34 2009 +0000

    core: Replace inode_search with inode_grep in inode_from_path
    
    This fixes a situation where the inode_from_path fails to
    return an inode even though the inode exists in the table.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit c1bf268b28d5d5959295cf1a22bdb71d0a6a9687
Author: Sachidananda <sac@gluster.com>
Date:   Mon Nov 9 08:33:25 2009 +0000

    Add unhashed-sticky-bit option to volume_options structure
    
    Signed-off-by: Sachidananda <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 365 (unhashed-sticky-bit is not recognized)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=365

commit ef078a335980b5962239556e9b3a98f589662337
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Nov 4 01:23:18 2009 +0000

    Add glusterfs-volgen to master, change fusermount options and other changes to rpm spec file.
    
    The patch has the following changes:
    * Rename glusterfs-volgen.py and include it in the rpm spec file
    * Enable fusermount by default. Change fusermount configure option from disable to enable.
    * Remove BDB from configure.ac, essentially removing it from the normal build.
    * Remove all dependencies on fuse in the rpm spec file.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit e98020d5f6f2f22f09d2c21d80ad8ceb6ae46284
Author: vinayak hegde <vinayak@gluster.com>
Date:   Wed Nov 4 23:36:35 2009 +0000

    performance/stat-prefetch: In lookup_cbk do not set error no to EINVAL, when inode_ctx_get returns -1.
    
    Signed-off-by: vinayak <vinayak@laptop.(none)>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 360 (All fop fails when stat-prefetch is loaded on afr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=360

commit f98e7524b4c442ae08c3a335d412b1eeccb5863b
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Nov 5 02:54:27 2009 +0000

    cluster/afr: In fop structure afr_readdirp is not correctly registered.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 360 (All fop fails when stat-prefetch is loaded on afr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=360

commit add4dd9623de51dd67ecb8450ad1a57894d92dc2
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Nov 5 02:53:48 2009 +0000

    performance/stat-prefetch: In sp_readdir_cbk op_ret value is not handled.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 360 (All fop fails when stat-prefetch is loaded on afr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=360

commit e151ab3ed4718606767146f18b416f8900552fbc
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Nov 5 02:53:03 2009 +0000

    libglusterfs/src/gf-dirent.c: In gf_dirent_nb structure d_name should be char array of size 1.
    
    Signed-off-by: Vinayak Hegde <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 360 (All fop fails when stat-prefetch is loaded on afr.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=360

commit 47da643a0e9d8786489fe3173de318732556b6f0
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Nov 4 02:03:05 2009 +0000

    Do not abort make install if a chown on the fuser-mount script does not succeed.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit 7bd570a007202e6eb505091dba611b8320633a26
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Nov 3 11:08:32 2009 +0000

    Remove fuse_lowlevel.h from xlator.h in libglusterfs.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (Placeholder bug for adding volgen into rpm, bdb makefile changes, etc)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit 612aed4b6aab7447195c7e6715bbbf257b4c62f2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 4 00:15:20 2009 +0000

    libglusterfsclient: Dont alloc root inode context
    
    ....because the lookup on root inode done a few lines before this
    call already allocates an inode context. This one just over-writes
    that context, results in invalidation of the cached iattrs.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 354 (Stale file handle on unfs3 booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=354

commit f04b9fcfeb9b459552207031d003f801189d1cea
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Nov 4 00:15:19 2009 +0000

    libglusterfsclient: Prevent root inode number clobbering
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 354 (Stale file handle on unfs3 booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=354

commit 51d105d63fa82dae5465d19598b489d453b3a902
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Nov 3 10:17:07 2009 +0000

    cluster/afr: Bail out of the self-heal driver loops as soon as possible
    
    Don't wait for the next recursive call to sh_{full,diff}_loop_driver
    to decide that we've reached the end of file, as the frame could
    have been destroyed by that time (if subvolumes are posix).
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit cd7a02533dbbc192cc117037cf39848d55210c83
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Nov 3 09:23:03 2009 +0000

    Remove unnecessary log message. It also accesses a freed lock after an 'unlock'.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 2bda225433762f78c09c2a751b321eb9d94c37c6
Author: Corentin Chary <corentin.chary@gmail.com>
Date:   Tue Oct 27 12:57:35 2009 +0000

    transport/name.c: refine the address resolution logic when listen-host is not specified.
    
    - when listen-host is not specified and there are are no interfaces having
        adresses belonging to the address-family specified, listen at 0.0.0.0/::0.
    
      - this patch is necessary since with AI_ADDRCONFIG, getaddrinfo fails if there
        are no active interfaces for the address family specified and when
        listen-host is specified we still want the functionality provided with
        usage of AI_ADDRCONFIG.
    Signed-off-by: Corentin Chary <corentin.chary@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 339 (glusterfsd fails to start when there are no active interfaces having address in the address family configured.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=339

commit 2a62b1748edcb8319e6ce36e72717c8154635db6
Author: Sachidananda <sac@gluster.com>
Date:   Tue Nov 3 08:38:25 2009 +0000

    Wrong variable is checked after stat call.
    
    Signed-off-by: Sachidananda <sac@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 355 (Wrong variable checked after a stat call)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=355

commit c1aa64729130aab9b58925871768d6c9c7d6a4ba
Author: vinayak hegde <vinayak@gluster.com>
Date:   Mon Nov 2 23:41:26 2009 +0000

    configure.ac: Before checking for libglusterfsclient BUILD_LIBGLUSTERFSCLIENT should be initialized to no.
    
    Signed-off-by: Vinayak <vinayak@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 353 (./configure adds libglusterfsclient when it shouldn't)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=353

commit 7269a745125d46d52f31a4550136690fd0166355
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Nov 2 03:24:10 2009 +0000

    storage/posix: Changed error message displayed for option background-unlink.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 352 (Wrong message logged for option `background-unlink')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=352

commit f8a56c6322d729fcdb96c754dd421fffb025e3bb
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Nov 2 00:34:10 2009 +0000

    features/locks: Do not try to set value in dict when lookup has failed.
    
    lock-count was being set without checking for op_ret from lookup. This would
    cause a lot of Critical messages in the log as dict would be NULL in case
    of a lookup failure.
    
    Also, removed some trailing white spaces and did some minor re-factoring.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit b4b20984721e169763a5ac26ffb9353d1ca3568a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Oct 30 05:27:50 2009 +0000

    cluster/afr: Don't try to self-heal if there are locks held
    
    If the inodelk_count or entrylk_count is positive on a
    file/directory, don't try to do self-heal on it.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 2b610a095febf0e89e5341c575b5579c78a009a3
Author: Corentin Chary <corentin.chary@gmail.com>
Date:   Thu Oct 15 06:32:41 2009 +0000

    volgen: remove trailing whitespace
    
    Signed-off-by: Corentin Chary <corentin.chary@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ef79f934c38743f3618c00bc24043a484f284a47
Author: Corentin Chary <corentin.chary@gmail.com>
Date:   Thu Oct 15 06:32:40 2009 +0000

    volgen: Add conf-dir option
    
    Add a conf-dir option to change the output directory for
    generated files.
    
    Signed-off-by: Corentin Chary <corentin.chary@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0e7875dbf8f70904257725fd4d2be30333da84a2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 30 03:43:54 2009 +0000

    core: Use parent for condition to create dentry not name
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 348 (touch on booster segfaults)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=348

commit 44f6b7a54224dde7e1663f435f05a6a5cac25a7b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 30 03:28:40 2009 +0000

    booster: Must check errno for error number not return value
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 346 (booster returns success on failed getxattr and lgetxattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=346

commit 10cddf14e9f7a7446ea48bedb07ee9e7d0f21e4f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 30 03:28:39 2009 +0000

    core: Check for NULL to avoid segfault
    
    A segfault as a result of this was observed during tests.
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 348 (touch on booster segfaults)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=348

commit e6fc0cbe716a18f02891d3911481fdcb121d8840
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 30 03:28:38 2009 +0000

    booster, libglusterfsclient: Support samba specific relative paths
    
    Signed-off-by: Shehjar Tikoo <shehjart@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 158 (libglusterfsclient: Applications are restricted to using absolute paths)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=158

commit 5d9a4d81b3928e6af15aaeb7fab18fb451f7abcc
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 30 03:15:19 2009 +0000

    iobuf: initialize size without 4KB padding
    
    since new fuse bridge takes care of landing write buffers to aligned iobufs
    and the 4KB header padding is no more necessary
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit bee7b8877dfbc321637e00106c073fecdd0847f0
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 30 03:15:02 2009 +0000

    glusterfsd: whitespace cleanup
    
    Signed-off-by: Anand V. Avati <avati@blackhole.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit ef2d6b3449ab9cf0cf653b7b84595521db63a412
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 30 01:26:19 2009 +0000

    libglusterfsclient: don't do inode_link on root inode.
    
    Signed-off-by: Raghavendra G <raghavendra@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 348 (touch on booster segfaults)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=348

commit 8345b6448d292a8da4464debb4dc65b55f1f6eeb
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 30 00:10:20 2009 +0000

    performance/io-cache: change the data-types to be big enough to hold size of data flushed.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit e16f05a6d1f756f16e363d93f432f950901cf777
Author: Pavan Sondur <pavan@gluster.com>
Date:   Fri Oct 30 01:45:20 2009 +0000

    Fix logic while granting blocked entrylks, which could run into an infinite loop.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit c68255daa11937b7f91de11f8d4361d798aa8cbc
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 29 22:53:57 2009 +0000

    call-stub: fix leak of fxattrop dictionary
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 382b4d03ab029a94f29231e19db9996596985bb7
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 29 22:53:28 2009 +0000

    protocol/server: fix leak of xattrop dictionary
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit d72c47cb04725c694921e7f3277f6230c26bc936
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 29 05:08:34 2009 +0000

    cluster/afr: Move deleted files to /.trash in entry self-heal.
    
    If entry self-heal determines that a file/directory should
    be deleted from a subvolume, move that entry to a directory
    called "/.trash" on that subvolume. This is for two reasons:
    
    1) It limits the damage that can be done by a "wrong" entry
       self-heal.
    
    2) It solves the problem of a to-be-deleted directory not
       being empty.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 227 (replicate selfheal does not remove directory with contents in it)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=227

commit 14962ce3e69e452a2447c12cde3369759365fda9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 28 04:46:25 2009 +0000

    performance/io-cache: change the hash function used for rbtree based hash table.
    
    - the earlier hash function does not distribute pages uniformly for offsets that
        fit into 32 bits. The reason is that the hash function just xors the contents of
        the key 4 bytes at a time with the current value of hash. Hence for keys that
        fit into 32 bits, the hash will be the key itself. Since we are using the
        rounded_offset (which is a multiple of 128KB) as the key, the key will
        be exactly divisible by the number of buckets configured (4096) resolving all
        the pages into the first bucket.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit 13e6947744e8a26d2380af200942fd4ed61fd845
Author: Pavan Sondur <pavan@gluster.com>
Date:   Thu Oct 29 05:06:58 2009 +0000

    Remove unnecessary check of xattr_req in lookup.
    
    Signed-off-by: Pavan Vilas Sondur <pavan@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit c770322ca4c9ccf50530d6a05ac4107fa1236f60
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 29 07:32:46 2009 +0000

    storage/posix: Serialize do_xattrop.
    
    Hold a lock on the inode for the getxattr/add-array/setxattr
    section since multiple threads can enter into it causing
    wrong values to be written and triggering spurious replicate
    self-heal later.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 32c963cfea91e196ee1ebf98a5579989c53fdc6c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 29 07:32:26 2009 +0000

    storage/posix: Refactor xattrop
    
    Move common code into do_xattrop.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit 6e2dba2c418cd09206b390fad0f413fc287b93ee
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 29 09:09:15 2009 +0000

    protocol/server, mount/fuse: Handle returned inode in create properly
    
    Check if linked_inode is different from returned inode in create,
    and if so, make the fd point to the correct inode.
    
    Signed-off-by: Vikas Gorur <vikas@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 347 (Assertion failed: inode->ref)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=347

commit c555dcbb3a41f47149035c1d9ea95f67812db8c8
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Oct 29 05:59:44 2009 +0000

    transport/socket:Enable NODELAY by default for lowlat client and server sockets
    
    TCP_NODELAY is enabled by default for lowlat client and server sockets.
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 344 (Add support for TCP NODELAY in master)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=344

commit c0b5cc88687f4f0b25a411b7d0746dcadb297ce3
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Oct 29 05:58:37 2009 +0000

    protocol/client: Support for TCP_NODELAY
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 344 (Add support for TCP NODELAY in master)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=344

commit 0897c400c0864be252e5d23d41b71779f70eafe4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Thu Oct 29 05:58:07 2009 +0000

    transport/socket: Support for TCP_NODELAY
    
    Signed-off-by: Vijay Bellur <vijay@gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 344 (Add support for TCP NODELAY in master)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=344

commit 82c0df9941abfb4836947fce1ff9da266dbd7499
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 28 17:04:33 2009 +0000

    Print inodelks in and out if option trace is on.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit 08327b6a6bdb7a3807a9d279b6d5f99686d13b99
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 28 17:04:05 2009 +0000

    Print entrylks in and out if option trace is on.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit 03c6fe7f7e51d391beb370d04964af1de9728d28
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 28 17:03:37 2009 +0000

    Trace locks in and out with an option in normal log mode.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit 9a62a3747cfcef2db3bc0b630a92f24d9436eeca
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 29 01:03:09 2009 +0000

    posix: posix_[f]setattr() handle valid=0 case by performing {f, l}chown (-1, -1)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit b3b4fc4afb7d206d0a481f3234bf83c768f02aa2
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 28 12:27:54 2009 +0000

    Implement lookup in locks to return lock count in a dict value.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit 53ff4f0299cf14c6c413d3e49991a6f05f9cda19
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 28 18:42:35 2009 +0000

    libglusterfs/rbtree: change rbthash_init_table to take no of expected entries in the hash table as argument.
    
    - the expected number of entries is used to create the memory pool of the hash
        table. Having constant macro for this purpose is not suitable since different
        users of rbtree based hash table store different number of entries in the
        table.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit 07e8d8a37713d39f63713d8c05dd99a0610a3c35
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 28 16:15:37 2009 +0000

    performance/io-cache: fix memory leak.
    
    - page table of cache was not being destroyed in ioc_forget.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit 11dd6bcb416c2e937ced2b2bbd35fe10b21f283f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 28 16:15:03 2009 +0000

    performance/io-cache: fix double free.
    
    - the destroyer function passed to rbthash_table_init is used to free the data.
        The data being inserted is page and it is destroyed in ioc_page_destroy. Hence
        no destroyer function needs to be passed to rbthash_table_init.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit f513157e93bbba885f12f10ca2fb94424d7aea5e
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Wed Oct 28 07:15:55 2009 -0700

    Add -s (signoff) to format-patch.sh

commit 7e66ba43d7b75b63cdbf08e2d871136a6648a3a7
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 28 06:22:44 2009 +0000

    Add glusterfs-volgen to master
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 343 (GlusterFS volume generator - 'volgen')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=343

commit ef7524ec1eda990cb89bee06eff2ef2d7c49d0d2
Author: Anand Avati <avati@gluster.com>
Date:   Wed Oct 28 05:40:12 2009 +0000

    fuse: use postbuf in truncate_cbk for attributes to return
    
    this causes a problem where inodes even after truncate show old
    file size for a short time (till attributes are expired in fuse kernel module)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 1f4e97c01a8483e227e9e66d421302b4114decd1
Author: Anand Avati <avati@gluster.com>
Date:   Wed Oct 28 04:20:14 2009 +0000

    xlator: initialize all xlators in a loop instead of top down initialization
    
    top-down initialization will miss out on xlators from disconnected subgraphs
    and notify can go prematurely to these xlators
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 341 (mountpoint first access failure in single address space mode client/server)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=341

commit 6bfbcf7326a1261c8ff7cde9fd2c76a55cf756ae
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 27 08:47:28 2009 +0000

    mount/fuse: Derive fd from the file handle for setattr
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit b4dd7534007dccbc90d7341259bd92a0ff6a678c
Author: Anand Avati <avati@gluster.com>
Date:   Wed Oct 28 02:36:31 2009 +0000

    protocol/server: resolver fixes
    
    1. do not set ENOENT for RESOLVE_MAY case
    2. set op_ret to -1 and op_errno to EINVAL when request has neither of entry, inode or fd handles
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 3809bb1bbd617dbde1d943dbcf6b0346329187b6
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Oct 26 03:01:33 2009 +0000

    performance/io-cache: change data structure used to store page-cache.
    
    - io-cache uses rbtree based hash tables to store page-cache instead of lists.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 335 (Io-cache optimization)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=335

commit 78d281d6026ad1ebe8cc65c4396055902369ea89
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 27 06:09:46 2009 +0000

    cluster/afr: Set local->fd in fsync.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 5674c41b3ea4eac8fe8f4f74bd978699bc847332
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Oct 27 05:52:16 2009 -0700

    extras/init.d: make install directory configurable with --with-initdir

commit fad22625b4012e9a5d6b29bb23f0d864c611ae1c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 27 05:13:05 2009 +0000

    mount/fuse: Use correct offset for name in fuse_getxattr
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c415e5cfb87bc240ae8438e9df995ce45b55004e
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Oct 26 19:53:33 2009 +0000

    Don't stop an already running glusterfsd upon upgrade or install.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 338 (rpm post uninstall kills glusterfsd process)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=338

commit b5fe35e215626b98b19876bc0f53b9184aef664b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 26 11:57:28 2009 +0000

    cluster/afr: Remove struct's for [f]chown, [f]chmod, utimens from afr_local_t.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 78c98cac267ef9aebcaa3c35d70ea93c17462e62
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 26 09:15:13 2009 +0000

    cluster/afr: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit a284bf490cdf6ce334a4e70b22eedd7e639620f9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 26 05:24:19 2009 +0000

    cluster/afr: Pick the data self-heal algorithm dynamically.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit d40ce2cbcd41a25eb053f2970db9bbaab2dafa22
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 26 05:07:31 2009 +0000

    cluster/afr: Check the target of symlink's in entry self-heal.
    
    During entry self-heal, make sure not only that a symlink
    exists on all subvolumes, but also that their targets match.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 193 (symlink contents not self-healed by replicate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=193

commit 82dea3043878099e392b71bef9ae5de616ac5533
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 26 05:34:21 2009 +0000

    storage/posix: Ensure time(2) is stored in a 64-bit variable.
    
    Before multiplying the time_t value by 2^32, store it in a
    64-bit variable. This is necessary on 32-bit systems, where
    time_t is only 32-bits, and left-shifting by 32 results in 0.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit bd145077164ee20e3eb03f09b401e9a3ebdf8b6e
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 26 05:45:59 2009 +0000

    protocol/server: touchup loc only if inode/entry resolution was successful
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 79a5b7273d107f3c73534a117157184ffbc170e8
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 26 05:43:59 2009 +0000

    protocol/server: fix assignment of inode number in server_readlink
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 106a651826eeaacf9d0b40fe6d088d6bdc997675
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 23 13:02:01 2009 +0000

    booster: seperate out the implementations of readdir and readdir64.
    
    - readdir and readdir64 should not call same procedure booster_readdir
        in their implementation, since the layout of dirent structures returned by
        libc implementations of readdir and readdir64 is different (readdir returns
        struct dirent *, where as readdir64 returns struct dirent64 *).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 333 (ls on paths not on virtual mounts report wrong directory contents)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=333

commit 7445700d0323cbfac11b0e1367b0052438e38318
Author: Vikas Gorur <vikas@gluster.com>
Date:   Sat Oct 24 08:17:36 2009 +0000

    cluster/afr: Set read-subvolume to the source while self-heal is in progress.
    
    Just before the lookup is unwound during background data self-heal,
    the read subvolume is set to the self-heal source subvol so that
    read operations on the file work correctly, and don't have to
    wait for the self-heal to complete.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 4163a3f8fbcc5e0d84d955258161f3a6f7a86de8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Oct 23 10:11:47 2009 +0000

    cluster/afr: Do self-heal in the background.
    
    This patch introduces a new option "background-self-heal-count", with a
    default value of 16.
    
    This means that upto {background-self-heal-count} number of files/directories
    will be healed in the background at any given time. If such number of self-heals
    are already in progress, further self-heals take place in the foreground.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 6490122f107c992f2600fc7d3214a43c3f50df70
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Oct 23 09:31:52 2009 +0000

    cluster/afr: Pipeline the "diff" data self-heal read-write loop.
    
    Start upto "data-self-heal-window-size" instances of the read-write loop
    of the "diff" data self-heal algorithm simultaneously.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 10dea439359238aed4dbad0e2c25df9fb2d5f28e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Fri Oct 23 08:37:29 2009 +0000

    mount/fuse: Don't use fsi if it is already cleaned up
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit a5219b99db8076dc8606a44fd1cfaf2bd69a0d31
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 23 08:23:20 2009 +0000

    protocol/server: deep resolution support
    
    when requested ino/gen is not available in the inode table cache,
    then use the path presented by the client to lookup entries with
    the hope that the requested ino/gen gets populated into the cache.
    
    re-perform regular search after finishing the deep component
    lookup
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 52b02bbabaaa78061c6b223715f57853cbcfd652
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 23 08:22:49 2009 +0000

    protocol/server: send fresh lookups on revalidate failures
    
    also unlink non existent dentries in lookup_cbk
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 919d80171c73cf3ed516c089603f0c635cf5a376
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 23 08:22:20 2009 +0000

    whitespace fixes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 00d2fafa1bcab7758aa20741a20fb4ea38b9a8ff
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 15 04:48:09 2009 +0000

    cluster/afr: Pipeline the "full" data self-heal read-write loop.
    
    Start upto "data-self-heal-window-size" instances of the read-write loop
    of the "full" data self-heal algorithm simultaneously.
    
    Add a new option "data-self-heal-window-size" with range [1-1024],
    and a default value of 16.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 320 (Improve self-heal performance)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=320

commit 58efcf03a63324b7bbfda864647d35256917058a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Oct 23 06:44:46 2009 +0000

    cluster/afr: Prevent spurious entry self-heal.
    
    If the initial lookup shows that 'pending' is positive, then
    self-heal will hold a lock and do a lookup again. This lookup
    might show that 'pending' is zero everywhere. However, entry
    self-heal used to consider this as a case of 'no sources' and
    try to merge the directories. This patch checks for that case
    and does not do the merge.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 326 ([2.0.8rc9] Spurious self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=326

commit dfa1f5755b11d11c81cbbdd79dcb5b3f8d216ac9
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 22 02:04:39 2009 +0000

    fuse-bridge: send fresh lookup on failed revalidate to return new nodeid
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit fc00f8c622f207577b4568b5e8dd43c6147e34c2
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 22 02:04:21 2009 +0000

    inode.c: whitespace fixes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 8c86febc41816730c9fd44fd87cefe3ef330d072
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 22 06:36:22 2009 +0000

    cluster/afr: entry self-heal: Store parent_loc on the heap for impunge_parent_setattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 137 (Parent directory mtime not reset after a create in self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=137

commit d5009323b3031122508fbd8daa61025b7c397e3c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 22 05:37:36 2009 +0000

    cluster/afr: entry self-heal: Set parent directory's attributes using a new frame.
    
    There was a race condition in assuming that afr_sh_entry_impunge_parent_setattr_cbk will
       always return before impunge_xattrop_cbk and impunge_setattr_cbk.
    
       This patch fixes two additional problems:
    
    1) Building the parent_loc from impunge_local->loc after STACK_WIND to
       impunge_xattrop_cbk has happened. In a simple afr-posix configuration
       the stack will have been destroyed by the time building of parent_loc is
       attempted.
    
    2) parent_loc built in impunge_newfile_cbk was not being loc_wipe'd.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 137 (Parent directory mtime not reset after a create in self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=137

commit 1fe48896b950e74b589a8ed2c62bfb8571a0bf16
Author: vinayak hegde <vinayak@gluster.com>
Date:   Tue Oct 20 23:56:28 2009 +0000

    glusterfsd.c: Unnecessary writing of strerror of errorno on pipe
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 4 (mount --bind fails if run immediately after mounting GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=4

commit 568b3ffa1625a12585cc14565fdb9acfa5b36a1a
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 20 11:53:24 2009 +0000

    protocol/server: generation number and dentry resolution
    
    - handle generation number in protocol
    - rewrite server dentry resolution code for inode cache miss
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 40fb2587c5709f732dcd575945a8fdbaa51c07ea
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 20 10:54:24 2009 +0000

    inode: fix internal refs and minor fixes
    
    * also fix trailing whitespaces in a couple of places
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 492993570bb02bd7d244693ad28e409973fa9f4c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Oct 20 03:43:43 2009 +0000

    performance/write-behind: fix to bug in setattr which was causing frames to be missed.
    
    - local->file was being assigned even before file pointer was got from any of
        the fds opened on the inode, thus making local->file to be NULL. In
        wb_setattr_cbk, since local->file is NULL (and hence file passed to
        wb_process_queue), wb_process_queue does not resume the pending operations
        queued for the file.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 327 (dbench does not complete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=327

commit 61d0ad544322ea0e0e9b0549662b8ca912641951
Author: vinayak hegde <vinayak@gluster.com>
Date:   Tue Oct 20 07:18:16 2009 +0000

    performance/read-ahead: Process state dump operations are added.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit f8d40aad7e21389911b151d6445dd8197bec0049
Author: vinayak hegde <vinayak@gluster.com>
Date:   Tue Oct 20 07:17:42 2009 +0000

    performance/quick-read: Process state dump operations are added.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit f90bc2a051ea4d6d23dd4c28ca018fcb1aa9cdaf
Author: vinayak hegde <vinayak@gluster.com>
Date:   Tue Oct 20 07:17:06 2009 +0000

    performance/write-behind: Process state dump operations are added.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit 4d5ab4c0b8a296e12d80933aad03d06a044c6af2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 20 01:35:17 2009 +0000

    cluster/afr: Attempt to set fd ctx in create only if the call has succeeded.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 325 (crash in afr_fd_ctx_set)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=325

commit a2a09bb7f3d60a441c1e678484e2a1a3ac332a1e
Author: Anand Avati <avati@gluster.com>
Date:   Sun Oct 18 15:02:02 2009 +0000

    protocol/client: incoroporate generation numbers
    
    protocol/client uses the new inode_ctx_{get,put}2 API to store both inode and
    generation number in context
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 7d62e85887047a64df17904c91136c1bc1c89bd4
Author: Anand Avati <avati@gluster.com>
Date:   Sun Oct 18 15:01:07 2009 +0000

    protocol: format changes to incorporate generation numbers
    
    incorporate 64bit generation field in all protocol headers to accompany an inode
    number
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 11ddca1cd151479243fe23e579b76c5984f422c3
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Oct 18 14:05:40 2009 +0000

    inode_ctx_{get,put,del}2 API support
    
    support for storing multiple values for a key in inode context - used for storing
    inode and generation number pairs on the server in protocol/client inode ctx
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 3d09fb99093a84a303edc443b68bdf9eb10096b4
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Sun Oct 18 13:35:15 2009 +0000

    fuse: use inode_t address as nodeid and use new inode API
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 7e831d735e3746fa9e6ec2e797e1a7f68ac5c148
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Sun Oct 18 13:35:14 2009 +0000

    inode: API changes for generation number support
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit b2c0c6c713a00631e658c7faafe51d0c941d65ef
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Sun Oct 18 13:35:13 2009 +0000

    inode: fix indentation and spacings
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 9d73eb4c8a9bf1e802985abee83ad36439ab681a
Author: Anand Avati <avati@gluster.com>
Date:   Sun Oct 18 11:42:30 2009 +0000

    locks: fix leak in inodelk
    
    unlock was resulting in leak of lock structure if it was unlocking the last existing lock
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 306 (Enhance locks to aid debugging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=306

commit aacde00714c60db438c2fdc5ebacbe60a988f60b
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Oct 18 09:58:18 2009 +0000

    storage/posix: Set right the op_ret value from posix_readlink()
    
    Since op_ret was being returned as 0, fuse would regard the readlink () as a failure.
    Also, set right the buffer size of gen_key in posix_{f, l}stat_with_gen.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit aa701e2f607902628fce196de3eb0402aede7736
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 16 09:13:22 2009 +0000

    indentation fixes to conform to coding standards in locks
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 7bf78408ffec1efbceed17ed2e540d7d0af19763
Author: Anand Avati <avati@gluster.com>
Date:   Fri Oct 16 09:12:57 2009 +0000

    locks: keep ref on the inode while locks are held
    
    keeping refs on the inode while there are held locks prevents the
    inode from getting pruned away
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 5d423ab4548c941921c1e64135fec6e15c7787f2
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 08:48:42 2009 +0000

    posix: posix_{f, l}stat_with_gen to return 0 on success (instead of >= 0)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit d56c6a81ba22e5caca68bfa6fc0eb5f3079c9d22
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:26 2009 +0000

    posix - generation number support
    
    - use sequential gen counter
    - move span_devices handling and generation assignment to common functions
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 355150088d688fafd82c54af80a583a26732d0da
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:25 2009 +0000

    posix - use lchown and lchmod in setattr
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit ff38298144730c95627cfc11416baa6b75d3c94d
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:24 2009 +0000

    distribute - more NULL check
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit cb76cadb74a36e220a2b6a886c0c8068abdad0c7
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:23 2009 +0000

    distribute,nufa: layout handling changes
    
    changes to make revalidate not fail but instead perform fresh lookup
    and swap inode context (layout) safely
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit fa4e9d639b95b557ae64dab38c4c3ff8a0ec0d7a
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:22 2009 +0000

    fix double initialization of dht_local_t
    
    This was causing leak of the first initialized frame->local in
    every create call
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 3defca52e68cd65b6a32876e00de72832e247171
Author: Anand V. Avati <avati@blackhole.gluster.com>
Date:   Fri Oct 16 07:30:21 2009 +0000

    NULL checks on local->loc.parent
    
    check for presence of local->loc.parent != NULL before defering to
    pick ino for post/preparent parameters. local->loc.parent can be NULL
    legally when loc is describing "/"
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 315 (generation number support)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=315

commit 61b5516701224073bbf71afea93ce58d5bd6b811
Author: vinayak hegde <vinayak@gluster.com>
Date:   Fri Oct 16 00:38:25 2009 +0000

    performance/write-behind: initialize frame->local before goto out label
    
    if mtime,atime are not changed,
    frame->local will not be initialized.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 310 (While trying to create a file on replicate with write behind set-up, client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=310

commit 6fda29fcd64dffbbfdbbf63eed69a557e46598d0
Author: Anand Avati <avati@gluster.com>
Date:   Thu Oct 15 11:28:00 2009 +0000

    shuffle hash layouts on directories
    
    allow for hash layouts to be written differently for different
    directories to give a better spread for same filenames across
    directories
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 324 (distribute does not spread files of the same name among all servers)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=324

commit ccb0f6fa67c148545e536d1033abe1652520bdb3
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Oct 15 00:27:14 2009 +0000

    performance/write-behind: In wb_setattr, inode is checked twice
    
    1. check for is it a directory,
    2. otherwise check for inode and continue.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 310 (While trying to create a file on replicate with write behind set-up, client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=310

commit 8b048b48b6925d0f774875abe5cdfccf4b26a868
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 15 01:47:54 2009 +0000

    performance/io-cache: remove caching in lookup.
    
    - caching file contents in io-cache during lookup is obsolete since quick-read
        does the same work.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 314 (Hang in quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=314

commit b78fa55bbbb645d4a9ac58ff7f6b59684dfa83d4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 15 08:39:01 2009 +0000

    performance/quick-read: frame->local need not be set in qr_open_cbk.
    
    - local is used only by certain operations and hence it need not be set by
        all the operations invoking open.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 323 (fd leak with quick-read loaded in translator tree)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=323

commit 680164e64ab9a3817364626cd27cdc997ca16414
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Oct 14 21:14:36 2009 +0000

    performance/quick-read: flush should proceed with winding if fd-context is not found.
    
    - if the fd-context is not set, quick-read has no role to play other than
        just passing down the call to underlying translators.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 317 (Data corruption with write-behind loaded in translator tree.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=317

commit 44db9af90b7280520c1c599d2bf54dd477961948
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 14 14:00:58 2009 +0000

    storage/posix: Use the right macro to set nsec of mtime in posix_do_utimes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 296 (handle futimes correctly in FUSE)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=296

commit 4203033c2da0598712d34389f8ef5ce8c24334b4
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 14 14:00:07 2009 +0000

    mount/fuse: Initialize attr and set nsec values for atime and mtime.
    
    attr was not being initialized and NSEC values were not being set in attr.
    These were being referenced in posix_do_utimes which could cause a failure of
    utimes ().
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 296 (handle futimes correctly in FUSE)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=296

commit 347385beb519d75cd1457a36cf13a02fd2e60a92
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 14 13:48:23 2009 +0000

    performance/write-behind:STACK_UNWIND happens only in failure path of wb_stat()
    
    Only in case of errors STACK_UNWIND happens in wb_stat().
    Also, fixed an incorrect check which would fail all writes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 309 (In replicate set-up when exnihilate.sh is run , client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=309

commit 89b40ae93a09043e9d9384ce8c631d0c5abe6787
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 14 07:32:37 2009 +0000

    storage/posix: Initialize op_errno to 0 in posix_create.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 309 (In replicate set-up when exnihilate.sh is run , client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=309

commit a9364b0a56186a3203820aca69b9875266e4c5f6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Oct 14 05:50:59 2009 +0000

    io-cache: NFS-friendly changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 65f02619c7d4b29caa8dd11b78c294c521116f12
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Oct 14 02:07:25 2009 +0000

    performance/write-behind: return from wb_open after STACK_WIND
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 312 (iozone crash in Distribute-Replicate)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=312

commit 7c4429b9631c3c9866620887d6a41030466f71e3
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 13 07:32:46 2009 +0000

    afr transaction: fix op_ret check during locking
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit 103a9ecfaf5881b31844b8a12a5b98dc5308a800
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 13 06:42:28 2009 +0000

    cluster/afr: Set mtime of parent directory in self-heal properly.
    
    While creating/deleting an entry as part of entry self-heal,
    set the parent directory's mtime to match that on the source
    subvolume.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 137 (Parent directory mtime not reset after a create in self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=137

commit 7d6e73d4421265a304fd22964649e555a2db8097
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 13 06:42:13 2009 +0000

    posix/client/server: Send postparent in lookup even if lookup fails on the entry itself.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 137 (Parent directory mtime not reset after a create in self-heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=137

commit f085beebd03b2c8be2fa57039ad3cbcb6eaa66d3
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 13 06:42:15 2009 +0000

    prevent spurious unlocks from afr selfheal
    
    afr selfheal now remembers all the nodes on which locks were successfully
    held and sends unlocks only to those nodes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit b20cee457232a88517af44ae4505361dd3a4de15
Author: Anand Avati <avati@gluster.com>
Date:   Tue Oct 13 06:22:37 2009 +0000

    afr transaction prevent spurious unlocks
    
    mark a subvol with held lock only if op_ret == 0
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit babdbcbb6a434d65b0fdd9df708e94bea13cf05d
Author: vinayak hegde <vinayak@gluster.com>
Date:   Mon Oct 12 23:38:41 2009 +0000

    performance/write-behind: In wb_setattr file is used before getting fd context
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 310 (While trying to create a file on replicate with write behind set-up, client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=310

commit e84a3cf74947d7a6deace07a1726376aa0a8a6a4
Author: vinayak hegde <vinayak@gluster.com>
Date:   Mon Oct 12 09:09:33 2009 +0000

    performance/write-behind: file is referenced, without checking for NULL
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 310 (While trying to create a file on replicate with write behind set-up, client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=310

commit 6df45979aae89a217e43c59a8f0a8087915ce5d8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 12 07:01:13 2009 +0000

    cluster/afr: Hold second lock after first lock has been granted for rename transactions.
    
    Hold the lock on the {higher_path} only after the lock on the
    {lower_path} has been granted successfully.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit 0f177f59d199484a15490359f6db69bfa8dff82d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 12 09:12:45 2009 +0000

    protocol/server: Set preparent and postparent in the response struct.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 5cec042dfa7d7c9699d3110f849a78b2569aa8d9
Author: Anand Avati <avati@gluster.com>
Date:   Mon Oct 12 11:26:59 2009 +0000

    replicate: fix missing frame in entry-self-heal
    
    when files on all backend nodes are missing, the logic in afr_sh_entry_erase_pending
    is broken and results in missing lookup frame. this causes processes to enter into
    uninterruptible sleep state.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 311 (missing frame (lookup) when entry-selfheal finds missing files in all backend nodes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=311

commit a3da2ad4cd1c8c6adaa0f5055820541254f8c91d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 9 12:40:19 2009 +0000

    performance/quick-read: change the default option values in quick-read.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 273 (Code review and optimize quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=273

commit 077d73fa467bcd0a5ac4be26bb4b366d5fc20a69
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 9 09:15:36 2009 +0000

    posix: Ensure ENOTEMPTY return on rmdir
    
    Since we added an extra step after rmdir, i.e.
    the lstat on parent dir as part of the NFS-friendly
    changes, the successful return from postparent lstat
    clobbers the -1 error return from rmdir.
    
    This prevents this particularly ENOTEMPTY error from
    being propagated to higher translators.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 73027dae835fc968dc443294fc8c109110168d37
Author: Anand Avati <avati@dev.gluster.com>
Date:   Fri Oct 9 08:00:23 2009 +0000

    Add INIT_LIST_HEAD which was left out in the previous commit
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 297 (Posix locks cannot handle a single unlock over multiple held locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=297

commit 7ef987661626ee2e9de033470bafb7c864e01fe1
Author: Corentin Chary <corentin.chary@gmail.com>
Date:   Tue Oct 6 06:36:31 2009 +0000

    Add all generated files to .gitignore
    
    Signed-off-by: Corentin Chary <corentin.chary@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 2231e5f8ab2be2721ebb6662bd1e252cd89cea7a
Author: Corentin Chary <corentin.chary@gmail.com>
Date:   Fri Oct 9 06:25:11 2009 +0000

    features/locks: Fix insert_and_merge
    
    Init the list structure, because it will be used later,
    and subtract_lock does not do it.
    
    Also remove the special handling for unlocks, which was
    probably introduced as a workaround for this bug.
    
    Signed-off-by: Corentin Chary <corentin.chary@gmail.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 297 (Posix locks cannot handle a single unlock over multiple held locks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=297

commit 58bc556b84792562ff6cdc60e0e7a48006eb56a9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 9 02:40:10 2009 +0000

    performance/write-behind: Add enable-trickling-writes to volume_options.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 72fc9328b1959f2f3e8b24048995cb70a090e0a3
Author: vinayak hegde <vinayak@gluster.com>
Date:   Fri Oct 9 02:38:13 2009 +0000

    debug/trace: Check asprintf return value to avoid warning, while build
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 308 (Warning in debug/trace.c, during build)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=308

commit ec7c17bc6f54c2a28353d5b099e6501793eed8f8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:56 2009 +0000

    performance/stat-prefetch: checking for cache and creation if not present is made atomic.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 9f876873728bc605f68d386e454c922a5305184d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:54 2009 +0000

    performance/stat-prefetch: lookup path in xattrop if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 3fb8e1d67a7d2a4513fa96df726f557fb5aa3df5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:53 2009 +0000

    performance/stat-prefetch: implement sp_entrylk.
    
    - lookup on path should be sent in entrylk if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 94f24f06644b9e872f4b34f100017672b5d08978
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:52 2009 +0000

    performance/stat-prefetch: implement sp_inodelk.
    
    - path has to be looked up in inodelk if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit ebbe78de0281735f683d5414b34d1418e8c9d5b8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:50 2009 +0000

    performance/stat-prefetch: lookup path in removexattr if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit f86d713f8e60dbd6d80f25a05fb3a55acc6457d0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:49 2009 +0000

    performance/stat-prefetch: implement sp_getxattr.
    
    - path should be looked up in getxattr if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 4c83e0c25c39c90723a0c7ba6a706784b651704f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:48 2009 +0000

    performance/stat-prefetch: lookup path in setxattr if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 506a26985572949525cd8560d77a2fa13332d8bd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:46 2009 +0000

    performance/stat-prefetch: lookup path in opendir if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit d53db7415fd919b405818864aafa51b53aab7627
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:45 2009 +0000

    performance/stat-prefetch: lookup path in create if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit bbaf6e2d35841c2976855e09e3c744bc6c364821
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:43 2009 +0000

    performance/stat-prefetch: remove stat corresponding to oldloc->path from cache in sp_link.
    
    - ctime of oldloc->path will be changed on completion of link fop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 7fcb479dc329d9931c0ec975ab8b87450d6d8b24
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:42 2009 +0000

    performance/stat-prefetch: lookup oldloc->path in link if it has not already been looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit aa8323817ebacf664b0e4c68996efa5847342bf8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:40 2009 +0000

    performance/stat-prefetch: lookup oldpath and newpath in rename if they've not already been looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 5cb21335e3f12815d3e60b93d5edaea8d4ba26da
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:38 2009 +0000

    performance/stat-prefetch: lookup path in symlink if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 153e2fd4f5fc35d23b3dad0cc147f4586b88823d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:36 2009 +0000

    performance/stat-prefetch: lookup path in rmdir if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 9857c10cd6b7b4497f8bc2d96aa559d1191f65d8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:35 2009 +0000

    performance/stat-prefetch: lookup path in unlink if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 19322c4a2a2c439a7c90dabe07cee07deb9dc79a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:33 2009 +0000

    performance/stat-prefetch: fix mkdir to unwind with proper number of arguments.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit be267e3449f84b35f749beec7c90e895a231b32c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:31 2009 +0000

    performance/stat-prefetch: lookup path in mkdir if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit d4f0250bc6db1a8462ed05e970e81f02c47673b4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:30 2009 +0000

    performance/stat-prefetch: lookup path in mknod if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 54990af07b8156bbe7d7686b3aa1e0bd2b7372c1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:29 2009 +0000

    peformance/stat-prefetch: lookup path in readlink if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 7a4c856af87c024ee8e9ff0164e26e48876380d5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:27 2009 +0000

    performance/stat-prefetch: implement sp_access
    
    - sp_access should send lookup on the path if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit b49ab8f21d69bf0ffb19f1837cf665a0d63ead7d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:26 2009 +0000

    performance/stat-prefetch: lookup path in truncate if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 063041b55c6375d8253aec4f2d191fb1a90de31a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:16 2009 +0000

    performance/stat-prefetch: lookup path in setattr if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 31a48a6b868249f01e8a1660469390b2d34969c0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:14 2009 +0000

    performance/stat-prefetch: implement sp_stat.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit f01de62f519c1cd110bf34a6cf585e8f8f88e4c2
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:12 2009 +0000

    performance/stat-prefetch: lookup path in checksum if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit f114e547b742eb321f7ac4746ba79605289fbe74
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:11 2009 +0000

    performance/stat-prefetch: lookup the path in open if it is not already looked up.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 8260e8c1ec061ea8fadc79695f5269781d543376
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:10 2009 +0000

    performance/stat-prefetch: implement procedure sp_process_inode_ctx.
    
    - this procedure processes inode_ctx to make decisions like whether the
        current procedure can continue (i.e., inode is already looked up),
        or the procedure has to initiate/wait for lookup on the path. It also
        sets up the frame->local and adds the stub corresponding to current fop
        if needed.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit f89f4c64af2d9253dea28504d9f27bf08b544bf0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:08 2009 +0000

    performance/stat-prefetch: use op_errno instead of errno to store error code.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 2dc9d11fe1c8aaeba972c6fd693de1f32e5e3f1a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:07 2009 +0000

    performance/stat-prefetch: Add support code to implement lookup-behind.
    
    - change sp_lookup and sp_lookup_cbk to support sending lookups when needed.
        lookups might need to be sent in fops like open, chmod, chown etc which
        operate on a path, since the actual lookup sent to stat-prefetch by its
        parent xlators is not propagated down the xlator tree if the path is
        cached.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 490edcd9f76726e5cc46bf9e7ddd69e496d32d7b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:05 2009 +0000

    performance/stat-prefetch: remove lookup-behind in sp_lookup.
    
    - lookup-behind should be done on-demand basis, in fops like open
        instead of in sp_lookup itself. This would reduce network traffic
        between client and server related to lookup, if the only use of
        lookup was to fetch stat structure.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 5c3bd66db8a911ca4da021d76237970c9eabd66c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:04 2009 +0000

    performance/stat-prefetch: optimizations to sp_lookup.
    
    - if stat cache cannot be found for a path in its parent inode and the path
        is a directory, we can get the cache from the inode corresponding to path
        and look for "." in that cache.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 78da899c5ceac63c424ad3d9e712b6a26abae7ba
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:02 2009 +0000

    performance/stat-prefetch: Add accounting of cache hits and misses.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit b9bfc46a9a26c356bd79a453c6daa77692f0a624
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:21:01 2009 +0000

    performance/stat-prefetch: change behaviour of sp_lookup when xattr_req is not NULL.
    
    - if the xattr_req is empty (fuse just creates an empty dictionary and
        sends along lookup) we can still use the cache prefetched during readdir,
        since we need not fill the reply dictionary.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit f5aa617d7cc4a48bb5e76fc7de763e9c3624e6b4
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:20:59 2009 +0000

    performance/stat-prefetch: change the cache to use rbtree based hashtable instead of list for caching dentries.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 59d4142ff1938e3b327fb81bee49402057ae1382
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 06:20:50 2009 +0000

    performance/stat-prefetch: fix memory leaks
    
    - sp_cache_get_inode uses fd_lookup which internally increases the refcount of
        fd by 1. This needs to be unrefed once we get the cache.
      - for directories, stat is stored in the inode context in sp_lookup_cbk.
        but, while doing so, no check was being done for the presence of context
        in inode, resulting in leak of memory equal to sizeof (struct stat) when
        multiple lookups happened on the directory.
      - path constructed in sp_readdir was not freed.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 3949b2828a78e4ecb95edb06f09fb9e7e3e5ce9b
Author: vinayak hegde <vinayak@gluster.com>
Date:   Thu Oct 8 23:35:57 2009 +0000

    debug/error-gen: Feature enhancement of error-gen translator
    
    In debug/error-gen translator 3-options are provided.
    failure - specifies the percentage failure in fops.
    error-no - specifies which error-no to be returned.
    enable - specifies which are the fops to be enabled for this translator.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 291 (feature enhancement of error-gen translator)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=291

commit d160d55c41913de26a43117b00fcab63746ce96d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Oct 9 00:05:43 2009 +0000

    performance/write-behind: Refining the check for fd_ctx in fds
    
    - An fd opened on a directory should not be considered bad if the fd context
        is not set since the context is set only for fds opened on files.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 260 (ls on booster VMP results in error: "File descriptor in bad state")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=260

commit c74e5ac0a26ad217edc2f6ba1ed4bb0511e49084
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Oct 8 05:59:49 2009 +0000

    libglusterfs/defaults: default_readdirp should call fops->readdirp instead of fops->readdir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit adc495298c22fa3463cdd46a5e3def37878f28bb
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 8 06:31:33 2009 +0000

    performance/write-behind: Change STACK_UNWIND to STACK_UNWIND_STRICT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit a310d0e6b0754c43c8b89ea5b78dcc4e8f2e0462
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Oct 8 05:48:21 2009 +0000

    cluster/dht: Change STACK_UNWIND to STACK_UNWIND_STRICT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 1534a696daf25ddea67bd2bc8e2ba1993eb366c6
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 7 13:12:36 2009 +0000

    Initialize local before any call to STACK_WIND to prevent a crash
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 304 (Write behind crashes when a chmod is issued)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=304

commit ef488e7cceea97c4e2750b463000a2b77fc82323
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Oct 7 12:55:54 2009 +0000

    assign client_readdirp to .readdirp in protocol/client & fix 2 other bugs in call_stub
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 305 (Readdirp crashes in client protocol)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=305

commit 6215731b42a4149e78fb56cb62c2f2dc571ea2a5
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Oct 7 06:43:44 2009 +0000

    mount/fuse: Handle FATTR_MODE flag properly.
    
    Handle the FATTR_MODE flag in fattr_to_gf_set_attr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 0b1197defa255ee533e568c9534bc6a5b5aadc29
Author: Vijay Bellur <vijay@gluster.com>
Date:   Mon Oct 5 23:59:13 2009 +0000

    Changed occurrences of Z Research to Gluster.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5ea9f35a538e83ebc50fca81efecbcd8ddd9951b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Oct 7 04:38:49 2009 +0000

    cluster/afr: Change STACK_UNWIND to STACK_UNWIND_STRICT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit bb8ea22c3c936254dc4e3a3813f18b78d1aec6b4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 5 09:25:33 2009 +0000

    mount/fuse: Don't send fsetattr if ATIME or MTIME needs to be changed.
    
    There is no "futimes" call. Hence, if either the FATTR_MTIME or FATTR_ATIME
    flag is set, don't send fsetattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 296 (handle futimes correctly in FUSE)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=296

commit 29f81133a6cd95ebc9fac627a4fb0da73977f5a8
Author: Pavan Sondur <pavan@gluster.com>
Date:   Mon Oct 5 09:45:52 2009 +0000

    Removed remaining references to chmod, chown and utimens as part of setattr changes.
    
    Removed references to chmod, chown and utimes. Removed utimes references in AFR and writebehind.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit f3e46f2cb44e95c453bfa20c870dca6e42fc9a7a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Oct 5 07:42:02 2009 +0000

    core: Add rbtree based hash table
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 39243caeca3322801429afcef5094ea734438669
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Oct 5 07:42:01 2009 +0000

    mem-pool: Include stdlib for calloc()
    
    Doing so removes build warnings about calloc and free
    for files that use mem-pool but do not by themselves
    include stdlib.h, for eg., rbthash.c
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit d03e51668d5d0849d7acd7659a3e8028db85b089
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:07 2009 +0000

    libglusterfsclient: Port directory reading to readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 56bba06b2103aeadf33a7c7a5914f083f4d3b092
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:06 2009 +0000

    client: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 6968e06d007c57084414dfd433f005175b5ddc23
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:05 2009 +0000

    server: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 4b624979ce50a4fbdb34bc93241b6591d64b7f0a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:04 2009 +0000

    stat-prefetch: Port stat-prefetching to readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 2bcd6ffad9d9445b90627a219ccfff9535a22c6a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:03 2009 +0000

    io-threads: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit e1b3fa2194f0ec63b2206e081f7dc352d842ea53
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:02 2009 +0000

    trace: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 95b6af6c355dfd5f705fd152884d6a40c8676b2c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:01 2009 +0000

    io-stats: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit d4bd1b3945d6792f7f8ec05b1bb642adfc824aa6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:08:00 2009 +0000

    error-gen: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 12947025dd2acd58b233d1c83efcab1038764189
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:59 2009 +0000

    unify: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit ee3b60524b49fc02d68c7ba219d8015a0d7c7a97
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:58 2009 +0000

    map: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit d3c3d0a8ddc97d7be64a2c2102fab67b8d5e81af
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:57 2009 +0000

    ha: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 512dcad823feb199d78f5b66a09bc404ccb899e8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:56 2009 +0000

    distribute: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 02bced30690a5d298f262dce459bfecd001da2fe
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:55 2009 +0000

    afr: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 6b5a8b8536a943bd7f3241e1a08de934f7566169
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:54 2009 +0000

    posix: Support readdirp fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 55f55db6500835e95b324a2f28144c6a3dc55c62
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Oct 2 03:07:53 2009 +0000

    core: Separate readdirp and readdir fops
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 292 (Separate readdirp functionality from readdir fop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=292

commit 81cc40fee8b9cebcf5fc544c5d0c734fa7dfbb90
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Oct 6 06:45:04 2009 +0000

    storage/posix: Process "glusterfs.content" key in lookup only for regular files.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 301 (lookup should ignore ISDIR error when trying to get content)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=301

commit f719a641841a2bbd6f59945e5e32350cfe89f814
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 5 05:38:09 2009 +0000

    features/locks: Change STACK_UNWIND to STACK_UNWIND_STRICT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 965b74d7d6faeebb17f580cefcadca15dece3b08
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 5 05:37:51 2009 +0000

    storage/posix: Change STACK_UNWIND to STACK_UNWIND_STRICT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 97b564c708fbb44cf1ac512d7eaca701767120d5
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 5 05:37:31 2009 +0000

    libglusterfs: Add STACK_UNWIND_STRICT macro.
    
    STACK_UNWIND_STRICT (op, frame, this, op_ret, op_errno, ...)
    
    The "op" argument is the name of the fop (lookup, open, etc.).
    This macro makes sure that the number and type of arguments
    passed match those of the callback function for the fop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 269 (Add a specialized STACK_UNWIND macro for each FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=269

commit 7e6c9643e69e1f8172e5be3564213d35332ae099
Author: vinayak hegde <vinayak@gluster.com>
Date:   Mon Oct 5 05:21:58 2009 +0000

    glusterfsd.c: Pipe is used during daemonization as ipc.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 117 (Wrong command line does not throw error)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=117

commit 8e0f5e7105c0d03b50a9342f4285a985b9cdb090
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Oct 5 04:01:36 2009 +0000

    cluster/afr: Initialize local->first_up_child in AFR_LOCAL_INIT.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 285 ("first up child" can change during a transaction)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=285

commit b441730b5b54fcd9355bef42bd0f45a4147212e4
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:16 2009 +0000

    libglusterfsclient: Remove redundant fchown and fchmod
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 23d896068f98538954772dcd90a112b6cac17d63
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:15 2009 +0000

    libglusterfsclient: Use fsetattr for fchown
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 1640178a1004cb5a43cdf2e5fb375807812f367f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:14 2009 +0000

    libglusterfsclient: Use fsetattr for fchmod
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 507a4aa75d295f6fa7db04885b65aec0f497b21e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:13 2009 +0000

    libglusterfsclient: Support fsetattr fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 3dc513b108df276b974c0ddc47f7ac9bff907448
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:12 2009 +0000

    libglusterfsclient: Remove redundant chown code
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 0778d42be1a463f643994592073837b59d33bd76
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:11 2009 +0000

    libglusterfsclient: Remove redundant chmod code
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 52193c0a79cb39b7456a57ff6470000dd39d6420
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:10 2009 +0000

    libglusterfsclient: Remove redundant utimens code
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 46c23afc98e3f0c8063c4baada7baa3dd3134727
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:09 2009 +0000

    libglusterfsclient: Use setattr for utime
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit a2013f6bc70832c7cbcc1cabbb4d74725c0adac7
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:08 2009 +0000

    libglusterfsclient: Use setattr for utimes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit bdeb23cac1edbc7d88978b3676461db462d89c53
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:07 2009 +0000

    libglusterfsclient: Use setattr for chown
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit b017bcb852e3549ba7dc1dc6d23e157178bb1305
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:06 2009 +0000

    libglusterfsclient: Use setattr for chmod
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 709d46bcdbd006fa92c9d15e7c02ba7bff86685b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:05 2009 +0000

    libglusterfsclient: Support setattr fop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit 25217d43f9786b71de4d86cae122403f2cbaf1e5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:04 2009 +0000

    distribute: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 398de05aeba82ddfa055e8696521f3d5a4cbabe5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:03 2009 +0000

    ha: Handle memory allocation failures
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 3e25f229787c1b53ab61333a41345a35c070e089
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:02 2009 +0000

    ha: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 5c61f94b00e4fcc8199126f03816896e015eb511
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:01 2009 +0000

    symlink-cache: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 7c1bdb3aad6063f69338d92490cd4d11d4d578f1
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:59:00 2009 +0000

    io-threads: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 1e0b3920dc0bcb8d15586adceacacedba75b17ab
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:59 2009 +0000

    read-ahead: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit b342852f9d41c8274cdc808c1a481487b44a7ab9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:58 2009 +0000

    write-behind: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit cc709f8731b81faceab00b6ce18cf129e8ec8e3e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:57 2009 +0000

    filter: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit b02cf677ff6ec178f35e4300bb83b130c1834b05
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:56 2009 +0000

    stripe: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit ef07ef24562d3fe4355af849d2a50a16b8fb6db7
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:55 2009 +0000

    error-gen: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 5654dc9f93abe195fd4a1d3ed4a4971710db06e4
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:54 2009 +0000

    locks: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit ecf1ea918f206a23c2c74a792ee61f4c5ac799c2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:53 2009 +0000

    io-stats: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 2bc402003cd4526f74e4b543a717aafb52a8b9ed
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:52 2009 +0000

    trace: NFs-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 26907996756cc17f1a7df30b6f8ef130b7140924
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:51 2009 +0000

    client: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit b5c4ad4cbb7e313f66d22148e93b58c486e32d1b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:50 2009 +0000

    server: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 9710782e8a42712dfbbea46b50ac3681e57a860d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:49 2009 +0000

    posix: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit a27e706e3105dc363bcbe3c0e3c91979cc6c89a0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:48 2009 +0000

    unify: NFS-friendly logic changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit e11d66c8d6dea72d02f9bcdbf65c67bd5c60b5cc
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:47 2009 +0000

    Global: NFS-friendly prototype changes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 145 (NFSv3 related additions to 2.1 task list)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=145

commit 186a86f342625a9dce53fe537f8237c6099d5c54
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Oct 1 06:58:46 2009 +0000

    Global: Introduce setattr and fsetattr fops
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 146 (Add setattr FOP)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=146

commit dca4b2a23cb55e1e15fb393e7cbfd39b59280c9c
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 30 05:48:22 2009 +0000

    Changes to use this->name while using logging instead of explicitly mentioning posix-locks.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 290 (Clean up a calls to gf_log in locks' code)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=290

commit 820b88c3389b59dce190e6846703c267d7113a63
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 30 05:47:49 2009 +0000

    Make changes such that glusterfs builds with Werror and fix LONG_LONG_MAX definition.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 289 (glusterfs does not build with Werror)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=289

commit 572fb95127a37c3bf45a60083ad247064d634085
Author: Pavan Sondur <pavan@gluster.com>
Date:   Tue Sep 29 11:03:54 2009 +0000

    Check if path is valid after call to inode_path before accessing it.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 287 (call to inode_path can result in a segfault)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=287

commit 41c32c84892365c5230a5e61addc44dbfcd2e5cf
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Sep 28 20:58:26 2009 +0000

    cluster/afr: dir-write: Fix inode number handling.
    
    create, mkdir, symlink, mknod: Prefer to return itransform'd inode number
    from the first_up_child. If not, fall back on any other child that returned
    succcess.
    
    link, rename: Return the same inode number that
    was passed as part of loc_t.
    
    Also adds a new member to afr_local_t, local->first_up_child
    which is initialized at the start of the transaction. This
    fixes the race where a subvolume might go down during the transaction
    and thus have the first_up_child change.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 285 ("first up child" can change during a transaction)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=285

commit 03b5a87b2f4d641c798440923b255ca30a13bf47
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 25 02:55:12 2009 +0000

    libglusterfsclient: don't destroy the iobuf pool during fini.
    
    - some of the iobufs in pool will be cached by io-cache and hence refcount
        will not be zero. Hence the assertion of ref being zero in
        __iobuf_arena_destroy fails. Commenting out iobuf_pool_destroy during fini, till
        we introduce proper cleanup in all translators, thereby allowing io-cache
        to release the buffers it has held.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 283 (booster aborts complaining the refcount of iobuf is not zero during glusterfs_umount_all.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=283

commit 009fc3e3e921517a7b986f7b5a73676f43edb358
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 25 02:55:44 2009 +0000

    libglusterfsclient: traverse the vmplist during fini only if any entries are mounted.
    
    - the vmplist.list is inited only during mounting of first entry. Hence doing
        a list traversal when no vmpentries are present, results in a segfault.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 282 (segfault of applications using booster observed when the application does not mount any vmps.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=282

commit 5816d5dcc5e564017c101acb65e496a8d631b4eb
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 24 04:18:18 2009 +0000

    cluster/afr: Fix memory leak in "diff" self-heal algorithm.
    
    FREE sh->private after diff self-heal is done.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 281 (memory leak in "diff" self heal algorithm)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=281

commit 2317913ae5556fe402828d97f7da761124c15ba2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 24 04:30:06 2009 +0000

    glusterfsd/main: Do a sem_post only if running in daemon mode.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 4 (mount --bind fails if run immediately after mounting GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=4

commit 551782dfd54cb554633de526a0c4e188776c5e78
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:52 2009 +0000

    booster: Cleanup booster_cleanup and register for atexit
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 279 (File written with booster results in self-heal after dd exits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=279

commit d528f134094d86ec7344875160a41e0ce4ebc1b0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:51 2009 +0000

    libglusterfsclient: Support TRACE loglevel
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit cd13c7e7368ec60ec9b6559e2eced41bcc10d6bc
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:50 2009 +0000

    libglusterfsclient: Wait for all call pools to be destroyed
    
    This ensures that the process using libglusterfsclient does
    not exit before all the fops and calls have been replied to.
    It helps to ensure that the backends are in a sane state when
    the program exits.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 279 (File written with booster results in self-heal after dd exits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=279

commit 881e5f243d3c56dcaf54595378beb91c45f1ded5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:49 2009 +0000

    libglusterfsclient: Clean up fini and umount code paths
    
    This patch cleans up the umount and fini paths in preparation
    to support waiting for unwind of all pending call frames.
    
    Two misc fixes are:
    1. Fix to avoid deadlock in _libgf_umount by
    using _libgf_vmp_search_entry instead of
    libgf_vmp_search_exact_entry since the latter tries to take a
    lock already help by _libgf_umount.
    
    2. Avoid a crash in _libgf_umount by deleting the vmp
    entry from the list before it gets freed.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 279 (File written with booster results in self-heal after dd exits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=279

commit 7398c0a694343c15292f076dbb0ae8508004d003
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:48 2009 +0000

    iobuf, logging: Expose existing functions as required
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 279 (File written with booster results in self-heal after dd exits)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=279

commit 5d7db5410fc4a96268dcacf759a3b5ab79c2c28e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:47 2009 +0000

    libglusterfsclient: Reduce logging aggressiveness to TRACE
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit 41cd359539cf0b59c4435cbecd38b71bab796449
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 00:49:46 2009 +0000

    booster: Reduce logging aggressiveness to TRACE
    
    Internal users feel the amount of logging brought in
    due to a previous logging enhancement patch is a bit too
    aggressive for DEBUG, so this changes it to TRACE.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit 03764d0d308b46ebfa53d21df1d49a549c459e64
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Sep 24 01:01:00 2009 +0000

    libglusterfsclient: Re-validate root inode on every path resolution
    
    If the root inode's is outdated, send a revalidate on it.
    A revalidate on root inode also reduces the window in which an
    op will fail over distribute because the layout of the root
    directory did not  get constructed when we sent the lookup on
    root in glusterfs_init. That can happen when not all children of a
    distribute volume were up at the time of glusterfs_init.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 256 (revalidates should be sent on '/' in libglusterfsclient.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=256

commit c72b902afce2b977c8d0b9b1a0463f615365d825
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 24 00:59:04 2009 +0000

    performance/write-behind: Add a NULL check for request->stub before checking request->stub->fop.
    
    - for non-write wind requests, the request structure outlives the stub.
        The call stub is destroyed when stack is wound but request is destroyed
        only when the reply has come.
        (for writes, both stub and request are destroyed when refcount becomes 0,
         which happens only when the write operation is stack unwound and a reply
         for the write operation has come from underlying translators, for non-write
         unwind requests the request is first destroyed before resuming the stub).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 280 (simple stripe, with write-behind set up, when dbench is run client crashes.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=280

commit 155ffe5c5a52a8f52978dc68509e5912b5db7bc4
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Sep 22 07:53:14 2009 +0000

    fuse: emit a flush from release if we didn't get an adjacent FLUSH message from the kernel
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 223 (flush not sent)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=223

commit 334981987010f895594031f8363f481eb7ae6416
Author: Pavan Vilas Sondur <pavan@dev.gluster.com>
Date:   Wed Sep 23 06:03:25 2009 +0000

    Implemented inodelks with support for domains.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 231196910d9d36af9546ddc511b26da5628b3ab8
Author: Pavan Vilas Sondur <pavan@dev.gluster.com>
Date:   Wed Sep 23 06:02:55 2009 +0000

    Implemented entry locks and support for domains.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 435b28132b8f276681d19ae14fa988d26a16f659
Author: Pavan Vilas Sondur <pavan@dev.gluster.com>
Date:   Wed Sep 23 06:01:10 2009 +0000

    Removed internal.c and old domain definition in locks.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 222 (Enhance Internal locks to support multilple domains and rewrite inodelks)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=222

commit 5535110f8e760eecb12140aafd70174e7d7bfcda
Author: vinayak hegde <vinayak@gluster.com>
Date:   Wed Sep 23 06:19:21 2009 +0000

    Changes for custom daemon function.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 4 (mount --bind fails if run immediately after mounting GlusterFS)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=4

commit 7df1671b5af320f2c5aaeadfccda2e64d2ff404e
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Tue Aug 11 13:21:11 2009 +0000

    mount.glusterfs had a problem understanding when "volfile" was given as one of the mount arguments.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 204 (mount.glusterfs mounts to incorrect mount point)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=204

commit 044679501c13024950751cbebe8fd47cc73e8bf9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 23 00:22:17 2009 +0000

    performance/write-behind: store currently aggregated data size in wb_file
    
    - this helps us to not traverse the request list whenever we need currently
        aggregated data in the queue
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 3d1f342671bb11159569fd2a4f20b2c9007e7b55
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 23 00:21:51 2009 +0000

    performance/write-behind: store the current window size in wb_file.
    
    - this would increase the performance since we don't have to traverse the
        request list every time we need the current window size.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 2f1261c194d8735e50dfa3846b3cd23654ed7391
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 23 00:21:31 2009 +0000

    performance/write-behind: reduce usage of iov_length.
    
    - request structure now holds a member write_size which is initialised at the
        time of request creation and used later.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 35f96c039e8961e48af46af43b6ecf7a335feb15
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:32 2009 +0000

    cluster/afr: Add new option "data-self-heal-algorithm"
    
    option: data-self-heal-algorithm type: string default: "full"
    
    This option allows the user to specify the algorithm to
    be used for data self-heal. Currently supported values
    are "full" and "diff".
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d2b7e65ec0c35c4ee16f28f449553d90fb88fa6a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:31 2009 +0000

    cluster/afr: Add the "diff" self-heal algorithm.
    
    The "diff" self-heal algorithm works as follows:
    
      For each block:
        Compute MD5 checksum on source and all sinks
        If checksum on a sink differs from source:
          Read block from source and write to sinks
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8c224de82b9b3e75f2dd9c264d5d3726dd1ef379
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:30 2009 +0000

    cluster/afr: Make the self-heal algorithm pluggable.
    
    Abstract the read/write loop part of data self-heal. This
    patch has support for the "full" (i.e., read and write entire
    file) algorithm.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 356449c0b39d600a16b195df30d0fc37693575f8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:29 2009 +0000

    cluster/afr: Open source and sinks in read/write mode during self-heal.
    
    Since a self-heal algorithm (e.g., rsync) might want to both read
    and write from both the source and sink files, open them as O_RDWR.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a4d729c7dccd5cdf72f640e39564103412d867ec
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:28 2009 +0000

    protocol/server: Implement rchecksum.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4f9fa11a788dc367f89ca47544f42323c0e73a14
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:27 2009 +0000

    protocol/client: Implement rchecksum.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 45707a5ae95a9154a57fb7bf56f7cd64e2c40896
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:26 2009 +0000

    storage/posix: Implement rchecksum.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit faf97734112ebe11d8a411351d9f23b528b9d616
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:25 2009 +0000

    libglusterfs: Add RCHECKSUM fop.
    
    rchecksum (fd, offset, len): Calculates both the weak and strong
    checksums for a block of {len} bytes at {offset} in {fd}.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 239d2cbdb0a4c32df9f21de8385e2c466b934178
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 17 05:56:24 2009 +0000

    libglusterfs: Add checksum functions.
    
    gf_rsync_weak_checksum:   Calculates a simple 32-bit checksum.
    gf_rsync_strong_checksum: Calculates the MD5 checksum.
    
    The strong checksum function makes use of Christophe Devine's
    MD5 implementation (adapted from the rsync source code,
    version 3.0.6. <http://www.samba.org/ftp/rsync/>).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0def744b2e66e81ac37532b26716e83d3b8bc9dd
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 00:22:12 2009 +0000

    booster: implement F_DUPFD command in fcntl.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 277 (running dd on booster returns EINVAL)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=277

commit 8301f05f77aa08f04e249c19576a7c111e586109
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:39:10 2009 +0000

    performance/write-behind: add option "enable-trickling-writes".
    
    - With this option enabled, writes are stack-wound even though not enough
        data is aggregated, provided there are no write-requests which are
        stack-wound but reply is yet to come. The reason behind this option
        is to make use of the network, which is relatively free (with no writes
        or replies in transit). However, with non-standard block-sizes of writes
        the performance can actually degrade. Hence making this configurable.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 35d1cabfd1266609ec22f11e5e4ddba13f0ffc56
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:38:37 2009 +0000

    performance/write-behind: reduce traversal of request list during wb_mark_winds.
    
    - move all the decision making code to __wb_can_wind.
      - don't continue traversing the request list, once we know any of the
        following conditions are true:
        * requests other than write are present in queue.
        * writes are happening at non-contiguous offsets.
        * there are no write requests, which are wound to server but not yet
          received the reply.
        * enough data is aggregated for writing.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit db33e097111ca76f487f087d494984d45d4b3b64
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:38:50 2009 +0000

    performance/write-behind: reduce list-traversal during wb_mark_unwinds
    
    - don't traverse entire request list to get the window-size, instead break when current
        window size becomes greater than configured limit.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 32a6898678686df1b2c82a37e548170ba5c3512b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:38:25 2009 +0000

    performance/write-behind: remove redundant traversal of write-requests in the wind list in wb_ sync.
    
    - no need of getting the total_count of number of requests in the list.
        Even if there is a single request, we need to sync it.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit 8a0d85eb936f9483a5d23d67cf5989351d5f86d7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:38:12 2009 +0000

    performance/write-behind: Aggregate adjacent contiguous write-buffers into single iobuf.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit ecb8f4dfce0bfdba8d14532231a7596a73def38e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 22 01:37:59 2009 +0000

    performance/write-behind: fine-tune logic of wb_mark_winds
    
    - remove wb_mark_wind_aggregegate_size_aware, since wb_mark_wind_all does
        the same work (with check for whether current aggregated data size is
        greater than the configured limit before calling it). Moreover,
        wb_mark_wind_aggregate_size_aware called __wb_get_aggregate_size
        redundantly, thereby reducing the performance, since for small
        sized large number of writes, traversing the list of requests takes
        significant amount of time.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 276 (write behind needs to be optimized.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=276

commit fd0b40a2f3e7e1c56b742c9ae081785811030a3c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Sep 21 05:32:42 2009 +0000

    libglusterfsclient: Fix build warnings
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 275 (libglusterfsclient: Generic build failure bug for libglusterfsclient and booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=275

commit 6f7c6c102a418553a109e1b2bb5b1f87578bab58
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Sep 21 05:32:32 2009 +0000

    booster: Fix build warnings
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 275 (libglusterfsclient: Generic build failure bug for libglusterfsclient and booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=275

commit 1fc259cb73cb199052519f548dfbb1b83829b28f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Sep 21 05:19:47 2009 +0000

    storage/posix: Update nr_files after system call succeeds.
    
    In posix_open(), posix_create(), and posix_close(), update
    stats->nr_files only after the FOP has succeeded.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 248 (Updating stats in posix is incorrect)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=248

commit 578e42399fa86f15dffffd5d35f96f3a248d651d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 18 05:53:52 2009 +0000

    performance/quick-read: refine logic of qr_readv.
    
    - An extra vector was being allocated when the number of bytes being read
        from cache were equal to the iobuf size.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 274 (Memory corruption in Apache running on booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=274

commit c98c65c940a8120982aeaf5f15d0522a002c5b80
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 18 05:48:04 2009 +0000

    performance/quick-read: optimizations to lookup
    
    - qr_lookup not to send request for file-content if the cache is already
        present during revalidates.
      - flush the cache in qr_lookup_cbk if the cache is not in sync with the file.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 273 (Code review and optimize quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=273

commit 4a272e7ba02487b2596814035a266974d57e6b04
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 18 05:48:13 2009 +0000

    performance/quick-read: make a comment more explicit.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 273 (Code review and optimize quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=273

commit 6f692f0f39f9fe32936135947c91629044ae4d2c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 18 05:47:56 2009 +0000

    performance/quick-read: checking for qr_file in inode-context and creating if not present should be atomic.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 273 (Code review and optimize quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=273

commit 5de57e490c8e3c2764777da6bf750a4f5e23f2b3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 18 05:47:43 2009 +0000

    performance/quick-read: refine the logic in qr_lookup.
    
    - a new size has to be set in xattr_req only
        if (quick-read is configured with a maximum file size limit
            && ((xattr_req does not have a request key for getting content)
                 || (the size requested in xattr_req is not equal to configured
                     size in quick-read)))
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 273 (Code review and optimize quick-read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=273

commit cb596d7e847543906c62eb3b07c88c60acac15ae
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 17 15:08:21 2009 +0000

    protocol/client: access glusterfs context from the ctx member of xlator object
    
    - A global context pointer cannot be used with libglusterfsclient, since
        there can be many contexts in a single process.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 271 (applications using booster protocol/client crash in client_setvolume_cbk.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=271

commit f0f547f79792af9fe8228f2028bd1dd30d976e68
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 17 00:08:26 2009 +0000

    performance/write-behind: check for the presence of context only in fds not opened on directories.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 260 (ls on booster VMP results in error: "File descriptor in bad state")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=260

commit bad3de155a3a910c6665a39555aeb823803635c9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 16 12:33:21 2009 +0000

    client-protocol: fix race-condition encountered while accessing fdctx
    
    - In protocol/client, fdctx is accessed by two sets of procedures,
      protocol_client_mark_fd_bad falls in one set whereas the other set consists of
      all fops which receive fd as an argument. The way these fdctxs are got is
      different in these two sets. While in the former set, fdctx is accessed
      through conf->saved_fds, which is a list of fdctxs of fds representing
      opened/created files. In the latter set, fdctxs are got directly from fd
      through fd_ctx_get(). Now there can be race conditions between two threads
      executing one procedure from these two sets. As an example let us consider
      following scenario:
    
      A flush operation is timed out and polling thread executing
      protocol_client_mark_fd_bad, fuse thread executing client_release. This can
      happen because, immediately a reply for flush is written to fuse, a release on
      the same fd can be sent to glusterfs and the polling thread still might be
      doing cleanup. Consider following set of events:
    
      1. fuse thread does fd_ctx_get (fd).
      2. polling thread gets the same fdctx but through conf->saved_fds.
      3. Now both threads go ahead and does list_del (fdctx) and eventually free
         fdctx.
    
      In other situations the same set events might occur and the threads
      executing fops other than flush in the second set might be accessing a
      fdctx freed in protocol_client_mark_fd_bad.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 127 (race-condition in accessing fdctx in protocol/client)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=127

commit c55a0a287b18ace123964e017c759947a5fbac2f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Fri Sep 11 07:42:44 2009 +0000

    performance/quick-read: access glusterfs_ctx from xlator instead of using glusterfs_get_ctx
    
    - since glusterfs_get_ctx gets the global context pointer, there can be
        problems in a multithreaded application running on libglusterfsclient
        doing multiple glusterfs_inits. Hence use context specific to the
        current xlator tree stored in each xlator object.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 240 (segmentation fault in qr_readv)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=240

commit a767c08c0e92e2e8caf4667d97aa5e5c3a13efb0
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed Sep 16 08:53:33 2009 +0000

    Add iot_fxattrop to io-threads
    
    It was already implemented but not set to .fxattrop
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 267 (Add fxattrop to iothreads)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=267

commit 9fd8f212bc1f6031b9ad7eaaf014d39916881947
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:47:50 2009 +0000

    Dumop inodectx added
    
    Added dumpop inodectx.
    Support for dumop inodectx added in dht, locks and client-protocol.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit dcfc4bdd5962ad18665d9ad3f3309884c941845e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:46:44 2009 +0000

    Changed prototype for inode_table_dump() and inode_dump().
    
    Changed prototype for inode_table_dump() and inode_dump()
    Added support for dumpop inode in mount/fuse and protocol/server
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit 5480b6eca96a8da4b159783a19f2ed5c2f640769
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:45:08 2009 +0000

    protocol/client: Support for dumpop priv.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit b542a8e5323fad46ce4e5f8921c906a58cff91d2
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:44:41 2009 +0000

    mount/fuse: Support for dumpop priv.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit db3d9ff328a9ce65db452d628f33c3151e131d5e
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:43:48 2009 +0000

    cluster/dht: Support for dumpop priv.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit fd9c608193b3318a543f25f75af7b888d85c4405
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:43:29 2009 +0000

    libglusterfs:Acquire lock before accessing fdtable contents during statedump.
    
    Hold lock while dumping fdtable.
    Dump only inode ino instead of the complete inode.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit 58e6643e036bda21f686955d779bb95ac513ab62
Author: Vijay Bellur <vijay@gluster.com>
Date:   Tue Sep 15 04:42:09 2009 +0000

    glusterfsd: Removing conditional compilation for SIGUSR1 handler.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit 34a7a97b3be80fa8af7d285211ab575a4c00ea79
Author: Anand Avati <avati@gluster.com>
Date:   Wed Sep 16 05:43:01 2009 +0000

    io-cache: fix table->max_pri to 1 as the lowest priority
    
    patch http://patches.gluster.com/patch/1319/ breaks when no priority
    is mentioned in the config. the patch makes ioc_get_priority() return
    1 as the value when no priority is given, but ioc_get_priority_list()
    was still returning 0 as the max_pri (maximum priority) which would
    result in lru list heads not getting initialized
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 261 (support for disabling caching of certain files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=261

commit 47b340a0d499d5f9364f763e5794a433be609e17
Author: Vinayak Hegde <vinayak@gluster.com>
Date:   Wed Sep 16 02:37:19 2009 +0000

    cluster/stripe, when dbench is run, client crashes because in stripe.c priv is dreferenced without initialising.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 266 (In stripe client crashes after some time when disk space is full)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=266

commit e16fc897aeece7598da195bb9bd050e352ff31ec
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 15 08:06:56 2009 +0000

    booster: use __REDIRECT macro to prevent creat being renamed to creat64.
    
    - nm on libglusterfs-booster.so shows only creat64 defined but not creat. This
       behavior is observed due to following reasons.
    
       1. Booster is compiled with _FILE_OFFSET_BITS=64.
       2. fcntl.h when included with _FILE_OFFSET_BITS=64 defined, renames all
       occurences of creat to creat64 in the source code from the point of
       #include <fcntl.h>.
    
       fcntl.h should be included since booster.c uses many of the macros defined in
       that header and glusterfs (booster in turn) has to be compiled with
       _FILE_OFFSET_BITS=64 since glusterfs uses datatypes (off_t, stat etc) whose
       sizes vary depending on whether this macro is defined or not. Basically, this
       macro should be defined to provide portability across 32 and 64 bit
       architectures.
    
       The correct fix is to make glusterfs to use datatypes big enough to hold 64 bit
       variants as well as 32 bit variants (like int64_t replacing off_t) and not to
       define _FILE_OFFSET_BITS=64 at all.
    
       As a temporary work around,
       1. we can implement creat functionality in a function with different name, say
       booster_false_creat
       2. rename this function to creat using __REDIRECT macro. since this renaming
       happens after renaming of creat to creat64 (from the first __REDIRECT macro
       in fcntl.h), we will end up with creat symbol being defined in
       libglusterfs-booster.so
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 264 (creat is not resolved properly to the symbol defined in booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=264

commit 3508a2d237cee98eb5c890011b569a1820b57f5c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 15 08:07:30 2009 +0000

    libglusterfsclient: NULL terminate the vmp entry during vmp_entry_init.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 263 (files are not resolved to glusterfs when vmp is not terminated with a '/'.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=263

commit 7bc96160b977345bda80c09e212d9d9c80243e7f
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 15 08:07:15 2009 +0000

    booster: use appropriate conversion specifier during logging in close.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 262 (crash in booster close due to invalid conversion specifier during logging.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=262

commit 8719f88fc85051b706c0fbf2904ace04435b2b05
Author: Stephan von Krawczynski <skraw@ithnet.com>
Date:   Mon Sep 14 05:59:55 2009 +0000

    2.0.6 patch for io-cache pattern-matched non-caching
    
    Hello all,
    
    here is a small feature patch. Its intention is to give the user more control
    over the files performance/io-cache really caches. If the user knows exactly
    which files should be cached and which shouldn't there is currently no way to
    tell glusterfs _not_ to cache certain pattern. This patch allows you to
    disable caching by setting the priority of a pattern to "0". If you do not
    give any priority option it works just like before and caches everything.
    Honestly I am not totally sure that disabling caching works the way we did it,
    please comment.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 261 (support for disabling caching of certain files)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=261

commit ece4e80b2d2326aa5fadc46c866947c9644622a7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 15 01:15:14 2009 +0000

    storage/posix: transform inode number in stat structure
    
    - when export directory is configured to span across multiple mountpoints,
        the inode number has to be transformed in order to make it unique.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 254 (storage/posix has to do inode number transformation wherever it unwinds with a stat structure)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=254

commit a5f0b3d7d1b23053ce9327be91323e92ce554b32
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 15 01:03:56 2009 +0000

    extras: Add LD_PRELOAD test tool
    
    This tool allows us to check the sanity of the LD_PRELOAD
    mechanism so that we can be sure that an application's syscalls
    will be redirected into booster when that library is LD_PRELOADed.
    
    In case of failed syscalls, this tool should be run first
    to see if the calls are redirected as required.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 251 (Improve booster debugging through ld-preload testing tool)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=251

commit ad33df39dec4850c249c453822a99b3038b41389
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 15 00:33:30 2009 +0000

    transport/ib-verbs: initialize fini member of new-transports created during accepting client connections.
    
    - This bug used to cause a memory leak of 2 * sizeof(ib_verbs_private_t) for each new client connection.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 259 (Memory leak on server side when there are large number of disconnections from clients)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=259

commit e73e7afe5630894faa7a2829969cd16ea99e3c71
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 10 07:18:10 2009 +0000

    libglusterfsclient: Wait for time ample enough for all the children of distribute to initialize before sending lookup on '/'.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 255 (libglusterfsclient should wait till all the children of distribute are initialized before sending first lookup on '/')
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=255

commit 31f0f48130fb68908413e710d960c5d7c6476b45
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 9 12:15:11 2009 +0000

    protocol/server: server_stub_resume should check for failure of lookup when oldloc.parent is NULL.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 215 (crash on ib-verbs in 2.0.6-rc4)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=215

commit aedc8ae261095530e334788afb7191fa3a92e710
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 9 00:39:13 2009 +0000

    booster: Fix fd_t leak in pread64
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 174 (booster: fd_ts, they are a leakin)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=174

commit 6aff97e9698918af6d5e479b0240610d40cbe344
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 9 00:39:12 2009 +0000

    libglusterfsclient: Fix incorrect NULL check for fd
    
    We should check fdctx instead.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 253 (Global bug for libglusterfsclient NULL checks and CALLOC handling fixes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=253

commit 19f3591e4ac291d48252849e03afd2ac77205316
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 9 00:39:11 2009 +0000

    libglusterfsclient: Handle CALLOC failure in libgf_client_lookup
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 253 (Global bug for libglusterfsclient NULL checks and CALLOC handling fixes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=253

commit bc94b7e77fffcbcde8f838cae8fee552d5bd1189
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 9 00:39:10 2009 +0000

    libglusterfsclient: Handle CALLOC failure in libgf_init_vmpentry
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 253 (Global bug for libglusterfsclient NULL checks and CALLOC handling fixes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=253

commit 226c228ff8effd6cc5edcb3326907b1faf69eaea
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Sep 9 00:39:09 2009 +0000

    libglusterfsclient: Add inode_ctx NULL check during iattr cache validation
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 253 (Global bug for libglusterfsclient NULL checks and CALLOC handling fixes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=253

commit fd418ecf5d1eb4d3b65cff0890f8897592f2e9c8
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 8 23:39:35 2009 +0000

    libglusterfsclient: Enhance logging
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit c4feaddee1120985422346eb0ffdfb62c796ad1b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Sep 8 23:39:13 2009 +0000

    booster: Enhance booster logging
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit b1cb5fce13eb1a31e694f0fcb81002d48455b750
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Sep 8 06:08:00 2009 +0000

    mount/fuse: Set d_type in readdir_cbk using the stat buf for the entry.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 207 ([ glusterfs 2.0.6rc4 ] - "ls --color" takes time)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=207

commit b1246773d17fadf93abb54c2fd504b3fc31944a9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Sep 8 05:06:22 2009 +0000

    cluster/afr: Check op_ret in afr_getxattr_cbk before accessing dict
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 250 (Crash in replicate getxattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=250

commit 1eb3fd72b13353fdb93dd0773d9da7aafccdde6b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Sep 3 09:44:34 2009 +0000

    cluster/afr: Do not try to self-heal "/"
    
    If the root directory does not exist on a subvolume,
    don't try to create it.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 28 (Deleting a backend export directory in an AFR setup can cause a segfault while trying to self heal)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=28

commit 5ce1007f3b9a5234caa5b8a8c168c6b673d37f7e
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 3 04:48:14 2009 +0000

    performance/write-behind: hold locks when accessing members of wb_file.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 243 (Hold locks when accessing members of wb_file_t.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=243

commit bdec7d133963bb94528bfbf5c47dd1eb08bf4b35
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 2 04:54:23 2009 +0000

    performance/write-behind: communicate back the errors in writes to servers, in the next immediate writes from application.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 242 (If any of the writes fail, write-behind should not wait till the fd is closed for reporting errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=242

commit c7f757aea81e65980c68b4293836097ce595b5b3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Sep 2 01:12:39 2009 +0000

    libglusterfsclient: handle intermediate path components which are symlinks properly in glusterfs_glh_realpath.
    
    - while building the realpath, if the intermediate path happens to be a
        symbolic link, the content of link was being appended at dirname (path),
        instead of appending to intermediate path.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 237 (If any of the path component other than the last one, happens to be a symbolic link glusterfs_glh_realpath does not construct correct path.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=237

commit 6f1a9007f4876d46bd2d67e67312c24771d82bf5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 1 00:34:02 2009 +0000

    libglusterfsclient: handle paths terminating with '/' properly in libgf_trim_to_prev_dir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 236 (Stack overflow due to infinite recursion in glusterfs_glh_realpath)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=236

commit 8d696f317ef06e045de380d4408b814a3214ced7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Sep 3 13:42:04 2009 +0000

    libglusterfsclient: handle failures in glusterfs_glh_realpath.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 235 (Handle failures in glusterfs_glh_realpath appropriately)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=235

commit ea8a20f3e68d5ccade465b60d98030c0c1bb4426
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 1 00:19:57 2009 +0000

    libglusterfsclient: check for memory allocation failure in glusterfs_glh_realpath.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 235 (Handle failures in glusterfs_glh_realpath appropriately)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=235

commit b27afdea5d8c594e160a099e2dd814fa33529276
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 1 03:52:20 2009 +0000

    libglusterfsclient: handle symlinks properly in glusterfs_glh_opendir.
    
    - exclude symbolic links from set of filetypes to which ENOTDIR is returned,
        since a symbolic link can point to a directory.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 234 (Apache-2.2 on booster returns HTTP_FORBIDDEN for a directory which is present)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=234

commit 342100dac9d0e01039b8cd8a0da4426b70d27060
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Tue Sep 1 00:00:44 2009 +0000

    libglusterfsclient: fix to the way symbolic links are handled in glusterfs_glh_realpath.
    
    - don't assume the content returned by readlink while constructing realpath
        of a symbolic link to contain vmp as part of the path. This is necessary in
        case of symbolic links which contain relative paths as targets.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 233 (Crash in Apache running on booster when a client tries to access a symbolic link)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=233

commit 6cd8070af4c83cca9f3f7685a2a04bcb95059dd1
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 31 22:53:33 2009 +0000

    performance/quick-read: if open fails during cache validation, don't continue validation process.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 232 (Quick-read: if open fails during cache validation, don't continue validation process.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=232

commit d6bc71ccb3a5265b01d188497213d797d7217c3d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 31 22:52:34 2009 +0000

    performance/quick-read: Fix access of freed memory in qr_open_cbk.
    
    - It may so happen that current frame might be unwound and
        local might be freed when waiting operations are resumed.
        Hence store the information of whether this frame belongs
        to an open call in a local variable, instead accessing the
        flag from local at the end of qr_open_cbk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 231 (Quick-read: Fix access of freed memory in qr_open_cbk.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=231

commit 8c95c2b69c08fa5c7d845e73d0e63fb2f001c511
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Sep 4 01:43:43 2009 +0000

    storage/posix: Synchronize access to this->private.
    
    Hold lock on priv while updating variables inside it.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 175 (Statistics for number of open files in Posix incorrect)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=175

commit fdef6f360f0755847d2520d79a4c7f0af35c7b0a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Sep 7 03:13:50 2009 +0000

    storage/posix: Handle setgid bit on directories correctly
    
    If a directory has the setgid bit set, then any entry
    created under it must have group ownership same as
    the directory.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 241 (Gluster not honouring SETGID flag)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=241

commit eecce95c2fc4713146e4ba99817abaac94102763
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:37:37 2009 +0000

    performance/stat-prefetch: don't check for a non-null parent and inode in newloc during rename.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit ef073ee5430e1f3af3bd580dd99a72352889756b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:37:26 2009 +0000

    performance/stat-prefetch: minor bug-fixes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 6bf11bf0dee3d3e70536a96cb8f8a4b01c26b445
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:37:16 2009 +0000

    performance/stat-prefetch: update design document.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit a5c829a3aa1d2f66dc85350bd4c163ef12507d44
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:37:10 2009 +0000

    storage/posix: handle dentries from different mount points in readdir
    
    - If posix translator is configured to have export directories to span accross
        different mount points, inode number is transformed in the dentry returned.
        Otherwise, the entry is not added to list of entries returned in readdir
        callback.
      - storage/posix returns ENOENT if the file is on different mount point other
        than that of exported directory and is not configured for export directory
        spanning across multiple mountpoints during lookup. But, since stat-prefetch
        shortcuts lookup calls, its necessary that readdir return only valid
        dentries.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 727c933a62e6b436c0aabcf80b6cd67620ee5429
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:37:02 2009 +0000

    performance/stat-prefetch: implement release callbacks.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 1d8f96e8c88b698a6cd1ec1f1a54f1b8aef70504
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:57 2009 +0000

    performance/stat-prefetch: implement sp_fxattrop.
    
    .../performance/stat-prefetch/src/stat-prefetch.c  |   37 ++++++++++++++++++++
     1 files changed, 37 insertions(+), 0 deletions(-)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 5e89bf62f8fb7a2a863f8b0c08ee1815a5aa5b38
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:47 2009 +0000

    performance/stat-prefetch: implement sp_xattrop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 284b42546e01f81e53b45695de1b4c893c98f418
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:37 2009 +0000

    performance/stat-prefetch: implement sp_checksum.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 251c9d6e83d4bdcc8180fc9f612fbef7ff4d39c3
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:28 2009 +0000

    performance/stat-prefetch: implement sp_getdents.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 26be5dc52d771b37d4e9da8814111448e4e68148
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:17 2009 +0000

    performance/stat-prefetch: flush stat corresponding to directory being read in readdir
    
    - delete the entry corresponding to basename of path on which fd is opened
       from cache stored in parent. This is necessary because readdir changes
       st_atime.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 155e6342d4f72d3be500510277b0808859ae2d2c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:08 2009 +0000

    performance/stat-prefetch: implement sp_setdents.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 9d30a68082659c27a9dac6e4d1a98e2be8bf5bf8
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:36:02 2009 +0000

    performance/stat-prefetch: implement sp_removexattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit a3449caf58d7e4876cf0246e22b044a8de8bde2b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:35:52 2009 +0000

    performance/stat-prefetch: implement sp_setxattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 52c34af5f4814b0b85efdc3c4d23638b6ca5514c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:35:36 2009 +0000

    performance/stat-prefetch: implement sp_rename.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 42d7559e8de1ca9c35dee6f731350c01a53932ad
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:35:02 2009 +0000

    performance/stat-prefetch: implement sp_fsync.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 562e2afbc6540d093086d4b41c6acedb48e1b0c5
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:32:06 2009 +0000

    performance/stat-prefetch: implement sp_writev.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 4b4b44960f5b6ccf1b0c5a222708654ae1d32a53
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:32:00 2009 +0000

    performance/stat-prefetch: implement sp_readv.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 1a2db6ed799d9ce05232422f5d5094da4fd5c35c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:53 2009 +0000

    performance/stat-prefetch: implement sp_rmdir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 29c282b1605afe6d6016660e21018e1954ce0a79
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:45 2009 +0000

    performance/stat-prefetch: implement sp_unlink.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 22ec7a4cb2e05f2c3c4512d80256008caa8b994b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:37 2009 +0000

    performance/stat-prefetch: implement sp_readlink.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 4538285776eeaa5383d7473438440d953fd9e232
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:28 2009 +0000

    performance/stat-prefetch: implement sp_utimens.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 4d305aa59877b52a6818e87630c3ee7f5b050d5b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:19 2009 +0000

    performance/stat-prefetch: implement sp_ftruncate.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 464f92cac5cd932386bb3b816c207e16c88cfe06
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:12 2009 +0000

    performance/stat-prefetch: implement sp_truncate.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit e5097a05fb2b95c53c24ab891e54259e6c5f4378
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:31:04 2009 +0000

    performance/stat-prefetch: implement sp_fchown.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit d943335cf06c6569d6517e073b1619a8ea013298
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:58 2009 +0000

    performance/stat-prefetch: implement sp_chown.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit cde006b0f117944761e97e81d44362a046676422
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:47 2009 +0000

    performance/stat-prefetch: implement sp_fchmod.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 724f869021f7d673ed5b0993e39e93687587ee8d
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:39 2009 +0000

    performance/stat-prefetch: implement sp_link.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 81d858f16cba61dfdf9f4b1348703d2e5358a0ad
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:32 2009 +0000

    performance/stat-prefetch: implement sp_symlink.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit ff9a9eae29edc7927fea9d6bf006c8b181e2bbd7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:25 2009 +0000

    performance/stat-prefetch: implement sp_mknod.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 385faf46a6878c7a42a1a2cb2c7c68c92cc0cc3b
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:15 2009 +0000

    performance/stat-prefetch: implement sp_mkdir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit acb388c4c584cbc601bee69b0ca297eb3a9ef296
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:30:06 2009 +0000

    performance/stat-prefetch: implement sp_opendir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit b18aa9cd570cb20680aa3d5bac11a2674d2a2f78
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:29:54 2009 +0000

    performance/stat-prefetch: implement sp_create.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit ded6f40765a34dce2ec49d1b643770f110882b15
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:29:41 2009 +0000

    performance/stat-prefetch: implement sp_open.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit b0d3d94b8ca94d1a133f74050d078a4bd6fa5260
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:29:29 2009 +0000

    common-utils: introduce new macro GF_VALIDATE_OR_GOTO_WITH_ERROR
    
    - the existing macro GF_VALIDATE_OR_GOTO sets errno to EINVAL
        which may not be appropriate in all cases.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 2cbc63ca8bbfcb91bce775651e1acc0994a18ac0
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:29:19 2009 +0000

    stat/prefetch: free cache if it cannot be put into context of fd
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 8c110d0aba119d199e2e8d29418ed45119aeb30c
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 26 01:36:53 2009 +0000

    performance/stat-prefetch: introduce sp_fd_ctx_t to hold context of fds
    
    - we need following extra members along with cache
        1. basename of path on which fd is opened. This is necessary to search
           for cached entry in fd based fops.
        2. inode corresponding to dirname of path on which fd is opened. This
           is necessary to get cache where entry corresponding to file on which
           fd is opened.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 3a0317982bfc8c507cfaf8dc919d5f4bab4371f7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:28:55 2009 +0000

    performance/stat-prefetch: implement sp_chmod.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 517c1997f5cb1ee7b62cc925f943b33e91e7b974
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:28:42 2009 +0000

    performance/stat-prefetch: implement sp_readdir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit ebc5d9888dfd7fcc000fac82dcfbad9fb91a9082
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 26 01:36:11 2009 +0000

    performance/stat-prefetch: implement sp_lookup.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit bcd092a21f4284277a7f59c58715bb253ed90ff7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Sun Aug 23 22:28:18 2009 +0000

    rewriting stat-prefetch translator
    
    - stat-prefetch aims to optimize operations like 'ls -l' where a readdir
       is immediately followed by stat calls on each of the directory entry read.
       More details on design can be found in doc/stat-prefetch-design.txt
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 221 (stat prefetch implementation)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=221

commit 314eb5fecf61b61ae9ba6bd76a44ea14bbd04513
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Sep 2 05:13:21 2009 +0000

    mount/fuse: Include missing header files in Makefile.am
    
    Compilation fails in a new glusterfs tarball due to missing fuse headers.
    Including them in Makefile.am.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 244 (compilation after make dist fails because of missing headers)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=244

commit cf1005c9f650069a22d443dec32f33129431990a
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Mon Aug 31 22:35:28 2009 +0000

    ib-verbs: handle failure of ibv_create_qp gracefully.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 217 (crash in ib_verbs_create_qp)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=217

commit addf1c713a017a7b1b4a871243f599267255e815
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Aug 28 00:17:01 2009 +0000

    libglusterfsclient: Compare compcount with path not maxentry
    
    When searching for an exact entry we need to compare the
    component counts in the candidate VMP and the count in the
    path being searched. This is opposite to the current
    situation where we compare the component count in VMP
    and the component count in maxentry, which will always
    be same.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 209 (VMP parsing through fstab has issues)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=209

commit 22e0167d054c6880a66d51a7d86695fe2dd97f44
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Aug 28 00:16:50 2009 +0000

    libglusterfsclient: Enhance VMP searching logic
    
    Another attempt to enhance searching for VMP entries.
    There was a problem of returning the longest prefix match
    from all the VMPs without checking whether the number of
    matched components were same as the number of components
    in the candidate VMP.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 209 (VMP parsing through fstab has issues)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=209

commit d165f43bb127e2a055721aa7793743fd55e94ed3
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Aug 28 00:16:42 2009 +0000

    booster: Support backward compatible options
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 209 (VMP parsing through fstab has issues)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=209

commit c50ead8d5318d759207543ea040baaf8ddadc628
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Aug 27 01:53:32 2009 +0000

    core: Fix build failure on non-Linux systems
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 230 (Bulid fails on Solaris and Mac OS due to Linux specific flags)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=230

commit bc1bacb14650809f4685025c9fb4b799f9510df9
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Wed Aug 26 05:08:18 2009 +0000

    libglusterfsclient: don't use pointer returned by basename while freeing allocated memory.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 228 (Segmentation fault in glusterfs_getxattr)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=228

commit 4d479650245d15e6bb5d6993919ebd3eaa68f089
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Aug 25 05:09:28 2009 +0000

    fuse: protocol fix: fix bogus parsing of MKDIR message
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 226 (mkdir after rm of regular file of same name fails)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=226

commit 8572d0ced5db512620f515704e2a9c05d6a4589c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 20 13:49:03 2009 +0000

    changed booster fstab to parse the arguments same as mount.glusterfs
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 209 (VMP parsing through fstab has issues)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=209

commit cb539b0b65d1868410a10266edb042bdaf867301
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Aug 20 18:51:10 2009 +0000

    protocol/client: 'connecting' event is properly notified.
    
    when there are no servers available to client, and transport init is
    not successful, send 'connecting' event once to parent so it doesn't
    hand in there.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 224 (Client hangs if none of the servers are up)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=224

commit 45883c74f2c3b11b77fa94be714341ccf0e21198
Author: Krishna Srinivas <krishna@gluster.com>
Date:   Sun Aug 16 14:34:08 2009 +0000

    in server_rename if we do_path_lookup on the newloc and parent directory is not found, the server crashes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit b4d6c3d1bb461d2c8a396c9ed3881a4da40fc6ab
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sat Aug 15 12:58:08 2009 +0000

    TAKE2[PATCH BUG:213 1/1] Support for Process State Dump
    
    Support for process state dump.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 213 (Support for process state dump)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=213

commit a31b0016347b3bc9b341fa0f4541ed137224f593
Merge: 862cbb3 1082475
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Mon Aug 17 15:25:44 2009 -0700

    Merge branch 'fusilli' of /data/git/users/csaba/glusterfs-fusilli
    
    Conflicts:
    	xlators/mount/fuse/src/fuse-bridge.c

commit 862cbb38375f0176582b06019ba406818d236828
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 19:43:31 2009 +0000

    added log message when server fails to send the reply frame
    
    As of now, if a frame submit fails on server, there are no logs,
    and clients will have missing frames (which leads to 'hangs').
    Supporting situation like this very tricky without proper log
    messages. As a step to make our log message lean and meaningful,
    this log is important.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 190 (missing frames due to larger reply message size.. (ib-verbs))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=190

commit a55616242a4f883a864ac03b5282a12c6b8da03e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Aug 13 02:57:18 2009 +0000

    libglusterfsclient: Sync access to VMP list on new entry addition
    
    Some weeks back, I'd separated the big lock into vmplock and mountlock.
    See commit 304e4274ca9b0339539581c5413e3339078c1182 in mainline.
    
    At that time, we did not have a solution to the problem
    of when to init the vmplist in a thread-safe manner, since
    there was no lock to protect the vmplock specifically, and that
    when libgf_vmp_map_ghandle was called inside glusterfs_mount
    so the "lock" was already being held.
    
    Now that we have separate mount and vmp locks, the
    accesses can be synced correctly.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 211 (libglusterfsclient: Race condition against vmplist in libgf_vmp_map_ghandle)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=211

commit 425f895f0f89831221451c5aa8e0a7e31e95f2aa
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Aug 13 02:57:17 2009 +0000

    libglusterfsclient: Enhance VMP search logging
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 210 (libglusterfsclient: Enhance logging)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=210

commit e3a4b55920bf6620f5635a6785ae6f2eaf6eba2d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Aug 13 02:57:16 2009 +0000

    libglusterfsclient: Use components for VMP searches
    
    Till now, we've been doing a character by character comparison
    between a given path and the VMP, to search for the glusterfs
    handle for the given path.
    
    This does not work for all cases and has been a known bug.
    This commit changes the byte-by-byte comparison into a more
    accurate component based comparison to fix search
    failures.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 209 (VMP parsing through fstab has issues)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=209

commit 53430bbd47dd61544e10596ca490e64cb2a4e85f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Aug 11 04:59:29 2009 +0000

    features/locks: Fix reverse logic in posix_lock_to_flock
    
    if the lock's end point is LLONG_MAX, the corresponding
    struct flock's len must be 0.
    
    Previous code had LLONG_MAX and 0 reversed.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1e7a880cecfb4df0bb560f8d071cafda4889b6df
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Aug 11 01:43:33 2009 +0000

    mount/fuse: Don't log setlk returning EAGAIN as a GF_LOG_ERROR.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 70b1a8670152187bc4fb06d6a11437abe8481a9b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Aug 11 01:42:14 2009 +0000

    features/locks: Set the right log level in a few places.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 95ee2689a6684e8e2436d5e8256c170ab3161673
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Aug 10 02:17:43 2009 +0000

    glusterfs log prints "TLA Revision" tag, remove it and reflect git instead
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 10824751f8669e7c39ebd46ab698ed0abd4e5165
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Aug 16 15:51:23 2009 -0700

    fuse: a compat fix for older protocol revisions

commit 15d85ff1fb518ddd15e03daa297f59457376725f
Author: Csaba Henk <csaba@gluster.com>
Date:   Sun Aug 16 07:02:27 2009 -0700

    fuse: optimize request iov aligment for writes
    
    Idea by Avati.

commit 3d894362ae0b8d346f29e9c3ea98e325d83a083a
Author: Csaba Henk <csaba@gluster.com>
Date:   Fri Aug 14 15:51:37 2009 -0700

    fuse: switch off direct I/O mode if big writes are supported

commit a91679b605ffbe71fa7124964df8aea08ccba464
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Aug 12 04:17:59 2009 -0700

    update user guide wrt. FUSE requirements

commit 901ba842cd6c42ff24e0539a1b8231b3e802e1ce
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Aug 11 18:26:11 2009 -0700

    bring in fusermount

commit fbb636390fe51dc6aa52ec7523a36b183434a28c
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Aug 11 06:24:40 2009 -0700

    fuse: add proper mounting support, based on libfuse routines

commit 472ac9944b2e99b8dd4a7e33f8dc4ae0f111b0cc
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Aug 10 19:46:45 2009 -0700

    fuse: move libfuse derived code over under contrib/

commit ab5df475c5c7e9e0f3268fe94a6280e71d34c1db
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 14 17:10:38 2009 -0700

    upgrade FUSE protocol to 7.12 and add support for older versions of the protocol

commit d5910898f1602dc16ab158b06c37abcd98a0588a
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Jul 13 22:28:07 2009 +0200

    basic version of direct FUSE interface (ie. not relying on libfuse)

commit 57a6cb9806ad9d99e6866a21d16fcb1bafef000c
Author: Anand Avati <avati@dev.gluster.com>
Date:   Thu Aug 6 21:51:33 2009 +0000

    protocol/client: fixed registration of saved_fds
    
    In client_open_cbk, client_opendir_cbk the list_add_tail macros were invoked with wrong
    ordered arguments, causing the existing registered fd list to get unlinked from the
    saved_fds list. The effects of this is far fetched - when transport disconnects, open
    fds are no more marked bad as they are not reachable from the saved_fds list. After
    reconnection, resumed access on this fd causes reference to invalid fds on the server.
    It could appear in the form of 'unresolved fd' error, readdir happening on a file fd,
    files reading from other files, etc.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 192 (sefault in posix-readdir)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=192
    
    BUG: 126 (Immediate segfault when used for rootfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=126
    
    BUG: 173 ([ glusterfs 2.0.6rc1 ] - "server SEG fault")
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=173
    
    BUG: 194 (Apache+Booster results in inconsistent download size using wget)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=194

commit cce2f6f690b2cac2ed7383fb9306c0dd8b5d3aa6
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Aug 6 00:55:53 2009 -0700

    Removed BRANCH: tag

commit 546390e845166ffcfcce6e47e105a453c3ac565c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 18:56:52 2009 +0000

    server-lookup: added path info from header to log message
    
    in the previous commit, the path info was removed to prevent the
    segfault, which instead could have been provided from request
    header directly. More specific information is required for debugging,
    and hence adding the path log.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 189 (segfault in server-lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=189

commit e981886cb1da8cbde1f93a9ab249130e8be163f5
Author: Anand Avati <avati@dev.gluster.com>
Date:   Tue Aug 4 18:15:23 2009 +0000

    dht_stat_merge - use the highest uid when ambiguous
    
    When directories on different subvolumes have different ownerships, use the highest uid/gid till self-heal resolves the inconsistency
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 191 (random Permission denied errors)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=191

commit aaf483185e6fdd1b0102ee2ae27e53826efdfc21
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 18:15:45 2009 +0000

    add check for making sure 'fd' belongs to directory in posix-readdir
    
    The root cause of this error is not found yet. But this check will
    make sure that there is no crash when the situation happens.
    Segfault can happen when a readdir() call comes over file's fd.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 192 (sefault in posix-readdir)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=192

commit 33b5ce10ef7b5c6db6e73f6070fd4579c2765c94
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 17:51:58 2009 +0000

    logging related bug fix in server_lookup()
    
    When 'dict_unserialize' failed, the log message was trying to
    print 'state->loc.path' and 'state->ino', which gets filled in
    later stages in flow. Caused segmentation fault when there was
    a failure.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 189 (segfault in server-lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=189

commit edd633f30adba95c65d29c58a2562ccbb18c3495
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 17:51:44 2009 +0000

    increased ib-verbs buffer size
    
    Noticed that in few cases, where ib-verbs doesn't handle a bigger
    sized buffer to be sent across, which happens without problem in
    tcp. Caused frame losses in the case where server's reply msg was
    bigger, hence the msg got dropped at the server end. With this patch
    ib-verbs buffer size is fixed to 512KB. (4 x page-size)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 190 (missing frames due to larger reply message size.. (ib-verbs))
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=190

commit 2c056117b6cfe4bf3f62c791d2c6514bae8655d9
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Aug 4 17:51:31 2009 +0000

    adding an option to mount.glusterfs for server failover to fetch volume files.
    
    With this option, 'single point of failure', in case of volfile server can be
    avoided
    
    Thanks to Cory Meyer <cory.meyer@gmail.com>
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 185 (Request to support secondary volfile-server option in mount.glusterfs)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=185

commit e26e9b861d92edfb7c00aa1b7c8c3a4126a563fb
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Aug 4 04:39:34 2009 +0000

    cluster/afr: inode-read: Check stat buf for NULL before attempting to set inode number.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 184 ([ glusterfs 2.0.6rc2 ] - Client Segfault while running fs-perf-test)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=184

commit acb06b282a64b2751d33424e4e833c0c7dcf87d7
Author: Raghavendra G <raghavendra@gluster.com>
Date:   Thu Jul 30 23:08:42 2009 +0000

    client-protocol: log messages at WARNING loglevel when client_bind on privileged port fails.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 140 (use appropriate loglevel to log in case of failure to bind to privileged socket)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=140

commit b63f69cdf40ef5bd79abdcd641b3dcc4bcb3cb1a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Jul 31 12:38:36 2009 +0000

    libglusterfsclient: Bind fd on fd creation code paths
    
    When an fd_t is fd_create'd, we need to call fd_bind on it to
    ensure that any fd_lookup on the inode gets us this fd. We're not
    doing this so translators like write-behind were not able to order
    path-based requests at all resulting in some fops like stat, which
    could be issued after a writev, overtaking a previous writev which
    is still being written-behind.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 179 (fileop reports miscompares on read tests)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=179

commit 2f8a834e7b6acef73795237d6c6269eb9838de53
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Jul 31 04:14:48 2009 +0000

    libglusterfsclient: Invalidate iattr cache on reads
    
    Earlier we have invalidated the iattr cache on writes. Now
    we need to do so for reads also, so that we are not updating
    the iattr cache with 0-filled stat received from io-cache.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 180 (fileop fails at chmod with stale file handle error over unfs3)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=180

commit fdbc5cf320fe85d128d498184135df10146047ba
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 30 12:05:11 2009 +0000

    replicate: Return ino from first subvolume on inode creation fops
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 177 (replicate: On file/dir creation, replicate returns inode from random subvolumes)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=177

commit 83ef3c8211282a9ef66659bfbde25116e4949b71
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 30 12:04:05 2009 +0000

    libglusterfsclient: Use iobufs for storing application write data
    
    Till now we've been creating an iovec, storing references in it
    to the application data and simply passing it on to the translator
    tree. This means that the buffer being passed to the translators is
    not at all associated with the memory ref'd by the iobref argument
    to write fop. This is a problem when write-behind is a translator in
    the tree since it assumes that the memory in the iovecs passed to
    write fops is already refcounted by the iobref and so it simply copies
    the address of the application data. The problem is that the application
    can continue using this buffer, free it or over-write it destroying the
    data that write-behind may write at a later time.
    
    The solution involves copying the application's write buffer into
    an iobuf which will be referred to by the iobref.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 178 (libglusterfsclient: Data corruption on using write-behind in translator tree)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=178

commit 9beaccbee6b9e3356e04887c2f3e3f6e8d781228
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jul 29 08:02:57 2009 +0000

    booster: Fix fd leak due to incorrect NULL check
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 174 (booster: fd_ts, they are a leakin)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=174

commit a4c6e7c816fa9dfbed07a30af56a4ada824ce40b
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Jul 28 00:52:56 2009 +0000

    glusterfsd: handle logfile path specification appropriately.
    
    when logfile path is not specified as absolute path, the symbolic
    link created to the logfile (only in invocation of glusterfs with
    --run-id) might end up as a broken symbolic link.
    
    for example, command-line invocation like below will result in
    broken symbolic link:
    glusterfsd -f /home/glusterfs/volfiles/nufa/nufa.vol
    -l ../home/glusterfs/logs/nufa.f1.log --run-id nufatest /mnt/nufa/
    
    symbolic link will be created at $PWD/../home/glusterfs/logs/nufa.f1.log
    will have a value of ../home/glusterfs/logs/nufa.f1.log.<date>.<time>.<pid>.
    this symlink might be broken.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 156 (Broken symbolic link when relative path is given for a log file)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=156

commit 8225fd2307d8a5a9bba4f21b5534b8469f679605
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 27 16:48:37 2009 +0000

    server-protocol: fix in server-loc-fill()
    
    to continue with 'hashed' inode, even if inode_path() on the inode
    fails. This will is needed for few lock operations, to unlock the
    lock held on inode. (ie, it fixes 'rm -rf *' hang issue, seen from
    multiple clients).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit 152e36883a79c0d73e0725357a4a2870b06eb75b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 28 04:51:35 2009 +0000

    libglusterfsclient: Fix solaris build error
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 115 (./configure adds libglusterfsclient when it shouldn't)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=115

commit ed80e78aecf5f46e29e5cb9034f2b2c06836b8d4
Author: smyczek <smyczek@simplito.com>
Date:   Mon Jul 20 18:44:00 2009 +0000

    libglusterfs: fix SuperFastHash function used in dicitionaries in fact it always returned the value of second parameter (len) as a result.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 155 (The SuperFastHash function used in dictionaries is broken.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=155

commit 1b89e8689c070ceeeafa24e03c8aed6e17540aef
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jul 23 11:25:01 2009 +0000

    cluster/afr: Use user-supplied struct flock to STACK_WIND
    
    afr_lk_cbk:
     Use the original struct flock supplied by the
     user to do further STACK_WIND's, and not the flock returned
     by the previous STACK_WIND.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 159 (Client hangs when coherent byte range locks is attempted in replicate setup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=159

commit f33cdc33e28fa8364691a853e3bee84b335a4f9c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sat Jul 25 12:59:14 2009 +0000

    libglusterfsclient: Workaround for local memory corruption
    
    There seems to a reproduceable corruption specifically of
    the libglusterfs_client_local_t that is allocated for
    the read call. Therefore, the subsequent access to fd inside
    local leads to a segfault. This is a temporary fix.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 164 (libglusterfsclient: Segfault due to memory corruption of frame local in libgf_client_read)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=164

commit ccd93eb64c0f2f73f83e025d3efae794803aaa4c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jul 27 09:30:48 2009 +0000

    cluster/afr: Return same inode number in stat buf for readv_cbk
    
    Remember the inode number that had been returned in lookup_cbk
    and set the stat buf->ino to the same.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 166 (libglusterfsclient: Cached stat buf inode is different from ino in inode_t)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=166

commit ffa5118b2eec9cd12e43ca10d86e91d02a9090a8
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jul 27 04:29:26 2009 +0000

    cluster/afr: Set inode number in unwind_buf in the inode-write calls.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 166 (libglusterfsclient: Cached stat buf inode is different from ino in inode_t)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=166

commit df868214c077065cfeafcfdadb6bbf5151d20b3d
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 23 16:19:26 2009 +0000

    libglusterfsclient: Avoid overwrite of inode found through ino number
    
    In libgf_client_loc_fill, there is a possibility that all
    the ino, par and name are specified as non-NULL,non-zero args.
    
    So if an inode is located in the itable using the ino and the
    subsequent search for the inode using the par-ino and the file
    name does not result in an inode being found, the current
    code over-writes the inode that was found through the ino. The
    correct behaviour is to stop further searches if inode
    was already found using ino.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 161 (unfs3 crashes on link system call by fileop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=161

commit 955c6e0c87b501501d87806f1e69ece8f0559dd6
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 23 16:18:43 2009 +0000

    libglusterfsclient: Fill new loc with target's ino on link
    
    In the loc_t of the link being created, we must fill in the inode
    of the old/target loc since this is a link operation. The
    inode_link to the new parent is called in libgf_client_link.
    
    This fixes a crash while running fileop over a fully-loaded
    dist-repl vol file.
    Ref: Bugzilla 161
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 161 (unfs3 crashes on link system call by fileop)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=161

commit 48755d7eaf9d22e4707b7abc7b3df46256fa6069
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Jul 23 15:38:32 2009 -0700

    enable libglusterfsclient build by default
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 03d6dae5a4003bcaf86eb887f63444c0565ad32c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Jul 20 01:25:12 2009 +0000

    libglusterfsclient: Fake a fsid for every VMP
    
    This is needed to work around the replicate behaviour of
    possibly returning device number for the same file from
    
    different subvolumes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 148 (replicate: Returns st_dev from different subvols resulting in ESTALE thru unfs3booster)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=148

commit a12f332cff050db3aa3905436158cbd339fa6963
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun Jul 19 03:26:13 2009 +0000

    libglusterfsclient: Move DHT root-lookup workaround to init
    
    The workaround for the DHT requirement for a lookup on /
    needs to be done only once when the xlator graph is inited.
    Doing it on every path's lookup results in a major performance
    penalty when using distribute subvolumes upwards of 16, as reported
    by Avati.
    
    Ref: bug 152
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 152 (libglusterfsclient: DHT workaround is a major performance bottleneck)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=152

commit 1a56bed50190e20999d28b7da8418927ecb8b041
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Jul 18 00:37:51 2009 +0000

    added timestamp to crash dump log.
    
    also did some minor enhancements in formating
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 151 (crash dump log should be in 'logviewer' friendly format)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=151

commit 7b8d2b38a12ed7e0a63ad9b1c38bfa20d8317b11
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:44:24 2009 +0000

    fix build warnings in 'libglusterfsclient'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 500d114032c0d6f92abd25fbf6786b866a0b3dd5
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:44:11 2009 +0000

    fix build warnings in 'afr'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 0af7bd9a1f590a17490663869420bd8777189b97
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:43:56 2009 +0000

    fix build warnings in 'server-protocol'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 793ca3c52a9ba6a1723e5ad767449f8b69ac19a8
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:43:19 2009 +0000

    fix build warnings in 'client-protocol'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 05211cdaff7ac117095c2213722b386c0f172ed0
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:42:55 2009 +0000

    fix build warnings in 'io-cache'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit d62362acd64a2d495431f6c4ff7dffc8d47856df
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:42:33 2009 +0000

    fix build warnings in 'auth' module
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit ca859dfe78e3da853181e5e9e314586bf9300204
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:42:10 2009 +0000

    fix build warnings in glusterfsd
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 632cce5e720acaa28ab680a6850f2aa8289d4628
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:41:44 2009 +0000

    fix build warnings in 'libglusterfs/'
    
    return value of 'asprintf' was not checked, and the flow was
    continuing without returning error, which could cause potential
    segfaults in code (mostly possible during ENOMEM case).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 130 (build warnings)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=130

commit 5be3c142978257032bd11ad420382859fc204702
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 17 22:09:17 2009 +0000

    posix getxattr supports new key 'trusted.glusterfs.location'
    
    which can be used to get the file location by 'hostname' of the
    machine where file resides.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 131 (provide a way to get the file location in clustered storage)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=131

commit 2105226253d4fe8cca2e31de76960ddc1a47a8c3
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 15 20:06:02 2009 +0000

    removed mod_glusterfs from the build
    
    future plan is to have httpd use booster and libglusterfsclient
    instead.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4b3633cde1bb9a9a692eade129e4a45dbf82d8ec
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Jul 17 08:48:10 2009 +0000

    libglusterfsclient: Invalidate not update iattr cache on writev
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 149 (libglusterfsclient interacts incorrectly with write-behind on writev)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=149

commit 847e02d901a5cedf4f28d34fa2431b41a07b9a2a
Merge: 2a385c2 5dfa1eb
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Jul 16 00:40:33 2009 -0700

    Merge branch 'master' of ssh://git.sv.gnu.org/srv/git/gluster

commit 2a385c2984a8dd670c4b77361d8a24c3567138f5
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 14 17:38:42 2009 +0000

    server: don't check for 'loc->parent' in entrylk and inodelk calls
    
    the lock operation on entry or inode is going to happen on only one
    inode, and it doesn't need dentry (with info on parent) for the
    lock operation to complete. Hence, in server_{inode,entry}lk() calls
    after server_loc_fill, we -should not- be checking for parent inode.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 112 (parallel deletion of files mounted by different clients on the same back-end hangs and/or does not completely delete)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=112

commit bdcdc8dd18dda19af698f147e3f32ed7f9e5efd5
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jul 14 17:38:08 2009 +0000

    change mount.glusterfs.in to work with non-bash shells too.
    
    removed 'fuction ' prefix to function definitions which was very
    much /bin/bash specific.
    
    Thanks to Brent A. Nelson <brent@phys.ufl.edu> for the patch.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 139 (tiny glitch in mount.glusterfs in 2.0.4)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=139

commit 41986e06d0e8e5f66f20944bc8d8abeca1d73ab1
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 23 19:08:46 2009 +0000

    iostat to have more io details
    
    classified stat for write/read fops based on their block size.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit eb4d32ae6b30e5a6aaebf068cc07e7ad2c6ea6d2
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:29:06 2009 +0000

    quick-read: implement release and forget cbks.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8a184d6f5674b3d5ec50eeaf089ded3c9c14300f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:28:45 2009 +0000

    quick-read: implement qr_lk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5c95b6568201a6b9e0043ad838892599ab0e0d90
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:28:34 2009 +0000

    quick-read: implement qr_ftruncate.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 56428dbbbdd802d2d8cf4377d4f03a59caab7c8b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:28:22 2009 +0000

    quick-read: implement qr_fsync.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 689f87e0db1eaa6ccc0b311b4e469fd922e4237f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:28:08 2009 +0000

    quick-read: implement qr_finodelk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ed9687b7fc050b6fcd8ef79eab977d1ef2f1e801
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:27:57 2009 +0000

    quick-read: implement qr_fentrylk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 206e1af66adea885fcaf5ad02a510ac0deb36870
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:27:46 2009 +0000

    quick-read: implement qr_flush.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit cd945c716fdbd430d575f43732801163b076b258
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:27:34 2009 +0000

    quick-read: implement qr_fgetxattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit aa42833f33952aae55afb6e02376d7f2a766f438
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:27:23 2009 +0000

    quick-read: implement qr_fsetxattr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit aa0902f9d18bdc72e5d0ed2add15962a02b0b40f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:27:11 2009 +0000

    quick-read: implement lc_fchmod
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c744ff99b5e72f7b6ee1909b90649333b6ffc98d
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:26:58 2009 +0000

    quick-read: implement qr_fchown
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8579b0edbc8c6d14614777aa7ca7de6d42fb1662
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:26:47 2009 +0000

    quick-read: implement qr_fstat.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 01ccfc375925a1643afbd5ce2eb8078a617db881
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:26:35 2009 +0000

    quick-read: implement qr_writev
    
    - writev on any fd opened on a file invalidates the cache stored during lookup
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 493e712940fd4c1ce621db0c970597b11446da3e
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:26:14 2009 +0000

    quick-read: implement qr_readv
    
    - pseudo-code of the algorithm is given below
        if (content is cached) {
           validate-contents ();
           if (content cached is valid) {
              stack unwind with cached content;
           } else {
             goto read-from-storage;
           }
         } else {
            goto read-from-storage;
         }
    
         return;
    
    read-from-storage:
         if (open is already done on fd) {
              stack-wind read;
         } else {
           add the current readv to list of operations waiting on completion of
           open;
    
           if (open on the fd is in transit) {
             do nothing;
           } else {
             stack-wind open;
           }
         }
    
         return;
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit eaac497bfe4dd95a5d5ea34bf59c16bf946960e9
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:26:00 2009 +0000

    quick-read: implement qr_open
    
    - The file is opened actually only if it is not cached already in lookup.
        This adds responsibility for fops operating on fds to make sure that a
        valid fd actually opened on a file is used to complete the fop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 06f02a48e0632469a7fd3ab1d7b5364a0de82d91
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:25:45 2009 +0000

    quick-read: add qr_lookup.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1b4e68977c43b8d432d28d7301add35b01464ae5
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 00:25:28 2009 +0000

    Implementing quick-read translator.
    
    lookup can fetch the entire file in xattr dictionary using the key
    "glusterfs.content". We set the maximum size of the file that can
    be fetched so in the xattr_req dictionary using the same key. If file-size
    is less than or equal to the value set in dictionary, the content is stored
    in the dictionary using same key in lookup_cbk.
    
    For small files, we can do an optimization wherein we do not really send the
    calls open, read and close to the storage translators. Instead there can be
    an xlator which fakes open, read and close calls. For reads, it sends the data
    it has cached during lookup and hence saving the time for open, read and close
    calls to reach storage translators (this time can be significant if calls have
    to go through network to reach storage translator).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 3e3be6de2d954bcd134e8f377ea1af4cab682e04
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Jul 15 09:36:36 2009 +0000

    Return stat from read subvolume in dir-write ops.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 138 (create family calls do not return stat buf from read child)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=138

commit e07a362a54c6f1bff5b87ce30a5302f0cd01c086
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jul 14 08:05:14 2009 +0000

    Return stat info from read-child in all the inode-write ops
    
    Also modifies the inode-write ops to wait for the call
    to read-child to return (whether success or failure)
    before unwinding.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 125 (stat information not returned from the same subvolume always)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=125

commit 3ce764351c0cdf01637eb0f19ec9846e91ca3f35
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 15 01:38:33 2009 +0000

    add strict validatation of GF_OPTION_TYPE_PATH option type.
    
    Make sure that users don't provide "../" in the path value in volume file,
    which should be considered security issue.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 141 (GF_OPTION_TYPE_PATH should check for presence of ".." in path)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=141

commit 61d9179fd8e884e3ace5b1ffd38f89e5032dbb42
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue Jul 14 09:43:23 2009 +0000

    fuse-bridge: Export user.glusterfs-booster-mount xattr
    
    This needs to be exported in order to have the booster
    Mount Point Bypass technique work through libglusterfsclient.
    Booster uses the mount point to register with libglusterfsclient as
    a VMP. Subsequently, all file operations on the mounted GlusterFS
    mount point get redirected to libglusterfsclient.
    
    This fixes bug 136.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 136 (booster does not redirect ops on GlusterFS mount point into libglusterfsclient)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=136

commit f2ba42e4c6e44db9274d051065a233d9ed622959
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jul 13 16:59:18 2009 +0000

    break inode_path if the length of the path crosses PATH_MAX
    
    a given search for path can't exceed the length of PATH_MAX in any case.
    Hence, its best to make sure by adding a check inside the for loop of
    inode_path, so that it won't enter an infinite loop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 134 (infinite loop in inode_path ())
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=134

commit 106f0e848a6ae3a04ee9d1c1752badf60767d039
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jul 10 13:39:10 2009 +0000

    cleanup 'ctx' from inode and fd
    
    Removing unused 'dict_t *ctx' from both inode and fd structures.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 128 (cleanup unwanted ctx dictionary in 'inode' and 'fd' structures.)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=128

commit 22c076cadc04e15aa84f86bca621d38fbf111932
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jul 9 23:59:26 2009 +0000

    ib-verbs: don't append ioq_entry to pending_list if first attempt of writing to network fails
    
    * fix to bug #101 - When a buffer bigger than ib-verbs-work-request-send-size
        was attempted to write to network, ib-verbs returns ENOTCONN. Neverthless,
        the ioq_entry corresponding to the write was appended to the pending lists
        of ioq_entries waiting to be written to network. This resulted in double
        free of header, once in protocol_client_xfer and again during cleanup of
        transport. The transport cleanup happened due to the timeouts of
        subsequent operations, since ioq_entry corresponding to writev
        was blocking any other operations from reaching server.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 101 (ib-verbs config crashing while dd'ing with a big mtu size)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=101

commit 359e87e72fcfc30909b0131a5e559466713245ed
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 14 06:41:33 2009 +0000

    fuse_bridge: handle failures in init() more gracefully
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 132 (fuse-bridge could do with some cleanups)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=132

commit fc4aa3ee763e8f05a8bd649d414fb8c278fe7380
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 14 06:40:09 2009 +0000

    fuse-bridge: formatting cleanups
    
    - use PRIu64 for printing "unique"
    - use fcntl defines instead of explicit numeric values for querying open flags
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 132 (fuse-bridge could do with some cleanups)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=132

commit 1253692116532433d04d606ec81fbccd4db8a50a
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jul 14 06:38:34 2009 +0000

    fuse-bridge: further allocation failure handling fixes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 132 (fuse-bridge could do with some cleanups)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=132

commit e16068f9e62b2812e4e78ed25b0b05fa67c5f3c8
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 9 12:17:54 2009 +0000

    fuse-bridge: handle state allocation failure
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 124 (state allocation failure not handled)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=124

commit a81ffd3b4eb53f57ef360872a85241d86b6c46ad
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jul 9 06:47:14 2009 +0000

    Added NULL checks in a few places.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 119 (filter + replicate crash..)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=119

commit 161188e919968f1d782e857151f2f4dca1fdfc22
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jul 9 05:33:54 2009 +0000

    Return inode number always from the first up subvolume in AFR.
    
    Also fixes a bug in the "KLUDGE" part. It was setting lookup_buf
    when it should have been setting local->cont.lookup.buf
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>
    
    BUG: 116 (Replicate: Need inode number from first subvolume on fresh lookup)
    URL: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=116

commit c276dfe936dbb48cd5569099c5cc142122d160f8
Merge: 964cb91 dd6635d
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Jul 9 14:08:44 2009 -0700

    Merge branch 'master' of ssh://git.sv.gnu.org/srv/git/gluster

commit 5dfa1ebac3eab4f0ff8fab6936e6678bb76c5f60
Merge: 964cb91 dd6635d
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Thu Jul 9 14:08:44 2009 -0700

    Merge branch 'master' of ssh://git.sv.gnu.org/srv/git/gluster

commit 964cb91e0341f1a15dd57e8487e0c01490b804d8
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Wed Jul 8 23:54:48 2009 -0700

    Added format-patch.sh. This script is to be used as a replacement of "git format-patch" with similar arguments for submitting patches to the GlusterFS project

commit dd6635dc3763979a63d37cb8232324e4bd2d605e
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Wed Jul 8 23:54:48 2009 -0700

    Added format-patch.sh. This script is to be used as a replacement of "git format-patch" with similar arguments for submitting patches to the GlusterFS project

commit fffaec58ea396cd8cf3303e38f331c25a4feaad1
Author: Csaba Henk <csaba@gluster.com>
Date:   Wed Jul 8 06:55:09 2009 +0000

    detabify fuse-bridge.c (and other whitespace fixes)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 45dc9a636f085d0cc2a86b949e86afedca411203
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jul 7 20:42:42 2009 +0000

    protocol/server: use translated flags in protocol/server open and create fops
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a2205684e2ea21e33dac00b40a0314af045ad6be
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jul 7 20:42:21 2009 +0000

    protocol/client: use translated flags in protocol/client open and create fops
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9ec22fd9fc28684b7e2093b4c67d449c7f021623
Author: Anand Avati <avati@gluster.com>
Date:   Tue Jul 7 20:41:59 2009 +0000

    protocol: add functions gf_flags_from_flags and gf_flags_to_flags
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bde0032cfbe51383c697247831e26394ca6cd913
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Jun 30 01:14:44 2009 +0000

    write-behind: set default window-size to 1MB.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 80c769b54ed8e95ae3f51e19d2ef8c2e8ea5e44d
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Jul 7 07:58:05 2009 +0000

    use fuse_reply_iov() in fuse_readv_cbk
    
    changes come in two places.
    
    configure.ac - define HAVE_FUSE_REPLY_IOV if fuse_reply_iov is
                   available in libfuse.
    
    mount/fuse - use fuse_reply_iov() in place of fuse_reply_vec(), if
                 HAVE_FUSE_REPLY_IOV is defined.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 54f5ccceca2531f1a88cb4d0404f92edffa09cae
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Jul 7 02:33:43 2009 +0000

    filter: use O_ACCMODE for checking file access modes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4e9757859750eb3625828f83681845f1352af356
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Jul 7 02:33:31 2009 +0000

    read-ahead: use O_ACCMODE for checking file access modes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ecc844dc15fffacaf37916e4570e520534f2545c
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Jul 7 02:33:15 2009 +0000

    write-behind: Use O_ACCMODE while checking for access modes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c8ef6e541f4dacd58258b0448046d4fae2c511be
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 2 06:20:21 2009 +0000

    libglusterfsclient: Update attr cache on read/write
    
    We werent updating the attr AKA stat cache on read and write
    on files so every stat on the file before the timeout was returning
    stale attr from the cache. Yuck!
    
    This fixes it. Turns out there is a good aspect of unfs3's notoriety
    when it comes to doing stat()s for every operation.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 41027a22054af821caeb2b47a7b93ff028ecaedf
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 22:08:21 2009 +0000

    libglusterfs/defaults - send CHILD_UP notify only to the parent which has been init()ed.
    
    fixes bz# 12
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8d74fe9ba6c3c2f68f71cacd56fad9328b8b0090
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 04:27:10 2009 +0000

    libglusterfs/logging - fix memory leak
    
    in _gf_log(), free 'msg' before returning.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 346b7f0c63920a73fd70b88d683c6a033e6b8abd
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jul 6 05:59:47 2009 +0000

    Set timestamps properly when creating missing entries.
    
    In AFR self-heal set timestamp of a freshly created missing entry
    to that of the source entry.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit fd70ec76469204ffa7c8145c978f2fba6dca9a7a
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:25 2009 +0000

    libglusterfs - remove definition of ZR_FILENAME_MAX
    
    to maintain uniformity of maximum length of file name, through out
    glusterfs, use NAME_MAX.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit fe3d249f1aec607aed5895d66a869620ba30f9cf
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:32 2009 +0000

    cluster/afr - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d538b139fb197d7397e45b4bc5a9446823186568
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:31 2009 +0000

    cluster/unify - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bf70c1361f8eb82607f5fd9396edfad62ced7b89
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:30 2009 +0000

    protocol/server - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f0314a6b781126dbbb25edf37460f68750d88896
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:29 2009 +0000

    protocol/client - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8fae42f8203df6a49b33eb7341def9782251f269
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:28 2009 +0000

    storage/bdb - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 28760cc3d37318e7e90ec65bf2ce6376916e8a3e
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:27 2009 +0000

    storage/posix - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 6abd0c49267973f57b8cf98f25e61ec587b2533a
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jul 6 05:47:26 2009 +0000

    libglusterfs/call-stub - replace ZR_FILENAME_MAX by NAME_MAX
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a70f38f15a115cc258f297d6634dab90bc30f4dc
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Jul 6 03:39:19 2009 +0000

    Updated man page with log-server options
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c78658544870e06ff399b9cee7ef22a1c18e5e4d
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Jul 6 03:39:11 2009 +0000

    Added new man page for mount.glusterfs
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 552c392449eb5ed3d249bea8d4467f817781caf0
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Mon Jul 6 03:39:03 2009 +0000

    Modified mount.glusterfs to print usage in case of no mountpoint provided and "-o" options to be agnostic of their position.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7261ef381a2c3c7bf5ef0ecd2392f7cab9e60e37
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sat Jul 4 05:10:28 2009 +0000

    mem-pool: Do not perform chunkhead2ptr on MALLOCed memory
    
    Memory allocated from the heap instead of the mem-pool
    need not under go the chunkhead to ptr conversion when returning
    to a mem-pool user since this address can be use directly.
    
    This fixes a crash in io-threads.
    
    Ref: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=102
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c3f24c43a4cfb576a23de689c6107c4479e51307
Author: Csaba Henk <csaba@gluster.com>
Date:   Thu Jul 2 11:03:57 2009 +0000

    booster: automake 1.11 compatibility fix
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 94f62eb4d50c7917c7c1ca36386045b110b30eda
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jul 2 00:52:28 2009 +0000

    libglusterfsclient: Use O_ACCMODE for access mode checks
    
    Ref: http://www.gnu.org/s/libc/manual/html_node/Access-Modes.html
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 52d0ae7bc35680bcec094be39f119d966ea9a77f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jul 2 07:08:47 2009 +0000

    Print volume file after printing other details.
    
    This makes the log format compatible with earlier
    versions. Fixes bug #105.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ebfcb5368c225aed11c007aee1e362c5d345c2b0
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Jul 2 01:55:29 2009 +0000

    performance/write-behind - bug fix in open() and create().
    
    open() & create() calls should reset frame->local to NULL.
    
    bz# 104
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4d176f44ce7b251794159371232954f810cfae02
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 1 00:49:54 2009 +0000

    server protocol forget cleanup
    
    as client now doesn't send forget at all to server, it should take care
    of forgetting the inode when there is a successful unlink and rmdir fops.
    
    also cleaned up unwanted forget fop's code.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8301e2ffc44beb09cec7e01aa8672e857c6c3977
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jul 1 00:47:29 2009 +0000

    cleanup client_forget
    
    upon detailed inspection of 'forget' behavior, it became evident that
    forgets from client should not goto server side, as server keeps its
    own purging mechanism to forget its inodes.
    
    if client sends all forget to server, many highly used required inodes
    may get freed up (it will surely effect io-cache buffers on server side)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e2a6e26f446605cabf89a402a851cfaf5c5f6036
Author: Harshavardhana <harsha@zresearch.com>
Date:   Wed Jul 1 04:13:09 2009 +0000

    rpm spec file updates (removed mod_glusterfs and respective dependencies)
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c284d5e73760aef176eefa25ee2054a67662bf98
Author: Harshavardhana <harsha@zresearch.com>
Date:   Wed Jul 1 04:13:29 2009 +0000

    fuse 2.8 support for xlator/fuse
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5feb0ccb6efc006b2b17d29509b63a41fa14293c
Author: Harshavardhana <harsha@zresearch.com>
Date:   Wed Jul 1 04:13:23 2009 +0000

    fuse 2.8 version check at configure level
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 88f907af098c2876ca8777783098dae9ad624540
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 30 17:48:59 2009 +0000

    build warning fixes
    
    integer typecast warnings fixed
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9d16a33e6171adf7512df839af6f6ffbab96799c
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 30 13:50:54 2009 +0000

    enhancement in write-behind
    
    Write calls should not be pushed to background only when the
    mandatory locking is enabled, in all other cases (eg: O_SYNC,
    O_DIRECT etc), we should not be 'caching' any data, but the
    calls can be pushed to the background.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 193b0e696fb7612998e23e21628023e9fffd08ee
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 30 17:08:50 2009 +0000

    version changes in GIT repo to differentiate between branches
    
    package-version: because master is undergoing changes for 2.1.x release,
    protocol-version: because of addition of mops 'log'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 141d78e170b1e35b8897fe583cb5955646c8c211
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Jun 30 00:15:34 2009 +0000

    client_xattrop: use dict_allocate_and_serialize during serializing xattr
    
    - though the previous commit fixes bug #29, this patch fixes bugs
        arising in similar situations where xattrop is initiated by
        xlators other than afr.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit eeeffd41703003be30b3f1811fa54f5f8047ed73
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Jun 30 00:43:56 2009 +0000

    cluster/afr - use different dictionaries for sending xattrop requests to each of the subvolume
    
    - This patch fixes bug #29.
      - Using separate copies of dictionaries also eliminates a potential bug in a
        setup consisting of afr with a posix and client, each having io-threads on
        top as children. Since posix_xattrop after performing required operations
        on the xattr array passed in dictionary, sets the result at the same key
        and in the same dictionary passed as input argument,
        there can be race conditions where in the results of the operation on
        posix-child can be sent to the other child as input argument for xattrop,
        which ofcourse is wrong.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a3ece0caa52ad2eacf8a8691aaca53295cde972f
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Jun 29 09:38:29 2009 +0000

    booster: Fix build problems with various libtool versions
    
    We've been facing a problem on some test systems where the
    booster.so is built by libtool as an executable rather than
    a dynamically loadable library.
    
    This problem is probably caused by it seeing a _init function in
    the source. This is the name of the libc initiliazation
    function so it could be the source of the problem.
    
    In any case, ld-preloadable libraries must not have a function
    called _init, instead they need to have __attribute ((constructor))
    as the attribute for any and all functions the library wants
    executed before the program's main(). Our earlier approach was
    inherently problematic.
    This commit also cleans up the booster Makefile for better
    build behaviour. Credit: Harsha.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 304e4274ca9b0339539581c5413e3339078c1182
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Jun 26 13:05:00 2009 +0000

    libglusterfsclient: Fix glusterfs_mount-vmp search deadlock
    
    It is possible that the only translator in the libglusterfsclient
    tree is the posix. In that case, inside gluster_init, the graph
    init routines will need to call lstat on the posix subdirectory.
    
    Since even the glusterfs stack is running over booster, those
    calls will also first require vmp searching. BUT, the vmp lock
    is the same as the mount lock that was already taken when we entered
    glusterfs_mount, so a deadlock occurs.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d6ce087395220ea0b6e4bff4d3e561de624447a3
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 25 14:31:30 2009 +0000

    booster: Another attempt to fix 32 and 64 bit interoperability
    
    With this patch, we might have finally arrived at a solution
    to the problem of function definition conflicts between
    our functions and those of libc while over-riding the libc versions.
    
    This commit defines functions which do not conflict with libc,
    then it uses libc's own macro to redirect/rename these functions
    to the actual sys call names in the binary.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f5ec3b6a9597bb50fe4d8b6a4c9d92a3b46306dc
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 25 14:31:29 2009 +0000

    libglusterfs-fd: Simplify gf_roundup_power_of_two
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e3e880180165efffbc0866eeda2154004f7d64f5
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 25 14:31:28 2009 +0000

    booster: Remove gf_fd_unused_get2
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 76aa99422562a500c3b82cb826ce582576065a83
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 25 14:31:27 2009 +0000

    booster: Add new booster-specific fd-table
    
    The reason we need a booster specific fd-table is because
    the libglusterfs fd-table has come to a point where it is
    optimized for libglusterfs-style of fd allocations.
    This conflicts with the way booster requires fds to be allocated
    so this commit brings in a re-based version of a booster-specific
    fd-table written by Raghu.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4fd96085c5a029e7be9e24e0c33b13268b290d6b
Author: Erick Tryzelaar <idadesub@users.sourceforge.net>
Date:   Fri Jun 26 13:36:00 2009 +0000

    Fix some trivial typos.
    
    I noticed that there were some minor spelling mistakes/typos in some
    of the source files. This patch fixes the ones I've found.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 75da95d8419dd209d879194e1b73a6190129a504
Author: Harshavardhana Ranganath <harsha@gluster.com>
Date:   Thu Jun 25 23:12:00 2009 +0000

    Added new options for log-server and log-server-port
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 66224718ab57238e16b30d8b461c380d64df237c
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 25 16:11:44 2009 +0000

    version check between client/server made more specific to protocol only.
    
    This patch is a step towards giving compatibility between the versions of
    GlusterFS. Now onwards, the protocol-version won't depend on release
    versions. In general, multiple glusterfs versions can have common
    protocol-version.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit dc321571317b911faa31eed8b3bd4ce396963179
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Jun 24 18:31:10 2009 +0000

    dht_readdir_cbk: use stat attributes in the READDIRPLUS dirents to
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 622636c6e18a1013261bf924084d7a78a7cc86b1
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Jun 24 18:31:09 2009 +0000

    rename dht_first_up_child to dht_first_up_subvol
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ad7909163aef151b15638110119fb9adaf3dbcee
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Jun 24 18:31:07 2009 +0000

    posix_readdir: fill stat structure into dir entry
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c4cf372fbc70e7354597692b385691149f163d2a
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Jun 24 18:31:06 2009 +0000

    gf-dirent: add support for stat attribute in dir entry (to work like
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5052d8e23d2e3b33a185d3bd5f9eca8264238acb
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 24 13:31:11 2009 +0000

    mount script to take arguments like nfs
    
    Ref: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=37
    
    earlier instead of path, it used to take port number, which is an
    option (-o server-port=<port>), now.
    
    new syntax is
    
     bash# mount -t glusterfs <hostname>:<path/key> [mountpoint]
    
    [This patch is backward compatible with earlier syntax]
    
     bash# mount -t glusterfs <hostname>:<port> [mountpoint]
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c15ab84a1dd687e9e97b17fb7250ba945857026e
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 23 13:41:26 2009 +0000

    server-protocol: interpret the 'op' value properly when a packet is received.
    
    Ref: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=35
    
    The check done earlier was not handling the case when a 'op' is == MAX_VALUE (which
    is not defined), and used to skip to the next array (like gf_mops[MAX] == gf_cbks[0])
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 60aaf35a044357b3a639e0d8f46102a3272b5c65
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Jun 23 10:13:04 2009 +0000

    check if the 'key' is the volume file name itself.
    
    With this patch, one can fetch any volumefile which is not pre-defined in
    volume file with 'option' in server protocol volume, instead clients can
    fetch the volume files based on the key name itself [From the confdir only]
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1bd3a412d01c2d0cbbcf91e7983e2d4c9c8bbec4
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 22 19:26:06 2009 +0000

    mount.glusterfs.in correctness in case of duplicate mount
    
    mount.<fstype> script/program should return success in case when it finds
    duplicate mounts. It was returning failure earlier. Someversions of
    automount programs had issues with this behavior.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e7b8470623ff647a6fe2740b555bf1ce2dae7d21
Author: Csaba Henk <csaba@gluster.com>
Date:   Tue Jun 23 04:25:22 2009 +0000

    Fix typos in my previous commit 6010e2a4e
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 384ee312ba44e3d8c456ab0c93d74274597d71f4
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Jun 22 07:53:03 2009 +0000

    glusterfsd - build proper mount/fuse structure.
    
    while appending mount/fuse to a translator tree, make sure
    that <xlator_t-of-fuse>->next points to the first xlator in
    the list of xlators and not the subvolume of mount/fuse.
    
    NOTE: tree traversal should always happen through <xlator_t>->children
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 6010e2a4e14a850469f0977e43245e64a33301fa
Author: Csaba Henk <csaba@gluster.com>
Date:   Mon Jun 22 00:56:13 2009 +0000

    fuse: instead of having a fixed option list, assemble it using "fuse_opt_add_arg"
    
    This makes it easier to adjust the option list, and also reduces redundancy.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 96896689b4e774af6460905b30adabec6e1fa540
Author: Vijay Bellur <vijay@gluster.com>
Date:   Sun Jun 21 01:28:51 2009 +0000

    Avoid accessing local unconditionally in trash_common_*_cbk functions.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ae1201785ca7f14690d19c533bb8a7f5150ea29b
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 18 15:58:22 2009 +0000

    local->loc should be filled in dht-mknod()
    
    local->loc should be properly filled while creating a linkfile. otherwise
    this causes the segfault in underlying volume layer (mostly client-protocol).
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 93c8ce0e3fc295087775185c0f8594f06244098d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 16 05:25:17 2009 +0000

    Add command line option to specify central log server.
    
    Added two command line options:
    
    --log-server SERVER
    --log-server-port PORT
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit cc931ebf51e7a810e08155ba0b916b10f25d7f16
Author: Harshavardhana <harsha@zresearch.com>
Date:   Tue Jun 16 10:34:44 2009 +0000

    Remove the trailing "/" which fails build with new version of automake
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a3864e8054cd047a004c7705c27b64b28912d947
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Jun 18 14:21:15 2009 +0000

    making dht and nufa's 'min-free-disk' option to take both percent and disk-size
    
    Originally from Paul Rawson <plrca2@gmail.com>
    
    http://patches.gluster.com/patch/391/ : patch re-submitted with patching guidelines.
    
    cluster/distribute, and cluster/nufa uses new option PERCENT_OR_SIZET for its
    option 'min-free-disk'.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d3e1a3d453c358f2b5a6b86805767c8361fde2ee
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 17 20:58:20 2009 +0000

    adding an extra xlator option type, GF_OPTION_PERCENT_OR_SIZET.
    
    Originally from Paul Rawson <plrca2@gmail.com>
    
    http://patches.gluster.com/patch/391/ : patch re-submitted with patching guidelines.
    
    with this patch, the xlator volume options get another type which can take
    arguments either in 'percent' or in 'bytes', which is useful in many cases.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bb451c37bc05c8a33130e6b93020378d742f0ca2
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 18 05:33:27 2009 +0000

    libglusterfs: Prevent gf_fd_put'ing of unallocated fd
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 617de1c718d4f082c8a8cf86c258284f5c918b2c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 18 05:33:20 2009 +0000

    libglusterfs: Chain newly allocated fdentries.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 804e34cc4955cf5f176e70381da08cc617b6f79b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu Jun 18 05:33:13 2009 +0000

    libglusterfs: Change GF_FDENTRY_ALLOCATED constant
    
    This change is being brought in so that we can
    
    differentiate between fdentry_ts when debugging using
    gdb.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 80485e438268251f734936139d8239c59f70de54
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Jun 17 20:56:52 2009 +0000

    change the log level of disk full message in dht-diskusage
    
    the current msg is getting printed in warning level. Instead changed
    it to debug, as the msg specific each node being full is already getting
    printed in higher priority, hence this msg looks excessive.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 84bfdfee65be197a8aeb8d8378e135147152761f
Author: Harshavardhana Ranganath <harsha@zresearch.com>
Date:   Tue Jun 16 11:04:10 2009 +0000

    Booster build should not depend on if mod_glusterfs is disabled
    
    Thanks to Erick Tryzelaar
    
    Sending this patch on behalf of Erick Tryzelaar <idadesub@users.sourceforge.net>
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7437305962f485074cf643fec8161925e9bd5225
Author: Vijay Bellur <vijay@gluster.com>
Date:   Wed Jun 17 11:52:13 2009 +0000

    Removed the swap being done for __noswap functions.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9286a599f62289e8630ee28ea7da7308396d8fdf
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Jun 5 17:51:59 2009 +0000

    change ha-statfs() to handle the case of loc->inode being NULL
    
    This fix is needed in ha_statfs(), as the current code doesn't handle
    the case of loc->inode being NULL, which is a valid case in statfs()
    [Remember its stateless call]. This was causing 100% disk full logs in
    distribute or nufa as the logic of checking whether the subvolumes have
    enough disk space on them used to fail.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bb4e14b213a39e9d403be9790ef0a75388496dee
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Jun 15 13:05:52 2009 +0000

    client: Replace saved_fds dict with list
    
    Thhie change removes a huge inefficiency in file open
    path where every open resulted in dictionary operations
    in order to let the client maintain a list of fd_t's being
    used over a particular client context.
    
    Resolves: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=16
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit efcce990960fb91d422630fc7b310b216a500fed
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Mon Jun 15 13:05:39 2009 +0000

    libglusterfs: Turn fd-table O(1)
    
    This commit reduces CPU usage of gf_fd_unused_get drastically by
    making it O(1) instead of O(n).
    
    Related to: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=16
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7006ae207c9e8ab9685d8e2e7455bd4e3b217c97
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Jun 15 04:12:42 2009 +0000

    write-behind: fix memory corruption
    
    - wb_sync did not set local = NULL after stack_wind. It also used to free
        local if its not NULL as part of cleanup process. Hence there was a double
        free in STACK_DESTROY done in wb_sync_cbk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4eac667d30bce0768bc7e220614f703d45ee6f81
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Jun 15 04:12:21 2009 +0000

    write-behind: check for memory allocation failures and take appropriate action
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8f29c29480ad4f716229d480ada7fc2b6711f22e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jun 15 07:16:31 2009 +0000

    Do stat to check mode of the export directory in storage/posix.
    
    Doing an lstat means init fails if the export directory
    is a symlink pointing to a directory.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e298a2183a8a294abda9c656879dc30f6c17f027
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Jun 15 00:02:57 2009 +0000

    booster: fix build error in fcntl implementation.
    
    - F_DUPFD_CLOEXEC is defined only in linux kernel versions >= 2.6.24
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c3cf6a57c0b241fa768a57ee2fb294196d03f4a0
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Mon Jun 15 02:58:36 2009 -0700

    io-cache: fix warning by initializing conf = NULL

commit 65f52bfa965bcffca1157a3ce0711133dc28161b
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Mon Jun 15 02:57:25 2009 -0700

    read-ahead: fix warning by initializing conf = NULL

commit 26fbb96e454df1844fc73c1122c08c8ae405f824
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Fri Jun 12 05:11:53 2009 +0000

    libglusterfsclient: Call inode_lookup to prevent pruning
    
    This bug shows up while using unfs3 with replicate. The absence
    of an inode_lookup on a looked-up/created inode results in it
    getting pruned from the inode table. Consequently, a subsequent
    lookup for the inode results in a different inode number being
    returned by replicate. This breaks unfs3 because it tries to remember
    the inode numbers returned by two different stat-family calls.
    
    Resolves: http://bugs.gluster.com/cgi-bin/bugzilla3/show_bug.cgi?id=11
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7aa062466f34cd1eee911d34bdb87591d410c399
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 27 17:50:32 2009 +0000

    strict check of extended attribute flags while opening a striped file
    
    Added a fd_ctx structure for stripe, which takes care of understanding the
    extended attribute flags, and opening the right blocks in order (to make
    sure the read/write operations happen in order).
    
    Helps to handle situations like accidentally adding subvolumes to stripe, etc
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a20d4929663ccbfa45d574d62240a5277b47ab39
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 27 17:49:10 2009 +0000

    stripe: don't allow entry modification operations when any node is down
    
    if entry modification operations (like create/mknod/rename) happen when there is
    a node down, there will be inconsistency in striped fs. rather than curing it,
    prevent the issue from happening
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d918b28cf3df2826656fef868f1825f4e6c45723
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Wed May 27 17:46:29 2009 +0000

    stripe cleanup
    
    stripe.c:
     indentation cleanup
     log messages cleanup
     coding standard guidelines
     removed ERR_ABORTs
    
    stripe.h
     moved the structure definitions here
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1125e8cbc072753fab78ba735bed3f29db61fcc4
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 11 01:46:04 2009 +0000

    io-cache: handle memory allocation failures
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 180cfc0c4b6b9a46da35a536a565f010babfa4a7
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:08:59 2009 +0000

    Initialize central logging in glusterfs main().
    
    Modified from patch 522 (made a function extern) -- Avati
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 181ab58c6adeda6f99eb9330ed8ce720ab0f2818
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:09:01 2009 +0000

    Implemented LOG MOP in server-protocol.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 2943c77d88eccc195c59ded0aa9a377fcef906d9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:09:00 2009 +0000

    Log to a central server.
    
    Several functions to support centralized logging:
    
     - create a logging thread upon init
     - gf_log submits log messages to the logging thread which
       in turn sends it to the server using the MOP log
    
     - on the server side, log messages from a client are written
       to the filename <log file name>.client-<transport-identifier>
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e7e6144a7688b35255ef5d69b060bd90e319679f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:08:59 2009 +0000

    Functions to store a central log flag in TLS.
    
    The flag is set in TLS so that a re-entry into
    gf_central_log does not deadlock.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f7ca417394aeb5a8c2144e3b2ae6493ef172b32d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:08:59 2009 +0000

    Include glusterfs.h in dict.c
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7db5c60ded012414f323029da263979e20215e5f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:08:58 2009 +0000

    Implemented LOG MOP in client-protocol.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1a6989613914cc86a64c3eb21cfddba15ce372d9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Jun 9 05:08:58 2009 +0000

    Added MOP log to libglusterfs/*
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 77d8cfeab52cd19f3b70abd9c3a2c4bbc9219bff
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jun 11 08:47:06 2009 +0000

    Do not fail over readdir in replicate.
    
    If readdir fails on a subvolume, do not
    fail-over to the next subvolume, since the
    order of entries and offsets won't be same
    on all subvolumes.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 998a1e0f740b6730f7885ad8c74afaad503d3256
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jun 11 08:46:40 2009 +0000

    Do itransform on every entry in readdir_cbk.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 3b99c6d82f9259db54f2d2d0a2520f88e7b12843
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:02:27 2009 +0000

    booster: fix memory corruption in booster_cleanup
    
    - calling glusterfs_umount_all leads to memory corruption.
        hence commenting out for timebeing.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 943a38e9f8beaaaa7fe741398c573fc458037723
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:02:15 2009 +0000

    libglusterfsclient: reset the vmplist and vmpentries to 0 in glusterfs_reset
    
    - Generally glusterfs_reset is called after fork in child to empty out
        vmplist.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4a31c02a568464cc4030b20cefe71ccb007b45bf
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:01:59 2009 +0000

    booster: implement fcntl.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5dcbc0563f10cf68db2af10665953425ed262906
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:01:45 2009 +0000

    libglusterfsclient: implement glusterfs_fcntl.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8ebb4499d0bf568ea58562708f8baaedfe9fa58a
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 11 04:59:00 2009 +0000

    booster: implement readdir_r and readdir64_r.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 75f555fd89d2bf3dbd5aceeb112b748f4a8966e3
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:01:16 2009 +0000

    libglusterfsclient: implement glusterfs_readdir_r
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ac53b60bc29831cecfa7d5919278afc6c7053392
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:00:59 2009 +0000

    libglusterfsclient: update offset in glusterfs_read_async_cbk only if offset stored in fd_ctx is used.
    
    - this helps in implementing sendfile(2). manpage says that
        "If offset is  not  NULL,  then sendfile()  does  not modify the current
         file offset of in_fd"
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 157469a43272d06f63f0d4eaa15bd994c9cc0ba0
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:00:44 2009 +0000

    booster: call glusterfs_umount_all during cleanup
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit e0650e53ca9df6e86272efb0a2e2587e42f24a53
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 07:00:26 2009 +0000

    booster: implement sendfile.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ee22651f34b467859959b17b881da465001c6bc8
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 11 04:58:30 2009 +0000

    libglusterfsclient: implement glusterfs_sendfile.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 29a3619d6bb5680213c817b13dad7d8ad6e2903b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 06:59:50 2009 +0000

    libglusterfsclient: add glusterfs_umount_all.
    
    - unmounts all the entries in the vmplist.
      - this api helps booster to cleanup all the mounts in a single call.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 82130d7ef5e4e4842dba44f0283336d98035a590
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 06:59:34 2009 +0000

    libglusterfsclient: make glusterfs_umount thread safe
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 54976b687227e5e12d4138e29a64640318a2db3b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 06:59:14 2009 +0000

    libglusterfsclient: make glusterfs_mount thread safe.
    
    - this patch also checks for the presence of vmp before adding
        an vmpentry.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit dfff100cc31ad1343d8ecb76b72ec650c2b8b5b4
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 10 06:55:32 2009 +0000

    booster: remove mount table which maps a path to glusterfs handler.
    
    - if there are any glusterfs mounts(real, not virtual) which are not specified
        through booster-fstab those mounts are also added to the virtual mountpoint
        list of libglusterfsclient. This also removes the mount table in booster and
        all the mounts whether they are real or virtual are handled by
        libglusterfsclient.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8f4e5ace5d95535266a0ad1d6cec5f59325148c4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Jun 11 04:36:14 2009 +0000

    Filter out changelog xattrs in replicate.
    
    The AFR changelog xattrs, "trusted.afr.*" are now
    filtered and prevented from being visible on the
    mountpoint.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1c4d58fe57162a5247356dc95aa6204f26cbf4fe
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jun 10 01:25:38 2009 +0000

    io-threads: Fix missed notification in sem_timedwait
    
    We're performing a calculation for skewing idle time
    that resulted in a timespec.tv_nsec value becoming larger than
    1000 million or less than 0, forcing sem_timedwait to return
    with an EINVAL instead of waiting for a request notification
    from sem_post in iot_notify_worker(). This resulted in a missed
    notification that resulted in a hang followed by a timeout
    on the protocol/client side.
    
    This commit avoids the over- and under-flow in tv_nsec by
    skewing the tv_sec value instead.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bd2b529fd3d1965ccfe8cc03f9223ed1e98f7e79
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 11 01:45:45 2009 +0000

    read-ahead: handle memory allocation failures
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit b930b38a2ab16b3d25b4bf2441e584f7fc882a17
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 4 06:14:31 2009 +0000

    read-ahead: return with error code EBADF for fops on fds without file set in their context.
    
    - since a successful open/create will _always_ set a pointer to ra_file_t in
         context of fd, this fix makes sense.
       - an example of operations on bad fd can be afr sending read on the child
         which was down during open.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 3f4362cedee499beb6a872b3dbb3ac920aa51d21
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Jun 4 06:13:58 2009 +0000

    read-ahead: unwind with a return value of -1 and error code of ENOMEM on memory allocation for ra_file in open/create
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit cc2c0b53566584279f624d49bd1cb70936bbf5ea
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri May 29 16:08:04 2009 +0000

    removed unused option 'page-size' in io-cache
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5b90d71324802e88c72947b807884036cfd32b78
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Jun 8 07:18:18 2009 +0000

    Print PID after daemonizing glusterfs.
    
    PID used to be printed before glusterfs became a daemon,
    which is incorrect since becoming a daemon involves
    forking and thus the PID changes.
    
    Fixes bug #8.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7c42fd0f2059329d620225962146cdd0414a8f69
Author: Anand V. Avati <avati@dev.gluster.com>
Date:   Tue Jun 9 06:17:37 2009 -0700

    configure.ac: print summary to stdout

commit e98d3808478c09fb4058a53a7dc215d8fae1553f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Jun 3 00:38:26 2009 +0000

    server-helpers: cleanup connection only if there are no active transports.
    
    - thanks to Ioannis Aslanidis <iaslanidis@flumotion.com> for reporting.
      - breakup the server_connection_cleanup into smaller procedures.
      - do following operations in a single atomic operation.
          1. conn->active_transports--
          2. collecting pointer to lock table and all fds if there are no active transports
        this will avoid any race conditions.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1d940e5ab2baeb901792f4b60a3abf3fcec19491
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Jun 3 02:17:19 2009 +0000

    Fix crash in afr data self heal. Bugzilla ID: 3
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a4a0054caee6c75ae442d4984b95bf9753eded36
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jun 3 01:05:42 2009 +0000

    libglusterfsclient: Avoid dirent copies in readdir cbk
    
    We can avoid memory allocation, de-allocation and
    data copies by just using the entries passed to us from
    a lower layer and by de-linking the entries from the original
    list.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4c0b91a5a045e3f03a049320d26542ab9fec4745
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jun 3 01:05:34 2009 +0000

    libglusterfs: Add empty and NULL dirents list checks
    
    These checks are needed in case a higher layer intends to
    delink the dirent list and passes a NULL pointer to
    fop_readdir_cbk_stub for the entries parameter.
    
    Consequently, the gf_dirent_free must guard against an empty list
    because the stub that is passed to it mgiht have an empty
    dirent list.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 08d46effee3b5e07b89a3a04251714383cf02eec
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Jun 1 17:58:41 2009 +0000

    ib-verbs error log enhancement
    
    Earlier it was thought that only not having 'opensm' running will cause
    handshake errors in ib-verbs.
    
    Recently understood that even having a wrong 'ib-verbs.port' option can
    also cause the same behavior, and it took more than 5-6 e-mail iterations
    with the user and lot of brain cycle in support team to understand the
    problem. Made the log message more descriptive, so user can be find the
    cause, or can send us email without wasting time.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 2dc70c22bdd25362a95f19ab551d39e99f76ebfb
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 29 13:52:07 2009 +0000

    io-cache: prevent frames from getting woken up while page is getting validated
    
    1. A page will be put on the inode waitq if the 'freshness' has to be verified with an fstat()
    
    2. while the fstat is in transit, other calls (like lookup) can update ioc_inode->tv, resetting the freshness (page still on inode waitq)
    
    3. Another read request on the same page, after the updated freshness, will wake up the page frames neglecting the fact that the page is also waiting on the inode (waiting for the fstat completion)
    
    4. once the page's frames are woken, the page becomes elegible for purging and can get destroyed for various reasons, leaving a destroyed page pointer in the inode's waitq
    
    5. fstat returns and hits the destroyed page pointer causing a crash
    
    The fix is to all together disable cache hits when any page of the same inode is under validation. The otherwise cache hit will now be subjected to the ongoing validation by getting queued to the inode waitq.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 834efc91985b7a572e5acd9be463eb8ffdf3ba11
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri May 29 16:09:05 2009 +0000

    unify getdents count reduced to 512 (from 1024)
    
    Thanks to Krishna <krishna (at) gluster.com> for pointing this out.
    
    When a unify self-heal of large directory (directory with lot of entries)
    is done, the getdents_cbk used to fail because of new limit of buffer size
    (128KB). Noticed that earlier it used to streach upto 4MB, hence the value
    1024 worked fine. By reducing it to 512, noticed, we can fit in well within
    128KB limit, and hence unify self-heal goes through.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 3c1fa49fb56c3a35f82bc25e4553431fe04f5231
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 28 04:43:05 2009 +0000

    libglusterfsclient: Increase readdir block size
    
    This improves the potential for pre-fetching a larger
    number of dirents. Consider that, with 255 chars as the max
    name length for each dirent, in the worst case scenario, where
    we actually have files with such large names, we're not getting
    more than 4 entries with the current block size of 1024.
    
    Generally also, increasing the size to 4k provides us
    with a higher chance that directories with low to medium
    number of dirents will be pre-fetched in a single readdir fop.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit b6434aadbe3e862815f4237fdf4c97284680a134
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 28 04:42:58 2009 +0000

    libglusterfsclient: Add dirent pre-fetching and caching
    
    The fop interface is such that we're able to extract more than
    1 dirent in a readdir fop. This commit now enables libglusterfsclient
    to read multiple entries on a glusterfs_readdir call. Once these
    have been pre-fetched, they're cached till either glusterfs_closedir
    ,glusterfs_rewinddir or glusterfs_seekdir are called.
    The current implementation is beneficial for sequential directory
    reading and probably indifferent to applications that do a lot of seekdir
    and rewinddir after opening the directory. This is because
    both these calls result in dirent cache invalidation.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1fea167f86ed4501ed01b5c678cddc7c815f1a5b
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 28 04:42:51 2009 +0000

    booster: attr_timeout: Read timeout from booster fstab
    
    In order to expose the timeout values for stat and inode
    caching, this commit introduces a new fstab option "attr_timeout"
    that defines the number of seconds for which a looked up inode
    or a stat()'ed structure is valid in the cache.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bc99744f209d2c6905f858e9ab44d09fb661e94a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed Jun 3 01:31:37 2009 +0000

    libglusterfsclient: Simplify inode and stat caching
    
    There is a mechanism for caching the inode numbers got from a lookup
    and a struct stat got from a stat or fstat but I wasnt sure if it worked.
    This commit simplifies cache updates and checks and the accompanying
    tests have made sure that the cache does work.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f47f568aa0fd8d12c211e3b249fcf7a67ec56f9e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 28 04:42:37 2009 +0000

    libglusterfsclient: Allocate right sized structure
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a29ec1f1484902400f08b24ed777ea984923ffea
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun May 24 23:05:26 2009 +0000

    booster: Clean-up handling of log/fstab env variables
    
    Handle two cases when deciding log/fstab file:
    1. It turns out that that strdup or strlen doesnt actually
    check for NULL before trying to do its thing with the string
    so it seg-faults on seeing a NULL char pointer.
    
    2. getenv can return an empty string if the
    env var was exported as:
    $ export GLUSTEFS_BOOSTER_LOG=
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f888b3f5be4be893323b644dba0668ae3d40228e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun May 24 23:05:18 2009 +0000

    booster: Eliminate gluster context creation race
    
    When multiple threads try to create a glusterfs context using the
    glusterfs_init function, those threads end up using the global
    vairables in the vol file parser in an non-synchronized manner,
    resulting in a seg-fault.
    
    There is now a big lock around searches and additions from the mount
    table in do_open. This lock granularity could be reduced.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 380cd4e6d296cde9d203ce6c4fa01be189fbf34c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Sun May 24 23:05:11 2009 +0000

    booster: Clear up env var usage
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit a7e5888508a2f08e6891eb5a472b7edf737e15da
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu May 28 20:12:05 2009 +0000

    bug fix in dht-diskusage when statvfs->f_blocks is 0
    
    This can happen when 'option export-statfs-size off' is given in
    posix volume. Caused divide by 0 error.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f5d0e815b43b3957396dd6c4a768ba87db2ae9c5
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu May 28 02:46:45 2009 +0000

    Remove absolute path for init scripts.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 4e89da5054837a2266fe1732a309c341dd6cd663
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 26 09:02:29 2009 +0000

    socket: New option: Set receive and send buffer size
    
    ..and hope for a chance to improve performance on
    high speed links like 10GigE.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 23976ec1e8554963d5e6a868c3982a8baa3d361a
Author: Pavan Sondur <pavan@gluster.com>
Date:   Wed May 27 10:39:38 2009 +0000

    Fix mismatch in size of used buffer to prevent an infinite loop
    
    A mismatch in the size of the used buffer, between reading and then further writing caused an infinite loop and big files(1Mb, 10Mb etc) could not be downloaded through the lighttpd web service using mod_glusterfs. This is because the big file which is broken up into chunks, has a read and a subsequent write.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit b84ab58d8c849347fc6a337a4e897c365c0b08ae
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue May 26 05:02:27 2009 +0000

    Do itransform in AFR readdir.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 696428efb6195374bfd07c1b483871e1fdb68a55
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue May 26 05:01:35 2009 +0000

    Always do itransform of the inode number from the first up child.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0af126294a1eeb89383a4e477962f908f003026f
Author: Anand Avati <avati@gluster.com>
Date:   Tue May 26 04:31:28 2009 +0000

    add booster_fstab.h in noinst_HEADERS to fix build breakage after 'make dist'
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 2951b04c7ac8a2888fffb2ebc127ecc1ec617d79
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 25 05:02:25 2009 +0000

    Preserve atime/mtime during data self heal.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 8b56178a7928bc7d30f408096303eaff3fe6d823
Author: Anand Avati <avati@gluster.com>
Date:   Fri May 22 03:33:41 2009 +0000

    fix crash in __socket_reset. Previously iobuf_p was an allocated pointer, but since introduction of IObuf it is no more. Now iobuf has to be unref'ed instead.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit abb075def55110f606ff43e64933afee61dea261
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:32 2009 +0000

    THIS: use xlator_init() for initializing xlators
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 6d5aff7bfd2403aa132d41c659c76abaf58f0503
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:31 2009 +0000

    THIS: add xlator_init() API to set @THIS
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bbce052d47e5f17a476379f5de6925ae795465bb
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:30 2009 +0000

    THIS: bootstrap @THIS in fuse thread
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bebe16ae8db873474d43d751cca484cca6ed2715
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:29 2009 +0000

    THIS: unify now uses xlator_notify for setting THIS
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 17cf09641d81f02094288ef9de52cdf720fc516f
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:28 2009 +0000

    THIS: protocol/client now uses xlator_notify for setting THIS
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit f0fed682ecca92c1ade5076637c4cbd450ce19f3
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:27 2009 +0000

    THIS: ib-verbs now uses xlator_notify for setting THIS
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ad3fdbb2e15e1590efe955c3561aff964c972353
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:26 2009 +0000

    THIS: socket now uses xlator_notify for setting THIS
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 61e343c72b384faa56e034750bd5bb5b4667681b
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:25 2009 +0000

    THIS: default_notify to use xlator_notify for THIS compatibility
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9cec4a0a790cc74106f92375506d7a16e09bdb10
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:24 2009 +0000

    THIS: xlator_notify API to be used for propagating notifications with proper THIS setting
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 99bf8da4764f425ac4022c9854acbd4247b6fdfc
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:23 2009 +0000

    THIS: set appropriately in call stub resumes
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit b7c1bcb4ea5ddd498f04b178f60209abbc9f01ed
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:22 2009 +0000

    THIS: set appropriately in STACK_* macros
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 207fb347ed24716ac4f443bab2d1daeb9ae5ccf4
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri May 22 02:10:21 2009 +0000

    globals: add globals.h/c THIS: macro to access thread specific current xlator CTX: macro to access glusterfs global context (glusterfs_ctx_t)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit bd297be1d1fedc85d70b9b1f3e4d4aa7b9980c76
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu May 21 02:20:26 2009 +0000

    Check for returns when apxs fails and disable mod_glusterfs
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c7fd9f1df36a01ac9a1509d1001b0d259005b0f9
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Thu May 21 01:37:05 2009 +0000

    mem-pool,io-threads: Destroy mem-pool on deallocation
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ef7fcc0d7c2695ab3b10477b3e1290e43831da99
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Wed May 20 22:50:10 2009 +0000

    booster: Move fstab parsing into booster from libglusterfs
    
    This is another attempt at fixing build problems on Solaris.
    I am told that booster build is disabled on Solaris and I know
    that it is disabled on Mac OS X also. Getting it to work
    on both these systems is now on my TODO list, mainly
    because on both these systems, we can have a glusterfs client
    running without requiring FUSE.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 5bb6653c434c74b5f2d5b706f60f8d4149a40a2d
Author: Csaba Henk <csaba@zresearch.com>
Date:   Tue Apr 28 10:22:03 2009 +0000

    add xlator debug/io-stats
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit d734a305d534d6430d1401ec358100f28547ca09
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 20 13:36:01 2009 +0000

    add 'non-blocking-io' to the options array in sockets.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0961d301dd74a133a16425b10be02787a499e453
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 12:42:31 2009 +0000

    io-threads: Use boolean enums instead of integer 1
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 693e4f912b618d35b85fe6521d87fb7f683421d0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 12:42:22 2009 +0000

    io-threads: Change mutexes/condvars to spinlocks/semaphores
    
    It seems that use of mutexes is resulting in pretty high thread
    sleep and wake-up cost. What is worse, if a worker thread has
    acquired a  lock, there is a possibility of the main glusterfs thread
    being put to sleep. We change the use of mutexes into spinlock.
    At the same time, we cannot anymore use condvars for notification since
    the condvar interface depends on mutexes itself. Semaphores come to
    out rescue. Luckily, even the pthread semaphores have a timedwait
    interface to allow our idle worker threads to make an exit decision.
    
    Further, it is possible that spinlocks are not available on all systems
    so all this is curtained behind #defines so we can fall back to
    mutexes and condvars implementation.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 62a920642a54eac6e4b24a3590f17d628202a210
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 12:42:14 2009 +0000

    io-threads: Reduce default max for threads to 64
    
    We've had complaints from users who've used
    autoscaling option with default settings for min and
    max threads, about high memory consumption because of
    the large default value for max-threads.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9a916de3f35dbbfe4399696891a0937d650bf72e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 12:42:06 2009 +0000

    io-threads: Support mem-pool allocator for iot_request_t
    
    This commit brings in support for allocation of iot_request_t's
    in io-threads through the use of the mem-pool. We're hoping
    that the overheads of hundreds and thousands of small allocations
    can be avoided through this.
    
    The important point to note is that the memory pool is not
    for the translator as a whole but there is one small memory
    pool for each worker thread. Not only does that help us
    avoid malloc overheads for small allocations like iot_request_t
    but also avoid contention on the heap data structures when multiple
    threads want an iot_request_t from the pool.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ef0af3ca33a007f2aae2016cc27b6d828367c987
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Fri May 15 05:50:09 2009 +0000

    io-threads: Add graceful shutdown of worker threads
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit c22810911149506d972133c4e87dbcab01330daa
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu May 7 00:51:39 2009 +0000

    io-threads: handle memory allocation failures
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 7f001813bc04ede65b05d588f16e0a6c68a94cfe
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 18 08:19:10 2009 +0000

    Change errno to EAGAIN in readv/writev
    
    When mandatory locks are enabled and a read/write
    would block due to a lock and if the fd is opened
    with O_NONBLOCK, return EAGAIN (previously EWOULDBLOCK).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a9d0be4f1b78d9c03e9379fc5cea0ead6114c1d0
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 04:34:11 2009 +0000

    mem-pool: Restructure mem-pool behaviour
    
    This commit changes mem-pool behaviour to return a directly usable
    address by performing the required adjustment on the address
    being returned.
    
    This is different from the previous behaviour where we're trying to fit
    into the requested size, the list_head*2 also. This is not efficient
    enough in terms of space but hopefully works better than not having any
    mem-pool at all. Besides, I am not comfortable with mem-pool meta-data
    and caller-useable memory area being the same because of the potential for
    mem-pool's data structure corruption.
    
    PS:
    Please do read the comments in the code for more info during review.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 25dc191c51efb97ec970b137edfe4557302b7357
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 04:33:58 2009 +0000

    mem-pool: Fix #define spelling
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3aea8a66a457349e19bde40eb33510edd0597cff
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 04:33:48 2009 +0000

    mem-pool: Remove hard coded value for pad boundary
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit acf28ed1ef3565ca1321fe9647d9b065a24fa46a
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 04:33:37 2009 +0000

    mem-pool: Fix memory leak in mem-pool init phase
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d71a5601fb2cf661d973a08a4cef9a15a9ec2363
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 17:57:02 2009 +0530

    booster: Fall back to remaining real_* functors
    
    It is possible that some of the real_* functors for stat
    family of syscalls are NULL. I've seen this on libc. In that
    case, this commit attempts to use any available function that
    performs an equivalent operation.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 87b938d02b51a0b4c864fc5deba1a1f177a05a4c
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 17:56:54 2009 +0530

    booster: Dont de-init fd tables on VMP-init failure
    
    In case the init procedure for VMP fails, we want to
    continue using booster through the old approach, which means
    leaving the fd-table intact.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9189418db9e50fa20c31ac5c7c5b6aaa16a9fa1e
Author: Shehjar Tikoo <shehjart@gluster.com>
Date:   Tue May 19 17:56:47 2009 +0530

    booster: Do not read info for non-glusterfs mount points
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c5b90f75951faddf55c61f2fe57f1c26070a63b6
Author: Harshavardhana Ranganath <harsha@dev.gluster.com>
Date:   Tue May 19 06:39:42 2009 -0700

    Appropriate changes to statvfs struct for Solaris host.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 35fc174ea3a37546d7c90be8fa6076b8f9416d73
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:24:43 2009 +0530

    libglusterfsclient: Comply with EEXIST rule on rename
    
    During a rename, if the new file exists, the old name needs to
    over-write the new name. We're returning EEXIST, which is wrong
    behaviour.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 95ce0a87f5fbb139f7002360d63a005bfb9c097d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:24:34 2009 +0530

    libglusterfsclient: __do_path_resolve: Fix pathname resolution bug
    
    In __do_path_resolve, we need to use the new_loc.path as the input
    for resolution rather than the resolved variable, simply because we're
    not interested in resolving the names that have been resolved, as
    pointed out by the variable name 'resolved'. Instead, we need to resolve
    new_loc, which stores the next component in the path to
    be looked up.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fe06790a3637c30dc8d5e0be7367f27ee24c36bd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:24:21 2009 +0530

    libglusterfsclient: Wipe loc->ino in libgf_client_loc_wipe
    
    Not cleaning up the ino member of a loc_t results in SIGABRT
    in __inode_link because in some cases, the loc->ino is
    different from loc->inode->ino. This happens especially in code
    blocks which re-use a loc_t structure for pointing at different
    inodes/files. For eg, if a loc_t has been assigned an inode and
    an ino, and followed by a libgf_client_loc_wipe, then re-use of this
    loc in say libgf_client_lookup results the SIGABRT because
    libgf_client_lookup calls inode_link with the same loc_t. However,
    this loc_t has just been assigned a new inode pointer but the ino
    member still contains a previous inode's inode number. This difference
    in inode numbers results in an assertion failure, so the SIGABRT.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1279d7398c63bdad448cf0418579f6df1d9f6f34
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:24:08 2009 +0530

    booster: Add telldir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e3e7f850eda010ab8c84417e57a4fbace4073022
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:23:58 2009 +0530

    booster: Add seekdir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 358f5ba40866545ce240ed8fda77c4d2e57a4262
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:23:38 2009 +0530

    booster: Add rewinddir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e420eb2206aa773eb32f1a7146cba4d6da5d9d03
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:23:24 2009 +0530

    libglusterfsclient: Refine readdir entry parsing logic
    
    Here I am only refining the entry parsing code in order
    to clarify the exit conditions from the loop. There were
    a few workloads where this loop went infinite.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e1ae573f73d69fe1a244ed1493793961dd4cf811
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:23:14 2009 +0530

    libglusterfsclient: Add telldir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 35bf3f058473b61605fd28cd9cbee7726adedf9d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:22:57 2009 +0530

    libglusterfsclient: Add seekdir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dddcf498610ebd332992e9600dd728cc87e6355d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:22:42 2009 +0530

    libglusterfsclient: Add rewinddir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aeda0a31977e8da295b913e6a306ff01ccf0ce0a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:22:29 2009 +0530

    libglusterfsclient: Revert and re-do readdir conformance
    
    This commit basically reverts the previous readdir conformance
    patch I sent a few days back. That commit had a completely retarded
    and broken way of maintaining per-directory dirent.
    
    It was broken for two reasons:
    1. Creating a wrapper structure around the directory's fd_t
    only for storing a struct dirent is not clean enough. This commit
    takes a better approach by storing the dirent in fd_t context.
    This dirent is valid only if the fd_t refers to a directory.
    
    2. That commit was made and tested under the assumption (..stupidity
    is a better word..) that only opendir call is used for opening a
    directory. That is not correct. Directories are also opened using the
    open syscall. The point is, glusterfs_open returns an fd_t and so did
    glusterfs_opendir. The previous patch actually changed opendir to
    return a new wrapper structure. That is fine, if we go by the POSIX
    definition of open and opendir because, they're both supposed to
    return different types, an int and a DIR*. However, in
    libglusterfsclient, all other code assumes that directory handles
    corresponding to DIR* and file descriptors corresponding to int types
    are the same type, resulting in use of the same locking and fd context
    addition/extraction code. So a directory opened using opendir returned
    a wrapper structure which went down into the libglusterfsclient stack
    where some function called a lock on the handle assuming it was an
    fd_t, since it is not and dereferencing of the supposed fd->inode->lock
    results in a seg fault.
    
    Obviously, this didnt show up till unfs3 used open() to open a
    directory and not opendir.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4f1a87a245b960f1cd1fb4fe40b4254ac3793213
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 18:22:19 2009 +0530

    booster: Supplement fstab option parsing
    
    Previous fstab option parsing logic was completely
    retarded and did not handle all cases. This fixes the situation
    so we now work without any problems.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a5301c874f978570187c3543b0c3a4ceba143c25
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon May 18 17:24:16 2009 +0530

    workaround for not including sys/cdefs.h -- including sys/cdefs.h breaks build on solaris and other platforms

commit 0346e3e889d854f6f96d9f9b162a8d65ddb35f52
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 18 03:02:54 2009 -0700

    Bug fix in pl_readv/writev to handle the mandatory lock case properly.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 49523c834f075007352d07bf09463af9499b59f5
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Fri May 15 03:56:22 2009 -0700

    client-protocol: Fix memory corruption in client_lookup
    
    - memory corruption was due to new members being added between allocation
        of buffer for serializing xattr_req dictionary and dict_serialize of
        xattr_req.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 254f770af6ae6ff207fc567b6576a31469c84f67
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Fri May 15 03:55:50 2009 -0700

    dict.c: make dict_serialized_length and dict_serialize to hold locks.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9669c70c901474dc21ef08e49478b5f5dead8f64
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Fri May 15 03:55:20 2009 -0700

    dict.c: Add dict_allocate_and_serialize
    
    - this procedure atomically allocates a buffer and serializes dict into it.
      - this procedure helps avoid memory corruptions due to race conditions where
        in new members are added into dict between allocating a buffer for
        serializing and actually serializing buffer into it.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dec2674685da30d6cef157748bcf52454ec97208
Author: Csaba Henk <csaba@gluster.com>
Date:   Sat May 16 04:28:40 2009 +0200

    make getxattr fail with ERANGE if reply is bigger than what was requested
    
    Edited by avati: make the function signature of fuse_xattr_reply_buf() use 'const char *value' instead of 'char *value'
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b4651c4b8c7ebbcee7bfc7ef50afebf7e25d5744
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu May 14 00:21:02 2009 -0700

    apache/2.2/mod_glusterfs: port to use new glusterfs_readdir interface.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 43a568d732962c8e095d3072f672451bcbe95f47
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Wed May 13 12:46:29 2009 -0700

    avoid duplicate mounts while using mount.glusterfs
    
    This change is needed as the format of how the /etc/mtab entry of glusterfs
    mount looks is now changed.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ce653eadc2d13e9f4d3748d217ef7614539a2f34
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri May 15 02:39:15 2009 -0700

    modified init scripts to honour @prefix@
    
    fixes http://savannah.nongnu.org/bugs/?26581
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 11cae446e0c115bbfa5ee3e6b18ef0e2c45b84fe
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu May 14 02:12:20 2009 -0700

    Edited log message for --volfile-check
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 19a1ce89421b7f066168059e972c906b8c194e54
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Wed May 13 01:26:24 2009 -0700

    minor log enhancement in 'ib-verbs' transport.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 92a84f8c0f0925f85ad40db1212ff5ef0c1fc809
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Mon May 11 13:19:49 2009 -0700

    replace BIG_FUSE_CHANNEL_SIZE with 'this->ctx->page_size'
    
    Send the struct stat's  'blksize' variable same as GlusterFS's page-size,
    instead of BIG_FUSE_CHANNEL_SIZE.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4f7552c23bc4d0691062bd6a90fa76aa53bdf97c
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Fri May 8 01:33:02 2009 -0700

    default log file different per mount (or if server, per volumefile)
    
    This feature is required becuase when more than one glusterfs process
    is started with default log file, all logs will be going to same file,
    which after a while gets more confusing.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f4fbc7200c32c50501df7a84b4ddeb4eeb0f5525
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon May 11 11:25:40 2009 +0530

    posix: Fix build warning on incorrect type
    
    This fixes a build warning due to use of incorrect
    type for size_t, for Core 2 Duo.
    
    Extra fix from avati: change %ld to GF_PRI_SIZET
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5c1d9108c1529a1155963cb1911f8870a674ab5b
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Thu May 7 17:21:21 2009 -0700

    stripe init 'block-size' pattern parsing bug fixed.
    
    ref: http://savannah.nongnu.org/bugs/?26416
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 20e8fc7a61fd22af1657cffa674c287ad29a7699
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu May 7 04:16:28 2009 -0700

    scheduler-nufa: fix initialization of refresh-interval
    
    - refresh-interval was being reported as not provided in the options
        even when configured.
      - fixes bug reported in rt #1007
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 124f02ed49615e8337d249a2c56e95a5298a856b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu May 7 05:05:03 2009 -0700

    Set op_errno properly in afr_flush.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b3f7efe247ad114b6071ba6a2d6816f783d4aa15
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri May 8 15:45:24 2009 +0530

    booster: Add fstab parsing support
    
    This commit changes the booster.conf format from a
    simple custom format to that of the /etc/fstab.c
    
    See booster_mount(..) for the mount options supported/required
    for LD_PRELOADing booster. I'll write a small help doc soon.
    
    This commit also brings in fstab parsing code into libglusterfs
    because Darwin libc only supports reading the hardcoded /etc/fstab.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5f4c102297bae265a7c9a16a86ee032ffbd44830
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri May 8 15:45:09 2009 +0530

    booster: Standardize conf file and env variable
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit adb56cb5e0f0d718764b25f1b37397be720f8750
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu May 7 15:02:09 2009 +0530

    backend-xattr-sanitize.sh: script added to extras/
    
    Run the script as:
    
    sh$ ./backend-xattr-sanitize.sh /data/export0
    
    and it will remove all the known stale xattrs on the backend files and dirs

commit babc4dfb08504e41a35cf06e8c297a19c87ac397
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu May 7 13:28:21 2009 +0530

    valid_host_name(): accept string lengths upto 75 chars (the limit accepted by glibc resolver)

commit fd2e7d9ebb94ccf5faf5c9d9891978e09fce0b05
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed May 6 05:40:15 2009 -0700

    symlink-cache: fix return value of readlink
    
    - sc_readlink wrongly returned strlen (link) + 1 when link was present in
        cache.
      - this fixes rt #828. Since fuse_readlink_cbk does link[op_ret] = '\0', there
        was a memory corruption.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 542d9ed6c1758df85fc0e252952cfb80669f4a70
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed May 6 08:59:21 2009 -0700

    fix in mount.glusterfs for proper direct io mode option.
    
    fixes the bug which causes GlusterFS not to have valid 'direct-io'
    option through mount command or /etc/fstab entries.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 92a84a43e057ce2448c235d3bf66a0b694338d65
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu May 7 11:59:23 2009 +0530

    protocol/client: indentation fixes

commit 2ff188571e94831b389f5677e06b94d11eb5fc62
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu May 7 11:06:34 2009 +0530

    protocol/client: removed conf->child

commit f9f5519b66a25651eb03de577f68d481abdd4c40
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu May 7 01:24:41 2009 +0530

    transport shortcut b/w client and server
    
    This patch makes the server pass back the transport pointer of the client. If the UUID matches, the client makes the local transport 'shortcut' with the remote transport (pointer received from server)
    
    The shortcut simulates a socket queue. Instead of serialized messages going over the network and getting queued in the tcp socket queue, the messages get queued in a transport specific queue picked by a polling thread.

commit 12eb832e255a1abb90434ab3e0d1e1632ae7ce03
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed May 6 14:40:45 2009 +0530

    fix log message from transport-timeout to frame-timeout

commit cba961e9f4ff3452f5e8e6152c632a258b737576
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed May 6 12:23:54 2009 +0530

    libglusterfsclient: Improve readdir conformance on re-entrancy
    
    readdir is supposed to be non-re-entrant only with respect to the
    given dir stream, not the whole process.
    
    What that means is the static struct dirent that we maintain in
    libglusterfsclient should be per-directory handle and not
    process-wide.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f82651ef4ff5a9e94fa9c0d1f9cf091345440b56
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed May 6 12:23:14 2009 +0530

    libglusterfsclient: Fix large directory reading bug
    
    As of now, we use 1024 bytes as the buffer for reading directory
    entries. If a directory as many files, then its possible that it does
    not fit into this buffer, thereby requiring more than one call to
    readdir. Now suppose the last bunch of directories fit more or less
    exactly int the 1024 byte buffer. If this happens, the offset
    extracted by the current logic(in libgf_client_readdir) never gets
    updated beyond the first entry in this last block, because the last
    block's first entry always remains same. This explanation is
    convoluted, I know, but I too found out the hard way.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8d1b62393b58ff3ac5b157e0adea15578c949bbf
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 20:45:48 2009 +0530

    booster: Use CONFDIR as booster.conf default location
    
    This commit changes the default location of the booster.conf
    file from /etc/booster.conf to a directory defined
    during the build process.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit faef6fded892c310a3debdce273a382286a4ec19
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 20:45:26 2009 +0530

    booster: Change booster conf env var name
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f6862d75d1ca50b12372d5f9c3e651d6f74c5900
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed May 6 11:43:33 2009 +0530

    afr self-heal: update file size of the returning stat buf with source file's size

commit 3f3dea5f23e2b49ac8ad14bf8dd34dfadf6a72f5
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue May 5 20:04:50 2009 +0530

    log level fixes in read-ahead

commit 9cb93f58be9d032bec12ca04275e84904bf22c0b
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue May 5 20:03:36 2009 +0530

    log level fix in storage/posix

commit f62628af61f5ef72c6af2b807c1bba71f291a366
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue May 5 19:19:30 2009 +0530

    io-cache logging level fixes

commit e9800f8915257f8e3fc94dea8257e20a5561dfd7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:57 2009 +0530

    libglusterfsclient: Add 0-byte size/count guards
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fe94d6e4992d7b7f2bcee73dfd2b0af76e1f2611
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:50 2009 +0530

    booster: Add lchown API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8a3495e7d4b2273746d9e38aefbae583131951ca
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:43 2009 +0530

    booster: Add remove API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bddbe5f7a4437fc4c295b7830fa2916011ab799a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:37 2009 +0530

    booster: Add getxattr,lgetxattr API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ad8e8fa72f287da034027bf26fc1fbfb1437d47e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:29 2009 +0530

    booster: Add readdir64 API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c803febb9b013e384bcccf37a2c68dc90deea444
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:23 2009 +0530

    booster: Add statvfs API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fe6a39da3cd7370e9a7d9f7908e06cbdce64ce6a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:15 2009 +0530

    booster: Add statfs API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4de7dc7151d307021177107fcf8dd636b306bb59
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:08 2009 +0530

    booster: Add lstat API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 13a58f94a781d91ab3d7854996df66c9802d972b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:04:00 2009 +0530

    booster: Add fstat API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 938191c57f0ef3a657a764033f70df6595dc736c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:52 2009 +0530

    booster: Add stat API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cec18ef672700dea563a8c899170ece4730257e5
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:42 2009 +0530

    booster: Add closedir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit abeec15e1da0c40bee134253035af88739e09960
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:32 2009 +0530

    booster: Add readdir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 792cd732264d751895e8469e7c5f3cb172574180
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:24 2009 +0530

    booster: Add opendir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fc602c0c17064dfbd81d3d85141b55a40c45d8d9
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:16 2009 +0530

    booster: Add realpath API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e749da85ec67dfa62af5702d199b8f1bcc53d1d7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:09 2009 +0530

    booster: Add readlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1504e1d50c7efcf20fe55fc7db526bb1d364244a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:03:02 2009 +0530

    booster: Add symlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 48e30d6715574c34bc760798e1657b5900129c25
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:55 2009 +0530

    booster: Add unlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 62b29b0db6f7d417a3281c3937bd5af20e1bf201
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:48 2009 +0530

    booster: Add mkfifo API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7d87f8f5ce56278f56427196b5e2c5e4c0be02ad
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:38 2009 +0530

    booster: Add mknod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4311e7f01dc244baa1a1b8fc50f74a823dbd38c4
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:31 2009 +0530

    booster: Add utime API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 48ee90ab87cf0c01fee0188728d70d67c6724b97
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:24 2009 +0530

    booster: Add utimes API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit acac22c87374310544b3a4bb301e9bfa3ea26001
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:17 2009 +0530

    booster: Add rename API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 11cdc6e5282d4c7d906da3e20b50df78ddba2efd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:10 2009 +0530

    booster: Add link API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9b012b098915c8bdbdcb8a4c38fb353fa39e82d4
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:02:02 2009 +0530

    booster: Add ftruncate API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e4e97f2bdaf6d98c5a133491efdffebb64fae4d6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:54 2009 +0530

    booster: Add fsync API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e6f4a6879a6f9bb11e6774182b211b57f1a827fa
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:47 2009 +0530

    booster: Add fchown API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8fa2a984c315418b940c481ea7729c00ed0b033a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:40 2009 +0530

    booster: Add fchmod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ad4f864c448a3bbcec67d3fb3c44e07993cd70e7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:32 2009 +0530

    booster: Add chown API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 13610ba31d3b5a60c4d03343438f696725558e65
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:24 2009 +0530

    booster: Add chmod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 76aa5e491dc3577bf8471cb649fee7b3d0a3dc9d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:16 2009 +0530

    booster: Add rmdir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 93c3a887695fc4fa7a65d6556398cffcf22d099e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:09 2009 +0530

    booster: Add mkdir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 358d3e7f99ecdc48c044f11f9f6011805d061ec4
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:01:02 2009 +0530

    booster: Add log message
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 83ae751616ce18d3010664f13ac8b8ecf8dd313d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:56 2009 +0530

    booster: Clean-up pwrite64
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 00b1e268fb0d3696820bd2e849c42deebe80a3cd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:49 2009 +0530

    booster: Clean-up pwrite
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6696009a6662cc77458246ffc3dccc22f8d6c185
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:41 2009 +0530

    booster: Clean-up lseek64
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 513a2d15c16a9b5c96ceb321bed08d34d659e12b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:34 2009 +0530

    booster: Clean-up lseek
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 24b360d865dbf344f8369e656d282739f07c18e8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:27 2009 +0530

    booster: Clean-up write
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8cacf5455bc97e84f62605df60a6ae5f66b61a1c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:20 2009 +0530

    booster: Clean-up writev
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 0c86f9686f2c91ef8838972ad038ba0c587cd09d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:12 2009 +0530

    booster: Clean-up pread64
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2763f86eea23898501c5299f58edc37e2c1262e5
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 16:00:04 2009 +0530

    booster: Clean-up pread
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a35a80b79702d3a81a9d62fc200ae61c6ec67b74
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:55 2009 +0530

    booster: Clean-up readv
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 61201d40bc22f1299bc49202433664664ec23ce6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:47 2009 +0530

    booster: Clean up read
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f0bef18b788c8beadc4131c5a6534761857c7f46
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:40 2009 +0530

    booster: Support VMP-based creat
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d470dd599c8dbf609411e52e587ea5c171214b21
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:32 2009 +0530

    booster: Add VMP-based open support
    
    In brief, when an open is called the VMP-based open is called first.
    If that fails, the fallback is the Mount-Point Bypass(MBP) technique
    which uses entended attributes to determine if the given
    path is a gluster mount. If it is, it goes ahead to create a
    glusterfsclient handle. All subsequent calls to this real mount point
    get redirected to the glusterfsclient handle. The other fallback is
    the actual open syscall on the local file system itself. This happens
    when the absence of an extended attribute tells us that the path is
    not even a glusterfs mount point.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3364e5eb2d5f5110e86924112dfe3f10597c9c9f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:25 2009 +0530

    booster: Remove fcntl.h from include path
    
    We define the O_CREAT, etc. flags so that we can remove fcntl.h from the
    include path. fcntl.h has certain defines and other lines of
    code that redirect application's open and open64 calls to the
    syscalls defined by libc.
    
    For us, thats not a Good Thing (TM).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 313713a254e193623807d019f4c0e17e637ed316
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:18 2009 +0530

    booster: Integrate VMP-based mounting
    
    This commit brings into booster the use of VMP based operations
    which will allow users of booster to specifiy a VMP and use it
    for transparently operating on a glusterfs client context.
    
    Since applications are oblivious to booster's presence, because it is
    LD_PRELOAD'ed, we need to specify the VMPs and the corresponding
    options like volfile, logfile, loglevel, through a conf file.
    
    By default, this conf file is the /etc/booster.conf. This can be
    over-ridden through the GLFS_BOOSTER_CONF environment variable
    for the application.
    
    The format of the conf file is very simple for now. Each VMP is
    described on a single line with space separated fields.
    
    Format: <Virtual Mount Point> <volfile-path> <log-file> <log-level>
    
    <log-level> takes the string representation of the usual glusterfs
    log levels.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 42d5355a6221ea473372c891544e4cc7b265bbe9
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:11 2009 +0530

    libglusterfsclient: A Fix deadlock in ftruncate
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7eb61fb44986fc834a19d9f38754f1be54d07e09
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:59:03 2009 +0530

    libglusterfsclient: Conform'ify glusterfs_readdir
    
    This commit does two things:
    1. Changes glusterfs_readdir prototype to conform to the POSIX
    readdir().
    2. Uses a 1024-byte value instead of sizeof(struct dirent) for the
    @size for libgf_client_readdir. This allows even larger names to fit
    into a single readdir request to the server.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b48df70c58f52878d58f3e1a0adc870688cdfcdc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:56 2009 +0530

    libglusterfsclient: Add VMP-based lchown
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dec408299ea7a2cb9aa9aa3ea3a3c72ee79169de
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:48 2009 +0530

    libglusterfsclient: Add remove API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4353ba5cdf0dab29e30997ce5b67055c8f1e1cba
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:38 2009 +0530

    libglusterfsclient: Add lightweight path resolution
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e57175c0177ecc8b9ff80d3ce6c5f9a3f8248214
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:30 2009 +0530

    libglusterfsclient: Add lgetxattr API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d18d2550484f3d930557fed038a6bf9ffa23de48
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:23 2009 +0530

    libglusterfsclient: Add setxattr,lsetxattr API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 84d5566fab6daaffe3ad5da76d87a9c9e20e7170
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:16 2009 +0530

    libglusterfsclient: Make stat resolve all symlinks
    
    We want to resolve even nested symlinks when calling stat,
    therefore, we need to depend on realpath-like functionality
    and not just a readlink.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a0cd85c307f3576291829beb825323d43aeca7f8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:09 2009 +0530

    libglusterfsclient: Fix realpath operation
    
    This commit does two things:
    1. Ensures we go on to traverse nested symlinks by calling realpath
    recursively on the symlink.
    
    2. Makes glusterfs_realpath, a VMP-based operation, return a resolved
    /real path that actually has the VMP pre-fixed to the resolved path.
    If this is not done, we'll be returning a path that is valid only
    within the glusterfs context, i.e. the path will point to a real
    file/dir only if a glusterfs handle identifies which glusterfs context
    the file is in.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d1e74d7faa8670d6a7bf47ab9105af03d7dcf9a6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:58:03 2009 +0530

    libglusterfsclient: Dont lookup oldpath on symlink
    
    The target of the symlink does not have to be interpreted in
    any way. It should be sent across as it is.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5cfa7a3a5ee9199399137e217597b1b97f7a4e38
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:57:56 2009 +0530

    libglusterfsclient: Improve path matching heuristic
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b46296282155281768407c93f878ba3823118463
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:57:49 2009 +0530

    libglusterfsclient: Guard against un-inited VMP searches
    
    On my system, an selinux module gets inited before
    booster even though the FS calls from the selinux module
    get routed through our LD_PRELOAD'ed wrappers. In this
    scenario, the VMP list is un-inited, resulting in a seg-fault
    if it is dereferenced. The list_empty check does not help
    because the pointers in the list have non-NULL values.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4ecd27aed126b20012abe1449bc49b4c646cb9d0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:57:42 2009 +0530

    libglusterfsclient: Add comments to API
    
    Some of the functions have also been moved within
    the header to reflect the order in which users will
    read through and try to understand how to use the lib.
    
    For eg. the init, mount and umount functions have been moved to
    the beginning to clarify how to start by init and de-initing.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 90f854f470b354bc36d46397d39a065cbe89e27d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:57:34 2009 +0530

    libglusterfsclient: Expose a few remaining APIs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b12fde2b06c4701970201aaebc7f45a8b964812c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue May 5 15:57:27 2009 +0530

    libglusterfsclient: Add VMP-based rename
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6fdf8f4c7d5cced776c925052eb8a81c332a3573
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 4 10:59:18 2009 -0700

    Do not lock entire file for metadata operations.
    
    Metadata operations now lock only a single byte at offset
    (LLONG_MAX - 1) instead of the whole file, to avoid contention
    with writev().
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1a5bcf508b22c1f9f5bd2f555e290f6725035cd2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon May 4 10:50:48 2009 -0700

    Made afr_flush a 'quick-unwind' transaction.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9aea45a0e1338a10558c4f3f434d172c4bc8c209
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Sat May 2 14:37:04 2009 +0530

    io-threads: Clarify thread count range
    
    This patch cleans up io-threads behaviour regarding the
    range values that can be specified for min-threads
    and max-threads. THe major change is that the min threads
    have been reduced to 2 to signify that io-threads needs minimum
    two threads for its operation, while keeping the default number of
    threads at 16. The idea is to decouple the default thread count
    from the minimum thread count.
    
    Note to Avati:
    This applies over Raghu's indentation and logging take-3 patch.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 80c30634da16f7b333d07eeff9839b70d577e39f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon May 4 10:33:11 2009 -0700

    io-cache: indentation and logging fixes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5d417f0f8853e4f17caf25255f98c559f3670434
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Apr 30 07:09:42 2009 -0700

    io-threads: indentation and logging fixes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bed4717a1b41e3e9af47ff1673e28925ba351f92
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 30 10:42:14 2009 -0700

    Cleaned up log messages in storage/posix.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f9d689ef3dd7040e09f704d24696b268ac1bdff6
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 29 05:23:17 2009 -0700

    write-behind: indentation and logging fixes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 60d91b69768bd97cd83adc6edb4e1f7d6c13b6ba
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 29 04:21:59 2009 -0700

    read-ahead: indentation and logging fixes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 946436dc17f7df47608b9a64aa11b77d7caf309d
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Apr 24 05:47:39 2009 -0700

    Fix a conditional during dependency check
    
    Conditional was wrong and dependency check would fail.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ce6fa580af849b03c4641baf77bf07c590be934a
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Apr 29 08:51:41 2009 -0700

    bug fix in server protocol segfault when the volume file key is NULL
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 78aa2ee7d2f646a41f19858db9c48a8afc82e83f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Apr 29 03:23:55 2009 -0700

    Cleaned up log messages in features/locks.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d22b495e0c4c180de63082add3e3e3168f1a0e1f
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Wed Apr 29 02:16:51 2009 +0530

    cluster/unify - unify_forget() should not try to access inode->ctx, if inode->st_mode is not set.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2de8717247d3dc1dcda4e3e8b3c260887c3e5891
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Sun Apr 26 22:51:18 2009 -0700

    mod_glusterfs/apache/2.2: fix segmentation fault
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3e3fa81c3465bc329d448aac78de8e556d9d513f
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Sun Apr 26 21:36:33 2009 -0700

    memory leak fix in auth/login.c
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f827d1536635c53dbee27ade459f1e207c1115e8
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 19:29:50 2009 +0530

    protocol/server indentation fixes

commit 604f38b8df4ac8427f55bc708bb72d8700924122
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 16:02:22 2009 +0530

    protocol/server log level fixes

commit 7bbbc9c8786d079055138ac4f8ea98b576c73ce0
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:11:21 2009 +0530

    protocol client log cleanup

commit 7ce91b4e860b7c077c64e54f49943b2f77972967
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:11:05 2009 +0530

    fuse-bridge log cleanup

commit d2ed893e3a526506ef302281d6bc936e6219063d
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:10:38 2009 +0530

    socket transport logging cleanup

commit 702affac485649f9509b1d6912e1a7737dbb23ca
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:10:16 2009 +0530

    dht logging cleanup

commit a76ce13ce29249f4622fcfef39bcd087c1cd050a
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:09:57 2009 +0530

    afr logging cleanup

commit 34f9a0b30043cf7836601cb620b4bcc4239357ac
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 28 15:09:22 2009 +0530

    libglusterfs log cleanup

commit 29f111a22fe574eaa6938bf0bd3516796abe597d
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 21 19:39:24 2009 +0530

    log message cleanup in distribute
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 53f4af3aad6601ded97b5ef19d2383fe8efa7984
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 21 21:36:27 2009 +0530

    log message supressing in DNS resolution
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3699c3b966dec936bbbe9ec610d48feb41e0880a
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Apr 21 21:34:38 2009 +0530

    cleanup of logs in socket and ib-verbs transports
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9c540ee5bf8a620db3855814db7b0f0f71644aac
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:08 2009 -0700

    Cleaned up log messages in replicate.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 04532fe34c582f551ec7d81b3fa6168f3a4a4d21
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:07 2009 -0700

    Cleaned up log messages in client-protocol.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f99f41b67e500a38015b61781b59224a8395dd98
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:06 2009 -0700

    Cleaned up log messages in mount/fuse.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8825c34d14e76914f7357c773c86b89ff03592cc
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:05 2009 -0700

    Cleaned up log messages in xlator.c
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit add02343dd4d9a095552a703f8fa732455b0ff8d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:04 2009 -0700

    Cleaned up log messages in spec.y
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 0651c3a12c30f21067111498e9710864698c028b
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:03 2009 -0700

    Cleaned up log messages in inode.c
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c3e4bb1bc8c7aac727a236f101c5d9f36a536c5a
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:02 2009 -0700

    Changed logging format to remove line number & function name from NORMAL and higher levels.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b52a5a408b82496a295c1065f2286c6755a04689
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:34:01 2009 -0700

    Introduce new log level GF_LOG_TRACE.
    
    TRACE is the most verbose log level, meant to have a
    full trace of operation.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 174872b3644d36f6d0f8a34d9c06092abc126e4f
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 21 02:18:38 2009 -0700

    Remove log level TRACE and the macro GF_TRACE.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e0c284c6e7c98b3a2fbd5c60d59b928d6e7af88a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 24 15:28:40 2009 +0530

    iobuf: Define MAP_ANONYMOUS
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7b2e459db65edd302aa12476bc73b3b7a17b1410
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 24 15:18:15 2009 +0530

    rename transport-timeout to frame-timeout, and set default to 30mins

commit d892c56c1d0b1de466ee4cf4071ab7b722808c00
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 24 00:57:42 2009 -0700

    Revised README
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 689347f278e5acfda95a24f7804a1450043311f3
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 23 06:53:02 2009 -0700

    Do not fail lookup() in case of split-brain.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 99351618cd15da15ee875f143154ea7f8e28eaf4
Author: krishna <krishna@gluster.com>
Date:   Wed Apr 22 23:43:58 2009 -0700

    "option unhashed-sticky-bit on/off"
    
    "option unhashed-sticky-bit on/off" will configure distribute to set or not
    the S_ISVTX bit in the stat.st_mode of the actual file in case it is
    pointed to by the link file. This can be enabled during migration.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b6f634f602559cfe0c4609f16c9f33a32243b578
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 23 11:20:17 2009 +0530

    fix build warning in locks translator

commit d886ceb9cbf45434ea0218f0098862daafb26ecb
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 23 11:09:37 2009 +0530

    minor build fix - set EXTRA_DIST to point to MacOSX/Portfile instead of Portfile

commit b0acbf09c21ff898ad3315811974e49cc80e6f2b
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 23 04:05:00 2009 +0530

    fix bdb_db_get() to return exactly read bytes and to copy the read data to given buffer only when needed.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e5686c440f3c03fbb24759342e5badf102579634
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:33:59 2009 -0700

    mod_glusterfs/lighttpd/1.4: port to use virtual mountpoints.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5f0bf570069770ee5c98fea728f0231f93eaab5c
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:34:10 2009 -0700

    mod_glusterfs/lighttpd/1.4: ensure each line is no more than 80 characters
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7a77bad6d583ee9266e6e3f566bf19d579177e3e
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:32:30 2009 -0700

    mod_glusterfs: port apache/1.3/mod_glusterfs to use virtual mount points
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e26b63ccfc3aa0b29afb7235b863b7b4a7c8ae95
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:32:42 2009 -0700

    apache/1.3/mod_glusterfs: ensure each line is of maximum 80 characters.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3c68984b6f8dbb772a858fcf829d6c6f81503912
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:32:53 2009 -0700

    libglusterfsclient: implement glusterfs_umount
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b817670c609dda2a1038fb94bd5a7dc6fa522518
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:33:03 2009 -0700

    mod_glusterfs: port apache/2.2/mod_glusterfs to use virtual mount points
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 725a1fcb1e84507c28f009d0f83692e0b57e474b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 22 07:33:15 2009 -0700

    mod_glusterfs: coding guidelines related changes
    
    - make sure code fits into 80 character lines.
      - proper indentation of declarations.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c8e9a96e2c3801701e7f218f1b12fef16071b088
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 23 10:20:06 2009 +0530

    replicate dir self-heal - when creating a missing dir/file, set pending xattrs on source subvolume for that dir/file

commit bb592b1a8465fa078d0cd5f445f08280b78a93e4
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 23 02:18:52 2009 +0530

    fix in afr directory self-heal (partial healing)
    
    impunge loop was 'continued' on a different subvolume in certain cases, resulting in healing of partial files

commit 86fff0e75b445dee3cda6b788699930eb649334e
Author: Harshavardhana <harsha@zresearch.com>
Date:   Tue Apr 21 02:24:22 2009 -0700

    Add MacOSX based packaging file into repo
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 38a6a5b1a12eff04f26ded17ce4585a6ebdc7986
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Apr 22 04:31:36 2009 -0700

    Bug fix in releasing inode locks when transport gets disconnected.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit df6d9e16817d952c17700d44ab478e6d6af704a0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Apr 22 01:02:09 2009 -0700

    Release all pending locks in pl_forget().
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7eb63e30f22f7a9d785f6620be22d2b3aab77ada
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 22 12:55:47 2009 +0530

    iobuf_pool->arenas_cnt should be incremented in iobuf_arena_alloc, and not iobuf_pool_add_arena (to avoid counting of unpruned arenas)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4877476fa1a591c51f4b3ee76082766f38a33b23
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 22 04:01:06 2009 +0530

    0-byte write guard
    
    guard server_writev from 0-byte writes from client where iobuf will be NULL. This is possible only via libglusterfsclient (not fuse)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bc1dff620cc185c3e08853b9b7fb4c5a04c48ebe
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 22 03:59:30 2009 +0530

    handle iobuf NULL return case in fuse-bridge, by waiting 10 seconds and trying again
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cf508025fe506a507fe16ed52df74dc7e0ca7c64
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 22 03:44:01 2009 +0530

    fd leak fix
    
    steps:
      - server_finodelk uses req->volume pointer into state->volume
      - finodelk is queued by locks translator
      - c call returns from server_pollin and hdr is FREE'd
      - now state->volname is pointing to FREE'ed region (junk)
      - server_finodelk_cbk calls gf_add_locker
      - gf_add_locker remembers lock with junked path along with fd_ref
      - gf_del_locker from new server_finodelk cannot string match with junked volume thus
        lock is not deleted, hence fd_ref remains as a leak
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8d2e5d8062361df451be7c6f748a23884f1cf315
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 22 02:21:46 2009 +0530

    afr_lookup_cbk - self-heal getting missed
    
    compare for mismatching sizes and attributes before overwriting local->stbuf for read-child subvolume. This causes files with differing sizes on backed not to get self-healed if xattrs were missing.
    
    Also add the ESTALE check for compulsorily failing revalidates in case of 2nd unwind and beyond
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 07f1524165f864e09033b7f78e921c5375d4e2d6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:50:33 2009 -0700

    posix: Ensure EINVAL return on NULL args
    
    Initing op_errno to EINVAL ensures that this is the value
    that gets returned on STACK_UNWIND, in case any of the VALIDATE macros
    result in exit from "out" due to a NULL argument. If this is not done
    , we get op_ret as -1 with errno set to 0 in the application's
    syscall.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 27e1c9fbd3fb6eda4f7d64ff04dad9d306c237e7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:50:20 2009 -0700

    call-stub: Check for NULL in the correct variable
    
    It looks like the argument fd was meant to be checked here instead
    of the fd in the call stub. This fixes a NULL fd bug that results in
    an EINVAL on opendir.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 31643eb227a5dfba11d23068e9626bf9546283bd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:50:08 2009 -0700

    io-threads: Add fxattrop fop
    
    -- added some indentation fixes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e246a3131676197aff0430429db1e7d7cc00be65
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:49:55 2009 -0700

    io-threads: Add xattrop fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a9b4360d889097e8ea25497eb669daebcaf1e381
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:49:45 2009 -0700

    io-threads: Add readdir fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d1eb9b13d2e50485e69301ade12afe5ea8636af8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:49:24 2009 -0700

    io-threads: Add removexattr fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 609c5aff6faa21cf3aaefa6b7a2a31a91590d726
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:49:10 2009 -0700

    io-threads: Add fsetxattr fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a77340b94147a078918536a5297746803c846809
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:48:56 2009 -0700

    io-threads: Add fgetxattr fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d7753849cc66c3aef66dc1270920389d3c42e7ce
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:48:45 2009 -0700

    io-threads: Add getxattr fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6b426bc53e2e6106e32568f09354d4e4ce382f11
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:48:33 2009 -0700

    io-threads: Add setxattr fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1cb8064b2a653f06062c226dc12d524d8f1a2da2
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:48:21 2009 -0700

    io-threads: Add statfs fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d769066ddcb7b3fab456a57704b184d0617b8d52
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:48:08 2009 -0700

    io-threads: Add fsyncdir fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 282a39c19ee15f8908eb28f0b2d6983b665d57a7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:47:56 2009 -0700

    io-threads: Add opendir fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cdbeb01abbfc26345df98e5a98a0e5ed513b7cf8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 21 04:47:42 2009 -0700

    io-threads: Add link fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6bff99a8f92befa78ddea62519a05f945db5cdfa
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:36:44 2009 -0700

    libglusterfsclient: Add VMP-based realpath
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cf22fd1d0430705e226d61ff8d9492925ce95d46
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:36:21 2009 -0700

    libglusterfsclient: Add VMP-based readlink
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a9febb4bd30f41681755a0ee925ae3de6f0fa292
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:36:05 2009 -0700

    libglusterfsclient: Add VMP-based symlink
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cb95018adab1377c862dca32f58825b336adafd0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:35:50 2009 -0700

    libglusterfsclient: Add VMP-based unlink
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6f91c9dc86be9c10467ccb5bc3edde2c5d767b9f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:35:32 2009 -0700

    libglusterfsclient: Add VMP-based mkfifo
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bcc9a67fc22147f54a27a81ee35f4c081a0e6b73
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:35:17 2009 -0700

    libglusterfsclient: Add VMP-based mknod
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a7205e78bfb962d9e5ff11db2a0b394e6db03256
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:34:58 2009 -0700

    libglusterfsclient: Add VMP-based utime
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e707afad9f6282bc425f8b0262ea5a6db018ec92
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:34:41 2009 -0700

    libglusterfsclient: Add VMP-based utimes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b4259400090a28a5dbe27922ad8bc309db2a7c4a
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:34:20 2009 -0700

    libglusterfsclient: Add VMP-based statvfs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6cb3159ef38428572b81160e91e7c685ed44acb0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:34:02 2009 -0700

    libglusterfsclient: Add VMP-based statfs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit de2192ea754883ea6ae643f63c44c2cbeb20f981
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:33:43 2009 -0700

    libglusterfsclient: Add VMP-based link
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 12d9b4cccd559776f125440a232ff5b944ab3442
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:33:26 2009 -0700

    libglusterfsclient: Add VMP-based opendir
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e2ba80403c3e73220a2b48b813df1561a9081e09
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:33:06 2009 -0700

    libglusterfsclient: Add VMP-based chown
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 74a46284e17045db302e5bcde0052ea6c7b4c038
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:32:46 2009 -0700

    libglusterfsclient: Add VMP-based chmod
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 721783da4f9705331356328b8082873aec1ced0e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:32:29 2009 -0700

    libglusterfsclient: Add VMP-based rmdir
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 07da4292a8678a415acfec130c40febc9a63b6b4
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:32:06 2009 -0700

    libglusterfsclient: Add VMP-based mkdir
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dc53183708d6d9ff998487427312000f30dcb7ee
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:31:49 2009 -0700

    libglusterfsclient: Add VMP-based lstat
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 84eb262529ea5389df2296d182ecd5e0582602a7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:31:31 2009 -0700

    libglusterfsclient: Add VMP-based stat
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aa1e2fd37ab93b194308f94edd8ab0a342c7830e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:31:09 2009 -0700

    libglusterfsclient: Fix stat cache bug
    
    The way stat cache gets updated was not consistent across
    all syscalls. Consequently, I was running into a bug that
    returned a 0 st_ino. The fix actually resides in the hunk
    that changes the lines in libgf_client_lookup but similar
    changes were also required in other users of stat cache.
    
    This commit fixes the bug and also cleans up the way stat
    cache is updated.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f29383ef35d210f2a72883cb6157e915200f7c7c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:30:51 2009 -0700

    libglusterfsclient: Add VMP-based setxattr
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4074769dd2435ab3521ab39eb2775c3e80fc32b4
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:30:36 2009 -0700

    libglusterfsclient: Add VMP-based creat
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d875df0c5c095488db29a202eac74d10d540aa3b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:30:15 2009 -0700

    libglusterfsclient: Add VMP-based open
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bb2ca0ec0da700f600d1fa30d111c2aa42804f70
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:29:57 2009 -0700

    libglusterfsclient: Add VMP-based getxattr
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6cd656152901ba19ef52f762d000e329e3f7dbc6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:29:40 2009 -0700

    libglusterfsclient: Add VMP-based get
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 86a1c646eeea353643bd6bd5eb040cf584b407c1
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:29:21 2009 -0700

    libglusterfsclient: Add virtual mount point support
    
    One part of the glusterfsclient library requires users
    to use a handle to address a particular glusterfs context.
    This can become cumbersome for applications that need to use multiple
    such context. For such applications, we make it easy by letting them
    define virtual mount points(VMPs), which are just paths that identify
    a particular glusterfs context. This is done through a new
    glusterfs_mount(..) interface.
    
    Subsequenly, any path based operations, that pre-pend a VMP before
    the files and directories inside the glusterfsd export, get internally
    routed to the correct glusterfs context. This helps users do away
    with the need to maintain their own path-to-glusterfs_handle_t
    mapping.
    
    The old handle-based interface still exists for whoever wishes to use
    it.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7c7fd9039b0d0ba17190677f864c5a22d46ab4d6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:29:00 2009 -0700

    libglusterfsclient: Must return size from readv
    
    The line being removed made libgf_client_readv return
    a 0 on successfull return when the return should really
    be the size of data read.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7bc1747de75d7a65059fbcb191c3776210de1491
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 20 12:28:40 2009 -0700

    libglusterfsclient: Expose glusterfs_realpath
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 82394d484803e02e28441bc0b988efaaff60dd94
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Apr 20 03:54:04 2009 -0700

    Check return value of afr_sh_select_source.
    
    If select_source returns -1, abort self-heal.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fbefbfee743a01b5ad9977ad24de372258aeb65c
Author: Harshavardhana <harsha@zresearch.com>
Date:   Mon Apr 20 04:59:54 2009 -0700

    change errno EINVAL to ENOENT in case of all fuse_* calls for fuse_reply_err ()
    
    Seen "rm -rf" returns EINVAL in case fuse_loc_fill fails when there is a race condition which can happen when multiple "rm -rf" are done on a same directory listing from multiple terminals.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2f5ee29248f4eafcd1c2f5cc31432d22739349d0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Apr 20 03:38:15 2009 -0700

    Minor fix in afr_sh_build_pending_matrix.
    
    Remove incorrect check for xattr[i] being NULL.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aa085b10678c01693d0f7222bd4054bb8e8836cc
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 20 13:15:12 2009 +0530

    inode.c - NULL check for the extra __inode_search performed, when presented inode is not hashed.
    
    This bug fixes #967

commit 8660bb2bef59c00df194087ed75ba81f34555a73
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 20 12:00:50 2009 +0530

    afr-transaction: handle double flushes
    
    __if_fd_pre_op_done - reset fd_ctx->pre_op_done to 0 so that double flushes do not result in two xattrop() calls

commit 3b8f7ed4c080dc45da02dc751478863007199c26
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 20 08:08:26 2009 +0530

    client_protocol_reconnect - do not send notify of CHILD_DOWN event if errno from transport_connect() was EINPROGRES
    
    This bug was racing between a CHILD_UP from poll thread resulting from the event_register() of the new socket called in fuse thread. CHILD_UP would sometimes overtake the CHILD_DOWN for EINPROGRESS. So replicate would receive CHILD_DOWN as the latest event. This resulted in self-heal not happening etc.

commit 42617775a2821dc74300b89dd14a08b068575b2b
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 18 13:27:21 2009 +0530

    keep ctx->page_size fixed at 128KB but only add the margin for iobufs which are created

commit fb5cc405ae45b4e573d6acbe3383349a278f2bdf
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 18 11:19:34 2009 +0530

    enhancement to migrate-unify-to-distribute.sh

commit 093141a74962f11654c44fe2292605f9cf65e709
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 17 16:07:00 2009 -0700

    added migration script from unify based setup to distribute based setup
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9a4a2e2286cb372ca462f6f25f78de686ea3e4ce
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 18 02:49:03 2009 +0530

    pruning buffer margin - do not destroy if no other non-filled arenas are in the pool

commit 307528ef9a33a4d294b3ea49bbf5f0b16b27aa0f
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 18 01:09:31 2009 +0530

    disconnect transport peer if system is out of memory while allocating iobuf

commit 50b2291e3b046ea6b8fdfcb7e206c772eae64f0e
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 17 23:35:43 2009 +0530

    iobuf - account with iobref_size() instead of iov_length (vector)

commit 1d6dfe94fb970b51d96653da6c3361533d697fc3
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 17 23:12:37 2009 +0530

    added 2 APIs iobuf_size and iobref_size to return the system memory usage by an iobuf, and by all iobufs in an iobref respectively

commit 7867577b346c7f003be67ad202f4085cf35fdf7c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 17 06:15:16 2009 -0700

    Destroy old ping timer before setting new one.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7b1beca0a3b60a8b9347a3122d77aea081ccb773
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 17 05:42:23 2009 -0700

    Fix two memory leaks in afr self heal code.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 98a872df828aa2786c7bf595d430ef64351f4192
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 17 17:52:07 2009 +0530

    add 4KB margin in iobuf to accommodate fuse header

commit 0b20c24a399eb03fdc431ea2761e1334e0032651
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 17 04:23:58 2009 -0700

    Fixed parameter to finodelk in STACK_WIND in dht
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4e3eae6561b38b53bef2d20177ab62602db45c14
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 17 02:33:01 2009 -0700

    libglusterfsclient: Fix typecast to fix build warning
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4a632ea96be3012c583165865bbde392f99a327b
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Fri Apr 17 14:19:18 2009 +0530

    protocol/client - set remote inode number in inode context for root inode also, during lookup_cbk().
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6bd53940d198e55780cbc7d8678da6d67df80265
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Apr 17 01:08:00 2009 -0700

    Renamed abs_top_srcdir to top_srcdir for older versions of autotool
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4e68cf7c4d912556e25eb1226669d7b438ff8a3f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:59:02 2009 -0700

    libglusterfsclient: Remove unused variables
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 27d73ca503b2e508c682fca2848f8ae38390a146
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:58:50 2009 -0700

    libglusterfsclient: Add realpath API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4ada36f9bd6e008dfea65d708d785907b993b946
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:58:39 2009 -0700

    libglusterfsclient: Add lstat API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7cd3cc24c8f3178382074c8a3a319df17b85769d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:58:26 2009 -0700

    libglusterfsclient: Add readlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a6f0446541e917979a697edd06dd28634bf3ec6d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:58:13 2009 -0700

    libglusterfsclient: Add symlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7aff8936f9c86677ee205e1cf9cb41f4ea9edecd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:58:00 2009 -0700

    libglusterfsclient: Add unlink API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 42528875cdaee764070e54b8fcd5e91ba8733e98
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:57:40 2009 -0700

    libglusterfsclient: Add mkfifo API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 933c3eee81f843db1fb8a2eda491d49cfc04efea
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:57:24 2009 -0700

    libglusterfsclient: Add mknod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 169976dfafeb714f3c94b9a2f635f36759334b9c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:57:13 2009 -0700

    libglusterfsclient: Add utime API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c9017ae0de2531342125eaf2a6aca3b9a251b16e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:57:01 2009 -0700

    libglusterfsclient: Add utimes API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 366bd140f3f0fbc6b343aab067713c398ae601af
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:56:51 2009 -0700

    libglusterfsclient: Add rename API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5feab82f0c228410d94f3dfa53025f85d6eac8b1
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:56:40 2009 -0700

    libglusterfsclient: Add statvfs API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ff2bacf3466ddd4473ae3774e1f822981f4d8198
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:56:29 2009 -0700

    libglusterfsclient: Add statfs API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f199ebf5d0c4d90abbc5d0dafd67561f39f398b8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:56:08 2009 -0700

    libglusterfsclient: Add link API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e18b8031ab4c7ce763e1e7d57bf5c98a1cbe7167
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:55:55 2009 -0700

    libglusterfsclient: Add ftruncate API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9193494d20a8555a90126b9d23e848b0b8ca196e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:55:40 2009 -0700

    linglusterfsclient: Add fsync API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 912f1a8492c8c20743c8d7f0a75aeb31f2483932
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:55:26 2009 -0700

    libglusterfsclient: Add fchown API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 67561c965210f299b8a7e4ea1be0a702095b19f6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:55:12 2009 -0700

    libglusterfsclient: Add fchmod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 01a48790c4a0c9805eb55bfe1c60860ee91f48a1
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:54:58 2009 -0700

    libglusterfsclient: Add closedir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit eb4d5f0074ab6430973188906a8083d26e24e790
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:54:42 2009 -0700

    libglusterfsclient: Add opendir API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f6ebe58492095a5d7ceb5762cb35defca945ab45
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:54:27 2009 -0700

    libglusterfsclient: Add chown API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e7d7a19d5733dfcea87467c5f96e1aaa812d5df8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:54:14 2009 -0700

    libglusterfsclient: Add chmod API
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f887fd6f7c6a5b740ebbf220706ebc44a938d67e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:54:00 2009 -0700

    libglusterfsclient: Abstract away inode attr cache updates
    
    This commit creates a separate function that allows users of
    the inode attribute cache to update the cache when required.
    Major users are lookup, stat and fstat functions.
    
    The function libgf_update_iattr_cache(..) allows updating the lookup
    and stat caches separately using flags.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4c98eaf4c464e7e2f1c6ce66414fd7864f5c8bfa
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:53:51 2009 -0700

    libglusterfsclient: Replace dict based inode ctx with array based one
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c71110fb153adfd4628718f634348b7a5712bf32
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:53:39 2009 -0700

    libglusterfsclient: Fix fd_ctx leak on release cbks
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit adb677be13e6b755c3eeb685759d2522f6c466a7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:53:24 2009 -0700

    libglusterfsclient: Replace dict-based fd ctx with array-based one
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 00968db3069e7b145f108d53a62d1899c9c1f3f9
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:53:12 2009 -0700

    libglusterfsclient: Generalize [RW] checks on dirs
    
    This patch moves the read-write permission check on directory
    inode into libgf_client_opendir, so that when I am next adding support
    for the opendir syscall, I dont have to perform similar checks again,
    outside this function.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1873d0bdb53af0311e8ad344116c0923448a6ff5
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:52:54 2009 -0700

    libglusterfsclient: Check for directory on O_CREAT
    
    If we have received an O_CREAT for a name where that basename is a
    directory, and if we have successfully looked up the inode for this directory,
    then we can check for S_ISDIR in libglusterfsclient and prevent sending a message
    to the server through libgf_client_creat. See also the comment inline.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 79215d4f2487e6db87e5fd637f0262037c1d230b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:52:43 2009 -0700

    libglusterfsclient: Create and use LIBGF_REPLY_NOTIFY macro
    
    All reply notifications can now be abstracted away through
    this macro and all cbk functions should now call this.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ba4833355a1ee77f828b538a357e07c46f36b037
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:52:27 2009 -0700

    libglusterfsclient: Fix segfault on non-NULL loc->name
    
    The gf_log message actually assumes that loc->name will have a valid
    non-NULL name in it, whereas if the loc_t being passed to it was
    actually created on a function stack, i.e. a local function variable
    and was then passed down the code path to do_path_resolve without ever
    initing it or zeroing the structure, its possible that the name member
    has a non-NULL but corrupted address. This leads to a segfault.
    Whereas, we know loc->path will always have the full path.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c1b3deff1186c581cb8d9893a3a0de6bf00d3adc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:52:04 2009 -0700

    libglusterfsclient: Use macros for argument checks
    
    Having those if {} blocks to check for argument
    validity hurts the eye so this patch replaces those checks
    with macros. One macro already exists in libglusterfs. The second
    macro is introduced by this commit for libglusterfsclient-specific
    check for paths.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b3e3fc79d4e7008a27d935decefcca51ba89dc17
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 16 23:51:45 2009 -0700

    libglusterfsclient: Rename XLATOR_NAME define
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 41011cdb4c9f76a1805f0b908d1d7f77cef545b2
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Fri Apr 17 00:32:17 2009 +0530

    protocol/client - NULL check for loc->inode added in statfs(), before trying to retrieve remote inode number from loc->inode's context.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4c4021bea2d9f484321066518e10d2b139af2a3a
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Apr 16 06:15:48 2009 -0700

    RPM spec file updates for RHEL,CentOS,Fedora,SLES and OpenSUSE for upcoming 2.0.0 stable release
    
    * Updates to ahere to RPM standards hugely driven by Fedora dist-f11.
    * RPM spec file portable across RHEL, Fedora, CentOS, SLES, OpenSUSE.
    * RPM spec build options made compact and removed unnecessary.
    * %changelog old entries removed as they were giving many warnings
      during rpmlint.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7ae141bb054494c86cfb60b377ab989c30938f66
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 16 17:32:05 2009 +0530

    add NULL check in iobuf_arena_destroy

commit 6bc3f3c19b9e720ade3702ce409a8a99cc13f1dc
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Apr 16 03:41:54 2009 -0700

    logging enhances to commit d77279ef04ca75ab9715864274567d1ce0ce66a6
    
    - logging made more relevent.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8a00ad080cbea0d01470c5f724d7d8ff54b0e254
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Apr 15 06:02:22 2009 -0700

    Use original pid when calling the FOP in afr transaction.
    
    Save the original pid while locking and restore it
    after the FOP is done. This ensures posix-locks can
    release locks (fcntl) properly.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 34f8f0b3e1f992cf59da2c2d410471e440e6ed92
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 15 03:11:21 2009 -0700

    write-behind aggregate-size related changes
    
    This patch brings in following changes:
       1. make aggregate-size as non-configurable and make it to be equal to
          maximum iobuf size.
       2. best effort to write data in chunks of length as close to aggregate-size
          as possible but not greater than aggregate-size, since aggregate-size is
          made equal to Maximum size of iobuf.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ffb863c3a8cbfb2105ac23ce5fc5be1df372458c
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Apr 15 03:12:17 2009 -0700

    write-behind: adhere to coding guidelines.
    
    - make sure lines are not greater than 80 characters in length
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e77eb62f253bc2288b1b4ff582f99ebf16a28c47
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 16 14:38:02 2009 +0530

    cluster/distribute bug fix - try to create linkfile in dht_lookup_everywhere_cbk(), only if hashed subvolume can be determined, else error out with ENOENT.
    
    -- with local fixes (avati)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d1703344735d9c4df89b84310deaf1b9703f8c49
Author: Harshavardhana <harsha@zresearch.com>
Date:   Wed Apr 15 01:00:01 2009 -0700

    Fixed the build problems observed
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e6c22c0587bbd9cb84969f5673db043c32e485ef
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Apr 14 15:28:34 2009 +0530

    eliminate this_ino_get(), this_ino_set(). handle inode_ctx_{get,set}() at the fop level itself.
    
    they used to log ambiguously
    and was of no use. logging is now more precise and will help in debugging,
    in case of errors.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f7902b7072015c9c20f47e999af85c923f202d33
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 14 08:15:50 2009 -0700

    Changed xattr format of afr changelog to support adding and removing of subvolumes while keeping existing data.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d77279ef04ca75ab9715864274567d1ce0ce66a6
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Apr 14 02:53:09 2009 -0700

    server-helpers: Add check for NULL connection arguement being passed in helpers.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3baa437e9980e7dac9893d6c11ccc1623a5faee2
Author: Anand V. Avati <avati@gluster.com>
Date:   Tue Apr 14 15:09:37 2009 +0530

    remove unused variable @ret in ib_verbs_options_init
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 54c40bbfb48e2f7469149d6724e2ac77bce0690a
Author: Anand V. Avati <avati@gluster.com>
Date:   Tue Apr 14 14:51:26 2009 +0530

    use MAP_FAILED macro to free mem_base in arena_destroy
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1ce5acccf5186e70424826d4f22cee3a29ac114e
Author: Anand V. Avati <avati@gluster.com>
Date:   Tue Apr 14 14:51:16 2009 +0530

    FREE arena->iobufs in iobuf_arena_destory
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8b32e03f87599bd3d87ec99c5718d40ff10831ff
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Apr 14 14:20:04 2009 +0530

    cluster/unify link() should be sent to only one subvolume.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7a4bc3fbb352396b27489b0e97327d0fc82b85d5
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 14 00:41:43 2009 -0700

    minor bug fix in posix_create() when 'o-direct enable' option is given.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 33e81bc94986929caab14a05231b25787a25a41b
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Apr 13 23:40:22 2009 -0700

    bug fixes in dht-disk-usage feature.
    
    fixes bugs seen with dht's disk usage.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d8bc2834d056a23f55bd86a5fd704bd81e35836d
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Apr 13 07:23:59 2009 -0700

    Send statbuf from the same subvolume, even across revalidates.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8e0d48cbb23cf056277ebc609d47b5184b95fa87
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 13 18:42:36 2009 +0530

    use ctx->page_size in all translators and transports instead of having their own configurations
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 451620e0ec88f717e7046ebb27fe1f29d73796d9
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 13 17:50:21 2009 +0530

    introduce page_size in glusterfs_ctx_t to be used by all translators set it to 128KB in main()
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3093ff0b125c520fdac3db627af708f495c9a47e
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Mon Apr 13 15:41:01 2009 +0530

    client_readv_cbk - when op_ret is 0, iobuf comes NULL from transport, handles this case
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a0bb8a02cd334aeda02e6146ea541a7dae4223d5
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:43 2009 +0530

    bug fix in iobuf_select_arena - call __iobuf_pool_add_arena (unlocked version)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3fb7252c5ec7edd8c9234d4fcc369fd10707a613
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:35 2009 +0530

    bug fix - arena destruction now calls munmap and not FREE
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dc9cdbdc1c03c231ba405e540fac7d6483159bb2
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:28 2009 +0530

    add purge list support to make iobuf_pool_purge() in expensive, and actually call it in iobuf_put :-)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b9a210a419ff28f2d75b10a680520fd6cc37ac5a
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:21 2009 +0530

    bug fix in iobuf_select_arena - never created a new arena
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 688db6452befde5d7cd2b35f86b770b4c19c53fc
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:13 2009 +0530

    add @filled list in iobuf_pool to keep away filled list from getting searched in iobuf_select_arena
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4f0d487c96b84123289d3c48fd84188efe136293
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:03:02 2009 +0530

    change arena size to 8MB
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 00dff3bddc375e88e710a751f47843f9da77a70c
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:02:57 2009 +0530

    use MAP_FAILED macro to check for mmap failure instead of (void *) -1
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 014cdf385642947d0592102b2c7338a8ad1c2d4e
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Apr 13 14:02:47 2009 +0530

    fixed sizeof parameter in CALLOC of a new arena
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5dd850ae840ddb402ca4aaae19c668094947507e
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Apr 13 11:21:20 2009 +0530

    switch scheduler to validate the subvolume specified for a pattern, against the given subvolumes of cluster/unify.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ec06475f22db2a3683167c5ffbe236c8e4aaf0ab
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Apr 13 04:47:39 2009 +0530

    changes to database read interface, to make use of a given buffer instead of allocating internally.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 945f438d393297cf72a3157532625b6b02e87268
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Mon Apr 13 02:09:25 2009 +0530

    log formatting fixes. use GF_PRI_SIZET for size_t.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3f1e93c29856ec1e75327525899d1f0d6a81c0a3
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Apr 12 04:16:09 2009 -0700

    minor initialization bug fix in quota's build_loc
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ecead44b5c8d1215e7c398ca1132a4b0b11a44bb
Author: Amar Tumballi <amar@gluster.com>
Date:   Sun Apr 12 04:12:00 2009 -0700

    in dht, initialize the free available space properly, so the first few creates are not confused.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e00bdb4a323b60ced500df59071d2a940b976ae9
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 8 02:28:16 2009 -0700

    Coding Style: Add a few points
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4a62b5af1c9add4a74ea38ab9008bf129e2b4110
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 10 00:34:34 2009 -0700

    feature to disable volumefile's checksum
    
    in server volume define, "option verify-volfile-checksum no" to disable
    the checksum feature.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit be9909606428d78ec23ea02900640c68ca2a40d2
Author: Anand V. Avati <avati@gluster.com>
Date:   Fri Apr 10 09:22:18 2009 +0530

    reset errno to 0 before calling first fuse_lowlevel_new() to reliably detect for unsupported params
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fa9eb588fbe758cbc1ebe727d2455f1dcd0b065f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 10 07:09:49 2009 -0700

    io-threads: Remove unnecessary call to pthread_attr_setstacksize
    
    We do not need to explicitly set the stack size to its default
    value.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4f81149489ae80b20ac28d1fdbe48ee56d0a181b
Author: Anand V. Avati <avati@gluster.com>
Date:   Sat Apr 11 00:54:29 2009 +0530

    prefix ULL to large constants (to fix bdb build warning)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 45c4fb76dfd0756ebd86bf431f5b5761068901b5
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 23:32:24 2009 +0530

    updated glusterfsd to create iobuf pool at initialization
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6d94a368e061afeeac6fb57c5910c71f60791dc3
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 23:22:26 2009 +0530

    updated libglusterfsclient with IOBUF/IOBREFs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 77714c065d99767f5a3820bc1c62b22522681821
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 23:09:15 2009 +0530

    updated transport/ib-verbs to use IOBUF/IOBREFs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 07e8f887547c1b9fd71a3ca45b2c1ac974c939ad
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 23:00:59 2009 +0530

    updated transport/socket to use IOBUF/IOBREFs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 19cac9a1b3d7d4f5720049c4fb2b5e08b27d27e8
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 22:04:44 2009 +0530

    updated mount/fuse with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1650945f2379cc33eab1b21c033d42152fa2592f
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:53:57 2009 +0530

    updated encryption/rot-13 with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5617f5e3a3840b59263ede767c53f80088593c66
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:52:08 2009 +0530

    update features/quota with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 91e3976e99523908541932c02b2c4e9df28a9510
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:48:35 2009 +0530

    updated features/filter with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5d80832d2dc0127b8f380afd7d49ff7b27ac79ec
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:46:54 2009 +0530

    updated features/locks with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d7b12cdc8d2bcbf89530e00710da308bd757e35d
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:43:51 2009 +0530

    updated debug/error-gen with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aed3aaef43589633f2a43d48435ef234582f37e0
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:42:45 2009 +0530

    updated debug/trace with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d720afb836ecd22c13859356261e85334422f119
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:40:19 2009 +0530

    updated performance/io-cache with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit be1d7c1e3b61477a82152a07a11993061e89b894
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 21:23:00 2009 +0530

    updated performance/io-threads with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 795fb95f42697796008e34790e0768929d478a3a
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 19:00:45 2009 +0530

    update performance/read-ahead with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c29b1710529fb52724ba37e09ca0f10cd7fcffa8
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 18:51:39 2009 +0530

    update performance/write-behind with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e062dd5c2f76106593829ebbb86003de966f00f2
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 18:43:35 2009 +0530

    update protocol/server with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ad86fba6e22b10b06aa44426c2ab3591c54ed0a7
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 18:15:11 2009 +0530

    updated protocol/client with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2e743ddc4a89f8a4d0c9ff0f16a6faf0218e453f
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 18:14:10 2009 +0530

    updated transport interface functions to accommodate IOBUF/IOBREF
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 0e9cda6d77a63723014bb2c040d8215fd7180a10
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 02:33:49 2009 +0530

    update storage/bdb with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6e641226df9a90a4d88c859d4bc1c27fdacc2037
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 02:17:25 2009 +0530

    update storage/posix with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fa5847401431f62013f1ef66363b5a0c1b29a0c5
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 02:02:52 2009 +0530

    update cluster/map with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 645c60e308de5290b9059eae557a320bd6a294d9
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:59:56 2009 +0530

    update cluster/ha with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 89cacef43e843c7563ed5d4ebb6ec16a3b81df3e
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:57:14 2009 +0530

    update cluster/dht with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f33f0669efd89216a528bab3694ac4645a7f523b
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:52:08 2009 +0530

    update cluster/afr with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e0e6acd6fbdcbd294c89e61cbe108fc1b96a62a8
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:39:34 2009 +0530

    update cluster/stripe with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f551e72584b3525d5a55c6fb4456d7b9ca5cb5f3
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:25:26 2009 +0530

    update cluster/unify with new readv writev prototypes
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c723c0dae5fd2887b714a08bcaeadb663e4de44b
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:21:57 2009 +0530

    do away with frame->root->{req,rsp}_refs members
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4554d82bbe2ecec6c79b6a791522358c8855408d
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 01:12:10 2009 +0530

    update prototype of writev and readv_cbk to use IOBREF in parameter (step towards elmination of frame->root->{req,rsp}_refs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3524572538e5abe839fa29fe94da8f7591cedce8
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Apr 11 00:09:08 2009 +0530

    IOBREF support for holding iobuf refs along with fops (replacement for frame->root->{req,rsp}_refs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e953968683d988c8fc3020ede2cb8e5229a548a6
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 10 23:11:33 2009 +0530

    use 128Kbyte as the channel transfer size in fuse-bridge
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 124fb0c752530322e6311dde668422afef6b2afe
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 3 15:17:04 2009 +0530

    IOBUF support (to be used by transports and fuse)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a31e26f8df26b1229e9fbca60ff8bf462b234241
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 10 04:22:37 2009 -0700

    io-threads: Reduce default min and max threads
    
    Going by the memory usage for each threads, it is prudent to
    have lower number of threads by default and let users who understand
    the memory consequences increase the thread count for themselves.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e1977a4e75637109889b581201e44e24506398c8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 10 04:21:53 2009 -0700

    io-threads: Use non-default thread stack size
    
    The default stack size on Linux is around 8 MiB for each
    thread. This is clearly too high for our purpose. This commit reduces
    the stack size down to 1 MiB.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bf7b4623821c8ffe8070297949e18dc6e3757e9c
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Apr 9 07:59:21 2009 -0700

    posix_unlink: make unlinking in background configurable through volume spec file
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fb034ba3036fadc7cf35edc5cae7481149a67ca0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 9 03:54:51 2009 -0700

    Compulsorily do self heal if file sizes differ.
    
    If file sizes differ, then compulsorily do self-heal. If no 'wise'
    sources are found, then pick a 'fool' with the biggest file size.
    If even 'fools' aren't found, pick the 'innocent' source with the
    biggest file size.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bfbcde78924fc5847b31ae56fe8d14ea52b60dfd
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 9 03:53:59 2009 -0700

    Handle files which have no pending xattrs at all.
    
    If a pending xattr key is non-existent on a file (call such
    files 'ignorant'), make all other non-ignorant subvolumes point
    towards the ignorant one.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ec35b79f746d8a9451d7a3b9894025fdad7382f4
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 9 03:53:26 2009 -0700

    Erase xattr during self-heal based on original dict.
    
    Decrement xattr during self-heal based on the original dict instead
    of pending_matrix, as the pending_matrix might have been
    altered later.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 445b57bf7207107a9ef078697b7d03bb9349747a
Author: Csaba Henk <csaba@zresearch.com>
Date:   Tue Apr 7 02:14:20 2009 +0200

    niftify mount(8) output for glusterfs mounts
    
    Originally, mount(8) shows a glusterfs mount like this:
    
    glusterfs on <mp> type fuse
    
    With this patch, mount(8) will show a glusterfs mount like this:
    
    <volfile> on <mp> type fuse.glusterfs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8123c907015e6ad6e2975ba77eadd4db32e08628
Author: Harshavardhana <harsha@zresearch.com>
Date:   Tue Apr 7 00:43:23 2009 -0700

    Commit package making files for FreeBSD and Solaris platform.
    
    Commit for package making related files for FreeBSD and Solaris. These files
    are supposed to be in repository to not loose track and update them as needed.
    I will update them soon for upcoming release where we support Solaris on
    ib fabric also.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b976536e616e6dd23dd4a3981d150b168f9d2bef
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:43:31 2009 -0700

    libglusterfsclient: Complete support for rmdir fop
    
    glusterfs_rmdir code path wasnt implemented completely. Here is an
    attempt to complete it.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ca32040f350a7b8ad2e24ee68b417d6bec266038
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:42:14 2009 -0700

    libglusterfsclient: Create new directory inode
    
    Make sure we give an allocated inode in the loc so that the underlying
    callbacks are able to fill it with the relevant information about the
    directory being created.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 364af2266e9cd9d1f4d88763e61a5b28d1336414
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:41:50 2009 -0700

    libglusterfsclient: Return ENOENT on missing ancestor component
    
    If any of the path's components, except the basename, are missing
    from the dentry cache and the corresponding lookup from the server
    also fails, return an ENOENT.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 353f30ad17c9ace576df47abedf71054d8eb434e
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:40:12 2009 -0700

    libglusterfsclient: Return EEXIST on lookup success in glusterfs_mkdir
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 957ae7ba2ba7b8276dab963b7af7dbf16eeb5888
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:36:57 2009 -0700

    libglusterfsclient: Perform explicit create
    
    We must create the file based on the O_CREATE in the flags
    instead of depending on the return status of the lookup.
    This works because we've already handled O_EXCL earlier and
    also handled a missing file(ENOENT)
    in case this was actually an open and not create.
    Adapted from Raghu's original patch.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d4ab91b1f254a21cac538fdffa7ff37db10ae83c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:35:32 2009 -0700

    libglusterfsclient: Handle O_CREAT on lookup failure
    
    On lookup failure, if O_CREAT is required, then we must:
    
    1. explicitly lookup the parent directory.
    2. create a new inode for the new file being opened.
    
    This special case is required for file creation because:
    1. We cannot depend on the previous lookup to have reliably looked up
    the parent inode.
    
    2. inode for the new file does not exist in the itable.
    
    Patch adapted from Raghu's original fix.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e8282fd242ba4061a40b992ebe4549b4dd23fa11
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:34:56 2009 -0700

    libglusterfsclient: Dont depend on ENOENT
    
    Dont depend on the dentry and explicit lookup function, i.e.
    libgf_client_path_lookup(..), to return ENOENT on not
    finding a dentry. Just use op_ret = -1 as a lookup failure
    status.
    Patch adapted from Raghu's original fix.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ccbb9c7df1d887bc835a04e0f76799770ba3e2b8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:34:24 2009 -0700

    libglusterfsclient: Remove spurious strcmp
    
    This strcmp existed because of assumptions that do
    not hold true since the change in libglusterfsclient
    internals recently.
    
    This is another step in fixing the seg-fault on glusterfs_create.
    Patch adapted from Raghu's original fix to the problem.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2524bf2e9cb89627833b1120eac0f78b279c1751
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:33:56 2009 -0700

    libglusterfsclient: Resolve path on empty caches
    
    The earlier case was that the explicit lookups to the server
    were being sent only when the parent inode was NULL. This situation
    breaks when the parent inode is available in the i- or d-cache
    but the child dirent is not. In such a case, no explicit lookups
    were being sent to get the missing child dirent.
    
    Now, explicit path lookup happens even if the inode for parent or basename
    is not found in the caches.
    
    This also fixes a seg-fault occuring during glusterfs_open, in my test
    case, but one that could occur almost anywhere lookup code is used.
    Patch adapted from Raghu's original patch.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 47f03734685076fce51eaacb706796d2213bdbf1
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Apr 7 05:32:47 2009 -0700

    libglusterfsclient: Fix segfault in glusterfs_open
    
    libgf_client_loc_fill gets passed a name=NULL argument.
    So when this function returns the filled loc argument, this loc
    is actually missing the inode structure that was to be filled.
    
    The segfault actually occurs a few lines later when
    we try to access fd->flags but fd returned by fd_create is NULL
    because we'd passed a NULL inode to it, i.e. the loc->inode.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 07fcdfebf25c30811a9313ac3d9a0fdbbceaad6c
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Wed Apr 8 04:24:22 2009 +0530

    introduction of secondary index database in storage/bdb
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit abf35ff6c7a2cc94d9e1e738fb76f711bd2abc16
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Wed Apr 8 04:24:00 2009 +0530

    link() & rename() on storage/bdb will always return EXDEV.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8fea700263bd356e6ecacd3dabc9a9c00043a804
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Wed Apr 8 04:23:30 2009 +0530

    storage/bdb untabify, code alignment to limit to 80 characters per line.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 34ae34826cce3233402bf36cd6f0174be06a83dc
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Apr 7 17:38:07 2009 -0700

    map translator cleanup.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4e90ca853b774f64c6adde73a62ed2649bda5eab
Author: Vikas Gorur <vikas@gluster.com>
Date:   Wed Apr 8 02:30:18 2009 -0700

    Fix minor bug in afr_open_cbk.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 225e86b37492e5004eb51498b46471d74f30841d
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 3 02:06:52 2009 -0700

    io-threads: Refactor un-ordered worker exit path
    
    This is being done for the same reason as the
    previous refactoring for ordered threads.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fe1cedc1a960493337676885881018e4687c12a2
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Fri Apr 3 02:06:25 2009 -0700

    io-threads: Refactor ordered worker exit path
    
    This patch re-factors the exit path of an ordered worker
    on a time-out. Earlier we're checking for exit permission
    in such a way that required us to release and acquire
    the worker lock a second time in the worker loop opening
    a window wherein a new request could've been appended to the
    request queue.
    
    This patch makes the decision to exit while still holding on to the
    worker lock.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3acd56bec5afef9db673ae8d7dbe52bc7943b298
Author: Csaba Henk <csaba@zresearch.com>
Date:   Mon Apr 6 21:25:12 2009 +0200

    add .gitignore
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5634986f594fe75d0cd2e69cadf002a2c701f366
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 7 06:55:43 2009 -0700

    Fix in changelog logic.
    
    If a writev fails, remember it by marking it in the fd context.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d46684117a02359886e096d1bcc9f590b54144a6
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 7 06:55:15 2009 -0700

    Consider a subvolume dead if an fop fails on it
    
    Transaction fops earlier called afr_transaction_child_died only
    if an fop failed due to ENOTCONN or EBADFD. Now they consider a child
    dead regardless of the reason for failure. This handles cases such
    as ENOSPC.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d71e72248096d12ce2a8ca7ccb36ef97ae486583
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Apr 7 03:27:24 2009 -0700

    Add lock-less versions of fd_ctx_*
    
    Added __fd_ctx_get
          __fd_ctx_set
          __fd_ctx_del which do not hold any lock.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 27996c714f7fd6a7686f2d4a3552efbc1e54c2c7
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Apr 6 10:27:45 2009 -0700

    Enabling booster after port to work with changed libglusterfsclient interface.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2d59bde99600ecb15b7ebba9cd0283925c9f20f4
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Apr 6 10:56:52 2009 -0700

    fix to fd leak in posix_create() in case of some failures.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c7962678224374fa295d4063c2f5387c7280536e
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Apr 2 19:45:04 2009 -0700

    nufa to take care of free disk-space while creating files.
    
    nufa gets awareness about the available free-disk-space in subvolumes.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 258fec70ba2cc588f500f3e3bc16c99af212b4c9
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Apr 6 05:21:29 2009 -0700

    Fix in return value of afr_sh_mark_sources
    
    afr_sh_mark_sources now returns:
      -1   if two wise subvols conflict (split-brain)
       0   if all subvols are innocent (no self-heal needed)
      >0   if sources found
    
    Also, changes to callers of afr_sh_mark_sources to handle return
    value properly.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6b18487d2811b4fb004d0f4c5c98a101a93b35ed
Author: Csaba Henk <csaba@zresearch.com>
Date:   Mon Apr 6 14:03:21 2009 +0200

    bitrot-13 fix
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7a543c3b45139adce1189785200ad23b2ec867d2
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Apr 6 04:00:59 2009 -0700

    Fix an incorrect type-cast in libglusterfsclient.c
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 258da6cd992c279469f2288f8a3cd41be69d43c2
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 6 00:37:54 2009 -0700

    io-threads: Cleaner stub destruction
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 45dab1eefd85e38570c2c3ccfac0061245f70e74
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Apr 6 00:25:51 2009 -0700

    io-threads: Sanity check worker thread idx
    
    This patch adds sanity check for the ordered worker thread index
    returned from the inode's context. If the index is corrupted we
    STACK_UNWIND with ECANCELED.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fed1aa318dcf939326b955a8fcc2da2b1535acb9
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Apr 3 22:13:53 2009 +0530

    disabling booster

commit 8a5005ecf06f23f1607c0ff4111a21c00bd74205
Author: Amar Tumballi <amar@gluster.com>
Date:   Fri Apr 3 08:27:44 2009 -0700

    distribute to take care of available disk space while creating new dirs, and files.
    
    distribute gets awareness about disk-space while creating the files
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f235826215205ac626abb0ad475e7a89f7003da5
Author: Rommer <rommer@active.by>
Date:   Wed Mar 18 14:32:50 2009 +0200

    fix broken transport-type unix
    
    fix broken transport-type "unix"
    however unix transport not working with defined transport.socket.bind-path
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7a52d4ba1f1f8b68ecd79b4d5409f3b930b4efd4
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 07:25:32 2009 -0700

    libglusterfsclient - reimplement glusterfs_fgetxattr and glusterfs_fsetxattr
    
    - glusterfs_fgetxattr and glusterfs_fsetxattr earlier used lookup and setxattr
        fops for implementation. Change it to use fgetxattr and fsetxattr fops
        instead.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 475a5909f3f80a1fc91630ea22bec228bfdc676b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 07:20:35 2009 -0700

    libglusterfsclient - fix bug in __do_path_resolve
    
    - add argument lookup_basename to __do_path_resolve which indicates whether to
        lookup basename(path). This is necessary for apis like glusterfs_get, which
        dont want basename(path) to be looked up by libgf_client_lookup_path.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 65bd768543c4de3d2ffd8d17efbd79e1e03666a4
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 06:33:06 2009 -0700

    libglusterfsclient - move lookup timeout related code to libgf_client_path_lookup
    
    - this simplifies the resolution of path to inode, the apis which receive
         path as argument just need to call libgf_client_path_lookup for
         path->inode translation.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ab534d54e4e2e1eb921c7a3c98d44137471c7ac5
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 04:21:59 2009 -0700

    libglusterfsclient - fix indentation
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e60d2194840b78034db1ad5c8b385a691ab3ddb6
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 03:57:20 2009 -0700

    libglusterfsclient - change implementation of glusterfs_get
    
    - remove redundent lookups happening in glusterfs_get.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8b8448799cc43f20f5812bf5629c8670f76f78d3
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Mar 25 23:22:55 2009 -0700

    mod_glusterfs/lighttpd/1.4 port and memory leak fixes
    
    - port owing to changes in interface of libglusterfsclient.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 38be3fda5ce27352c45475fc4de442806cbddd36
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Mar 25 23:22:28 2009 -0700

    mod_glusterfs/apache/1.3 port
    
    - port owing to changes in interface of libglusterfsclient.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e600abcb96979f80a0a20074347e8efc6cae880d
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Mar 25 23:22:03 2009 -0700

    mod_glusterfs/apache/2.2 port
    
    - port owing to changes in interface of libglusterfsclient.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cf6f21928dbe3489de5dfdc3513f3be5f5ef529d
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Mar 25 06:52:05 2009 -0700

    libglusterfsclient code changes
    
    - add dentry support to libglusterfsclient.
      - changes related to using array, to store context in inode instead of
        dictionary.
      - code changes related to cleanup of libglusterfsclient interface.
      - added glusterfs_mkdir and glusterfs_rmdir
      - other changes in libglusterfsclient to make it work with code changes
        in other parts of glusterfs.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6eb419f1ca68f536a700e63c1521e428560a0d9d
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Fri Apr 3 06:30:54 2009 -0700

    server-protocol - reimplement connection cleanup to happen in 2 phases
    
    - first phase, which happens when POLLERR is received on transport,
         releases all locks, flushes all open fds.
       - second phase, which happens when both the transports of connection destroyed,
         destroys the containers like lock table, fd table along with the connection.
       - the first phase, clears up any references to transport held by translators
         like posix-locks(in the form of blocked locks) paving way for the second phase.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d3d7245970189629937f6330a6d946f5fbb454af
Author: Vikas Gorur <vikas@gluster.com>
Date:   Fri Apr 3 05:34:10 2009 -0700

    Made afr inode context a 64-bit packed value instead of a structure.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 75c70231fe7e13a68239dac889568d243a79a75e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 2 08:31:23 2009 -0700

    Load balance read operations among subvolumes in afr
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1e7c9fa93716844e60d41811b8b79f8605a5044c
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 2 08:30:32 2009 -0700

    Defined afr_inode_ctx_t structure.
    
    Notification of a split-brain situation, which was earlier signalled
    by the mere presence of inode context is now signalled by
    the 'split_brain' member in the structure.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9f2ef60274dae8b302d691ba8d266cd76dcd7c4b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 14:01:05 2009 -0700

    io-threads: Support autoscaling volfile options
    
    This commit finally makes the autoscaling feature visible to the user.
    Know that we're now using two separate thread-pools, one for data
    requests, called ordered thread-pool in io-threads, and the other
    for meta-data requests, called un-ordered thread-pool.
    We do not expose this information to the user to keep io-threads
    simple. Consequently, when the user specifies a min-threads and
    max-threads value, the number of threads assigned to each pool
    is equal, i.e. both pools start with their min threads set to half of
    the option "min-threads" and both scale up their threads at most up to
    half of option "max-threads".
    
    Volfile options will be added to the wiki and user-guide.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b1bbd77f16a13f8109d1e2e1b4ed869db1e86645
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 14:00:36 2009 -0700

    io-threads: Cleanup request queueing,thread firing
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ae53812b2ccfd7842fa6430081465ed90f18814b
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 14:00:06 2009 -0700

    io-threads: Allow scaling to be switched off
    
    The default is also to provide no scaling. For both, ordered and
    unordered request pools, when scaling is off, we maintain atleast the
    minimum number of threads specified in the volfile.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b64fa35870b54b8d9e62afd71c92e35b1f7a4cfd
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:59:43 2009 -0700

    io-threads: Add ordered threadpool state and code
    
    Now we have the remaining fops going through the ordered
    thread-pool.
    
    To route a request through ordered thread, we use
    iot_schedule_ordered(..) and the worker thread for
    ordered requests is iot_worker_ordered(..)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ee79908d3b577c061b497e35481b8d1523502077
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:59:24 2009 -0700

    io-threads: Add un-ordered thread-pool.
    
    This commit adds everything needed to:
    
    a. Get un-ordered request going through the un-ordered
    thread-pool. This happens through, the
    iot_schedule_unordered(..). The unordered thread-pool
    consists of thread running the iot_worker_unordered(..)
    function.
    
    b. Make threads in the un-ordered thread pool start-up
    and exit depending on the thread state.
    
    Note that at this point the requests that need
    ordering are still going through iot_schedule(..).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e27f7f344e12d0885a48fcca8dfce36440f5e9e8
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:58:49 2009 -0700

    io-threads: Classify requests for threadpool type
    
    New io-threads will serve requests through two separate
    threadpools.
    
    One thread pool for requests that must be ordered
    on a file that is open. so that the server can process the requests
    in the order they were entered in the requests queue, and not in the order
    the io-thread is able to send a request, which in turn is determined
    by how the thread gets scheduled. This can also be called the
    data-intensive ops thread pool.
    
    Second thread-pool for requests that dont care about ordering, i.e.
    requests like lookup, open, create, mkdir, etc.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 42df79e2ad14053f38a12f30b29b81dd897921c9
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:58:30 2009 -0700

    io-threads: Wire in support for rename fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 369476e93e4ab99234602a5bbe2070d734b45567
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:58:11 2009 -0700

    io-threads: Wire in support for symlink fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6afeb9dd1bb9f329b5b0508d49c2e5142c6fc8cc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:57:51 2009 -0700

    io-threads: Wire in support for rmdir fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 21363da2935615b5574cce597c95a8a7b0503766
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:57:34 2009 -0700

    io-threads: Wire in support for mkdir fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cbf8858a230b91174dc6134e4729a047db6ff914
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:57:18 2009 -0700

    io-threads: Wire in support for mknod fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ef73c3de6097c6114b5492d5972c257b849e10b7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:56:50 2009 -0700

    io-threads: Wire in support for readlink fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d767455020f9730793230a14cd9e795194c5257f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:56:27 2009 -0700

    io-threads: Wire in support for access fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit eab231f3596aa4b6ad2b9b8f3d1a4cc97bda76bc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:56:04 2009 -0700

    io-threads: Wire in support for fchown fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3ca0a7859f6f8f7ebc6ac32b6f17035f2115d2a0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:55:44 2009 -0700

    io-threads: Wire in support for chown
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d56683ccfa1b53c42717ff36490066cff25fd7d0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:55:19 2009 -0700

    io-threads: Wire in support for fchmod fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f05ca55ef77fb2004b0f573aa267c92405166d9c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:54:52 2009 -0700

    io-threads: Wire in support for chmod fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit dffa5a92c70732e790b6c789e2aacb7f8c5c34cc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Wed Apr 1 13:54:33 2009 -0700

    io-threads: Wire in support for lookup fop
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b91e83aa0d3891b4cd725b6044131096405dfba8
Author: Anand V. Avati <avati@gluster.com>
Date:   Thu Apr 2 16:37:37 2009 +0530

    wb_flush - keep reference on fd for process_frame to perform STACK_WIND of flush.
    
    This patch fixes bug report by Greg <greg@easyflirt.com> on gluster-users@ with subject 'glusterfsd crash'
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f2cdc5d10c56ef8010ab83acf31b3fb6c4c2fd1f
Author: Anand V. Avati <avati@gluster.com>
Date:   Thu Apr 2 16:49:37 2009 +0530

    change char to int in execute_cmd (based on comment on #26006 from Giorgio Marinelli <gio@reversiva.net>
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1e9b5a5a35e8d53e631788443dadf1fe30853743
Author: Bharat Shetty Barkur <bharat.shetty@gmail.com>
Date:   Thu Apr 2 01:41:55 2009 -0400

    Changed few lines to ensure Optimization (lesser code).
    
    Changed few lines to ensure lesser code optimization while checking the EOF for the file pointed to by specfp.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aa0fd06dad70a7ecfc3dab819e9b3fab8baad2a9
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Apr 2 02:49:42 2009 -0700

    Build fixes for ib-verbs compilation on solaris
    
    Build fixes for solaris on ib-verbs with recent OFUV Update 3 release.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 63115897fe77e584552624c88f84eaeac55d9b57
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Apr 2 04:05:50 2009 -0700

    unify-self-heal: Fix un-ref'ing of incorrect dict
    
    dict_unref'ing of the dict in local
    results in a crash due to de-referencing a NULL spinlock.
    That is because after a STACK_UNWIND(..), we cannot expect
    the frame->local to be allocated still.
    
    Fix by using the other available reference to local->dict.
    
    Ref: https://savannah.nongnu.org/bugs/?26058
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 26af4e1229106e3d4d311fcfa1646f1ce9f3f271
Author: Vikas Gorur <vikas@gluster.com>
Date:   Thu Apr 2 03:39:24 2009 -0700

    Print log message when AFR receives CHILD_UP/DOWN notification
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 522b2bdb540bef4911e0874030d1f9b3003ba104
Author: Anand V. Avati <avati@gluster.com>
Date:   Thu Apr 2 15:51:34 2009 +0530

    socket_connect() - if socket is already created, do not fail transport_connect() -- causes spurious CHILD_DOWN events to be sent up when reconnect() thread misinterprets the failure of transport_connect() to be an actual teardown of the transport
    
    the spurious CHILD_DOWN events cause self-heal in replicate to not heal files in that subvolume, writev to not modify that subvolume etc, accounting for a lot of discrepencies in replicate which are being in the mailing lists recently.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3acfb275879fb8392f8cb4ea2a58766afbc42baa
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Apr 2 02:50:33 2009 -0700

    Fixes server goes into infinite loop on Solaris when poll_err is not set.
    
    Server goes into infinite loop when poll_err is not set.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cda677a98d039de6381887422d0b482ed412daaf
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:09:56 2009 +0530

    mount/fuse to silently send fresh lookup for ESTALEd revalidates. log only in DEBUG level.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8e621bdfff915f40d67ed5b2d17914226c601108
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:09:26 2009 +0530

    cluster/stripe to propogate ESTALE to parent.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2b63980c5da5e82c1a80fe91115fb8d8af201755
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:08:57 2009 +0530

    cluster/unify propogates ESTALE to parent translator, if any subvolume returns ESTALE during revalidate.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 60615a0a78ab8bc93dd027c1338c588c4f3d49a7
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:08:17 2009 +0530

    cluster/replicate should propogate the ESTALE error to parent, when at least one subvolume returns ESTALE.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 705c7c9bacafc22b714ac15e3925cb5eaeb45b0a
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:07:25 2009 +0530

    cluster/{dht,nufa} propogate ESTALE (when at least one subvolume returns ESTALE for revalidate) to parent translator.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e8cce0bed6e5e6bd926ee465c5ec7a00b0b37793
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Apr 2 06:07:04 2009 +0530

    cluster/{nufa,dht} fail revalidates with ESTALE, in case a stale layout is found in inode->ctx.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 905b9fd38a3da787de3f30d1cbdd5e85d56e2f81
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Apr 2 01:10:03 2009 +0530

    Review comment from Krishna was missed out in previous commit of fix for sending first_lookup in 2nd call

commit 25d415e1917df1cac363142fb6fd3768f3e7d2af
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Apr 1 21:54:43 2009 +0530

    use (fgetc() != EOF) instaed of feof() in parser
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 978174fd7362b6c425db78c8d316b96050603844
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 30 23:36:41 2009 -0700

    Bug fix in posix-init(), when span-devices is set above 1
    
    removed the extra '!' in if statement, which was a typo earlier.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 39d67cbf8921db55e7205a94bce5c6d154a3a3d5
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 31 15:49:57 2009 -0700

    fix a segfault with io-threads when iot-schedule is called with NULL inode
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit db365c30d07f5faae4197e37148f64e75b54a7ec
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Mar 31 10:56:10 2009 -0700

    Enable glusterfs client to exit after a configured number of failed connects \ while fetching volume specification file from server
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit aa63a122433d51e89148af27dab98cf68846dab4
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Mar 31 11:18:55 2009 -0700

    Avoid infinite loop while parsing volume specification files on Linux/ARM.
    
    - patch submitted by anonymous user (ref: bug #26006 on savannah).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 96b687b9b8d58fc70dfaaed42dbe1b35799117f8
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Mar 31 06:22:16 2009 -0700

    Add new type of option type INTERNET_ADDRESS for validation
    
    - used to validate options like remote-host, bind-address.
      - Also validate options of translators created during fetch of volume
        specification file from remote server.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c8ddd2588ae7d9890b2d30fd1dadc6f9b054d7f4
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Tue Mar 31 12:25:58 2009 +0530

    log message changes in mount/fuse for SETLK, GETLK, GETXATTR, SETXATTR fops
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9922b37658d7d996321382c5157bf33bbbb1330d
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 30 21:14:45 2009 -0700

    Add support for log-level NORMAL in fuse mount helper script.
    
    - patch submitted by John Feuerstein <john@feurix.com>.
      - copying changes in the patch verbatim to
        xlators/mount/fuse/utils/mount.glusterfs.in and
        xlators/mount/fuse/utils/mount_glusterfs.in
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a0c1de7c9cf41d37f95660fe45da66418e263340
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Mar 28 14:17:55 2009 +0530

    first call of fuse is INIT internal call, and not first system call. 2nd call is the system call where first_lookup() has to be done.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3276e650f8af676ed602279f4be85d053aa6065d
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sat Mar 28 00:32:34 2009 +0530

    memory leak (of header) when frame is attempted to be xfer'ed when transport is disconnected
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3baa99ebef316c6a9947c17c6d0c4bca863a8c82
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Mar 27 22:11:31 2009 +0530

    ping-pong timer: - share last_sent and last_received between channels so that any activity ensures the remote host being alive (useful under heavy loads) - timer expiry disconnects both transports
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6c28cb81b2a326a416968932919ea9d19f3b56ab
Author: Anand V. Avati <avati@gluster.com>
Date:   Thu Mar 26 17:29:52 2009 +0530

    fix duplicate setting of values in inode->ctx and fd->ctx
    
    this patch avoids setting of duplicate key/value pairs in the context.
    note that consumers have to explicitly check for previous existance of key
    to avoid any kind of resource leak resulting from this overwrite.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 675e8b4a1f07668a6145c16283b68daa165a7a0c
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Mar 26 08:47:13 2009 -0700

    libglusterfsclient: Fix NULL argument bug
    
    inode_ctx_get was being passed a xlator_t type
    that was initialized to NULL resulting in a
    EINVAL return from glusterfs_fstat.
    
    Reported on gluster-devel
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a59582c3faed3efcf713caeb990ea5c35479dd8d
Author: Anand V. Avati <avati@gluster.com>
Date:   Thu Mar 26 16:26:21 2009 +0530

    posix_unlink - open/unlink/close only regular files
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 36e39bf9cb4b7c712ef411d60203bf05af7e129f
Author: Anand V. Avati <avati@gluster.com>
Date:   Wed Mar 25 18:08:43 2009 +0530

    Enhancements to distribute selfheal
    
    - create missing directories instead of creating linkfiles when
      entry missing  on hashed subvol
    
    - detect cases where there are dirs and linkfiles for a name and
      make them all dirs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a2d44f8cd32988ad52ad924b61a2ef5fc41e4b0e
Author: Csaba Henk <csaba@zresearch.com>
Date:   Wed Mar 25 02:19:14 2009 +0100

    make the location of the mount utility tunable at configure time
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ec5a5fa20823aed3127bdbea4e754ef308d81d89
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Mar 23 05:16:16 2009 -0700

    Fixed typo in warning string in afr.c
    
    Fixed typo.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3df266c278ab74c6bf1980bd17a545595bd04344
Author: Bharat Shetty Barkur <bharat.shetty@gmail.com>
Date:   Sun Mar 22 13:57:37 2009 -0400

    Changed the gf_log warning for return of null via CALLOC from 'old' to 'newdata'
    
    Fixed the warning message to be more clearer for return of the null by CALLOC, by changing old to newdata.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 4e5c297d7c3480d0d3ab1c0c2a184c6a4fb801ef
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Mar 24 03:46:08 2009 -0700

    fix to rm of large file blocking other operations on the same directory containing file (ref: rt #779)
    
    posix_unlink follows the below procedure to avoid client noticing delay during
    unlink of large file
    1. open file
    2. unlink file
    3. stack_unwind
    4. close file
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6e8017479fd9997ae47e7c8cbb74247d7e2b4fd0
Author: Vikas Gorur <vikas@gluster.com>
Date:   Tue Mar 24 05:44:59 2009 -0700

    Made self heal logic more precise.
    
    Discard earlier patch sent for the same error. This patch fixes
    it more comprehensively.
    
    This solves the spurious split-brain seen by many users.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8f590ad883c170827cc06dcbcb17e5aaa1788996
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Mon Mar 23 23:45:53 2009 -0700

    dht memory leak fix
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 270621b34af7528755373e04b07f959c8dca274b
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Mar 21 19:04:15 2009 -0700

    fixes crash in write-behind
    
    in wb_flush, there was a chance that wb_process_queue()
    was called with NULL frame, which causes crash.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 617fa2504283b63dde7f27186648ef9a9f060f52
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Fri Mar 20 12:50:51 2009 -0700

    when the both channels in client protocol is disconnected, fd's are marked as bad
    
    patch solves the problem of fds being valid even in the case of server
    disconnection, which causes operations on wrong fd when server comes back up.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cf15c8ab0fab3ad9e37cab544ccbbccd59ab03db
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Fri Mar 20 12:49:12 2009 -0700

    fixes issue of hashing to wrong subvolumes in case when a subvolume is down
    
    When a hashed subvolume is down, variable 'subvol' was NULL, but was sent to itransform.
    This patch solves this, and readdir is sent to proper subvolume now.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c20359b5b2a564e83b5830b9a17013e780096e2d
Author: Amar Tumballi <amar@gluster.com>
Date:   Wed Mar 18 18:31:30 2009 -0700

    fixed sys_<fops> related warnings. (on mac os x and opensolaris)
    
    The fix in posix will fix 'unresolved' symbol errors in Mac/Solaris/FreeBSD
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 103d82700483bf744f86719e97846b065ca3394c
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Wed Mar 18 17:10:51 2009 +0530

    dht_layout_dir_cmp - if xattr is missing, it is an error only if cached layout has entry for that subvolume.

commit b9fef00edbe7272d31be0ca22f3b2794918300e0
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Tue Mar 17 21:59:30 2009 -0700

    Add return after STACK_UNWIND
    
    We must add a 'return' after a STACK_UNWIND due to a stub creation
    failure, because if we dont, we'll end up adding a NULL stub to the
    worker thread request queue.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2d7f44e39792c71e4f7bb768acffc2f5a76c80e0
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 17 19:05:43 2009 -0700

    Moving few translators which are not well tested, are in beta stage to 'testing/' directory.
    
    This way, users will be aware which are in 'beta' stage, and we can keep on
    adding new translators (if any) seemlessly to stable codebase and once tested
    can move them to proper places.
    
    To use these translators, everyone will have to prefix 'testing/' to existing
    type of translator (in volumefile)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b947dc7161427b8c84f47b0a97861a36557f5748
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Tue Mar 17 18:15:19 2009 -0700

    ib-verbs recv-size and send-size argument takes SIZET arguments now.
    
    With this patch, to specify recv-size and send-size of ib-verbs to <n>KB, we need not give
    the option as integer value of 'n * 1024' value. This is neater to do deployments.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 0a7f4cfc1c516da573949a9521248744ce97c4e9
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 17 16:08:10 2009 -0700

    afr data self heal bug fix
    
    fixes the issue of corrupting self-healed copy in AFR
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ac8fe9901b3215c27ef8bc0971bf2bd140bbfcd5
Merge: 8e0453e 1601bb6
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Mar 17 22:38:26 2009 +0530

    Merge branch 'master' of ssh://avati@git.sv.gnu.org/srv/git/gluster

commit 8e0453e615255a5f64777a68d873a6f46262b5b3
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Mar 16 07:05:33 2009 -0700

    IO-threads Cleanup: Remove useless data structures.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit babf82427ce19aee091259b25613c426c696c330
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Mar 16 07:04:21 2009 -0700

    IO-threads Cleanup: Clean-up request scheduling and queueing interface.
    
    This patch does two things:
    
    1. Cleans up the request scheduling and queueing interface so that all
    fops only need to call iot_schedule and not iot_queue and in some
    cases iot_schedule.
    
    2. Till now, we've had open and create calls go through the main
    glusterfsd thread when sending open and create fops. This patch makes
    them also go through the worker threads. But since the open and
    creates requests would not be called with a valid inode number in the
    loc_t, these requests will get assigned to the worker at index 0.
    This will be fixed RSN, when we introduce various techniques of
    distributing the inodes(..not requests..) over the worker threads.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8e3e0e776cc04ad9f840383c4693ee73adc79558
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Mar 16 07:03:02 2009 -0700

    IO-threads Cleanup: Change workers list to dynamically allocated array
    
    Worker threads were represented as a list in iot_conf_t
    which made us traverse the list of workers in order to
    decide which thread gets the request. Now we represent the
    workers as a dynamically allocated array so that we can just index
    into the array to schedule the file.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3a83fdc459a620d5ce0360bcf5fa071118d5430f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Mar 16 07:01:33 2009 -0700

    IO-threads Cleanup: Change request queue into a struct list_head
    
    This patch changes the per-thread request queue from a custom circular
    linked list, into the standard list.h list which is easier to
    understand and has a cleaner interface.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3099d29e8e65554af31927c8f767b9b6103ca58e
Author: Vikas Gorur <vikas@gluster.com>
Date:   Mon Mar 16 04:03:55 2009 -0700

    Add system call abstraction layer
    
    - syscall.c provides platform-independent system calls
    - previous code for this from compat.c removed
    - posix xlator uses new functions from syscall.c
    - solaris_flistxattr added to compat.c
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7d61f9d69309ccb0f9aa787caacfef77bc4e32d2
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Mar 12 04:41:23 2009 -0700

    write behind preserves order of fops with respect to writes
    
    - the execution order of fops like read, stat, fsync, truncate etc whose results
     are affected by writes, are preserved.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 473d02d1698259b4a0a6c22fdf70071e69c6e987
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Fri Mar 13 01:12:20 2009 +0530

    implement forget for cluster/unify
    
    inode_ctx_put() would set a list allocated on heap and would not be free()ed anywhere.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 215a91c4729bff06899375c02ae1568f24d683a9
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Mar 12 20:29:56 2009 +0530

    unify revalidate should propogate the error from any of the subvolume upto the parent, so that parent sends a fresh lookup.
    
    unify revalidate fails if one of the subvolume returns error.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1601bb69f48b79572789c67d12753fcaa0bd2f24
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Mar 12 04:41:23 2009 -0700

    write behind preserves order of fops with respect to writes
    
    - the execution order of fops like read, stat, fsync, truncate etc whose results
     are affected by writes, are preserved.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7af8d8edbd8554235348e0f54348edf222c0b46e
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Mar 12 16:21:51 2009 +0530

    Add extra 'volume' parameter to inodelk/entrylk calls
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 31c817836c9c56eca1441b3b6f8b83db41c67f94
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Wed Mar 11 18:57:17 2009 +0530

    xlator.c option validation should check for empty valid options list (for strings).
    
    'if (!opt->value)' always fails as 'value' member is an array of size ZR_OPTION_MAX_ARRAY_SIZE and is always non-null. it should have been 'if (opt->value[0] == NULL)' instead.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b1c6a8507d59d16f9691652703be48f4539ca093
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 9 22:37:57 2009 -0700

    feature to span the export directory across different mountpoints
    
    This feature enables exported directory containing different mountpoints.
    With, 'option span-devices <n>' where n is number of different mountpoints
    export directories can have, one can enable this feature. By default the
    number will be 1, and the inode scaling won't come into picture.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3b45b4c922a5f5835afa4e9211d64da2c6868633
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Tue Mar 10 00:00:58 2009 -0700

    ping timer will not timeout if we recently got POLLOUT on the socket i.e if ((cur - (sent|received)) < timeout)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6a70225b69e7c617cb0ff62124b2687a7027c64a
Author: Bharat Shetty Barkur <bharat.shetty@gmail.com>
Date:   Sun Mar 8 12:54:25 2009 -0400

    Fixed two more occurrences of poll_out variables used for logging.
    
    Changed the poll_in variable to poll_out variable at two more places in the code.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d4adb2b0f5e7cd8e91d384f3f9047deab2464647
Author: Harshavardhana <harsha@zresearch.com>
Date:   Mon Mar 9 10:31:53 2009 -0700

    removed word "tla" from last of the remaining files
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 2323b92d9b7b679c84cab64697fc715434e28ac9
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Mar 10 00:27:52 2009 +0530

    failover to any active transport when requested channel is not connected
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ae378b63c0ae93d8077d250de6a035b92bac8697
Author: Harshavardhana <harsha@zresearch.com>
Date:   Mon Mar 9 03:19:31 2009 -0700

    Fixed build problems for init script installation.
    
    Fixed build problem for init scripts (Reported by Krishna and Vikas).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fdfdd7cf05b7378c879917acb9129d69a407aee9
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Mar 9 16:16:02 2009 +0530

    dht_readdir_cbk - retry on same subvol if no entries match the hash
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5e4e99f4c1aa09b9e323c6fd23fcc3517447a6d7
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Thu Mar 5 07:55:43 2009 -0800

    changing the conversion specifier from 'd' to 'o' while printing st_mode
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 0991858fca6dc93de685e9527fb9ff47d77f616f
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Tue Mar 3 16:00:58 2009 +0530

    added fgetxattr and fsetxattr FOPs
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d092dff9a6e23d5fdef64154b6f3d6211f7482a6
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Mar 5 17:05:35 2009 +0530

    fixed deadlock in io-cache
    
    ioc_create_cbk was holding inode->lock and calling inode_ctx_put,
    which also holds the same lock.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit cb602a1d7d41587c24379cb2636961ab91446f86
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Tue Mar 3 02:54:20 2009 -0800

    Changed the default transport-timeout to 600
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit eab182e8a8b2f9a89147334f39e51db60aafa953
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Mar 5 02:04:28 2009 +0530

    disable building of user-guide
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 762b1f9aefe07971178e584e288833bf142f402b
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Mar 4 04:00:24 2009 -0800

    code changes in the usage of inode_ctx_get and inode_ctx_put after their implementation is changed to hold inode->lock.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c8340e70f881dbb95d5238e588a7e985f6f04816
Author: Amar Tumballi <amar@gluster.com>
Date:   Tue Mar 3 20:13:45 2009 -0800

    Change to fix the build problems with bison 1.28 (in RHEL 4.6)
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1b51e542b9aa7996e2753a7686c7743ffc8ecefd
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Tue Mar 3 20:10:47 2009 +0530

    inode_ctx_t locks added
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 5ed5ea9bffe018512edc6babff18fd4d44bcdd70
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 2 15:47:37 2009 -0800

    create fuse thread after setvolume cbk happens, not only in case of success
    
    This patch fixes the 'hang' effect when client protocol fails to authenticate
    to servers (it may be problem with volume file, or server process would have
    not started yet).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 130ae0dee7f1ed1292c32df52276833a9fa187b2
Author: Amar Tumballi <amar@gluster.com>
Date:   Mon Mar 2 09:16:45 2009 -0800

    changes in patchset and repo version
    
    noticed that if anyone pulls from git repo, the version says 'tla' and
    patchset also shows tla's patch.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit da71d1359c1335997595935dbaa07c5747231861
Author: Harshavardhana <harsha@zresearch.com>
Date:   Sun Mar 1 05:35:18 2009 -0800

    Added proper handling for the init scripts for (Debian, Ubuntu, SuSE, Redhat), SuSE init script also added.
    
    * Init scripts added for Debian, Redhat, SuSE distribution, each are installed
      by checking each distribution specific.
    
    Tested on
    1. Debian, Ubuntu.
    2. Redhat, CentOS.
    3. OpenSUSE.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b29a555c0be1c0db47c290d61f8c4dfe1e6fecbf
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Feb 27 05:03:50 2009 -0800

    now user-guide.info is built only when "makeinfo" found
    
    user-guide info is built only when "makeinfo" found
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 7d7610007aeb3e31e9d51996a2234659de792a25
Author: Bharat Shetty Barkur <bharat.shetty@gmail.com>
Date:   Mon Mar 2 14:31:39 2009 -0500

    Fixed small error regarding the poll_out variable
    
    Changed the poll_in variable to poll_out variable, so that the logging is relevant to the case of invalid poll_out value.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit fd524dda532a05cb2485935212d1a66f4130256c
Author: Harshavardhana <harsha@zresearch.com>
Date:   Sat Feb 28 01:49:40 2009 -0800

    Fix solaris server segfault in recent "rc3" release.
    
    typecasting from uint64_t directly over pl_inode structure segfaults
    are all the calls from posix-locks.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b6bf3b8d6efb995d4ca7b91ff41709c57753d632
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Feb 27 10:23:45 2009 -0800

    CALLOC changed to calloc in rdd.c and several other cleanup and moved rdd.c into more appropriate "benchmarking" directory.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 24f80a408cbf5214664efe12466929d50575c963
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Feb 27 10:23:29 2009 -0800

    Removed unncessary EXTRA_DIST entries and updated benchmarking directory
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b2db5d966f210be72250fb87e513d187d3de7fdd
Author: Harshavardhana <harsha@zresearch.com>
Date:   Fri Feb 27 10:23:08 2009 -0800

    Added /etc/init.d/glusterfsd for rpmbuilds
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3aff44fab8ba7a109bd691b8675dbfd9842237a3
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Fri Feb 27 22:35:25 2009 +0530

    check for fd ctx set in changelog_needed_post_op for flush() in afr
    
    Earlier the check was in afr_flush(), which caused race conditions
    with writev()
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1e5ac91d05e89356ac63fb07cc09bed7a979289f
Author: krishna <krishna@guest-laptop>
Date:   Fri Feb 27 03:31:13 2009 -0800

    send a lookup on root as soon as we get CHILD_UP to fuse.
    
    send a lookup on root as soon as we get CHILD_UP to fuse. This fixes the
    case where some of the fuse versions do not send a lookup on the root
    directory when one of the "sub-dir" or "sub-file" is accessed just after mount.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8462dd88ad3531837ebfccd17a083467faa40227
Author: Amar Tumballi <amar@gluster.com>
Date:   Thu Feb 26 08:09:25 2009 -0800

    volumefile modification awareness to make sure there are no inconsistencies.
    
    Complete (including feature to properly umount) in my sense.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit da9664587d414ba703c46839e3a4831ad3784a19
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Feb 27 10:34:03 2009 +0530

    Skip self-heal when subvolumes are down
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 596b48e14e5797deca35915edb047471d7c15a00
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Feb 27 02:50:48 2009 +0530

    fixing warnings in previous patch (typecasting pointer to long)

commit 0601a2d6631983cbce39982dfcbecae23a4fa629
Merge: 2dbcb3c b4ff0d5
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Fri Feb 27 02:39:49 2009 +0530

    Merge branch 'master' of ssh://avati@git.sv.gnu.org/srv/git/gluster
    
    Conflicts:
    	xlators/features/locks/src/common.c

commit 2dbcb3c79338dc4f4c45c21e4bf62e61e455ae19
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Fri Feb 27 02:14:15 2009 +0530

    reverting nested locks in posix-locks for inodelk
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b4ff0d5c88b886dbe841cdcfdb71ac936522f9c3
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Fri Feb 27 02:14:15 2009 +0530

    reverting nested locks in posix-locks for inodelk
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f097e77ffb386dc73e3639af4a9cd57df0d3d40d
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Fri Feb 27 00:36:23 2009 +0530

    moved dht_hashfn_tea() to libglusterfs/hashfn.c as gf_dm_hashfn() (dm - davies-meyer).
    
    moved dht_hashfn_tea() to libglusterfs/src/hashfn.c as gf_dm_hashfn().
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 3d8bc3cbafa84a46e43e46f69d3e7d617d746012
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Feb 26 21:14:23 2009 +0530

    updated copyright header to extend copyright upto 2009
    
    updated copyright header to include 2009.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6fb7cda0a92b333e9c3861eb35f6f9ae3a1c03a2
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Feb 26 20:47:16 2009 +0530

    removed unnecessary README.git file
    
    removed README.git file
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d3a318973c9613cfef8b1a14256fb5178e417fb0
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Feb 26 20:36:50 2009 +0530

    fd->lock added to protect transactions for accessing and modifying fd->_ctx.
    
    fd->_ctx access and modifications are now protected by fd->lock.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 431617ef19244272797106f2356ef31591e9c7b9
Author: krishna <krishna@guest-laptop>
Date:   Thu Feb 26 06:11:48 2009 -0800

    Layout is sorted on volume names before forming the layout ranges. But when anomalies are to be detected layout is sorted based on "start" of the range (done in the selfheal during lookup).
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit c445012fa990be5dbc0ccbace04187484ccd92f3
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Feb 26 17:51:47 2009 +0530

    protect fd_ctx get/set in afr_transaction and afr.c with locks
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 523d23b94c21cf5cfdfd087409371d9d2dcf25a4
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Feb 26 17:13:25 2009 +0530

    Unset fd_ctx in afr_flush if it is set
    
    If fd_ctx is set, it means pending array needs to be decremented.
    However, flush might be called many times and it used to lead
    to multiple decrements. Fix is to unset fd_ctx on the first flush
    received
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b5377787903109dd5aea408e7b3a8e772b2be4f5
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Feb 26 13:38:33 2009 +0530

    __inode_unlink() should not be sent a NULL inode.
    
    unlink_inode might be NULL in inode_unlink() under the following circumstances:
    1. 'inode' got forget() and was unhashed.
    2. 'inode' was replaced by a new inode object and the new object got forget() or was pruned out of the inode table.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 417dfa48df166bfcd3f8a6da56c189de6e7a6aff
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Thu Feb 19 12:39:04 2009 -0800

    DHT clean up. Lot of selfheal code is not applicable to newly created directory. Newly created directory will use only relavant part of DHT selfheal code - only for xattr application.
    
    DHT clean up. Lot of selfheal code is not applicable to newly created directory. Newly created directory will use only relavant part of DHT selfheal
    code - only for xattr application.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 029913bbd62ed7e3c3f436afe92ad6bca9dc642c
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Wed Feb 25 00:47:43 2009 -0800

    change MALLOC to malloc
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 6609b1d37bd0254ec0eb068758862a0bb0e78515
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Tue Feb 24 06:55:39 2009 -0800

    DHT selfheal fix during lookup - create missing directories.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 1d556afdf8bf5459a1ea1a27ed5638d440439666
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Tue Feb 24 06:53:21 2009 -0800

    Ping timer does not timeout in case there is any activity (cbks) from the server side.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8479df9809107f20df31afb332b8fb6a1931b861
Author: Krishna Srinivas <krishna@zresearch.com>
Date:   Tue Feb 24 06:52:55 2009 -0800

    per frame time out - i.e individual frames are unwound instead of the transport point itself being disconnected. timeout is configured using "transport-timeout".
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit ab7fe2987fb4e2c2bd3158682fbb8c1977a049de
Author: Raghavendra G <raghavendra@zresearch.com>
Date:   Tue Feb 24 02:42:41 2009 -0800

    backtick support enhancement
    
    - text within backtick can span multiple lines
      - check exit status of command after execution
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit d47eb5d681b79b32b838505b6e22c4ab627ba934
Author: Anand V. Avati <avati@gluster.com>
Date:   Mon Feb 23 17:18:53 2009 +0530

    DHT TEA hashfn bugfix
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit f264f69ae96ade536dc6f5b8c1ce2579839d6222
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Mon Feb 23 19:36:26 2009 +0530

    Deleted xattr caching code from posix in anticipation of the xattr-cache translator.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8b1762971f8d18f73fa64a967c4cd2baa13d07fc
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Mon Feb 23 05:48:14 2009 -0800

    RE-SEND: Add braces around critical sections.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a3ed4474de9db5bda606b374f3d8cb1cdbf8a9fb
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Mon Feb 23 02:33:11 2009 -0800

    added lock_notify and lock_fnotify FOPs to everywhere necessary in libglusterfs/*
    
    fixed indentation and resubmitting
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 80066c23da120621f26d83d631e204ab2943d181
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Sun Feb 22 11:29:05 2009 +0530

    posix_releasedir flush fds from xattrcache.
    
    It would have entered cache in setdents.
    
    Proposed fix for: http://zresearch.com/pipermail/gluster-users/2009-February/001621.html
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 8b99865bb1db5e349cfdacc795ca2160a32604e1
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Sat Feb 21 15:27:03 2009 +0530

    removed to 'option cache-size <size>' in example volfiles for io-threads.
    
    io-threads translator does not take 'cache-size' option now. so removed all
    references to 'cache-size' option for performance/io-threads.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit bcd1e26a95ab75f3431be8e71d93eae9b7b6cbf8
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Fri Feb 20 18:09:02 2009 -0800

    default volume file option enhanced in server-protocolg
    
    Noticed that with current codebase, there is no proper method to have a default volume filename to choose in getspec() without printing a *lot* of warning messages. This patch tries to have a proper 'default' behavior.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 869df6de6429bd556215a2a555883cabaa4dca80
Author: Amar Tumballi <amar@gluster.com>
Date:   Sat Feb 21 13:50:01 2009 -0800

    change to make round robin dns work for getspec()
    
    Noticed that if I have just 'socket' and not the address-family, the
    round robin dns for '-s' option doesn't work. Changing it to 'tcp'
    works.
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a7b514ab8ec879a67e5a290743b4be6f0b58de1d
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Feb 19 04:59:29 2009 -0800

    command line and mount/fuse now use float attr/entry timeouts
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit a2131aeafa94d671b0121631922d823c8a7ab988
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Feb 19 04:59:06 2009 -0800

    attritbute and entry timeout values under volume now support float/double values
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit b5e0ee918fdff566e45bb255130b9efa6b8fb7b0
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Feb 19 10:34:28 2009 -0800

    new function gf_string2double for float/double values
    
    fixed warning
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit 9679f8db65de29a40f622c12c2cc538d70b052b2
Author: Harshavardhana <harsha@zresearch.com>
Date:   Thu Feb 19 10:26:17 2009 -0800

    new functions dict_{get,set}_double for float/double value
    
    fixed warning
    
    Signed-off-by: Anand V. Avati <avati@amp.gluster.com>

commit e9ac5f587763b48acc19268ce57e6bfd886a0561
Author: Amar Tumballi <amar@del.gluster.com>
Date:   Fri Feb 20 09:37:13 2009 -0800

    fix to remove ''input' defined but not used' warning in building glusterfs
    
    needed to complete the build scripts without warnings
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 99a1cac632b4325afb95cb7c183721c0a90925d7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Feb 19 05:21:47 2009 -0800

    Reduce iothreads requests queue lock granularity.
    
    iot_queue() and iot_dequeue() functions were using a io-threads
    translator-wide lock which would be contended for by every worker
    thread waiting for IO requests.
    
    This patch reduces the granularity by turning the
    lock into a per-worker lock.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 57957c59cd2925540769ae9cb58029b0125e4ae7
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Feb 19 05:20:41 2009 -0800

    Remove conf->cache_size checks
    
    Since we're not dependent on this io-thread internal state(i.e.
    cache_size and current_size) to rate limit requests, we can remove
    these two data members and code that checks for these.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 6a250d9087014551c5085a534248982b195f819f
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Feb 19 05:25:44 2009 -0800

    Remove dead code.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 91df2dbcb10813d17053f715ae40a50b7499f4bc
Author: Basavanagowda Kanur <gowda@gluster.com>
Date:   Thu Feb 19 19:38:57 2009 +0530

    cluster/ha to handle EBADFD for fd based operations as transport disconnected.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit ed1d91986cdaf0240b4e6a8c920f17b7f2d6d57b
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Feb 19 04:26:47 2009 -0800

    warn on ERANGE error for lgetxattr in posix
    
    (amended to fit in 80 columns)
    
    ERANGE is usually caused by the user reducing the number of AFR's
    children but continues to use the old backend.
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 1c701badce280d8de92a5314881824725deec1e6
Author: Shehjar Tikoo <shehjart@zresearch.com>
Date:   Thu Feb 19 02:26:40 2009 -0800

    Fix the order of CALLOC() args
    
    Fix the order of  CALLOC arguments.
    
    Signed-off-by: Shehjar Tikoo <shehjart@zresearch.com>
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 0bb3a56f246082967f7a89a7ea51638babf514d1
Author: Anand V. Avati <avati@amp.gluster.com>
Date:   Thu Feb 19 02:04:17 2009 -0800

    updated commit.sh
    
    changed commit.sh for git usage
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 9a4bba3a7ad86681abc9d022fd6677f668fdf062
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Thu Feb 19 00:18:28 2009 -0800

    added lock-ahead translator design document
    
    Design document for the lock-ahead translator
    
    Vikas
    
    Signed-off-by: Anand V. Avati <avati@dev.gluster.com>

commit 77adf4cd648dce41f89469dd185deec6b6b53a0b
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Wed Feb 18 17:36:07 2009 +0530

    Added all files

commit f3b2e6580e5663292ee113c741343c8a43ee133f
Author: Vikas Gorur <vikas@zresearch.com>
Date:   Wed Feb 18 17:01:30 2009 +0530

    Initial import
